{
    "name": "149_B. Martian Clock",
    "source": "CODEFORCES",
    "description": "Having stayed home alone, Petya decided to watch forbidden films on the Net in secret. \"What ungentlemanly behavior!\" \u2014 you can say that, of course, but don't be too harsh on the kid. In his country films about the Martians and other extraterrestrial civilizations are forbidden. It was very unfair to Petya as he adored adventure stories that featured lasers and robots. \n\nToday Petya is watching a shocking blockbuster about the Martians called \"R2:D2\". What can \"R2:D2\" possibly mean? It might be the Martian time represented in the Martian numeral system. Petya knows that time on Mars is counted just like on the Earth (that is, there are 24 hours and each hour has 60 minutes). The time is written as \"a:b\", where the string a stands for the number of hours (from 0 to 23 inclusive), and string b stands for the number of minutes (from 0 to 59 inclusive). The only thing Petya doesn't know is in what numeral system the Martian time is written.\n\nYour task is to print the radixes of all numeral system which can contain the time \"a:b\".\n\nInput\n\nThe first line contains a single string as \"a:b\" (without the quotes). There a is a non-empty string, consisting of numbers and uppercase Latin letters. String a shows the number of hours. String b is a non-empty string that consists of numbers and uppercase Latin letters. String b shows the number of minutes. The lengths of strings a and b are from 1 to 5 characters, inclusive. Please note that strings a and b can have leading zeroes that do not influence the result in any way (for example, string \"008:1\" in decimal notation denotes correctly written time).\n\nWe consider characters 0, 1, ..., 9 as denoting the corresponding digits of the number's representation in some numeral system, and characters A, B, ..., Z correspond to numbers 10, 11, ..., 35.\n\nOutput\n\nPrint the radixes of the numeral systems that can represent the time \"a:b\" in the increasing order. Separate the numbers with spaces or line breaks. If there is no numeral system that can represent time \"a:b\", print the single integer 0. If there are infinitely many numeral systems that can represent the time \"a:b\", print the single integer -1.\n\nNote that on Mars any positional numeral systems with positive radix strictly larger than one are possible.\n\nExamples\n\nInput\n\n11:20\n\n\nOutput\n\n3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22\n\nInput\n\n2A:13\n\n\nOutput\n\n0\n\n\nInput\n\n000B:00001\n\n\nOutput\n\n-1\n\nNote\n\nLet's consider the first sample. String \"11:20\" can be perceived, for example, as time 4:6, represented in the ternary numeral system or as time 17:32 in hexadecimal system. \n\nLet's consider the second sample test. String \"2A:13\" can't be perceived as correct time in any notation. For example, let's take the base-11 numeral notation. There the given string represents time 32:14 that isn't a correct time.\n\nLet's consider the third sample. String \"000B:00001\" can be perceived as a correct time in the infinite number of numeral systems. If you need an example, you can take any numeral system with radix no less than 12.",
    "difficulty": "B",
    "tags": [
        "implementation"
    ],
    "rating": 1600,
    "public_test": [
        {
            "input": "2A:13\n",
            "output": "0"
        },
        {
            "input": "11:20\n",
            "output": "3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 "
        },
        {
            "input": "000B:00001\n",
            "output": "-1"
        }
    ],
    "generated_test": [
        {
            "input": "11:1\n",
            "output": "2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 "
        },
        {
            "input": "000F6:000GD\n",
            "output": "0\n"
        },
        {
            "input": "00:Z\n",
            "output": "-1\n"
        },
        {
            "input": "010:100\n",
            "output": "2 3 4 5 6 7 "
        },
        {
            "input": "02:131\n",
            "output": "4 5 6 "
        },
        {
            "input": "10:00\n",
            "output": "2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 "
        },
        {
            "input": "1001:1101\n",
            "output": "2 "
        },
        {
            "input": "01:0010\n",
            "output": "2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 "
        },
        {
            "input": "00:12\n",
            "output": "3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 "
        },
        {
            "input": "34:210\n",
            "output": "5 "
        },
        {
            "input": "20:0004\n",
            "output": "5 6 7 8 9 10 11 "
        },
        {
            "input": "00002:00031\n",
            "output": "4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 "
        },
        {
            "input": "01:20\n",
            "output": "3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 "
        },
        {
            "input": "02:11\n",
            "output": "3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 "
        },
        {
            "input": "11:2\n",
            "output": "3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 "
        },
        {
            "input": "0:N1\n",
            "output": "0\n"
        },
        {
            "input": "Z:3\n",
            "output": "0\n"
        },
        {
            "input": "A1:0\n",
            "output": "0\n"
        },
        {
            "input": "000Z00:0Z\n",
            "output": "0\n"
        },
        {
            "input": "1033:00202\n",
            "output": "0\n"
        },
        {
            "input": "000B3:00099\n",
            "output": "0\n"
        },
        {
            "input": "A4:B10\n",
            "output": "0\n"
        },
        {
            "input": "Y:0\n",
            "output": "0\n"
        },
        {
            "input": "00294:00321\n",
            "output": "0\n"
        },
        {
            "input": "M8HYJ:042JW\n",
            "output": "0\n"
        },
        {
            "input": "00Z:100\n",
            "output": "0\n"
        },
        {
            "input": "001Z:00A\n",
            "output": "0\n"
        },
        {
            "input": "V:W\n",
            "output": "0\n"
        },
        {
            "input": "52:300\n",
            "output": "0\n"
        },
        {
            "input": "00:Z0\n",
            "output": "0\n"
        },
        {
            "input": "70000:N0000\n",
            "output": "0\n"
        },
        {
            "input": "1:00000\n",
            "output": "-1\n"
        },
        {
            "input": "00000:0100\n",
            "output": "2 3 4 5 6 7 "
        },
        {
            "input": "0:00\n",
            "output": "-1\n"
        },
        {
            "input": "01:1\n",
            "output": "-1\n"
        },
        {
            "input": "Z0:0\n",
            "output": "0\n"
        },
        {
            "input": "0000:10\n",
            "output": "2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 "
        },
        {
            "input": "A00:A00\n",
            "output": "0\n"
        },
        {
            "input": "Z:Y\n",
            "output": "0\n"
        },
        {
            "input": "1010:001\n",
            "output": "2 "
        },
        {
            "input": "10000:00000\n",
            "output": "2 "
        },
        {
            "input": "1:0Z\n",
            "output": "-1\n"
        },
        {
            "input": "ZZZZY:ZZZZZ\n",
            "output": "0\n"
        },
        {
            "input": "010:10\n",
            "output": "2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 "
        },
        {
            "input": "1010:10100\n",
            "output": "2 "
        },
        {
            "input": "010:00\n",
            "output": "2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 "
        },
        {
            "input": "01:0A\n",
            "output": "-1\n"
        },
        {
            "input": "1:005\n",
            "output": "-1\n"
        },
        {
            "input": "001:000\n",
            "output": "-1\n"
        },
        {
            "input": "10101:001\n",
            "output": "2 "
        },
        {
            "input": "0B0:0023\n",
            "output": "0\n"
        },
        {
            "input": "0000P:0000D\n",
            "output": "0\n"
        },
        {
            "input": "20001:1\n",
            "output": "0\n"
        },
        {
            "input": "2A:12\n",
            "output": "0\n"
        },
        {
            "input": "000F6:000FD\n",
            "output": "0\n"
        },
        {
            "input": "N1:0\n",
            "output": "0\n"
        },
        {
            "input": "1032:00302\n",
            "output": "0\n"
        },
        {
            "input": "000B2:00099\n",
            "output": "0\n"
        }
    ],
    "solution": [
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\npublic class Solution {\n    private final static String voc = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n    private static int[] toArray(String s) {\n        while (s.length() > 1 && s.charAt(0) == '0') s = s.substring(1);\n\n        int[] a = new int[s.length()];\n        for (int i = 0; i < a.length; i++) {\n            a[i] = voc.indexOf(s.charAt(i));\n        }\n\n        return a;\n    }\n\n    private static int max(int[] a) {\n        int max = a[0];\n\n        for (int i = 1; i < a.length; i++) {\n            max = Math.max(max, a[i]);\n        }\n\n        return max;\n    }\n\n    private static boolean isGood(int[] a, int p, int maxval) {\n        long ptemp = 1L;\n        long count = 0L;\n\n        for (int i = a.length - 1; i >= 0; i--) {\n            count += ptemp * a[i];\n            if (count > maxval) return false;\n\n            ptemp *= p;\n        }\n\n        return true;\n    }\n\n    public static void main(String[] args) throws Exception {\n        Scanner reader = new Scanner(System.in);\n\n        String time = reader.nextLine().trim();\n\n        int index = time.indexOf(\":\");\n\n        String h = time.substring(0, index);\n        String m = time.substring(index + 1);\n\n        int[] a = toArray(h);\n        int[] b = toArray(m);\n\n        if (a.length == 1 && b.length == 1 && a[0] <= 23 && b[0] <= 59) {\n            System.out.print(-1);\n            return;\n        }\n\n        int maxp = max(a);\n        maxp = Math.max(maxp, max(b));\n\n        maxp++;\n\n        if (!isGood(a, maxp, 23) || !isGood(b, maxp, 59)) {\n            System.out.print(0);\n            return;\n        }\n\n        for (int i = maxp; ; i++) {\n            if (isGood(a, i, 23) && isGood(b, i, 59)) System.out.print(i + \" \");\n            else break;\n        }\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> a, b, v;\nstring s;\nbool ok(int p) {\n  bool f = true;\n  for (int i = 0; i < a.size(); i++) {\n    f &= a[i] < p;\n  }\n  for (int i = 0; i < b.size(); i++) {\n    f &= b[i] < p;\n  }\n  long long h, m;\n  h = m = 0;\n  for (int i = 0; i < a.size(); i++) {\n    h *= p;\n    h += a[i];\n  }\n  for (int i = 0; i < b.size(); i++) {\n    m *= p;\n    m += b[i];\n  }\n  return f && (m < 60) && (h < 24);\n}\nint main() {\n  cin >> s;\n  int i = 0;\n  while (s[i] != ':') {\n    if (s[i] >= '0' && s[i] <= '9') {\n      a.push_back(s[i] - '0');\n    } else {\n      a.push_back(s[i] - 'A' + 10);\n    }\n    i++;\n  }\n  s.erase(s.begin(), s.begin() + s.find(':') + 1);\n  for (int i = 0; i < s.size(); i++) {\n    if (s[i] >= '0' && s[i] <= '9') {\n      b.push_back(s[i] - '0');\n    } else {\n      b.push_back(s[i] - 'A' + 10);\n    }\n  }\n  if (ok(60)) {\n    cout << -1 << endl;\n    return 0;\n  }\n  for (int i = 2; i < 60; i++) {\n    if (ok(i)) {\n      v.push_back(i);\n    }\n  }\n  if (v.size() == 0) {\n    cout << 0 << endl;\n    return 0;\n  }\n  cout << v[0];\n  for (int i = 1; i < v.size(); i++) {\n    cout << ' ' << v[i];\n  }\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar str[100010], h[100010], m[100010];\nlong long int mh, mm, lh, lm;\nlong long int priority(char c) {\n  if (c >= '0' && c <= '9') return c - '0';\n  return ((c - 'A') + 10);\n}\nvoid find_time(long long int r) {\n  long long int i, p = 1;\n  for (i = (lh - 1); i >= 0; i--) {\n    mh += p * priority(h[i]);\n    p *= r;\n  }\n  p = 1;\n  for (i = (lm - 1); i >= 0; i--) {\n    mm += p * priority(m[i]);\n    p *= r;\n  }\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  scanf(\"%s\", str);\n  long long int i, j, mymax;\n  for (i = 0; str[i] != '\\0'; i++) {\n    if (str[i] == ':') {\n      h[i] = '\\0';\n      break;\n    }\n    h[i] = str[i];\n  }\n  j = 0;\n  i++;\n  for (;; i++) {\n    if (str[i] == '\\0') {\n      m[j] = '\\0';\n      break;\n    } else\n      m[j++] = str[i];\n  }\n  lh = strlen(h);\n  lm = strlen(m);\n  bool um = 0, uh = 0, all = 1;\n  for (i = (lh - 1); i >= 0; i--) {\n    if (i < (lh - 1) && h[i] != '0') uh = 1;\n    if (h[i] != '0') all = 0;\n  }\n  for (i = (lm - 1); i >= 0; i--) {\n    if (i < (lm - 1) && m[i] != '0') um = 1;\n    if (m[i] != '0') all = 0;\n  }\n  if (all) {\n    cout << -1 << endl;\n  } else if (uh == 0 && um == 0) {\n    mh = 0;\n    mm = 0;\n    find_time(1);\n    if (mh <= 23 & mm < 60) {\n      cout << -1 << endl;\n    } else if (mh == 24 && mm == 0) {\n      cout << -1 << endl;\n    } else {\n      cout << 0 << endl;\n    }\n  } else {\n    mymax = 0;\n    vector<long long int> r;\n    for (i = 0; i < lh; i++) {\n      mymax = max(mymax, priority(h[i]));\n    }\n    for (i = 0; i < lm; i++) {\n      mymax = max(mymax, priority(m[i]));\n    }\n    for (i = mymax + 1;; i++) {\n      mh = 0;\n      mm = 0;\n      find_time(i);\n      if (mh <= 23 && mm < 60)\n        r.push_back(i);\n      else\n        break;\n    }\n    if (r.size() != 0) {\n      for (i = 0; i < r.size(); i++) cout << r[i] << \" \";\n      cout << endl;\n    } else\n      cout << 0 << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint c2i(char c) {\n  if (c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nlong long conv(string s, int b) {\n  for (register int i = (0); i < (int)(((int)(s).size())); ++i)\n    if (c2i(s[i]) >= b) return -1U / 2;\n  long long res = 0;\n  for (register int i = (0); i < (int)(((int)(s).size())); ++i)\n    res = res * b + c2i(s[i]);\n  return res;\n}\nint main() {\n  string tmp;\n  cin >> tmp;\n  for (register int i = (0); i < (int)(((int)(tmp).size())); ++i)\n    if (tmp[i] == ':') tmp[i] = ' ';\n  istringstream sin(tmp);\n  string a, b;\n  sin >> a >> b;\n  vector<bool> base(1000, true);\n  base[0] = base[1] = false;\n  for (register int i = (2); i < (int)(1000); ++i)\n    if (conv(a, i) >= 24 || conv(b, i) >= 60) base[i] = false;\n  bool has = false;\n  if (base[999]) {\n    cout << -1 << \"\\n\";\n    return 0;\n  }\n  for (register int i = (0); i < (int)(1000); ++i)\n    if (base[i]) {\n      cout << i << \" \";\n      has = true;\n    }\n  if (!has) cout << \"0\";\n  cout << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "s = input()\na = s[:s.index(\":\")]\nb = s[s.index(\":\")+1:]\n\na2 = ''\nb2 = ''\nfound = False\nfor i in a:\n    if i!='0':\n        found = True\n    if found:\n        a2+=i\nfound = False\nfor i in b:\n    if i!='0':\n        found = True\n    if found:\n        b2+=i\n        \na = a2\nb = b2\n\napos = []\nbpos = []\nvalues = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']\nfor i in a:\n    apos.append(values.index(i))\nfor i in b:\n    bpos.append(values.index(i))\n    \nif len(apos)==0:\n    apos.append(0)\nif len(bpos)==0:\n    bpos.append(0)\nminradix = max(max(apos), max(bpos))\n#print(minradix)\n\nresults = []\n\nfor i in range(minradix+1, 60):\n    aresult = 0\n    bresult = 0\n    for j in range(len(apos)):\n        aresult+=apos[j]*(i**(len(apos)-j-1))\n    for j in range(len(bpos)):\n        bresult+=bpos[j]*(i**(len(bpos)-j-1))\n    if aresult<=23 and bresult<=59:\n        results.append(i)\n        \n#print(a, b)\n\nif len(a)==1 and len(b)==1 and values.index(a)<=23 and values.index(b)<=59:\n    print(-1)\nelif len(results)==0:\n    print(0)\nelif apos==[0] and bpos==[0]:\n    print(-1)\nelif len(a)==0 and len(b)==1 and values.index(b)<=59:\n    print(-1)\nelif len(b)==0 and len(a)==1 and values.index(a)<=23:\n    print(-1)\nelse:\n    print(' '.join(list(map(str, results))))"
        },
        {
            "language": 1,
            "solution": "a,b = map(bytearray, raw_input().split(':'))\n\ndef convert(x):\n    for i in xrange(len(x)):\n        if x[i] > 57:\n            x[i] -= 55\n        else:\n            x[i] -= 48\n\ndef satisfy(base, a, b):\n    hour = 0\n    for i in xrange(len(a)):\n        hour = hour * base + a[i]\n    if hour > 23:\n        return False\n\n    minute = 0\n    for i in xrange(len(b)):\n        minute = minute * base + b[i]\n    if minute > 59:\n        return False\n\n    return True\n\nconvert(a)\nconvert(b)\nmin_base = reduce(lambda x,y: max(x,y), a)\nmin_base = reduce(lambda x,y: max(x,y), b, min_base) + 1\n\nans = min_base\nwhile ans < 61 and satisfy(ans,a,b):\n    ans += 1\n\nif satisfy(ans,a,b):\n    print -1\nelse:\n    if ans>min_base:\n        for i in xrange(min_base, ans):\n            print i,\n    else:\n        print 0\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint to(string s, int k) {\n  int res = 0;\n  int n = (int)s.length();\n  int p = 1;\n  for (int i = n - 1; i >= 0; i--) {\n    if (s[i] >= 'A' && s[i] <= 'Z' && s[i] - 'A' + 10 > k - 1)\n      return -1;\n    else if (s[i] - '0' > k - 1 && s[i] >= '0' && s[i] <= '9')\n      return -1;\n    if (s[i] >= 'A' && s[i] <= 'Z')\n      res += (s[i] - 'A' + 10) * p;\n    else\n      res += (s[i] - '0') * p;\n    p *= k;\n  }\n  return res;\n}\nstring go(string a) {\n  for (int i = 0; i < (int)a.length(); i++)\n    if (a[i] != '0') return a.substr(i, (int)a.length() - i + 1);\n  return \"0\";\n};\nint main() {\n  string a = \"\";\n  string b = \"\";\n  char c;\n  while (c != ':') {\n    scanf(\"%c\", &c);\n    if (c != ':') a += c;\n  }\n  cin >> b;\n  a = go(a);\n  b = go(b);\n  if ((int)a.length() == 1) {\n    if (a[0] >= '0' && a[0] <= '9' && a[0] - '0' >= 24) {\n      cout << \"0\";\n      return 0;\n    }\n    if (a[0] >= 'A' && a[0] <= 'Z' && a[0] - 'A' + 10 >= 24) {\n      cout << \"0\";\n      return 0;\n    }\n  }\n  if ((int)a.length() <= 1 && (int)b.length() <= 1) {\n    cout << \"-1\";\n    return 0;\n  }\n  bool was = false;\n  for (int i = 2;; i++) {\n    int ta = to(a, i);\n    int tb = to(b, i);\n    if (ta >= 0 && ta < 24 && tb >= 0 && tb < 60) {\n      cout << i << \" \";\n      was = true;\n    }\n    if (ta >= 24 || tb >= 60) break;\n  }\n  if (!was) cout << \"0\";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class CF149B {\n\tpublic static void main(String[] args) {\n\t\tScanner in = new Scanner(System.in);\n\t\t\n\t\tString input = in.next();\n\t\tString hour = input.substring(0, input.indexOf(\":\"));\n\t\tString minute = input.substring(input.indexOf(\":\")+1);\n\t\t\n\t\tint minBase = 2;\n\t\tfor(int i = 0; i < input.length(); ++i) {\n\t\t\tchar c = input.charAt(i);\n\t\t\tif(c == ':') continue;\n\t\t\t\n\t\t\tminBase = Math.max(minBase, toNum(c) + 1);\n\t\t}\n\t\t\n\t\t//System.out.println(minBase);\n\t\tint iHour = baseConvert(hour, minBase);\n\t\tint iMinute = baseConvert(minute, minBase);\n\t\t//System.out.println(iHour + \":\" + iMinute);\n\t\tif(iHour > 23 || iMinute > 59) {\n\t\t\tSystem.out.println(0);\n\t\t\treturn;\n\t\t}\n\t\tif(baseConvert(hour, minBase) == baseConvert(hour, minBase+1) && baseConvert(minute, minBase) == baseConvert(minute, minBase+1)) {\n\t\t\tSystem.out.println(-1);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tfor(int i = minBase; i <= Integer.MAX_VALUE; ++i) {\n\t\t\tiHour = baseConvert(hour, i);\n\t\t\tiMinute = baseConvert(minute, i);\n\t\t\tif(iHour < 24 && iMinute < 60) {\n\t\t\t\tSystem.out.print(i + \" \");\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static int baseConvert(String s, int base) {\n\t\tint ans = 0;\n\t\tint power = 0;\n\t\tfor(int i = s.length()-1; i >= 0; --i) {\n\t\t\tans += Math.pow(base, power)*toNum(s.charAt(i));\n\t\t\t++power;\n\t\t}\n\t\treturn ans;\n\t}\n\t\n\tpublic static int toNum(char c) {\n\t\tif(c-'0' <= 9) {\n\t\t\treturn c-'0';\n\t\t} else {\n\t\t\treturn c-'A'+10;\n\t\t}\n\t}\n}"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport java.lang.*;\n\npublic class Rextester{\n    static int getValue(char ch){\n        if(ch>='0' && ch<='9'){\n            return (ch-'0');\n        }\n        else if(ch>='A' && ch<='Z'){\n            return (ch-'A'+10);\n        }\n        return -1;\n    }\n    static int getValue(String s,int base){\n        int value = 0;\n        for(int i=s.length()-1;i>=0;i--){\n            value += getValue(s.charAt(i))*Math.pow(base,s.length()-1-i);\n        }\n        return value;\n    }\n    public static void main(String[] args)throws IOException{\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        StringTokenizer st = new StringTokenizer(br.readLine(),\":\");\n        br.close();\n        int min = -1;\n        String hour = st.nextToken();\n        String minute = st.nextToken();\n        for(int i=0;i<hour.length();i++){\n            min = Math.max(min,getValue(hour.charAt(i)));\n        }\n        for(int i=0;i<minute.length();i++){\n            min = Math.max(min,getValue(minute.charAt(i)));\n        }\n        min++;\n        int max = -1;\n        for(int i=min;i<=1000;i++){\n            if(getValue(hour,i)<=23 && getValue(minute,i)<=59){\n                max = i;\n            }\n            else{\n                break;\n            }\n        }\n        if(max==1000){\n            System.out.println(\"-1\");\n        }\n        else if(max==-1){\n            System.out.println(\"0\");\n        }\n        else{\n            for(int i=min;i<=max;i++){\n                System.out.print(i+\" \");\n            }\n            System.out.println();\n        }\n    }\n}\n        \n        \n                           "
        },
        {
            "language": 3,
            "solution": "def val(c):\n    if 'A' <= c <='Z':\n        return ord(c) - 65 + 10\n    else:\n        return int(c)\n\ndef calc(h, b):\n    ans = 0\n    i = 0\n    for c in h[::-1]:\n        v = val(c)\n        ans += int(v) * (b**i)\n        i += 1\n    return ans \n\nh, m = [x for x in input().split(\":\")]\n\nmin_base = -1\nfor c in h:\n    min_base = max(min_base, val(c)+1)\nfor c in m:\n    min_base = max(min_base, val(c)+1)\n\n# print(min_base)\n\nanswers = []\nwhile True:\n    hour = calc(h, min_base)\n    min = calc(m, min_base)\n    if hour > 23 or min > 59 or min_base > 60:\n        break \n    else:\n        answers.append(min_base)\n    min_base+= 1\n\nif len(answers) == 0:\n    print(0)\nelif min_base > 60:\n    print(-1)\nelse:\n    print(*answers)"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\n\npublic class Main {\n   public static void main(String[] args) throws FileNotFoundException\n   {\n\t   (new Main()).solve();\n   }\n   public void Main() {\n   }\n   \n\n   void solve()  throws FileNotFoundException {\n      Scanner in = new Scanner(System.in);\n\t  PrintWriter out = new PrintWriter(System.out);\n     // Scanner in = new Scanner(new FileReader(\"input.txt\"));\n\t//  PrintWriter out = new PrintWriter(\"output.txt\");\n\t  String s = in.next();\n\t  ArrayList<Integer> a = new ArrayList<Integer>();\n\t  int prevh = -1;\n\t  int prevm = -1;\n\t  boolean flag = true;\n\t  \n\t  for (int j = 2; j < 100; j++) {\n\t\t  int h = 0;\n\t\t  int m = 0;\n\t\t  for (int i = 0; i < s.indexOf(':'); i++) {\n\t\t\t  int t = (int) s.charAt(i) - (int)'0';\n\t\t\t  if (t >=0 && t <= 9) {\n\t\t\t\t\n\t\t\t  } else {\n\t\t\t\t  t = (int) s.charAt(i) - (int)'A' + 10;\n\t\t\t  }\n\t\t\t  if (t >= j) {\n\t\t\t\t  h = -1;\n\t\t\t\t  break;\n\t\t\t  }\n\t\t\t  h = h * j + t;\t\t\t  \n\t\t  }\n\t\t  for (int i = s.indexOf(':') + 1; i < s.length(); i++) {\n\t\t\t  int t = (int) s.charAt(i) - (int)'0';\n\t\t\t  if (t >=0 && t <= 9) {\n\t\t\t\t\n\t\t\t  } else {\n\t\t\t\t  t = (int) s.charAt(i) - (int)'A' + 10;\n\t\t\t  }\n\t\t\t  if (t >= j) {\n\t\t\t\t  m = -1;\n\t\t\t\t  break;\n\t\t\t  }\n\t\t\t  m = m * j + t;\t\t\t  \n\t\t  }\t\n\t\t  if (h >= 0 && h <= 23 && m >= 0 && m <= 59) {\n\t\t\t  a.add(j);\n\t\t\t  if (h == prevh && m == prevm) {\n\t\t\t\t  flag = false;\n\t\t\t\t  break;\n\t\t\t  }\n\t\t  } \t\t  \n\t\t\t\t  prevh = h;\n\t\t\t\t  prevm = m;\n\n\t  }\n\t  \n\t  if (flag) {\n\t\t  if (a.size() == 0) {\n\t\t\t  out.print(0);\n\t\t  }\n\t\t  for (Integer t : a) {\n\t\t\t  out.print(t + \" \");\n\t\t  }\n\t  } else {\n\t\t  out.print(-1);\n\t  }\n\t  \n\t  out.close();\n   }     \n\n};\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class B implements Runnable {\n    private MyScanner in;\n    private PrintWriter out;\n\n    private int getNum(char c) {\n        if (c >= '0' && c <= '9') {\n            return c - '0';\n        }\n        return c - 'A' + 10;\n    }\n\n    private long getTime(String s, int radix) {\n        long ans = 0;\n        long mul = 1;\n        for (int i = s.length() - 1; i >= 0; --i) {\n            int cur = getNum(s.charAt(i));\n            if (cur >= radix) {\n                return Long.MAX_VALUE;\n            }\n            ans += mul * cur;\n            mul *= radix;\n        }\n        return ans;\n    }\n\n    private void solve() {\n        String[] date = in.next().split(\":\");\n        ArrayList<Integer> ans = new ArrayList<Integer>();\n        for (int i = 2; i < 200; ++i) {\n            if (getTime(date[0], i) < 24 && getTime(date[1], i) < 60) {\n                ans.add(i);\n            }\n        }\n        if (ans.size() == 0) {\n            out.println(0);\n            return;\n        }\n        if (ans.size() > 100) {\n            out.println(-1);\n            return;\n        }\n        for (int i : ans) {\n            out.print(i + \" \");\n        }\n        out.println();\n    }\n\n    @Override\n    public void run() {\n        in = new MyScanner();\n        out = new PrintWriter(System.out);\n        solve();\n        in.close();\n        out.close();\n    }\n\n    public static void main(String[] args) {\n        new B().run();\n    }\n\n    static class MyScanner {\n        private BufferedReader br;\n        private StringTokenizer st;\n\n        public MyScanner() {\n            br = new BufferedReader(new InputStreamReader(System.in));\n        }\n\n        public void close() {\n            try {\n                br.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        private String nextToken() {\n            while (st == null || !st.hasMoreTokens()) {\n                try {\n                    st = new StringTokenizer(br.readLine());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    return null;\n                }\n            }\n            return st.nextToken();\n        }\n\n        public String nextLine() {\n            try {\n                st = null;\n                return br.readLine();\n            } catch (IOException e) {\n                e.printStackTrace();\n                return null;\n            }\n        }\n\n        public String next() {\n            return nextToken();\n        }\n\n        public int nextInt() {\n            return Integer.parseInt(nextToken());\n        }\n\n        public long nextLong() {\n            return Long.parseLong(nextToken());\n        }\n\n        public double nextDouble() {\n            return Double.parseDouble(nextToken());\n        }\n    }\n}"
        },
        {
            "language": 1,
            "solution": "from operator import attrgetter, itemgetter, methodcaller, add\nfrom collections import OrderedDict, Counter\nfrom decimal import Decimal, getcontext\nfrom itertools import chain\n\ngetcontext().prec = 7\n\ndef r(): return raw_input().strip()\ndef ri(): return int(r())\ndef riv(): return map(int, r().split())\n\ndef convert(t):\n    return map(lambda s: int(s) if s.isdigit() else (ord(s) & 31) + 9, list(t.lstrip(\"0\") or \"0\"))\n\ndef toint(t, base):\n    return sum(map(lambda s, b: s * pow(base, b), t, reversed(range(len(t)))))\n\ndef is_hour(h):\n    return 0 <= h <= 23\n    \ndef is_minute(m):\n    return 0 <= m <= 59\n    \ndef main():\n    h, m = map(convert, r().split(\":\"))\n    down = max(chain(h, m)) + 1\n    \n    if len(h) == 1 and len(m) == 1 and is_hour(h[0]) and is_minute(m[0]):\n        print \"-1\"\n        exit(0)\n    \n    valid = []\n    for i in range(60):\n        if i < down:\n            continue\n            \n        if is_hour(toint(h, i)) and is_minute(toint(m, i)):\n            valid.append(str(i))\n            \n    print \" \".join(valid) if valid else \"0\"\n    \nif __name__ == \"__main__\":\n    main()"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class Template implements Runnable {\n\n    BufferedReader in;\n    PrintWriter out;\n    StringTokenizer tok = new StringTokenizer(\"\");\n\n    void init() throws FileNotFoundException {\n        try {\n            in = new BufferedReader(new FileReader(\"input.txt\"));\n            out = new PrintWriter(\"output.txt\");\n        } catch (Exception e) {\n            in = new BufferedReader(new InputStreamReader(System.in));\n            out = new PrintWriter(System.out);\n        }\n    }\n\n    class GraphBuilder {\n        int n, m;\n        int[] x, y;\n        int index;\n        int[] size;\n\n\n        GraphBuilder(int n, int m) {\n            this.n = n;\n            this.m = m;\n            x = new int[m];\n            y = new int[m];\n            size = new int[n];\n        }\n\n        void add(int u, int v) {\n            x[index] = u;\n            y[index] = v;\n            size[u]++;\n            size[v]++;\n            index++;\n        }\n\n        int[][] build() {\n            int[][] graph = new int[n][];\n            for (int i = 0; i < n; i++) {\n                graph[i] = new int[size[i]];\n            }\n            for (int i = index - 1; i >= 0; i--) {\n                int u = x[i];\n                int v = y[i];\n                graph[u][--size[u]] = v;\n                graph[v][--size[v]] = u;\n            }\n            return graph;\n        }\n    }\n\n    String readString() throws IOException {\n        while (!tok.hasMoreTokens()) {\n            try {\n                tok = new StringTokenizer(in.readLine());\n            } catch (Exception e) {\n                return null;\n            }\n        }\n        return tok.nextToken();\n    }\n\n    int readInt() throws IOException {\n        return Integer.parseInt(readString());\n    }\n\n    int[] readIntArray(int size) throws IOException {\n        int[] res = new int[size];\n        for (int i = 0; i < size; i++) {\n            res[i] = readInt();\n        }\n        return res;\n    }\n\n    long[] readLongArray(int size) throws IOException {\n        long[] res = new long[size];\n        for (int i = 0; i < size; i++) {\n            res[i] = readLong();\n        }\n        return res;\n    }\n\n    long readLong() throws IOException {\n        return Long.parseLong(readString());\n    }\n\n    double readDouble() throws IOException {\n        return Double.parseDouble(readString());\n    }\n\n    <T> List<T>[] createGraphList(int size) {\n        List<T>[] list = new List[size];\n        for (int i = 0; i < size; i++) {\n            list[i] = new ArrayList<>();\n        }\n        return list;\n    }\n\n    public static void main(String[] args) {\n        new Template().run();\n        // new Thread(null, new Template(), \"\", 1l * 200 * 1024 * 1024).start();\n    }\n\n    long timeBegin, timeEnd;\n\n    void time() {\n        timeEnd = System.currentTimeMillis();\n        System.err.println(\"Time = \" + (timeEnd - timeBegin));\n    }\n\n    long memoryTotal, memoryFree;\n\n    void memory() {\n        memoryFree = Runtime.getRuntime().freeMemory();\n        System.err.println(\"Memory = \" + ((memoryTotal - memoryFree) >> 10)\n                + \" KB\");\n    }\n\n    public void run() {\n        try {\n            timeBegin = System.currentTimeMillis();\n            memoryTotal = Runtime.getRuntime().freeMemory();\n            init();\n            solve();\n            out.close();\n            if (System.getProperty(\"ONLINE_JUDGE\") == null) {\n                time();\n                memory();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(-1);\n        }\n    }\n\n    boolean ok(String s, int radix) {\n        String[] parts = s.split(\":\");\n        return ok(parts[0], radix, 23) && ok(parts[1], radix, 59);\n    }\n\n    boolean ok(String num, int radix, int limit) {\n        int res = 0;\n        for (char x : num.toCharArray()) {\n            int cd = getCode(x);\n            if (cd >= radix) return false;\n            res = res * radix + cd;\n            if (res > limit) return false;\n        }\n        return true;\n    }\n\n    int getCode(char x) {\n        if (x >= '0' && x <= '9') {\n            return x - '0';\n        }\n        return 10 + x - 'A';\n    }\n\n    void solve() throws IOException {\n        String s = readString();\n        List<Integer> answers = new ArrayList<>();\n        for (int radix = 1; radix <= 1000; radix++) {\n            if (ok(s, radix)) {\n                answers.add(radix);\n            }\n        }\n        if (answers.size() > 100) {\n            out.println(-1);\n            return;\n        }\n        if (answers.size() == 0) {\n            out.println(answers.size());\n        }\n        for (int x : answers) out.print(x + \" \");\n    }\n\n\n}"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class MartianClock {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString[] x = br.readLine().split(\":\");\n\t\t\n\t\t\n\t\tif(x[0].length()<5) x[0] = new String(new char[5-x[0].length()]).replace(\"\\0\", \"0\") + x[0];\n\t\tif(x[1].length()<5) x[1] = new String(new char[5-x[1].length()]).replace(\"\\0\", \"0\") + x[1];\n\t\t\n\t\tif(x[0].substring(0, x[0].length()-1).equals(\"0000\") \n\t\t\t\t&& x[1].substring(0, x[1].length()-1).equals(\"0000\") \n\t\t\t\t&& v(x[0].charAt(x[0].length()-1))<24 ) {\n\t\t\tSystem.out.println(\"-1\"); return;\n\t\t}\n\t\t\n\t\tint max = 0; String res = x[0]+x[1];\n\t\tfor(int i=0; i<res.length(); i++) max = (max>=v(res.charAt(i)))?max:v(res.charAt(i));\n\t\t\n\t\tres = \"\";\n\t\tfor(int i=max+1; i<=60; i++)\n\t\t\tif(value(x[0], i)<24 && value(x[1], i)<60) res += (i + \" \");\n\t\t\n\t\tSystem.out.println((res.length()==0)?\"0\":res);\n\t\t\n\t\t\n\t}\n\t\n\tpublic static int value(String num, int base){\n\t\tint val = 0;\n\t\tfor(int i=0; i<num.length(); i++)\n\t\t\tval += v(num.charAt(num.length()-1-i))*exp(base, i);\n\t\treturn val;\n\t}\n\t\n\tpublic static int v(char x){\n\t\tif(x >= '0' && x <= '9') return (x- ((int)'0'));\n\t\telse if(x >= 'A' && x <= 'Z') return (x-((int)'A')+10);\n\t\treturn 0;\n\t}\n\t\n\tpublic static int exp(int b, int e){\n\t\tif(e<=0) return 1;\n\t\tif(e==1) return b;\n\t\telse {\n\t\t\tint t = exp(b, e/2);\n\t\t\treturn t*t*((e%2!=0)?b:1);\n\t\t}\n\t}\n\t\n\t\n\n}\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class SolB {\n\n\tstatic Scanner in;\n\tstatic PrintWriter out;\n\n\tpublic static void main(String[] args) {\n\t\tin = new Scanner(System.in);\n\t\tout = new PrintWriter(System.out);\n\n\t\tnew SolB().run();\n\n\t\tin.close();\n\t\tout.close();\n\n\t}\n\n\tprivate void run() {\n\t\tString[] s = in.next().split(\":\");\n\t\tString a = s[0];\n\t\tString b = s[1];\n\t\tint mini = 0;\n\t\tfor (int i = 0; i < a.length(); i++) {\n\t\t\tint v = 0;\n\t\t\tif (Character.isDigit(a.charAt(i))) {\n\t\t\t\tv = a.charAt(i) - '0';\n\t\t\t} else {\n\t\t\t\tv = a.charAt(i) - 'A' + 10;\n\t\t\t}\n\t\t\tif (mini < v + 1) {\n\t\t\t\tmini = v + 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < b.length(); i++) {\n\t\t\tint v = 0;\n\t\t\tif (Character.isDigit(b.charAt(i))) {\n\t\t\t\tv = b.charAt(i) - '0';\n\t\t\t} else {\n\t\t\t\tv = b.charAt(i) - 'A' + 10;\n\t\t\t}\n\t\t\tif (mini < v + 1) {\n\t\t\t\tmini = v + 1;\n\t\t\t}\n\t\t}\n\t\tboolean solFound = false;\n\t\tList<Integer> res = new ArrayList<Integer>();\n\n\t\tfor (int i = mini; i <= 200; i++) {\n\t\t\tlong aa = toDecimal(a, i);\n\t\t\tlong bb = toDecimal(b, i);\n\t\t\tif (aa < 24 && bb < 60) {\n\t\t\t\tsolFound = true;\n\t\t\t\tres.add(i);\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (i >= 150) {\n\t\t\t\tout.print(-1);\n\t\t\t\treturn;\n\t\t\t} else {\n\n\t\t\t}\n\t\t}\n\t\tif (!solFound) {\n\t\t\tout.print(0);\n\t\t} else {\n\t\t\tfor (int i = 0; i < res.size(); i++) {\n\t\t\t\tout.print(res.get(i) + \" \");\n\t\t\t}\n\t\t}\n\n\t}\n\n\tprivate long toDecimal(String s, long o) {\n\t\tint l = s.length();\n\t\tlong sum = 0;\n\t\tfor (int i = l - 1; i >= 0; i--) {\n\t\t\tlong v = 0L;\n\t\t\tif (Character.isDigit(s.charAt(i))) {\n\t\t\t\tv = s.charAt(i) - '0';\n\t\t\t} else {\n\t\t\t\tv = s.charAt(i) - 'A' + 10;\n\t\t\t}\n\t\t\tfor (int j = 0; j < l - i - 1; j++) {\n\t\t\t\tv *= o;\n\t\t\t}\n\t\t\tsum += v;\n\t\t}\n\t\treturn sum;\n\t}\n\n}\n"
        },
        {
            "language": 4,
            "solution": "\t\timport java.io.*;\nimport java.util.*;\n\t\tpublic class TreeMapDemo {\n\t\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader k=new BufferedReader(new InputStreamReader(System.in));\n\t\tStringTokenizer str=new StringTokenizer(k.readLine(),\":\");\n\t\tString hour=str.nextToken();\n\t\tString mint=str.nextToken();\n\t\tboolean flag=true;\n\t\tint max=0;\n\t\tfor (int i = 0; i < hour.length(); i++) {\n\t\t\tif (hour.charAt(i)>='A'&&hour.charAt(i)<='Z') {\n\t\t\t\tif (max<hour.charAt(i)-'A'+10) {\n\t\t\t\t\tmax=hour.charAt(i)-'A'+10;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (max<hour.charAt(i)-'0') {\n\t\t\t\tmax=hour.charAt(i)-'0';\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < mint.length(); i++) {\n\t\t\tif (mint.charAt(i)>='A'&&mint.charAt(i)<='Z') {\n\t\t\t\tif (max<mint.charAt(i)-'A'+10) {\n\t\t\t\t\tmax=mint.charAt(i)-'A'+10;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (max<mint.charAt(i)-'0') {\n\t\t\t\tmax=mint.charAt(i)-'0';\n\t\t\t}\n\t\t}\n\t\tmax++;\n\t\tif (max==1) {\n\t\t\tSystem.out.println(-1);\n\t\t\treturn;\n\t\t}\n\t\tString base=\"\";\n\t\tint count=0;\n\t\twhile (max<61) {\n\t\t\tlong x=0,y=0;\n\t\t\tif (max>=37) {\n\t\t\t\t x=getvalue(hour, max);\n\t\t\t\t y=getvalue(mint, max);\n\t\t\t}\n\t\t\telse{\n\t\t\t x=Long.parseLong(hour,max);\n\t\t\t y=Long.parseLong(mint,max);\n\t\t\t}\n\t\t\tif (x<24&&y<60) {\n\t\t\t\tbase+=max+\" \";\n\t\t\t\tmax++;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tflag=false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (flag) {\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t\telse if (count==0) {\n\t\t\tSystem.out.println(0);\n\t\t}\n\t\telse {\n\t\t\tSystem.out.println(base);\n\t\t}\n\t\t\n\t\t}\n\t\tpublic static long getvalue(String num,int base){\n\t\t\tint counter=0;\n\t\t\tlong x=0;\n\t\t\tfor (int i = num.length()-1; i >= 0; i--) {\n\t\t\t\tif (num.charAt(i)>='A'&&num.charAt(i)<'Z') {\n\t\t\t\t\tx+=(num.charAt(i)-'A'+10)*Math.pow(base, counter);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tx+=(num.charAt(i)-'0')*Math.pow(base, counter);\n\t\t\t\t}\n\t\t\t\tcounter++;\n\t\t\t}\n\t\t\treturn x;\n\t\t\t\n\t\t\t\n\t\t}\n\t\t}"
        },
        {
            "language": 1,
            "solution": "import re\nimport itertools\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c) - ord('A') + 10)\n\ndef convert(n, system):\n      ans, pow = 0, 1\n      for i in range(1, len(n) + 1):\n            if get(n[-i]) >= system: return 100500\n            ans, pow = ans + get(n[-i]) * pow, pow * system\n      return ans\n\ndef good(s, system):\n      return convert(s[0], system) < 24 and convert(s[1], system) < 60\n\ns = map(lambda x: max('0', re.sub('^0*', '', x)), raw_input().split(':'))\nans = list(itertools.ifilter(lambda x: x[1], [(i, good(s, i)) for i in range(2, 1000)]))\nif len(ans) == 0: print '0'\nelif len(ans) > 60: print '-1'\nelse: print ' '.join(str(x[0]) for x in ans)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long double pi = 3.1415926535897932384626433832795;\nconst long double eps = 0.000000001;\nconst int INF = 1E9;\nconst int MAXN = 100000;\nint ans, a[2], mn;\nstring s[2];\nchar c;\nbool f[2];\nint getn(char c) { return ('0' <= c && c <= '9') ? (c - '0') : (c - 'A' + 10); }\nint main() {\n  c = getchar();\n  while (c != ':') {\n    s[0] += c;\n    c = getchar();\n  }\n  cin >> s[1];\n  for (int k = 0; k < (int)(2); k++)\n    for (int i = 0; i < (int)(s[k].size() - 1); i++)\n      if (s[k][i] != '0') f[k] = 1;\n  if (f[0] || f[1]) {\n    f[0] = 1;\n    for (int i = (int)(2); i <= (int)(60); i++) {\n      f[1] = 1;\n      for (int j = 0; j < (int)(2); j++) {\n        mn = 1;\n        a[j] = 0;\n        for (int k = (int)(s[j].size()) - 1; k >= 0; k--) {\n          if (getn(s[j][k]) >= i) f[1] = 0;\n          a[j] += mn * getn(s[j][k]);\n          mn *= i;\n        }\n      }\n      if (f[1] && a[0] <= 23 && a[1] <= 59) {\n        cout << i << ' ';\n        f[0] = 0;\n      }\n    }\n    if (f[0]) cout << 0 << endl;\n  } else {\n    if (getn(s[0][s[0].size() - 1]) <= 23)\n      cout << -1;\n    else\n      cout << 0;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool isprime(int n) {\n  if (n <= 1) return false;\n  if (n <= 3) return true;\n  if (n % 2 == 0 || n % 3 == 0) return false;\n  for (int i = 5; i * i <= n; i = i + 6)\n    if (n % i == 0 || n % (i + 2) == 0) return false;\n  return true;\n}\nvector<long long int> prime;\nvoid sieve(int n) {\n  bool bakh[n + 1];\n  memset(bakh, true, sizeof(bakh));\n  for (int p = 2; p * p <= n; p++) {\n    if (bakh[p] == true) {\n      for (int i = p * p; i <= n; i += p) bakh[i] = false;\n    }\n  }\n  for (int p = 2; p <= n; p++)\n    if (bakh[p]) prime.push_back(p);\n}\nlong long int eulertotient(long long int z) {\n  long long int fac = z;\n  for (long long int i = 0; prime[i] * prime[i] <= z; i++) {\n    if (z % prime[i] == 0) {\n      fac -= (fac / prime[i]);\n      while (z % prime[i] == 0) z /= prime[i];\n    }\n  }\n  if (z > 1) fac -= (fac / z);\n  return fac;\n}\nlong long int power(long long int x, long long int y, long long int p) {\n  long long int res = 1;\n  x = x % p;\n  while (y > 0) {\n    if (y & 1) res = (res * x) % p;\n    y = y >> 1;\n    x = (x * x) % p;\n  }\n  return res;\n}\nlong long int gcd(long long int a, long long int b) {\n  if (a == 0) return b;\n  return gcd(b % a, a);\n}\nlong long int lcm(long long int a, long long int b) {\n  long long int g = gcd(a, b);\n  long long int ans = (a * b) / g;\n  return ans;\n}\nlong long int modInverse(long long int a, long long int m) {\n  long long int hvf = gcd(a, m);\n  if (hvf == 1) return power(a, m - 2, m);\n  return -1;\n}\nvoid multiply(long long int F[2][2], long long int M[2][2]) {\n  long long int x = F[0][0] * M[0][0] + F[0][1] * M[1][0];\n  long long int y = F[0][0] * M[0][1] + F[0][1] * M[1][1];\n  long long int z = F[1][0] * M[0][0] + F[1][1] * M[1][0];\n  long long int w = F[1][0] * M[0][1] + F[1][1] * M[1][1];\n  F[0][0] = x;\n  F[0][1] = y;\n  F[1][0] = z;\n  F[1][1] = w;\n}\nvoid powermat(long long int F[2][2], long long int n) {\n  if (n == 0 || n == 1) return;\n  long long int M[2][2] = {{1, 1}, {1, 0}};\n  powermat(F, n / 2);\n  multiply(F, F);\n  if (n % 2 != 0) multiply(F, M);\n}\nlong long int fib(long long int n) {\n  long long int F[2][2] = {{1, 1}, {1, 0}};\n  if (n == 0) return 0;\n  powermat(F, n - 1);\n  return F[0][0];\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  cout.tie(NULL);\n  ;\n  string st;\n  cin >> st;\n  long long int l = st.length();\n  long long int p = st.find(':');\n  long long int x, q = 0, Min = 0;\n  for (long long int i = 0; i < l; i++) {\n    if (st[i] == ':') continue;\n    x = st[i] - 48;\n    if (x > 9) x -= 7;\n    q = max(q, x);\n  }\n  q += 1;\n  long long int b[2];\n  long long int k = 0;\n  b[0] = 0;\n  b[1] = 0;\n  long long int c = 0;\n  for (long long int i = q; i <= 60; i++) {\n    k = 0;\n    b[0] = 0;\n    b[1] = 0;\n    for (long long int j = 0; j < l; j++) {\n      if (st[j] == ':') {\n        k += 1;\n        continue;\n      }\n      x = st[j] - 48;\n      if (x > 9) x -= 7;\n      q = max(q, x);\n      b[k] = b[k] * i + x;\n    }\n    if (b[0] <= 23 && b[1] < 60)\n      c++;\n    else\n      break;\n  }\n  if (c == 0) {\n    cout << 0 << endl;\n    return 0;\n  }\n  long long int s[2] = {0};\n  k = 0;\n  for (long long int i = 0; i < l; i++) {\n    if (st[i] == ':') {\n      k++;\n      continue;\n    }\n    x = st[i] - 48;\n    if (x > 9) x -= 7;\n    q = max(q, x);\n    s[k] = s[k] * 100 + x;\n  }\n  if (s[0] < 24 && s[1] < 60) {\n    cout << -1 << endl;\n    return 0;\n  }\n  for (long long int i = 0; i < c; i++) cout << q + i << \" \";\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long MAXN = 1000;\nlong long ans[MAXN], ansN;\ninline long long getval(string s, long long b) {\n  long long v = 1, outp = 0;\n  for (long long i = 0; i < s.size(); i++) {\n    long long t;\n    if (isdigit(s[i]))\n      t = (s[i] - '0');\n    else\n      t = (s[i] - 'A' + 10);\n    if (t >= b) return -1;\n    outp += t * v;\n    v *= b;\n  }\n  return outp;\n}\nint main() {\n  ios::sync_with_stdio(false);\n  cout.tie(0);\n  cin.tie(0);\n  string s;\n  cin >> s;\n  bool flag = false;\n  string a, b;\n  for (long long i = 0; i < s.size(); i++) {\n    if (s[i] == ':')\n      flag = true;\n    else if (!flag)\n      a += s[i];\n    else\n      b += s[i];\n  }\n  reverse(a.begin(), a.end());\n  reverse(b.begin(), b.end());\n  for (long long i = 1; i < 1000; i++) {\n    long long x = getval(a, i), y = getval(b, i);\n    if (x >= 0 && x < 24 && y >= 0 && y < 60) ans[ansN++] = i;\n  }\n  if (ansN > 100)\n    cout << -1;\n  else if (ansN == 0)\n    cout << 0;\n  else {\n    for (long long i = 0; i < ansN; i++) cout << ans[i] << \" \";\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint changeBase(string &see, int base) {\n  int ans{0};\n  for (auto va : see) {\n    ans *= base;\n    int add = 0;\n    if (va >= 'A')\n      add += 10 + (va - 'A');\n    else\n      add += va - '0';\n    if (add >= base) return 70;\n    ans += add;\n  }\n  return ans;\n}\nint main() {\n  string see;\n  cin >> see;\n  string part1 = \"\";\n  int i = 0;\n  while (see[i] != ':') {\n    part1 += see[i++];\n    if (part1.back() == '0' && part1.size() == 1) part1.pop_back();\n  }\n  ++i;\n  string part2 = \"\";\n  while (i < see.size()) {\n    part2 += see[i++];\n    if (part2.back() == '0' && part2.size() == 1) part2.pop_back();\n  }\n  vector<int> ans;\n  for (int i = 1; i < 62; ++i) {\n    int see1 = changeBase(part1, i);\n    int see2 = changeBase(part2, i);\n    if (see1 < 24 && see2 < 60) ans.push_back(i);\n  }\n  if (!ans.size())\n    printf(\"0\");\n  else if (ans.back() == 61)\n    printf(\"-1\");\n  else\n    for (auto va : ans) printf(\"%d \", va);\n  puts(\"\");\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.StringTokenizer;\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Solve1 {\n\tpublic static void main(String[] args) {\n\t\tInputReader in = new InputReader(System.in);\n\t\tPrintWriter out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)),true);\n\t\tTaskB solver = new TaskB();\n\t\tsolver.solve(1, in, out);\n\t\tout.flush();\n\t\tout.close();\n\t}\n}\n\nclass TaskB {\n    public void solve(int testNumber, InputReader in, PrintWriter pw) {\n    \n    \t\n    String a=in.next();\n    String st[]=a.split(\":\");\n    String temp=\"-1\";\n    ArrayList<Integer> al=new ArrayList<Integer>();\n    boolean flag=false;\n    for(int i=2;true;i++) {\n    \tboolean flag1=false;\n    \tfor(String s:st) {\n    \t\tfor(int j=0;j<s.length();j++) {\n    \t\t\tint t=Integer.parseInt(getChar(s.charAt(j)));\n    \t\t\tif(t>=i) {\n    \t\t\t\tflag1=true;\n    \t\t\t\tbreak;\n    \t\t\t}\n    \t\t}\n    \t}\n    \tif(flag1) {\n\t\t\tcontinue;\n\t\t}else {\n\t\t\tint n1=convertBase(st[0],i);\n\t\t\tint n2=convertBase(st[1],i);\n\t\t\tString rem=String.format(\"%d:%d\", n1,n2);\n\t\t\tif((n1>23||n2>59)) {\n\t\t\t\tbreak;\n\t\t\t}else if(temp.equals(rem)) {\n\t\t\t\tflag=true;\n\t\t\t\tbreak;\n\t\t\t}else {\n\t\t\t\tal.add(i);\n\t\t\t\ttemp=rem;\n\t\t\t}\n\t\t}\n    \t\n    }\n    if(flag) {\n    \tpw.println(-1);\n    }else {\n    \t if(al.isEmpty()) {\n    \t\t pw.println(0);\n    \t }else {\n    \t\t for(int x:al) {\n    \t\t\t pw.print(x+\" \");\n    \t\t }\n    \t }\n    }\n\n    }\n\n\tprivate int convertBase(String string, int i) {\n\t\t// TODO Auto-generated method stub\n\t\tint num=0;\n\t\tint n=string.length()-1;\n\t\tfor(int j=0;j<string.length();j++) {\n\t\t\tint x=Integer.parseInt(getChar(string.charAt(n-j)));\n\t\t\tnum+=(x*(Math.pow(i, j)));\t\t\t\n\t\t}\n\t\treturn num;\n\t}\n\n\tprivate String getChar(char charAt) {\n\t\t// TODO Auto-generated method stub\n\t\tString temp=\"\";\n\t\tint f=10 ;\n\t\tfor(int i='A';i<='Z';i++) {\n\t\t\tif(i==charAt) {\n\t\t\t\ttemp=(String.valueOf(f));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tf++;\n\t\t}\n\t\treturn (temp==\"\")?String.valueOf(charAt):temp;\n\t}\n}\n\nclass InputReader{\n    BufferedReader br;\n    StringTokenizer st;\n    public InputReader(InputStream in){\n        br=new BufferedReader(new InputStreamReader(in),32768);\n        st=null;\n    }\n    public String next(){\n    while(st==null||!st.hasMoreTokens()){\n        try{\n            st=new StringTokenizer(br.readLine());\n        }catch(IOException e){\n            throw new RuntimeException(e);\n        }\n    }\n   return st.nextToken();\n    }\n    public int nextInt(){\n        return Integer.parseInt(next());\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class cf149b {\n\tpublic static void main(String[] args) {\n\t\tScanner in = new Scanner(System.in);\n\t\tStringTokenizer st = new StringTokenizer(in.next(),\": \");\n\t\tString hour = st.nextToken().trim();\n\t\tString minute = st.nextToken().trim();\n\t\tint[] h = new int[hour.length()];\n\t\tint[] m = new int[minute.length()];\n\t\tfor(int i=0; i<h.length; i++) {\n\t\t\tif(hour.charAt(i) <= '9' && hour.charAt(i)>='0')\n\t\t\t\th[i] = hour.charAt(i)-'0';\n\t\t\telse\n\t\t\t\th[i] = hour.charAt(i)-'A'+10;\n\t\t}\t\t\n\t\tfor(int i=0; i<m.length; i++) {\n\t\t\tif(minute.charAt(i) <= '9' && minute.charAt(i)>='0')\n\t\t\t\tm[i] = minute.charAt(i)-'0';\n\t\t\telse\n\t\t\t\tm[i] = minute.charAt(i)-'A'+10;\n\t\t}\n\t\tArrayList<Integer> ans = new ArrayList<Integer>();\n\t\tfor(int radix = 1; radix <= 200; radix++) {\n\t\t\tlong hh = parse(h,radix);\n\t\t\tlong mm = parse(m,radix);\n\t\t\tif(hh >= 0 && hh < 24 && mm >= 0 && mm < 60)\n\t\t\t\tans.add(radix);\n\t\t}\n\t\tif(ans.size()==0)\n\t\t\tSystem.out.println(0);\n\t\telse if(ans.size() >= 100)\n\t\t\tSystem.out.println(-1);\n\t\telse {\n\t\t\tfor(int x : ans)\n\t\t\t\tSystem.out.print(x + \" \");\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\tstatic long parse(int[] s, int radix) {\n\t\tlong base = 1;\n\t\tlong ans = 0;\n\t\tfor(int i=s.length-1; i>=0; i--) {\n\t\t\tif(s[i] >= radix) return -1;\n\t\t\tans += base*s[i];\n\t\t\tbase *= radix;\n\t\t}\n\t\treturn ans;\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long int biexp(long long int m, long long int n) {\n  long long int res = 1;\n  while (n > 0) {\n    if (n % 2) res = res * m;\n    m = m * m;\n    n = n / 2;\n  }\n  return res;\n}\nint main() {\n  int t = 1;\n  while (t--) {\n    string s;\n    cin >> s;\n    string a, b;\n    long long int i = 0, mi = 0;\n    while (s[i] != ':') {\n      if (s[i] == '0' and a.size() != 0)\n        a.push_back(s[i]);\n      else if (s[i] != '0')\n        a.push_back(s[i]);\n      i++;\n    }\n    i++;\n    while (i < s.length()) {\n      if (s[i] == '0' and b.size() != 0)\n        b.push_back(s[i]);\n      else if (s[i] != '0')\n        b.push_back(s[i]);\n      i++;\n    }\n    for (long long int i = 0; i < a.size(); i++) {\n      if (a[i] >= '0' and a[i] <= '9')\n        mi = max(mi, (long long int)a[i] - '0');\n      else\n        mi = max(mi, (long long int)(a[i] - 'A' + 10));\n    }\n    for (long long int i = 0; i < b.size(); i++) {\n      if (b[i] >= '0' and b[i] <= '9')\n        mi = max(mi, (long long int)b[i] - '0');\n      else\n        mi = max(mi, (long long int)(b[i] - 'A' + 10));\n    }\n    vector<long long int> v;\n    for (long long int i = mi + 1;; i++) {\n      long long int x = a.size(), h = 0, min = 0, j = 0;\n      while (x > 0) {\n        if (a[a.size() - x] >= '0' and a[a.size() - x] <= '9')\n          h = h + biexp(i, x - 1) * (a[a.size() - x] - '0');\n        else\n          h = h + biexp(i, x - 1) * (a[a.size() - x] - 'A' + 10);\n        x--;\n      }\n      x = b.size();\n      while (x > 0) {\n        if (b[b.size() - x] >= '0' and b[b.size() - x] <= '9')\n          min = min + biexp(i, x - 1) * (b[b.size() - x] - '0');\n        else\n          min = min + biexp(i, x - 1) * (b[b.size() - x] - 'A' + 10);\n        x--;\n      }\n      if (h > 23 or min > 59)\n        break;\n      else\n        v.push_back(i);\n      if (v.size() > 100) break;\n    }\n    if (v.size() > 100)\n      cout << -1;\n    else if (v.size() == 0) {\n      cout << 0;\n    } else {\n      for (long long int i = 0; i < v.size(); i++) cout << v[i] << \" \";\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string a;\n  cin >> a;\n  string hours;\n  string minutes;\n  bool flag = false;\n  bool containsAlpha = false;\n  int maxVal = INT_MIN;\n  for (int i = 0; i < a.length(); i++) {\n    if ((a[i] != ':') && (flag == false)) {\n      hours += a[i];\n    } else if (a[i] == ':') {\n      flag = true;\n      continue;\n    } else {\n      minutes += a[i];\n    }\n    if (a[i] <= '9') {\n      maxVal = max(maxVal, a[i] - '0');\n    } else {\n      maxVal = max(maxVal, 10 + (a[i] - 'A'));\n    }\n  }\n  while (hours[0] == '0') {\n    hours = hours.substr(1);\n  }\n  while (minutes[0] == '0') {\n    minutes = minutes.substr(1);\n  }\n  vector<int> ans;\n  if ((hours.length() <= 1) && (minutes.length() <= 1)) {\n    if ((hours.length() == 0) || ((hours[0] >= '0') && (hours[0] <= '9')) ||\n        ((hours[0] >= 'A') && (hours[0] <= 'N'))) {\n      cout << \"-1\";\n      return 0;\n    }\n  }\n  int i = maxVal + 1;\n  bool flag2 = false;\n  for (;; i++) {\n    int hour = 0;\n    int minute = 0;\n    for (int j = hours.size() - 1; j >= 0; j--) {\n      int val = 0;\n      if ((hours[j] >= '0') && (hours[j] <= '9')) {\n        val = hours[j] - '0';\n      } else {\n        val = 10 + (hours[j] - 'A');\n      }\n      hour += val * (pow(i, (hours.size() - 1) - j));\n    }\n    for (int j = minutes.size() - 1; j >= 0; j--) {\n      int val = 0;\n      if ((minutes[j] >= '0') && (minutes[j] <= '9')) {\n        val = minutes[j] - '0';\n      } else {\n        val = 10 + (minutes[j] - 'A');\n      }\n      minute += val * (pow(i, (minutes.size() - 1) - j));\n    }\n    if ((minute > 59) || (hour > 23)) {\n      break;\n    }\n    cout << i << \" \";\n    flag2 = true;\n  }\n  if (!flag2) {\n    cout << \"0\";\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int inf = 1 << 30;\nconst long long linf = 1 << 60;\nvector<int> ans;\nbool check(string& a, string& b, int& d) {\n  long long h = 0;\n  for (int i = 0; i < ((int)(a).size()); ++i) {\n    h *= d;\n    if ('0' <= a[i] && a[i] <= '9') {\n      h += a[i] - '0';\n    } else {\n      h += a[i] - 'A' + 10;\n    }\n    if (h > 23 || (a[i] >= 'A' && a[i] - 'A' + 10 >= d) ||\n        (a[i] < 'A' && a[i] - '0' >= d)) {\n      return 0;\n    }\n  }\n  long long m = 0;\n  for (int i = 0; i < ((int)(b).size()); ++i) {\n    m *= d;\n    if ('0' <= b[i] && b[i] <= '9') {\n      m += b[i] - '0';\n    } else {\n      m += b[i] - 'A' + 10;\n    }\n    if (m > 59 || (b[i] >= 'A' && b[i] - 'A' + 10 >= d) ||\n        (b[i] < 'A' && b[i] - '0' >= d)) {\n      return 0;\n    }\n  }\n  return 1;\n}\nint main() {\n  string s;\n  cin >> s;\n  string a, b;\n  bool fl = 0;\n  for (int i = 0; i < ((int)(s).size()); ++i) {\n    if (s[i] == ':') {\n      fl = 1;\n    } else if (!fl) {\n      a += s[i];\n    } else {\n      b += s[i];\n    }\n  }\n  for (int d = 2; d < 1000; ++d) {\n    if (check(a, b, d)) {\n      ans.push_back(d);\n    }\n  }\n  if (((int)(ans).size()) > 500) {\n    cout << \"-1\\n\";\n    return 0;\n  }\n  if (((int)(ans).size()) == 0) {\n    cout << \"0\";\n  }\n  for (int i = 0; i < ((int)(ans).size()); ++i) {\n    cout << ans[i] << \" \";\n  }\n  cout << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\n/**\n * Created by IntelliJ IDEA.\n * User: piyushd\n * Date: 3/26/11\n * Time: 10:53 PM\n * To change this template use File | Settings | File Templates.\n */\npublic class TaskB {  \n    \n    int getValue(char a) {\n        if(a >= '0' && a <= '9') return a - '0';\n        if(a >= 'A' && a <= 'Z') return a - 'A' + 10;\n        return 0;\n    }\n\n    void run() {\n        String time = next();\n        int x = time.indexOf(\":\");\n        String a = time.substring(0, x);\n        while(a.charAt(0) == '0' && a.length() >= 2) a = a.substring(1);\n        String b = time.substring(x + 1);\n        while (b.charAt(0) == '0' && b.length() >= 2) b = b.substring(1);\n        \n        for(int i = 0; i < a.length(); i++) {\n            if(getValue(a.charAt(i)) >= 24) {\n                System.out.println(0);\n                return;\n            }\n        }\n\n        if(a.length() == 1 && b.length() == 1) {\n            System.out.println(-1);\n            return;\n        }\n        \n        ArrayList<Integer> candidates = new ArrayList<Integer>();\n        for(int tryWith = 2; tryWith <= 60; tryWith++) {\n            int len = a.length();\n            long sum = 0, index = 1;\n            boolean ok = true;\n            for(int i = len - 1; i >= 0 && ok; i--) {\n                int ix = getValue(a.charAt(i));\n                if(ix >= tryWith) {\n                    ok = false;\n                    continue;\n                }\n                sum += ix * index;\n                index *= tryWith;\n            }\n\n            if(sum <= 23 && ok) candidates.add(tryWith);\n        }\n\n        ArrayList<Integer> res = new ArrayList<Integer>();\n        for (int t : candidates) {\n            int len = b.length();\n            long sum = 0, index = 1;\n            boolean ok = true;\n            for(int i = len - 1; i >= 0 && ok; i--) {\n                int ix = getValue(b.charAt(i));\n                if(ix >= t) {\n                    ok = false;\n                    continue;\n                }\n                sum += ix * index;\n                index *= t;\n            }\n\n            if(sum <= 59 && ok) {\n                res.add(t);\n            }            \n        }\n\n        if(res.size() == 0) {\n            System.out.println(0);\n            return;\n        }\n\n        for(int t : res)System.out.println(t);\n    }\n\n    int nextInt(){\n        try{\n            int c = System.in.read();\n            if(c == -1) return c;\n            while(c != '-' && (c < '0' || '9' < c)){\n                c = System.in.read();\n                if(c == -1) return c;\n            }\n            if(c == '-') return -nextInt();\n            int res = 0;\n            do{\n                res *= 10;\n                res += c - '0';\n                c = System.in.read();\n            }while('0' <= c && c <= '9');\n            return res;\n        }catch(Exception e){\n            return -1;\n        }\n    }\n\n    long nextLong(){\n        try{\n            int c = System.in.read();\n            if(c == -1) return -1;\n            while(c != '-' && (c < '0' || '9' < c)){\n                c = System.in.read();\n                if(c == -1) return -1;\n            }\n            if(c == '-') return -nextLong();\n            long res = 0;\n            do{\n                res *= 10;\n                res += c-'0';\n                c = System.in.read();\n            }while('0' <= c && c <= '9');\n            return res;\n        }catch(Exception e){\n            return -1;\n        }\n    }\n\n    double nextDouble(){\n        return Double.parseDouble(next());\n    }\n\n    String next(){\n        try{\n            StringBuilder res = new StringBuilder(\"\");\n            int c = System.in.read();\n            while(Character.isWhitespace(c))\n                c = System.in.read();\n            do{\n                res.append((char)c);\n            }while(!Character.isWhitespace(c=System.in.read()));\n            return res.toString();\n        }catch(Exception e){\n            return null;\n        }\n    }\n\n    String nextLine(){\n        try{\n            StringBuilder res = new StringBuilder(\"\");\n            int c = System.in.read();\n            while(c == '\\r' || c == '\\n')\n                c = System.in.read();\n            do{\n                res.append((char)c);\n                c = System.in.read();\n            }while(c != '\\r' && c != '\\n');\n            return res.toString();\n        }catch(Exception e){\n            return null;\n        }\n    }\n\n    public static void main(String[] args){\n        new TaskB().run();\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint toDec(string s, int base) {\n  int n = s.length();\n  int res = 0;\n  for (int i = 0; i < n; i++) {\n    res *= base;\n    int k = 0;\n    if (s[i] >= '0' && s[i] <= '9')\n      k = s[i] - '0';\n    else\n      k = s[i] - 'A' + 10;\n    if (res > 60) return 999;\n    if (k >= base)\n      return 999;\n    else\n      res += k;\n  }\n  return res;\n}\nvector<int> v;\nint main() {\n  char c1[64];\n  char c2[64];\n  cin.getline(c1, 64, ':');\n  cin.getline(c2, 64);\n  string s1(c1), s2(c2);\n  for (int i = 2; i < 500; i++) {\n    int k1 = toDec(s1, i);\n    int k2 = toDec(s2, i);\n    if (k1 < 24 && k2 < 60) v.push_back(i);\n  }\n  if (v.size() == 0)\n    cout << 0;\n  else if (v[v.size() - 1] == 499)\n    cout << -1;\n  else {\n    for (int i = 0; i < v.size(); i++) cout << v[i] << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import sys\n\ndef henkan(s, radix):\n    res = 0\n    for c in s:\n        res *= radix\n        if 48 <= ord(c) <= 57:\n            if ord(c) - ord('0') >= radix:\n                return -1\n            res += int(c)\n        elif 65 <= ord(c) <= 90:\n            if ord(c) - ord('A') + 10 >= radix:\n                return -1\n            res += ord(c) - ord('A') + 10       \n    return res\n\ndef main():\n    lst = sys.stdin.readline().split(':')\n   # print lst[0].lstrip('0'), lst[1].lstrip('0')\n    h = lst[0].strip().lstrip('0')\n    m = lst[1].strip().lstrip('0')\n    res = []\n    for i in xrange(2, 101):\n        dh = henkan(h, i)\n        dm = henkan(m, i)\n       # print i, dh, dm\n        if 0 <= dh <= 23 and 0 <= dm <= 59:\n            res.append(i)\n    if 100 in res:\n        print -1\n    elif len(res) == 0:\n        print 0\n    else:\n        res.sort()\n        for c in res:\n            print c,\n        print\n        \nmain()\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst double EPS = 1e-9;\nint bit_count(int first) {\n  return first == 0 ? 0 : 1 + bit_count(first & (first - 1));\n}\ninline int low_bit(int first) { return first & -first; }\ninline int sign(double first) {\n  return first < -EPS ? -1 : first > EPS ? 1 : 0;\n}\ninline int sign(int first) { return (first > 0) - (first < 0); }\nint nextComb(int first) {\n  if (!first) {\n    fprintf(stderr, \"nextComb(0) called\\n\");\n    return ((1 << 30) - 1 + (1 << 30));\n  }\n  int smallest = first & -first;\n  int ripple = first + smallest;\n  int ones = first ^ ripple;\n  ones = (ones >> 2) / smallest;\n  return ripple | ones;\n}\ntemplate <class T>\ninline T gcd(T a, T b) {\n  a = abs(a);\n  b = abs(b);\n  while (b) {\n    int r = a % b;\n    a = b;\n    b = r;\n  }\n  return a;\n}\ntemplate <class T>\ninline T lcm(T a, T b) {\n  return a / gcd(a, b) * b;\n}\ninline int getInt() {\n  int a;\n  return scanf(\"%d\", &a) ? a : (fprintf(stderr, \"trying to read\\n\"), -1);\n}\ninline double getDouble() {\n  double a;\n  return scanf(\"%lf\", &a) ? a : (fprintf(stderr, \"trying to read\\n\"), -1.0);\n}\ninline double myRand() {\n  return ((double)rand() / RAND_MAX) + ((double)rand() / RAND_MAX / RAND_MAX);\n}\ninline string getLine() {\n  string ret;\n  getline(cin, ret, ':');\n  return ret;\n}\nlong long process(string s, int base) {\n  long long ret = 0;\n  for (int i = (int)0; i < (int)((int)(s).size()); ++i) {\n    ret *= base;\n    if (isdigit(s[i]))\n      ret += s[i] - '0';\n    else\n      ret += s[i] - 'A' + 10;\n  }\n  return ret;\n}\nbool isValid(string s, int base) {\n  for (int i = (int)0; i < (int)((int)(s).size()); ++i) {\n    if (isdigit(s[i]) && s[i] - '0' >= base)\n      return false;\n    else if (s[i] - 'A' + 10 >= base)\n      return false;\n  }\n  return true;\n}\nvoid myCode() {\n  string hrs, mins;\n  getline(cin, hrs, ':');\n  getline(cin, mins);\n  vector<int> ret;\n  if (((int)(hrs).size()) < 6 && ((int)(mins).size()) < 7) {\n    for (int i = (int)2; i < (int)100; ++i) {\n      if (isValid(hrs, i) == true && isValid(mins, i) == true) {\n        if (process(hrs, i) < 24 && process(mins, i) < 60) {\n          ret.push_back(i);\n        }\n      }\n    }\n  }\n  if (ret.empty())\n    printf(\"0\\n\");\n  else if (ret[((int)(ret).size()) - 1] == 99)\n    printf(\"-1\\n\");\n  else\n    for (int i = (int)0; i < (int)((int)(ret).size()); ++i)\n      printf(\"%d%c\", ret[i], i == ((int)(ret).size()) - 1 ? '\\n' : ' ');\n}\nint main() {\n  srand(time(NULL));\n  myCode();\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint32_t main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  ;\n  string s;\n  string st1 = \"\", st2 = \"\";\n  cin >> s;\n  vector<int> ans;\n  int n = s.size();\n  int cnt1 = 0, nz1 = 0, cnt2 = 0, nz2 = 0;\n  int i = 0;\n  while (s[i] != ':') {\n    cnt1++;\n    if (s[i] == '0') nz1++;\n    st1 += s[i];\n    i++;\n  }\n  i++;\n  while (i < n) {\n    cnt2++;\n    st2 += s[i];\n    if (s[i] == '0') nz2++;\n    i++;\n  }\n  if (nz1 == cnt1 && nz2 == cnt2)\n    cout << -1 << \"\\n\";\n  else if ((nz1 == (cnt1 - 1) && nz2 == cnt2) &&\n           ((st1[st1.size() - 1] <= 'N' && st1[st1.size() - 1] != '0'))) {\n    cout << -1 << \"\\n\";\n  } else if ((nz1 == (cnt1) && nz2 == (cnt2 - 1)) &&\n             ((st2[st2.size() - 1] != '0'))) {\n    cout << -1 << \"\\n\";\n  } else if ((nz1 == (cnt1 - 1) && nz2 == (cnt2 - 1)) &&\n             ((st1[st1.size() - 1] != '0' && st2[st2.size() - 1] != '0' &&\n               st1[st1.size() - 1] <= 'N'))) {\n    cout << -1 << \"\\n\";\n  } else {\n    int str = 3;\n    int cmp = -1;\n    for (int i = 0; i < s.size(); i++)\n      if (s[i] > cmp && s[i] != ':') cmp = s[i];\n    cmp -= 48;\n    if (cmp <= 9)\n      str = cmp + 1;\n    else\n      str = cmp + 48 - 65 + 10 + 1;\n    while (true) {\n      int calc1 = 0, calc2 = 0;\n      int nm = 1;\n      for (int j = st1.size() - 1; j >= 0; j--) {\n        if (st1[j] <= '9') {\n          int md = st1[j] - 48;\n          calc1 += md * nm;\n        } else {\n          int md = st1[j] - 65 + 10;\n          calc1 += md * nm;\n        }\n        nm = nm * str;\n      }\n      nm = 1;\n      for (int j = st2.size() - 1; j >= 0; j--) {\n        if (st2[j] <= '9') {\n          int md = st2[j] - 48;\n          calc2 += md * nm;\n        } else {\n          int md = st2[j] - 65 + 10;\n          calc2 += md * nm;\n        }\n        nm = nm * str;\n      }\n      if (calc1 < 24 && calc2 < 60)\n        ans.push_back(str);\n      else\n        break;\n      str++;\n    }\n    if (ans.size() == 0)\n      cout << 0 << \"\\n\";\n    else {\n      for (int j = 0; j < ans.size(); j++) cout << ans[j] << \" \";\n      cout << \"\\n\";\n    }\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "def good(b, num, basa):\n    sum = 0\n    maxbasB = 0\n    if b != '0':\n        if len(b) > 1:\n            while sum < num:\n                sum = 0\n                j = len(b) - 1\n                for i in b:\n                    sum += basic[i]*(basa**j)\n                    j -= 1\n                    if sum > num:\n                        break\n                if sum < num:\n                    maxbasB = basa \n                    basa += 1   \n                else:\n                    break\n        else:\n            if num / basic[b] > 0:\n                maxbasB = 83 - num         \n            else:\n                maxbasB = 0\n    return maxbasB                \n\ns = raw_input()\n\nj  = 0\nbasic = {}\nfor i in range(10):\n    basic[str(i)] = i\nfor i in range(65,91):\n    basic[ chr(i) ] = len(basic)   \na = ''\nfor i in s:\n    if i != ':':\n        if (len(a) == 0 and i == '0') == 0:\n            a = a + i\n        j += 1\n    else:\n        break\n\nb = s[j + 1:len(s)]\nj = 0\nfor i in b:\n    if i == '0':\n        j += 1\n    else:\n        break   \n\nb = b[j:len(b)]\nif len(a) == 0:\n    a = '0'\nif len(b) == 0:\n    b = '0'    \n\n\nif (len(a) <= 1 and len(b) <= 1):\n    if (len(a) == 1 and basic[a] > 23):\n        print 0\n    else:    \n        print -1\nelse:\n    minbas = max(basic[max(a)],basic[max(b)]) + 1\n\n    maxbasA = good(a, 24, minbas)            \n    maxbasB = good(b, 60, minbas)                             \n    if a == '0':\n        c = maxbasB\n    else:\n        if b == '0':\n            c = maxbasA\n        else:                    \n            c = min(maxbasA, maxbasB)    \n    if c < minbas:\n        print 0\n    else:\n        for i in range(minbas, c + 1):\n            print i, "
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  cout.tie(NULL);\n  string aa;\n  cin >> aa;\n  int y = aa.find(':');\n  string a = aa.substr(0, y);\n  string b = aa.substr(y + 1);\n  vector<int> c;\n  for (int t = 1; t < 65; t++) {\n    int hr = 0, mi = 0;\n    int meow = 0;\n    for (int i = 0; i < max(a.size(), b.size()); i++) {\n      if (i < a.size()) {\n        int x = a[i] - 48;\n        if (x > 9) {\n          x = x - 7;\n        }\n        if (x >= t) {\n          meow++;\n        }\n        int z = a.size();\n        int y = pow(t, z - 1 - i);\n        hr = hr + y * x;\n      }\n      if (i < b.size()) {\n        int x = b[i] - 48;\n        if (x > 9) {\n          x = x - 7;\n        }\n        if (x >= t) {\n          meow++;\n        }\n        int z = b.size();\n        int y = pow(t, z - 1 - i);\n        mi = mi + y * x;\n      }\n    }\n    if (hr >= 0 && hr < 24 && mi >= 0 && mi < 60 && meow == 0) {\n      c.push_back(t);\n    }\n  }\n  if (c.size() == 0) {\n    cout << 0;\n    exit(0);\n  }\n  if (c[c.size() - 1] == 64) {\n    cout << -1;\n    exit(0);\n  }\n  for (auto x : c) {\n    cout << x << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint ans[100];\nchar tp[300];\nstring ch;\nint cal(string a, int base) {\n  int ans = 0;\n  for (int i = 0; i < a.size(); i++) {\n    if (tp[a[i]] >= base)\n      return -1;\n    else {\n      ans *= base;\n      ans += tp[a[i]];\n    }\n  }\n  return ans;\n}\nint main() {\n  for (int i = 0; i < 10; i++) tp['0' + i] = i;\n  for (int i = 0; i < 26; i++) tp['A' + i] = 10 + i;\n  while (cin >> ch) {\n    int flag;\n    for (int i = 0; i < ch.size(); i++)\n      if (ch[i] == ':') {\n        flag = i;\n        break;\n      }\n    string a = ch.substr(0, flag), b = ch.substr(flag + 1);\n    int n = 0;\n    for (int i = 1; i <= 101; i++) {\n      int H = cal(a, i), M = cal(b, i);\n      if (H < 0 || M < 0 || H > 23 || M > 59)\n        continue;\n      else {\n        ans[n++] = i;\n        if (i == 101) {\n          cout << -1 << endl;\n          return 0;\n        }\n      }\n    }\n    if (n == 0)\n      cout << 0 << endl;\n    else {\n      for (int i = 0; i < n; i++) cout << ans[i] << \" \";\n      cout << endl;\n    }\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "a,b=raw_input().split(\":\")\n\nfor k in range(len(a)):\n    if a[k]!='0':break\n    \nfor j in range(len(b)):\n    if b[j]!='0':break\n    \nif len(a)-k<2 and len(b)-j<2 and a[-1]<'P': print -1;exit()\nz=1\nfor i in range(2,36):\n    try:\n        x,y=int(a,i),int(b,i)\n        if x <= 23 and y <=59: print i,;z=0\n    except:\n        pass\nO=lambda x: (ord(x)-ord('A')+10) if x >= 'A' else int(x)\ntry:\n    if len(a)-k<2 and len(b)-j==2 and b[-2]=='1': print ' '.join(map(str,range(36,60-O(b[-1]))))\nexcept: pass\nif z: print 0"
        },
        {
            "language": 1,
            "solution": "h, m = raw_input().split(':')\nnum = {}\nfor i in xrange(10):\n    num[str(i)] = i\nfor i in xrange(10, 36):\n    num[chr(i - 10 + ord('A'))] = i\nans = []\n\ndef check(ra, h, m):\n    _h, _m = 0, 0\n    for ch in h:\n        if num[ch] >= ra: return False\n        _h = _h * ra + num[ch]\n    if _h >= 24: return False\n    for ch in m:\n        if num[ch] >= ra: return False\n        _m = _m * ra + num[ch]\n    if _m >= 60: return False\n    return True\nfor i in xrange(100):\n    if check(i, h, m): \n        ans.append(i)\nif len(ans) == 0: print 0\nelif ans[-1] == 99: print -1\nelse: print ' '.join(map(str, ans))"
        },
        {
            "language": 1,
            "solution": "def get(c):\n       return int(c, 36)\n\ndef con(n, s):\n      if n == '': return 0\n      if get(n[-1]) >= s: return 100\n      return get(n[-1]) + con(n[:-1], s) * s\n\ndef good(n):\n      return con(s[0], n) < 24 and con(s[1], n) < 60\n\ns = raw_input().split(':')\nans = filter(good, range(100))\nif ans == []: print '0'\nelif ans[-1] == 99: print '-1'\nelse: print ' '.join(str(x) for x in ans)\n"
        },
        {
            "language": 1,
            "solution": "h,m = raw_input().split(':')\n\ndef remove_zeroes(a):\n    ind = 0\n    for i in xrange(len(a)):\n        if a[i] != \"0\": break\n        ind += 1\n    return \"0\" if ind == len(a) else a[ind:]\n\ndef convert_to_int(a):\n    x = []\n    for c in a:\n        if ord(c) >= ord('A') and ord(c) <= ord('Z'):\n            x.append((ord(c) - ord('A')) + 10)\n        else:\n            x.append(int(c))\n    return x\n\ndef convert(base,a):\n    factors = convert_to_int(a)\n    ans = 0\n    p = 0\n    for f in reversed(factors):\n        ans += (f*(base**p))\n        p += 1\n    return ans\n\ndef solve(h,m):\n    h,m = map(remove_zeroes,[h,m])\n    if len(h) == 1 and len(m) == 1 and max(convert_to_int(h)) <= 24:\n        print \"-1\"\n        return\n    start = max(max(convert_to_int(h)),max(convert_to_int(m)))+1\n    ans = []\n    while True:\n        if (convert(start,h) > 23 or convert(start,m) > 59): break\n        ans.append(start)\n        start += 1\n    if len(ans) == 0:\n        print \"0\"\n    else:\n        print \" \".join(map(str,ans))\n    \n\nsolve(h,m)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <class TH>\nvoid _dbg(const char *sdbg, TH h) {\n  cerr << sdbg << \"=\" << h << \"\\n\";\n}\ntemplate <class TH, class... TA>\nvoid _dbg(const char *sdbg, TH h, TA... a) {\n  while (*sdbg != ',') cerr << *sdbg++;\n  cerr << \"=\" << h << \",\";\n  _dbg(sdbg + 1, a...);\n}\ntemplate <class T>\nostream &operator<<(ostream &os, vector<T> V) {\n  os << \"[\";\n  for (auto vv : V) os << vv << \",\";\n  return os << \"]\";\n}\ntemplate <class L, class R>\nostream &operator<<(ostream &os, pair<L, R> P) {\n  return os << \"(\" << P.first << \",\" << P.second << \")\";\n}\nint n, col[5005];\nint cnt[5005], ans[5005];\nint main() {\n  string line;\n  cin >> line;\n  string left, right;\n  bool wasDw = false;\n  for (int i = 0; i < line.size(); i++) {\n    if (line[i] == ':') wasDw = true;\n    if (wasDw)\n      right += line[i];\n    else\n      left += line[i];\n  }\n  map<char, int> dig;\n  for (char i = '0'; i <= '9'; i++) {\n    dig[i] = i - '0';\n  }\n  for (int i = 'A'; i <= 'Z'; i++) {\n    dig[i] = i - 'A' + 10;\n  }\n  vector<int> goodBases;\n  for (int base = 1; base <= 65; base++) {\n    int hour = 0;\n    bool bad = false;\n    for (char c : left) {\n      (c, dig[c]);\n      hour = base * hour + dig[c];\n      if (dig[c] >= base || hour >= 24) {\n        bad = true;\n      }\n    }\n    (hour);\n    int minute = 0;\n    for (char c : right) {\n      minute = base * minute + dig[c];\n      if (dig[c] >= base || minute >= 60) {\n        bad = true;\n      }\n    }\n    if (bad) continue;\n    goodBases.push_back(base);\n  }\n  if (!goodBases.empty() && goodBases.back() == 65) {\n    printf(\"-1\\n\");\n  } else {\n    if (goodBases.empty()) {\n      printf(\"0\\n\");\n      return 0;\n    }\n    for (auto c : goodBases) {\n      printf(\"%d \", c);\n    }\n    printf(\"\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string s, a, b, c;\n  cin >> s;\n  map<char, int> A;\n  int p = 0;\n  for (char i = '0'; i <= '9'; i++) {\n    A[i] = p;\n    p++;\n  }\n  for (char i = 'A'; i <= 'Z'; i++) {\n    A[i] = p;\n    p++;\n  }\n  a = s.substr(0, s.find(':'));\n  b = s.substr(s.find(':') + 1, s.length() - s.find(':'));\n  while (a.length() > 1 && a[0] == '0') a.erase(0, 1);\n  while (b.length() > 1 && b[0] == '0') b.erase(0, 1);\n  c = a + b;\n  char w = c[0];\n  for (int i = 1; i < c.length(); i++)\n    if (c[i] > w) w = c[i];\n  int pos = A[w] + 1;\n  int size = 0;\n  if (a.length() == 1 && b.length() == 1 && A[a[0]] < 24 && A[b[0]] < 60)\n    cout << -1;\n  else {\n    for (int i = pos; i <= 60; i++) {\n      int h = 0, m = 0;\n      for (int j = 0; j < a.length(); j++) {\n        h = h * i + A[a[j]];\n      }\n      for (int j = 0; j < b.length(); j++) {\n        m = m * i + A[b[j]];\n      }\n      if (h < 24 && m < 60) size++, cout << i << ' ';\n    }\n    if (!size) cout << 0;\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\n\npublic class clock {\n\t\n\tpublic static int change(char c){\n\t\tif(c <= 90 && c >= 65)\n\t\t\treturn c-55;\n\t\telse\n\t\t\treturn Character.getNumericValue(c);\n\t}\n\t\n\tpublic static int convert (String num , int base){\n\t\tint sum = 0;\n\t\tfor (int i = 0; i < num.length(); i++) {\n\t\t\tsum += Math.pow(base,i)*change(num.charAt(num.length()-1-i)) ;\n\t\t}\n\t\treturn sum;\n\t}\n\t\n\tpublic static String remove0 (String a){\n\t\tint length = a.length();\n\t\tfor (int i = 0; i < length-1 && a.charAt(0) == '0'; i++) {\n\t\t\ta = a.substring(1);\n\t\t}\n\t\treturn a;\n\t}\n\tpublic static void main(String[] args) throws IOException {\n\t\t\n\t\tBufferedReader br = new BufferedReader (new InputStreamReader (System.in));\n\t\tString [] ab = br.readLine().split(\":\");\n\t\t if(remove0(ab[0]).length() == 1 && remove0(ab[1]).length()==1 && change(remove0(ab[0]).charAt(0)) < 24 && change(remove0(ab[1]).charAt(0)) < 59){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\treturn;\t\n\t\t}\n\t\t\n\t\t char max = '0';\n\t\tfor (int i = 0; i < ab[0].length(); i++) {\n\t\t\tif(ab[0].charAt(i)>max)\n\t\t\t\tmax = ab[0].charAt(i);\n\t\t}\n\t\t\n\t\tfor (int i = 0; i < ab[1].length(); i++) {\n\t\t\tif(ab[1].charAt(i)>max)\n\t\t\t\tmax = ab[1].charAt(i);\n\t\t}\n\t\tString out = \"\";\n\t\tint min = change(max)+1;\n\t\tfor (int i = min; true; i++) {\n\t\t\tif(convert(ab[0],i) > 23)\n\t\t\t\tbreak;\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(convert(ab[1],i)>59)\n\t\t\t\t\tbreak;\n\t\t\t\telse \n\t\t\t\t\tout += i + \" \";\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tif(out.length() == 0)\n\t\t\tSystem.out.println(0);\n\t\telse{\n\t\tSystem.out.println(out.substring(0, out.length()-1));\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 101;\nchar s[N], a[N], b[N];\nmap<pair<long, long>, bool> f;\nvector<int> ans;\nlong long get(char s[], int base) {\n  long long res = 0;\n  for (int i = 0; s[i]; i++) {\n    int t;\n    if (s[i] >= '0' && s[i] <= '9')\n      t = s[i] - '0';\n    else\n      t = s[i] - 'A' + 10;\n    if (t >= base) return 61;\n    res = res * base + t;\n  }\n  return res;\n}\nint main() {\n  scanf(\"%s\", s);\n  for (int i = 0; s[i]; i++) {\n    if (s[i] == ':') break;\n    a[i] = s[i];\n  }\n  for (int i = 0, j = 0, p = 0; s[i]; i++) {\n    if (j) b[p++] = s[i];\n    if (s[i] == ':') j = 1;\n  }\n  for (int i = (2); i < (101); i++) {\n    long long x = get(a, i), y = get(b, i);\n    if (x < 24 && y < 60) {\n      if (f.count(make_pair(x, y))) return 0 * puts(\"-1\");\n      f[make_pair(x, y)] = 1;\n      ans.push_back(i);\n    }\n  }\n  for (int i = (0); i < ((int)ans.size()); i++) printf(\"%d \", ans[i]);\n  if ((int)ans.size() == 0) puts(\"0\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool check(int base, string s, int limit) {\n  int val, res = 0;\n  for (typeof(0) i = (0); i < (((int)(s).size())); ++i) {\n    if (s[i] >= 'A' && s[i] <= 'Z')\n      val = s[i] - 'A' + 10;\n    else\n      val = s[i] - '0';\n    res = res * base + val;\n  }\n  return res <= limit;\n}\nint main() {\n  string s, min, sec;\n  while (cin >> s) {\n    int x = s.find(':');\n    min = s.substr(0, x);\n    sec = s.substr(x + 1);\n    int i = 0;\n    while (min[i] == '0') ++i;\n    min = min.substr(i);\n    i = 0;\n    while (sec[i] == '0') ++i;\n    sec = sec.substr(i);\n    int base, ma = 0, val, ma2 = 0;\n    if (((int)(min).size()) <= 1 && ((int)(sec).size()) <= 1) {\n      bool ok = true;\n      for (typeof(0) i = (0); i < (((int)(min).size())); ++i)\n        if (min[i] - 'A' > 13) {\n          puts(\"0\");\n          ok = false;\n        }\n      if (ok) puts(\"-1\");\n      continue;\n    }\n    ma = *max_element((min).begin(), (min).end());\n    if (ma >= '0' && ma <= '9')\n      ma -= '0';\n    else if (ma >= 'A' && ma <= 'Z')\n      ma = ma - 'A' + 10;\n    ma2 = *max_element((sec).begin(), (sec).end());\n    if (ma2 >= '0' && ma2 <= '9')\n      ma2 -= '0';\n    else if (ma2 >= 'A' && ma2 <= 'Z')\n      ma2 = ma2 - 'A' + 10;\n    base = max(ma, ma2) + 1;\n    if (!check(base, min, 23) || !check(base, sec, 59)) {\n      puts(\"0\");\n      continue;\n    } else {\n      for (int b = base; b < 60; ++b) {\n        if (check(b, min, 23) && check(b, sec, 59))\n          printf(\"%d \", b);\n        else\n          break;\n      }\n      printf(\"\\n\");\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.*;\n\npublic class B106 {\n    \n    public static int parseInt(String a, int i){\n        if(i<36) return Integer.parseInt(a,i);\n        else{\n            int n = a.length()-1;\n            int s=0;\n            for(int j=0;j<a.length();j++){\n                int num =a.charAt(j)>='A'?(a.charAt(j)-'A'+10):(a.charAt(j)-'0'); \n                s+=num*Math.pow(i, n-j);\n            }\n            return s;\n        }\n    }\n        \n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String line = in.nextLine();\n        StringTokenizer st = new StringTokenizer(line,\":\");\n\n        String hour=st.nextToken();\n        String min=st.nextToken();\n        \n        ArrayList<Integer> a = new ArrayList<Integer>();\n        int i;\n        for(i=1;i<=61;i++){\n            try{\n                int H = parseInt(hour,i);\n                int M = parseInt(min,i);\n                if(H<24 && M<60) \n                    a.add(i);\n            }catch(Exception e) {continue;}\n            \n        }\n        \n        if(a.size()==0) System.out.println(\"0\");\n        else if(a.get(a.size()-1)==61) System.out.println(\"-1\");\n        else for(i=0;i<a.size();i++) System.out.print(a.get(i)+ ((i==a.size()-1)?\"\":\" \"));\n    }\n\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.*;\nimport java.io.*;\nimport java.math.BigInteger;\n\n\n\npublic class EQDIV {\n\n    \n    public static void main(String[] args) throws IOException {\n        Reader.init(System.in);\n        String num[] = Reader.next().split(\":\");\n        \n        // one digit\n        if(isOneDiget(num[0]) && isOneDiget(num[1])){\n            int x = convert(num[0], 60);\n            int y = convert(num[1], 60);\n            \n            if(check(x, y))\n                System.out.println(\"-1\");\n            else\n                System.out.println(\"0\");\n            \n            return;\n        }\n        \n        \n        int start = Math.max(min(num[0]), min(num[1]));\n        if(start >= 65)\n            start -= 54;\n        else\n            start -= '0'-1;\n        \n        StringBuilder ans = new StringBuilder();\n        \n        for(int i = start; ; i++){\n           int x = convert(num[0], i);\n           int y = convert(num[1], i);\n            \n            if(check(x, y))\n                ans.append(i).append(\" \");\n            else\n                break;\n        }\n        \n        if(ans.length() == 0)\n            System.out.println(0);\n        else\n         System.out.println(ans);\n    }\n    \n    \n    public static int convert(String num, int base){\n        int ans = 0;\n        \n        for(int i = num.length() - 1; i > -1; i--){\n            \n            char ch = num.charAt(i);\n            \n            if(ch >= 65)\n                ch -= 55;\n            else\n                ch -= '0';\n            \n            ans += Math.pow(base, (num.length()-1) - i) * ch;\n        }\n        \n        return ans;\n    }\n    public static int min(String a){\n        int max = 0;\n        \n        for(int i = 0; i < a.length(); i++)\n            if(a.charAt(i) > max)\n                max = a.charAt(i);\n        \n        return max;\n    }\n    \n    public static boolean check(int x, int y){\n        if(x >= 24) return false;\n        return y < 60;\n    }\n    \n    public static boolean isOneDiget(String a){\n        \n        for(int i = a.length() - 2; i > -1; i--)\n            if(a.charAt(i) != '0')\n                return false;\n        return true;\n    }\n}\n\n\nclass Reader {\n\n    static BufferedReader reader;\n    static StringTokenizer tokenizer;\n\n    /**\n     * call this method to initialize reader for InputStream\n     */\n    public static int pars(String x) {\n        int num = 0;\n        int i = 0;\n        if (x.charAt(0) == '-') {\n            i = 1;\n        }\n        for (; i < x.length(); i++) {\n            num = num * 10 + (x.charAt(i) - '0');\n        }\n\n        if (x.charAt(0) == '-') {\n            return -num;\n        }\n\n        return num;\n    }\n\n    static void init(InputStream input) {\n        reader = new BufferedReader(\n                new InputStreamReader(input));\n        tokenizer = new StringTokenizer(\"\");\n    }\n\n    /**\n     * get next word\n     */\n    static String next() throws IOException {\n        while (!tokenizer.hasMoreTokens()) {\n            //TODO add check for eof if necessary\n            tokenizer = new StringTokenizer(\n                    reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n\n    static int nextInt() throws IOException {\n        return pars(next());\n    }\n\n    static byte nextByte() throws IOException {\n\n        return Byte.parseByte(next());\n    }\n\n    static long nextLong() throws IOException {\n        return Long.parseLong(next());\n    }\n\n    static double nextDouble() throws IOException {\n        return Double.parseDouble(next());\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint sti(string x, int b) {\n  int r = 0;\n  int p = 1;\n  int d;\n  for (int i = 0; i < x.size(); i++) {\n    if (x[i] >= 'A' && x[i] <= 'Z')\n      d = x[i] - 'A' + 10;\n    else\n      d = x[i] - '0';\n    r += d * p;\n    p *= b;\n  }\n  return r;\n}\nint main() {\n  string s;\n  cin >> s;\n  int p = s.find(\":\");\n  string h = s.substr(0, p);\n  string m = s.substr(p + 1);\n  reverse(h.begin(), h.end());\n  reverse(m.begin(), m.end());\n  int bg = 1;\n  int d;\n  for (int i = 0; i < h.size(); i++) {\n    if (h[i] >= 'A' && h[i] <= 'Z')\n      d = h[i] - 'A' + 10;\n    else\n      d = h[i] - '0';\n    bg = max(d + 1, bg);\n  }\n  for (int i = 0; i < m.size(); i++) {\n    if (m[i] >= 'A' && m[i] <= 'Z')\n      d = m[i] - 'A' + 10;\n    else\n      d = m[i] - '0';\n    bg = max(d + 1, bg);\n  }\n  vector<int> anw;\n  for (int i = bg; i < 70; i++) {\n    int hh = sti(h, i);\n    int mm = sti(m, i);\n    if (hh <= 23 && mm <= 59) {\n      anw.push_back(i);\n      if (i > 60) {\n        cout << -1 << endl;\n        return 0;\n      }\n    }\n  }\n  if (anw.size() == 0)\n    cout << 0 << endl;\n  else {\n    for (int i = 0; i < anw.size(); i++) {\n      if (i != 0) cout << ' ';\n      cout << anw[i];\n    }\n    cout << endl;\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstruct Tnum {\n  int a[1000];\n  int l;\n};\nint getnum(char *te, Tnum &b) {\n  int l = strlen(te);\n  b.l = 0;\n  int minn = 0;\n  for (int i = l - 1; i >= 0; --i) {\n    if (isalpha(te[i]))\n      b.a[b.l++] = te[i] - 'A' + 10;\n    else\n      b.a[b.l++] = te[i] - '0';\n    if (b.a[b.l - 1] > minn) minn = b.a[b.l - 1];\n  }\n  while (b.l > 1 && b.a[b.l - 1] == 0) b.l--;\n  return minn;\n}\nint getvalue(const Tnum &a, int base) {\n  int summ = 0;\n  int pe = 1;\n  for (int i = 0; i < a.l; ++i) {\n    summ += a.a[i] * pe;\n    pe *= base;\n    if (summ > 60) return summ;\n  }\n  return summ;\n}\nchar temp[200];\nchar t1[200], t2[200];\nint l, r = 0;\nTnum nidong, nidong2;\nint main() {\n  scanf(\"%s\", temp);\n  int i;\n  for (i = 0; temp[i] != ':'; ++i) t1[i] = temp[i];\n  t1[i] = 0;\n  int ni = i;\n  for (i++; temp[i]; ++i) t2[i - ni - 1] = temp[i];\n  t2[i] = 0;\n  l = getnum(t1, nidong) + 1;\n  int te = getnum(t2, nidong2) + 1;\n  if (te > l) l = te;\n  if (nidong.l <= 1 && nidong2.l <= 1 && nidong.a[0] < 24 && nidong2.a[0] < 60)\n    puts(\"-1\");\n  else {\n    r = 0;\n    if (nidong.l > 1) {\n      for (int i = l;; ++i) {\n        if (getvalue(nidong, i) > 23) {\n          r = i - 1;\n          break;\n        }\n      }\n    }\n    if (nidong2.l > 1) {\n      for (int i = l;; ++i) {\n        if (getvalue(nidong2, i) > 59) {\n          if (i - 1 < r || r == 0) r = i - 1;\n          break;\n        }\n      }\n    }\n    if (r < l)\n      puts(\"0\");\n    else {\n      printf(\"%d\", l);\n      for (int i = l + 1; i <= r; ++i) printf(\" %d\", i);\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar str[20];\nchar a[20], b[20];\nint la, lb;\nvoid get(char *ss, int s, int t) {\n  int i;\n  for (i = s; i < t; i++)\n    if (str[i] != '0') break;\n  int k = 0;\n  for (; i < t; i++) ss[k++] = str[i];\n  if (k == 0) ss[k++] = '0';\n  ss[k] = '\\0';\n}\nint Pow(int a, int n) {\n  int ans = 1;\n  while (n) {\n    if (n & 1) ans = ans * a;\n    a = a * a;\n    n >>= 1;\n  }\n  return ans;\n}\nint Count(int bit, int len, char *s) {\n  int sum = 0;\n  for (int i = len - 1, k = 0; i >= 0; i--, k++) {\n    int num;\n    if (s[i] >= 'A' && s[i] <= 'Z')\n      num = s[i] - 'A' + 10;\n    else\n      num = s[i] - '0';\n    if (bit <= num) return 0x3f3f3f3f;\n    sum = sum + num * Pow(bit, k);\n  }\n  return sum;\n}\nint main() {\n  scanf(\"%s\", str);\n  int len = strlen(str);\n  int pos = -1;\n  for (int i = 0; i < len; i++) {\n    if (str[i] == ':') {\n      pos = i;\n      break;\n    }\n  }\n  get(a, 0, pos);\n  get(b, pos + 1, len);\n  la = strlen(a);\n  lb = strlen(b);\n  int cnt = 0;\n  if (((la == 1 || la == 2) && Count(100, la, a) <= 23) &&\n      ((lb == 1 || lb == 2) && Count(100, lb, b) <= 59))\n    printf(\"%d\\n\", (-1)), cnt = 1;\n  else {\n    for (int i = 2;; i++) {\n      int c1 = Count(i, la, a);\n      int c2 = Count(i, lb, b);\n      if (c1 == 0x3f3f3f3f || c2 == 0x3f3f3f3f)\n        continue;\n      else if (c1 > 23 || c2 > 59)\n        break;\n      else if (c1 <= 23 && c2 <= 59) {\n        if (cnt) printf(\" \");\n        printf(\"%d\", i);\n        cnt++;\n      }\n    }\n  }\n  if (cnt == 0) printf(\"%d\\n\", (0));\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\n/**\n *\n * @author koponk\n */\npublic class Cf106 {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String data[] = in.next().split(\":\");\n        ArrayList<Integer> hasil = new ArrayList<Integer>();\n        int max = 63;\n        for (int a = 1; a < max; a++) {\n            int dep = basis(data[0], a);\n            int bel = basis(data[1], a);\n            if (dep != -1 && bel != -1 && dep >= 0 && dep <= 23 && bel >= 0 && bel <= 59) {\n                hasil.add(a);\n            }\n        }\n        int dep = basis(data[0], max);\n        int bel = basis(data[1], max);\n        if (dep != -1 && bel != -1 && dep >= 0 && dep <= 23 && bel >= 0 && bel <= 59) {\n            System.out.println(\"-1\");\n        } else {\n            if (hasil.size() >= 1) {\n                for (int a = 0; a < hasil.size() - 1; a++) {\n                    System.out.print(hasil.get(a) + \" \");\n                }\n                System.out.print(hasil.get(hasil.size() - 1));\n            } else {\n                System.out.println(\"0\");\n            }\n        }\n        //}\n    }\n\n    public static int basis(String data, int bas) {\n        int hasil = 0;\n        int pang = 0;\n        int datax[] = new int[data.length()];\n        for (int a = 0; a < datax.length; a++) {\n            if (data.charAt(a) >= '0' && data.charAt(a) <= '9') {\n                datax[a] = Integer.parseInt(\"\" + data.charAt(a));\n            } else {\n                datax[a] = (int) data.charAt(a) - 55;\n            }\n        }\n        for (int a = data.length() - 1; a > -1; a--) {\n            if (datax[a] >= bas) {\n                hasil = -1;\n                a = -1;\n            } else {\n                hasil += datax[a] * Math.pow(bas, pang);\n                pang++;\n            }\n        }\n        return hasil;\n    }\n}\n"
        },
        {
            "language": 1,
            "solution": "import re\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c)- ord('A') + 10)\n\ndef convert(n, system):\n      ans, pow = 0, 1\n      for i in range(1, len(n) + 1):\n            if get(n[-i]) >= system: return 100500\n            ans, pow = ans + get(n[-i]) * pow, pow * system\n      return ans\n\ndef good(s, system):\n      return convert(s[0], system) < 24 and convert(s[1], system) < 60\n\ns = map(lambda x: max('0', re.sub('^0*', '', x)), raw_input().split(':'))\nany = False\nif good(s, 60): print '-1'\nelse:\n      for i in range(2, 60):\n            if good(s, i):\n                  any = True\n                  print i,\n      if not any: print '0'\n"
        },
        {
            "language": 1,
            "solution": "h, m = raw_input().split(':')\nans = []\n\ndef check(ra, h, m):\n    _h, _m = 0, 0\n    for ch in h:\n        if int(ch, 36) >= ra: return False\n        _h = _h * ra + int(ch, 36)\n    if _h >= 24: return False\n    for ch in m:\n        if int(ch, 36) >= ra: return False\n        _m = _m * ra + int(ch, 36)\n    if _m >= 60: return False\n    return True\n    \nfor i in xrange(100):\n    if check(i, h, m): ans.append(i)\nif len(ans) == 0: print 0\nelif ans[-1] == 99: print -1\nelse: print ' '.join(map(str, ans))"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport java.math.*;\n\npublic class CF {\n\tprivate BufferedReader in;\n\tprivate PrintWriter out;\n\tprivate StringTokenizer st;\n\tprivate Random rnd;\n\t\n\tfinal int inf = 1000000000;\n\t\n\tprivate boolean is_good(String s) {\n\t\tfor(int i = 0;i < s.length() - 1;i++) {\n\t\t\tif(s.charAt(i) != '0') return false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tprivate int test(String s, int base) {\n\t\tint p = 1, res = 0, cur;\n\t\tfor(int i = s.length() - 1;i >= 0;i--) {\n\t\t\tif(Character.isDigit(s.charAt(i))) {\n\t\t\t\tcur = (int)s.charAt(i) - (int)'0';\n\t\t\t} else {\n\t\t\t\tcur = (int)s.charAt(i) - (int)'A' + 10;\n\t\t\t}\n\t\t\tif(cur >= base) return inf;\n\t\t\tres += p * cur;\n\t\t\tp *= base;\n\t\t}\n\t\treturn res;\n\t}\n\t\n\tprivate void solve() throws IOException {\n\t\tString[] s = nextToken().split(\":\");\n\t\tArrayList<Integer> ans = new ArrayList<Integer>();\n\t\tif(is_good(s[0]) && s[0].charAt(s[0].length() - 1) < 'O' && is_good(s[1])) {\n\t\t\tout.println(\"-1\");\n\t\t\treturn;\n\t\t}\n\t\tint base = 2, a1, a2;\n\t\twhile(base < 60) {\n\t\t\ta1 = test(s[0], base);\n\t\t\ta2 = test(s[1], base);\n\t\t\tif(a1 > 23 || a2 > 59) {\n\t\t\t\tbase++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tans.add(base);\n\t\t\tbase++;\n\t\t}\n\t\t\n\t\tif(ans.size() == 0) out.println(\"0\");\n\t\telse {\n\t\t\tCollections.sort(ans);\n\t\t\tfor(int i = 0;i < ans.size();i++) {\n\t\t\t\tout.println(ans.get(i));\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\tpublic static void main(String[] args) throws IOException {\n\t\tnew CF().run();\n\t}\n\t\n\tpublic void run() throws IOException {\n\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\tout = new PrintWriter(System.out);\n\t\tst = null;\n\t\trnd = new Random();\n\t\tsolve();\n\t\tout.close();\n\t}\n\t\n\tprivate String nextToken() throws IOException {\n\t\twhile(st == null || !st.hasMoreTokens()) {\n\t\t\tst = new StringTokenizer(in.readLine());\n\t\t}\n\t\treturn st.nextToken();\n\t}\n\t\n\tprivate int nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\t\n\tprivate double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\t\n\tprivate long nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class B {\n\t\n\tString hrs, mins;\n\t\n\tboolean isValid(int base){\n\t\tint h=0, m=0;\n\t\tint b=1;\n\t\tfor(int i=hrs.length()-1; i>=0; i--){\n\t\t\th += val(hrs.charAt(i)) * b;\n\t\t\tb*=base;\n\t\t}\n\t\t\n\t\tb=1;\n\t\tfor(int i=mins.length()-1; i>=0; i--){\n\t\t\tm += val(mins.charAt(i))*b;\n\t\t\tb*=base;\n\t\t}\n\t\t\n\t\treturn h<24 && m<60;\n\t}\n\t\n\tint val(char ch){\n\t\tif(ch >= '0' && ch<='9') return ch-'0';\n\t\treturn ch-'A'+10;\n\t}\n\t\n\tvoid run() throws IOException{\n\t\tScanner sc = new Scanner(new InputStreamReader(System.in));\n\t\tString[] toks = sc.next().split(\":\");\n\t\thrs = toks[0].trim();\n\t\tmins = toks[1].trim();\n\t\t\n\t\tint start = 1;\n\t\tfor(int i=0; i<hrs.length(); i++){\n\t\t\tint val = val(hrs.charAt(i));\n\t\t\tstart = Math.max(start, val);\n\t\t}\n\t\t\n\t\tfor(int i=0; i<mins.length(); i++){\n\t\t\tint val = val(mins.charAt(i));\n\t\t\tstart = Math.max(start, val);\n\t\t}\n\t\t\n\t\tstart+=1;\n\t\t\n\t\tboolean inf=true;\n\t\tfor(int i=hrs.length()-2; inf && i>=0; i--){\n\t\t\tif(val(hrs.charAt(i)) > 0) inf = false;\n\t\t}\n\t\t\n\t\tfor(int i=mins.length()-2; inf && i>=0; i--){\n\t\t\tif(val(mins.charAt(i)) > 0) inf = false;\n\t\t}\n\t\t\n\t\tif(inf){\n\t\t\tif(val(hrs.charAt(hrs.length()-1))> 23) System.out.println(0);\n\t\t\telse System.out.println(\"-1\");\n\t\t\t\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tint base = 59;\n\t\twhile(base >= start){\n\t\t\tif(isValid(base)) break;\n\t\t\tbase--;\n\t\t}\n\t\t\n\t\tif(base < start) System.out.println(\"0\");\n\t\telse{\n\t\t\tSystem.out.print(start);\n\t\t\tfor(int i=start+1; i<=base; i++) System.out.print(\" \" + i);\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) throws IOException {\n\t\tnew B().run();\n\t}\n}\n"
        },
        {
            "language": 1,
            "solution": "def conv(s,b):\n\tx=0\n\tfor c in s:\n\t\tv=0\n\t\tif c.isdigit():\n\t\t\tv=ord(c)-ord(\"0\")\n\t\telse:\n\t\t\tv=ord(c)-ord(\"A\")+10;\n\t\tif v>=b:\n\t\t\treturn -1;\n\t\tx=x*b+v;\n\treturn x;\ns1,s2=raw_input().split(\":\")\nc1=conv(s1,500)\nc2=conv(s2,500)\nif c1>=0 and c1 <= 23 and c2>=0 and c2<=59:\n\tprint -1\n\texit(0);\nl=[]\nfor i in xrange(2,1000):\n\tc1=conv(s1,i)\n\tc2=conv(s2,i)\n\tif c1>=0 and c1 <= 23 and c2>=0 and c2<=59:\n\t\tl.append(i);\nif len(l)==0:\n\tprint 0\nelse:\n\tfor i in l:\n\t\tprint i,\n\tprint\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long int SOD(long long int n) {\n  long long int sum = 0;\n  while (n > 0) {\n    sum = sum + n % 10;\n    n /= 10;\n  }\n  return sum;\n}\nlong long int gcd(long long int a, long long int b) {\n  if (b == 0) return a;\n  return gcd(b, a % b);\n}\nlong long int lcm(long long int a, long long int b) {\n  return (a * b) / gcd(a, b);\n}\nlong long int pow(long long int a, long long int b) {\n  long long int res = 1;\n  while (b > 0) {\n    if (b % 2 == 1) res *= a;\n    a *= a;\n    b /= 2;\n  }\n  return res;\n}\nlong long int powmod(long long int x, long long int y, long long int p) {\n  long long int res = 1;\n  x = x % p;\n  if (x == 0) return 0;\n  while (y > 0) {\n    if (y % 2 == 1) res = (res * x) % p;\n    y /= 2;\n    x = (x * x) % p;\n  }\n  return res;\n}\nstring dectobin(long long int x) {\n  string s = \"\";\n  while (x > 0) {\n    long long int t = x % 2;\n    s.push_back(t + '0');\n    x /= 2;\n  }\n  reverse(s.begin(), s.end());\n  return s;\n}\nlong long int bintodec(string s) {\n  long long int ans = 0;\n  long long int n = s.size();\n  for (long long int i = n - 1; i >= 0; i--) {\n    if (s[i] == '1') ans += pow(2, n - i - 1);\n  }\n  return ans;\n}\nlong long int solve(string a, long long int base) {\n  long long int ans = 0;\n  long long int n = a.size();\n  for (long long int i = n - 1; i >= 0; i--) {\n    long long int x;\n    char y = a[i];\n    if (y - '0' <= 9)\n      x = y - '0';\n    else\n      x = y - 'A' + 10;\n    ans += (x * pow(base, n - i - 1));\n  }\n  return ans;\n}\nsigned main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  string s;\n  cin >> s;\n  string a, b;\n  long long int i = 0;\n  while (s[i] != ':') {\n    a.push_back(s[i]);\n    i++;\n  }\n  b = s.substr(i + 1);\n  bool flag = 1;\n  if (a.size() > 1) {\n    for (long long int i = 0; i <= a.size() - 1 - 1; i++) {\n      if (a[i] != '0') flag = 0;\n    }\n  }\n  if (flag) {\n    if (b.size() > 1) {\n      for (long long int i = 0; i <= b.size() - 1 - 1; i++) {\n        if (b[i] != '0') flag = 0;\n      }\n    }\n    if (flag) {\n      if ((long long int)a[a.size() - 1] <= 78) {\n        cout << -1 << \"\\n\";\n        return 0;\n      }\n    }\n  }\n  char maxi = '0';\n  for (long long int j = 0; j <= a.size() - 1; j++) {\n    maxi = max(maxi, a[j]);\n  }\n  for (long long int j = 0; j <= b.size() - 1; j++) {\n    maxi = max(maxi, b[j]);\n  }\n  long long int base;\n  if (maxi == '9')\n    base = 10;\n  else if ((long long int)maxi >= 65)\n    base = maxi - 'A' + 11;\n  else\n    base = maxi - '0' + 1;\n  vector<long long int> ans;\n  long long int hr = solve(a, base);\n  long long int min = solve(b, base);\n  while (0 <= hr and hr < 24 and 0 <= min and min < 60) {\n    ans.push_back(base);\n    base++;\n    hr = solve(a, base);\n    min = solve(b, base);\n  }\n  if (ans.size() == 0)\n    cout << 0;\n  else {\n    for (auto i : ans) cout << i << \" \";\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "import re\nimport itertools\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c) - ord('A') + 10)\n\ndef con(n, s):\n      if n is '': return 0\n      if get(n[-1]) >= s: return 100\n      return get(n[-1]) + con(n[:-1], s) * s\n\ndef good(m, s):\n      return con(m[0], s) < 24 and con(m[1], s) < 60\n\ns = map(lambda x: max('0', re.sub('^0*', '', x)), raw_input().split(':'))\nans = filter(lambda x: good(s, x), range(100))\nif len(ans) == 0: print '0'\nelif len(ans) > 60: print '-1'\nelse: print ' '.join(str(x) for x in ans)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> ans;\nmap<char, int> m;\nint con(string s, int x) {\n  reverse(s.begin(), s.end());\n  int p = 1;\n  for (int i = 0; i < s.length(); i++)\n    if (m[s[i]] >= x) return 100;\n  int y;\n  int ans = 0;\n  for (int i = 0; i < s.length(); i++) {\n    if (ans >= 60) return 100;\n    ans += m[s[i]] * p;\n    p *= x;\n  }\n  return ans;\n}\nint main() {\n  string s;\n  cin >> s;\n  for (int i = 0; i < 10; i++) m[char(i + '0')] = i;\n  for (int i = 'A'; i <= 'Z'; i++) m[char(i)] = i - 'A' + 10;\n  string a, b;\n  bool dn = false;\n  for (int i = 0; i < s.length(); i++) {\n    if (s[i] == ':') {\n      dn = true;\n      continue;\n    }\n    if (dn == false)\n      a += s[i];\n    else\n      b += s[i];\n  }\n  for (int i = 2; i <= 100; i++) {\n    if (con(a, i) < 24 && con(b, i) < 60) ans.push_back(i);\n  }\n  if (ans.size() == 0)\n    cout << 0 << endl;\n  else if (ans[ans.size() - 1] == 100)\n    cout << -1 << endl;\n  else\n    for (int i = 0; i < ans.size(); i++) cout << ans[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class B {\n    public static long getInBase(String numb,int base){\n        long res=0;\n        long pow=1L;\n        for(int i=numb.length()-1;i>=0;i--){\n            if(Character.isDigit(numb.charAt(i))){\n                long n=numb.charAt(i)-'0';\n                if(n>=base){\n                    return 10000;\n                }\n                res+=pow*n;\n            }else {\n                long n=numb.charAt(i)-'A'+10;\n                if(n>=base){\n                    return 10000;\n                }\n                res+=pow*n;\n            }\n            pow*=base;\n        }\n        return res;\n    }\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String time=sc.next();\n        String[] split=time.split(\":\");\n        ArrayList<Integer> list=new ArrayList<Integer>();\n        boolean fir=false;\n        for(int i=2;i<=60;i++){\n                long hour=getInBase(split[0],i);\n                long minute=getInBase(split[1],i);\n                if(hour<=23&&minute<=59){\n                    fir=true;\n                    list.add(i);\n                }else {\n                    if(fir)\n                    break;\n                }\n            \n        }\n        if(!list.isEmpty()&&list.get(list.size()-1)==60){\n            System.out.println(-1);\n        }else {\n            if(list.size()==0){\n                System.out.println(0);\n            }else {\n                for(Integer e:list){\n                    System.out.print(e+\" \");\n                }\n            }\n        }\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int flag1 = 0, flag2 = 0, j = 0, k = 0, ma = 0, end = 0;\n  int a[5], b[5], i;\n  vector<int> ans;\n  string s;\n  cin >> s;\n  int lenth = s.size();\n  for (i = 0; s[i] != ':'; i++) {\n    if (flag1 == 0) {\n      if (s[i] != '0') {\n        flag1 = 1;\n        if (s[i] <= '9' && s[i] >= '0')\n          a[j++] = s[i] - '0';\n        else\n          a[j++] = s[i] - 'A' + 10;\n        if (a[j - 1] != 0) ma = max(a[j - 1], ma);\n      }\n    } else {\n      if (s[i] <= '9' && s[i] >= '0')\n        a[j++] = s[i] - '0';\n      else\n        a[j++] = s[i] - 'A' + 10;\n      if (a[j - 1] != 0) ma = max(a[j - 1], ma);\n    }\n  }\n  i++;\n  for (; i < lenth; i++) {\n    if (flag2 == 0) {\n      if (s[i] != '0') {\n        flag2 = 1;\n        if (s[i] <= '9' && s[i] >= '0')\n          b[k++] = s[i] - '0';\n        else\n          b[k++] = s[i] - 'A' + 10;\n        if (b[k - 1] != 0) ma = max(b[k - 1], ma);\n      }\n    } else {\n      if (s[i] <= '9' && s[i] >= '0')\n        b[k++] = s[i] - '0';\n      else\n        b[k++] = s[i] - 'A' + 10;\n      if (b[k - 1] != 0) ma = max(b[k - 1], ma);\n    }\n  }\n  if (j <= 1 && k <= 1) {\n    if (a[0] <= 23 || j == 0) {\n      cout << \"-1\" << endl;\n      return 0;\n    }\n  }\n  for (i = ma + 1;; i++) {\n    double temp = 0;\n    for (int l = 0; l < j; l++) {\n      temp += a[l] * pow((double)i, j - l - 1);\n    }\n    if (temp > 23) break;\n    temp = 0;\n    for (int l = 0; l < k; l++) {\n      temp += b[l] * pow((double)i, k - l - 1);\n    }\n    if (temp > 59) break;\n    end = i;\n  }\n  if (end == 0)\n    cout << \"0\" << endl;\n  else {\n    for (i = ma + 1; i <= end; i++) cout << i << \" \";\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class Task149B {\n\n  static boolean check(int n, String s, int cap) {\n    int sum = 0;\n    for (int i = 0; i < s.length(); ++i) {\n      char c = s.charAt(i);\n      int x;\n      if (c >= 'A' && c <= 'Z') {\n        x = c - 'A' + 10;\n      } else {\n        x = c - '0';\n      }\n      if (x >= n) return false;\n      sum = sum * n + x;\n      if (sum >= cap) return false;\n    }\n    return true;\n  }\n\n  public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    String[] a = in.next().split(\":\");\n    if (check(60, a[0], 24) && check(60, a[1], 60)) {\n      System.out.println(\"-1\");\n      System.exit(0);\n    }\n    List<Integer> ret = new ArrayList<Integer>();\n    for (int i = 2; i < 60; ++i) {\n      if (check(i, a[0], 24) && check(i, a[1], 60)) {\n        ret.add(i);\n      }\n    }\n    if (ret.size() == 0) {\n      System.out.println(0);\n    } else {\n      System.out.print(ret.get(0));\n      for (int i = 1; i < ret.size(); ++i) {\n        System.out.printf(\" %d\", ret.get(i));\n      }\n      System.out.println();\n    }\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint xx[] = {1, 1, 1, 0, -1, -1, -1, 0};\nint yy[] = {-1, 0, 1, 1, 1, 0, -1, -1};\nlong long int gcd(long long int a, long long int b) {\n  return ((a % b == 0) ? b : gcd(b, a % b));\n}\nint cal(int mal, int times) {\n  int h = 1, i;\n  for (i = 0; i < times; i++) h = h * mal;\n  return h;\n}\nint main() {\n  int i, j, len, tmp;\n  map<char, int> my;\n  vector<int> res;\n  for (i = 0; i < 10; i++) {\n    my[(char)(i + 48)] = i;\n  }\n  for (i = 0; i < 26; i++) {\n    my[(char)(i + 65)] = i + 10;\n  }\n  bool f = true;\n  string str, s1, s2;\n  cin >> str;\n  len = str.size();\n  for (i = 0; i < len; i++) {\n    if (str[i] == ':') {\n      f = false;\n      continue;\n    }\n    if (f)\n      s1 += str[i];\n    else\n      s2 += str[i];\n  }\n  len = s1.size();\n  for (i = 0; i < len; i++) {\n    if (s1[i] == '0') {\n      s1.erase(s1.begin());\n      i--;\n    } else\n      break;\n  }\n  len = s2.size();\n  for (i = 0; i < len; i++) {\n    if (s2[i] == '0') {\n      s2.erase(s2.begin());\n      i--;\n    } else\n      break;\n  }\n  tmp = 0;\n  reverse(s1.begin(), s1.end());\n  reverse(s2.begin(), s2.end());\n  for (i = 0; i < s1.size(); i++) {\n    tmp = max(my[s1[i]], tmp);\n  }\n  for (i = 0; i < s2.size(); i++) {\n    tmp = max(my[s2[i]], tmp);\n  }\n  int m, n, l1, l2;\n  l1 = s1.size();\n  l2 = s2.size();\n  for (i = tmp + 1; i <= 70; i++) {\n    m = n = 0;\n    for (j = 0; j < l1; j++) {\n      m += (cal(i, j) * my[s1[j]]);\n    }\n    for (j = 0; j < l2; j++) {\n      n += (cal(i, j) * my[s2[j]]);\n    }\n    if (m < 24 && n < 60) {\n      res.push_back(i);\n    }\n  }\n  if (res.size() == 0) {\n    printf(\"0\\n\");\n    return 0;\n  }\n  if (res[res.size() - 1] == 70) {\n    printf(\"-1\\n\");\n    return 0;\n  }\n  l1 = res.size();\n  for (i = 0; i < l1; i++) {\n    cout << res[i] << \" \";\n  }\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\npublic class P149B\n{\n\tprivate static int maxradix(char[] hour, char[] minute)\n\t{\n\t\tint radix = 2;\n\t\tfor (char c : hour)\n\t\t{\n\t\t\tif (c >= 'A')\n\t\t\t{\n\t\t\t\tradix = Math.max(radix, 11 + c - 'A');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tradix = Math.max(radix, 1 + c - '0');\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor (char c : minute)\n\t\t{\n\t\t\tif (c >= 'A')\n\t\t\t{\n\t\t\t\tradix = Math.max(radix, 11 + c - 'A');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tradix = Math.max(radix, 1 + c - '0');\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn radix;\n\t}\n\t\n\tprivate static long value(char[] num, long radix)\n\t{\n\t\tlong digit = 1;\n\t\tlong counter = 0;\n\t\t\n\t\tfor (int i = num.length - 1; i > -1; i--)\n\t\t{\n\t\t\tif (num[i] >= 'A')\n\t\t\t{\n\t\t\t\tcounter += (10 + num[i] - 'A') * digit;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcounter += (num[i] - '0') * digit;\n\t\t\t}\n\t\t\tdigit *= radix;\n\t\t}\n\t\treturn counter;\n\t}\n\t\n\t\n\tpublic static void main(String args[])\n\t{\n\t\tScanner myScanner = new Scanner(System.in);\n\t\tString line[] = myScanner.nextLine().split(\":\");\n\t\tchar[] hour = line[0].toCharArray();\n\t\tchar[] minute = line[1].toCharArray();\n\t\tint start = maxradix(hour, minute);\n\t\tlong max = start;\n\t\t\n\t\tfor (int i = start; i < 61; i++)\n\t\t{\n\t\t\tif (value(hour, i) < 24 && value(minute, i) < 60) max = i;\n\t\t\telse\n\t\t\t{\n\t\t\t\tmax = i - 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (max == 60)\n\t\t{\n\t\t\tif (value(hour, 61) < 24 && value(minute, 61) < 60)\n\t\t\t{\n\t\t\t\tmax = 61;\n\t\t\t}\n\t\t}\n\t\n\t\tif (max < start) System.out.println(0);\n\t\telse if (max == 61) System.out.println(-1);\n\t\telse\n\t\t{\n\t\t\tSystem.out.print(start);\n\t\t\tfor (int i = start + 1; i <= max; i++)\n\t\t\t{\n\t\t\t\tSystem.out.print(\" \" + i);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar s[50], c[10], *pch;\nlong long a[500], hlen, mlen, h[500], m[500];\nint mo, ho;\nint ldig(char *x) {\n  int i;\n  int mx = 0;\n  for (i = 0; x[i]; i++) {\n    if (isdigit(x[i])) {\n      if (x[i] - '0' > mx) mx = x[i] - '0';\n    } else if (isalpha(x[i])) {\n      if ((x[i] - 'A') + 10 > mx) mx = (x[i] - 'A') + 10;\n    }\n  }\n  return mx;\n}\nint hour(int n) {\n  int i;\n  long long tot = 0, po = 1;\n  for (i = hlen - 1; i >= 0; i--) {\n    if (isdigit(c[i])) {\n      tot += (c[i] - '0') * po;\n    } else if (isalpha(c[i])) {\n      tot += ((c[i] - 'A') + 10) * po;\n    }\n    po *= n;\n  }\n  if (tot < 24) {\n    h[ho++] = tot;\n    return 1;\n  } else\n    return 0;\n}\nint minute(int n) {\n  int i;\n  long long tot = 0, po = 1;\n  for (i = mlen - 1; i >= 0; i--) {\n    if (isdigit(pch[i])) {\n      tot += (pch[i] - '0') * po;\n    } else if (isalpha(pch[i])) {\n      tot += ((pch[i] - 'A') + 10) * po;\n    }\n    po *= n;\n  }\n  if (tot < 60) {\n    m[mo++] = tot;\n    return 1;\n  } else\n    return 0;\n}\nint main() {\n  int i, n, fou = 0;\n  scanf(\"%s\", &s);\n  pch = strtok(s, \":\");\n  strcpy(c, pch);\n  pch = strtok(NULL, \":\");\n  n = ldig(c);\n  fou = ldig(pch);\n  hlen = strlen(c);\n  mlen = strlen(pch);\n  if (fou > n) n = fou;\n  n++;\n  i = 0;\n  mo = 0;\n  ho = 0;\n  for (; n < 60; n++) {\n    if (hour(n) && minute(n))\n      a[i++] = n;\n    else\n      break;\n  }\n  if (n == 60) {\n    n = ho;\n    for (i = 0; i < n - 1; i++) {\n      if (h[i] != h[i + 1]) break;\n      if (m[i] != m[i + 1]) break;\n    }\n    if (i == n - 1)\n      puts(\"-1\");\n    else {\n      i = 0;\n      while (i < n) {\n        if (i) printf(\" \");\n        printf(\"%d\", a[i]);\n        i++;\n      }\n    }\n  } else if (i == 0)\n    puts(\"0\");\n  else {\n    n = i;\n    for (i = 0; i < n; i++) {\n      if (i) printf(\" \");\n      printf(\"%d\", a[i]);\n    }\n    puts(\"\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring s;\nint B, b[300], p[200], n, k, i, h, hs, a[1000100], l, sum, sumh, m, mx;\nint main() {\n  cin >> s;\n  k = s.find(':');\n  mx = 0;\n  for (i = 0; i < k; i++) {\n    if (isdigit(s[i]))\n      a[i] = s[i] - '0';\n    else\n      a[i] = 10 + s[i] - 'A';\n    if (a[i] > mx) mx = a[i];\n  }\n  for (i = k + 1; i < s.size(); i++) {\n    if (isdigit(s[i]))\n      b[i] = s[i] - '0';\n    else\n      b[i] = 10 + s[i] - 'A';\n    if (b[i] > mx) mx = b[i];\n  }\n  for (B = mx + 1; B < 62; B++) {\n    m = 1;\n    sumh = 0;\n    for (i = k - 1; i >= 0; i--) {\n      sumh += a[i] * m;\n      m *= B;\n    }\n    m = 1;\n    sum = 0;\n    for (i = s.size() - 1; i > k; i--) {\n      sum += b[i] * m;\n      m *= B;\n    }\n    if (sumh < 24 && sum < 60) {\n      p[l] = B;\n      l++;\n    }\n  }\n  if (l == 0)\n    cout << 0 << endl;\n  else if (p[l - 1] == 61)\n    cout << -1 << endl;\n  else {\n    for (i = 0; i < l; i++) cout << p[i] << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport java.math.*;\nimport static java.lang.Math.*;\nimport static java.lang.Integer.parseInt;\nimport static java.lang.Long.parseLong;\nimport static java.lang.Double.parseDouble;\nimport static java.lang.String.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n                                            //(new FileReader(\"input.in\"));\n        StringBuilder out = new StringBuilder();\n        StringTokenizer tk;\n        Reader.init(System.in);\n        //PrintWriter pw = new PrintWriter(\"output.out\", \"UTF-8\");\n     \n        tk = new StringTokenizer(in.readLine().replace(\":\", \" \"));\n        String a = tk.nextToken();\n        String b = tk.nextToken();\n        \n        int A,B;\n        \n        List<Integer> ans = new ArrayList<Integer>();\n        \n        for(int i=2; i<=65; i++) {\n            A = toDecimal(a,i);\n                \n            B = toDecimal(b,i);\n                \n            if(A>=0 && A<=23 && B>=0 && B<=59)\n               ans.add(i);\n            \n        }        \n        \n        \n        A = toDecimal(a,100);\n        B = toDecimal(b,100);\n        \n        if(ans.isEmpty()) System.out.println(0);\n        else if(A>=0 && A<=23 && B>=0 && B<=59) System.out.println(-1);\n        else {\n            out.append(ans.get(0));\n            for(int i=1; i<ans.size(); i++)\n                out.append(\" \").append(ans.get(i));\n            System.out.println(out);\n        }\n    }\n    \n    static int toDecimal(String s,int b) {\n        int ans = 0;\n        \n        for(int i=0,j=s.length()-1; i<s.length(); i++,j--) {\n            char c = s.charAt(i);\n            int x = (c>='0' && c<='9' ? c-'0' : c-'A'+10);\n            if(x>=b) return -1;\n            ans += (c>='0' && c<='9' ? c-'0' : c-'A'+10)*(int)pow(b,j);\n        }\n        \n        return ans;\n    }\n    \n    static class pair {\n        int x,y;\n        \n        public pair(int x,int y) {\n            this.x = x;\n            this.y = y;\n        }\n    }\n      \n}\n\nclass Tools {\n    \n    public static boolean[] seive(int n) {\n        boolean [] isPrime = new boolean[n+1];\n        Arrays.fill(isPrime, true);\n        \n        for(int i=2; i*i<=n; i++)\n            if(isPrime[i])\n                for(int j=i; i*j<=n; j++)\n                    isPrime[i*j] = false;\n        \n        isPrime[1] = false;\n        \n        return isPrime;\n    }\n    \n    public static boolean next_permutation(int[] p, int len) {\n        int a = len - 2;\n        while (a >= 0 && p[a] >= p[a + 1]) {\n            a--;\n        }\n\n        if (a == -1) {\n            return false;\n        }\n\n        int b = len - 1;\n        while (p[b] <= p[a]) {\n            b--;\n        }\n\n        p[a] += p[b];\n        p[b] = p[a] - p[b];\n        p[a] -= p[b];\n\n        for (int i = a + 1, j = len - 1; i < j; i++, j--) {\n            p[i] += p[j];\n            p[j] = p[i] - p[j];\n            p[i] -= p[j];\n        }\n\n        return true;\n    }\n    \n    public static int lower_bound(Comparable[] arr, Comparable key) {\n        int len = arr.length;\n        int lo = 0;\n        int hi = len-1;\n        int mid = (lo + hi)/2;\n        while (true) {\n            int cmp = arr[mid].compareTo(key);\n            if (cmp == 0 || cmp > 0) {\n                hi = mid-1;\n                if (hi < lo)\n                    return mid;\n            } else {\n                lo = mid+1;\n                if (hi < lo)\n                    return mid<len-1?mid+1:-1;\n            }\n            mid = (lo + hi)/2;\n        }\n    }\n\n    public static int upper_bound(Comparable[] arr, Comparable key) {\n        int len = arr.length;\n        int lo = 0;\n        int hi = len-1;\n        int mid = (lo + hi)/2;\n        while (true) {\n            int cmp = arr[mid].compareTo(key);\n            if (cmp == 0 || cmp < 0) {\n                lo = mid+1;\n                if (hi < lo)\n                    return mid<len-1?mid+1:-1;\n            } else {\n                hi = mid-1;\n                if (hi < lo)\n                    return mid;\n            }\n            mid = (lo + hi)/2;\n        }\n    }\n\n}\n\nclass Reader {\n\n    static BufferedReader reader;\n    static StringTokenizer tokenizer;\n\n    static void init(InputStream input) throws UnsupportedEncodingException {\n        reader = new BufferedReader(\n                new InputStreamReader(input, \"UTF-8\"));\n        tokenizer = new StringTokenizer(\"\");\n    }\n\n    static String next() throws IOException {\n        while (!tokenizer.hasMoreTokens()) {\n            //TODO add check for eof if necessary\n            tokenizer = new StringTokenizer(\n                    reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n\n    static String nextLine() throws IOException {\n        return reader.readLine();\n    }\n\n    static int nextInt() throws IOException {\n        return Integer.parseInt(next());\n    }\n\n    static double nextDouble() throws IOException {\n        return Double.parseDouble(next());\n    }\n\n    static long nextLong() throws IOException {\n        return Long.parseLong(next());\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar t[10000];\nint l;\nbool isOk(int n) {\n  int s = 0, m = 0, q = 0;\n  for (int i = 0; i < l; i++) {\n    if (t[i] == 50) {\n      q = 1;\n      continue;\n    }\n    if (t[i] >= n) return false;\n    if (q)\n      m = m * n + t[i];\n    else\n      s = s * n + t[i];\n    if (s > 23 || m > 59) return false;\n  }\n  return true;\n}\nint main() {\n  gets(t);\n  l = strlen(t);\n  for (int i = 0; i < l; i++)\n    t[i] = '0' <= t[i] && t[i] <= '9'     ? (t[i] - '0')\n           : ('A' <= t[i] && t[i] <= 'Z') ? (t[i] - 'A' + 10)\n                                          : 50;\n  if (isOk(100)) {\n    printf(\"%d\\n\", -1);\n    return 0;\n  }\n  int c = 0;\n  for (int i = 1; i <= 61; i++)\n    if (isOk(i)) printf(\"%d \", i), c++;\n  if (!c) puts(\"0\");\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class B {\n    static class Reader {\n        BufferedReader br;\n        StringTokenizer st;\n\n        public Reader() {\n            br = new BufferedReader(new InputStreamReader(System.in));\n        }\n\n        String next() {\n            while (st == null || !st.hasMoreElements()) {\n                try {\n                    st = new StringTokenizer(br.readLine());\n                }\n                catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            return st.nextToken();\n        }\n\n        int nextInt() { return Integer.parseInt(next()); }\n\n        long nextLong() { return Long.parseLong(next()); }\n\n        double nextDouble()\n        {\n            return Double.parseDouble(next());\n        }\n\n        String nextLine() {\n            String str = \"\";\n            try {\n                str = br.readLine();\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n            }\n            return str;\n        }\n    }\n\n    static int convertToInt(char c) {\n        if (c <= '9') {\n            return c - '0';\n        } else {\n            return c - 'A' + 10;\n        }\n    }\n\n    static int convertToDecimal(String number, int base) {\n        var result = 0;\n        var power = 1;\n        for (var i = number.length() - 1; i >= 0; --i) {\n            result += convertToInt(number.charAt(i)) * power;\n            power *= base;\n        }\n\n        return result;\n    }\n\n    static int lastContinousZeroIndex(String str) {\n        var i = 0;\n        for (; i < str.length(); ++i) {\n            if (str.charAt(i) != '0') {\n                break;\n            }\n        }\n\n        return i;\n    }\n\n    public static void main(String[] args) {\n        var r = new Reader();\n        var s = r.nextLine().split(\":\");\n        if (lastContinousZeroIndex(s[0]) >= s[0].length() - 1 &&\n            lastContinousZeroIndex(s[1]) >= s[1].length() - 1\n        ) {\n            if (s[0].charAt(s[0].length() - 1) <= 'N') {\n                System.out.print(-1);\n                return;\n            }\n        }\n\n        var maxChar = '0';\n        for (var i = 0; i < s[0].length(); ++i) {\n            if (s[0].charAt(i) > maxChar) {\n                maxChar = s[0].charAt(i);\n            }\n        }\n        for (var i = 0; i < s[1].length(); ++i) {\n            if (s[1].charAt(i) > maxChar) {\n                maxChar = s[1].charAt(i);\n            }\n        }\n        var radix = convertToInt(maxChar) + 1;\n        var hours = convertToDecimal(s[0], radix);\n        var minutes = convertToDecimal(s[1], radix);\n        if (hours > 23 || minutes > 59) {\n            System.out.println(0);\n            return;\n        }\n\n        while (hours <= 23 && minutes <= 59) {\n            System.out.print(radix++ + \" \");\n            hours = convertToDecimal(s[0], radix);\n            minutes = convertToDecimal(s[1], radix);\n        }\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint mabna(string a, int m) {\n  int ans = 0;\n  int d = 1;\n  for (int i = a.size() - 1; i > -1; i--) {\n    if (a.at(i) < 58) {\n      ans += (a.at(i) - 48) * d;\n    } else {\n      ans += (a.at(i) - 55) * d;\n    }\n    if (ans >= 60) {\n      return 61;\n    }\n    d *= m;\n  }\n  return ans;\n}\nint main() {\n  string s;\n  cin >> s;\n  string a, b;\n  for (int i = 0; i < s.size(); i++) {\n    if (s.at(i) == ':') {\n      a = s.substr(0, i);\n      b = s.substr(i + 1, s.size() - i);\n    }\n  }\n  bool isans = false;\n  int start = 1;\n  for (int i = 0; i < s.size(); i++) {\n    if (s.at(i) != ':') {\n      if (s.at(i) < 58 and s.at(i) - 48 > start)\n        start = s.at(i) - 48;\n      else if (s.at(i) - 55 > start)\n        start = s.at(i) - 55;\n    }\n  }\n  if (mabna(a, 60) < 24 and mabna(b, 60) < 60)\n    cout << -1;\n  else {\n    for (int i = start + 1; i <= 60; i++) {\n      if (mabna(a, i) < 24 and mabna(b, i) < 60) {\n        cout << i << \" \";\n        isans = true;\n      } else {\n        break;\n      }\n    }\n    if (!isans) cout << 0;\n  }\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "import string\nimport re\n\nvalues={str(d): d for d in range(10) }\nfor ch in string.ascii_uppercase:\n    values[ch] = ord(ch) - 55\n\ndef convert(s, i):\n    x=0\n    for ch in s:\n        d = values[ch]\n        if d>=i:\n            return None\n        x = i*x+d\n    return x\n\nmatch=re.match('0*(\\w+):0*(\\w+)',input().strip())\na,b=match.groups([1, 2])\n\nans = []\nfor i in range(2, 60):\n    h = convert(a, i)\n    m = convert(b, i)\n    if h == None or m == None:\n        continue\n    if h < 24 and m < 60:\n        ans.append(i)\n\nif len(ans) == 0:\n    print(0)\nelif len(a) + len(b) == 2:\n    print(-1)\nelse:\n    print(*ans)"
        },
        {
            "language": 3,
            "solution": "import string\nimport re\n\nvalues = { str(d): d for d in range(10) }\nfor ch in string.ascii_uppercase:\n    values[ch] = ord(ch) - 55\n\ndef convert(s, base):\n    x = 0\n    for ch in s:\n        d = values[ch]\n        if d >= base:\n            return None\n        x = base * x + d\n    return x\n\nmatch = re.match('0*(\\w+):0*(\\w+)', input().strip())\na, b = match.groups([1, 2])\n\nfeasible = []\nfor base in range(2, 60):\n    h = convert(a, base)\n    m = convert(b, base)\n    if h == None or m == None:\n        continue\n    if h < 24 and m < 60:\n        feasible.append(base)\n\nif len(feasible) == 0:\n    print(0)\nelif len(a) + len(b) == 2:\n    print(-1)\nelse:\n    print(' '.join(map(str, feasible)))\n"
        },
        {
            "language": 1,
            "solution": "a= raw_input().split(\":\")\n\nmin1=0\nfor x in range(0,len(a[0])):\n\tif(ord(a[0][x])> 64):\n\t\tif (min1< ord(a[0][x])-55):\n\t\t\tmin1=ord(a[0][x])-55\n\telse:\n\t\tif (min1<int(a[0][x])):\n\t\t\tmin1=int(a[0][x])\n\t\t\t\nmin2=0\nfor x in range(0,len(a[1])):\n\tif(ord(a[1][x])>64):\n\t\tif (min2< ord(a[1][x])-55):\n\t\t\tmin2=ord(a[1][x])-55\n\telse:\n\t\tif (min2<int(a[1][x])):\n\t\t\tmin2=int(a[1][x])\nmini = max(min1,min2)+1\n#print mini\n\n\ndef radixes(val):\t\t\t\t\t\t\t\t\t#Returns if a radix is possible or not\n\thours=0\n\tmins=0\n\tfor x in range(0,len(a[0])):\n\t\tif (ord(a[0][x])>64):\n\t\t\tp=ord(a[0][x])-55\n\t\telse:\n\t\t\tp=int(a[0][x])\n\t\thours=hours+p*pow(val,len(a[0])-(x+1))\n\tif (hours>23):\n\t\treturn False\n\tfor x in range(0,len(a[1])):\n\t\tif (ord(a[1][x])>64):\n\t\t\t\tp=ord(a[1][x])-55\n\t\telse:\n\t\t\tp=int(a[1][x])\n\t\tmins=mins+p*pow(val,len(a[1])-(x+1))\n\tif (mins>59):\n\t\treturn False\n\t#print (hours,mins)\n\treturn True\n\nb=[]\nk=0\nfor x in range(mini,1000):\n\tif(radixes(x)):\n\t\tb.append(x)\n\t\tk=1\n\t\n\telse:\n\t\tif(k==1):\n\t\t\tbreak\n\t\t\t\n\t\t \n\t\nif (len(b)>60):\n\tprint -1\n\nelif (len(b)==0):\n\tprint 0\n\t\nelse :\n\tfor x in b:\n\t\tprint x \n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint convert(string s, int base) {\n  int p = 1, res = 0;\n  for (int i = s.size() - 1; i >= 0; i--) {\n    int cur;\n    if (s[i] >= 'A') {\n      cur = s[i] - 'A' + 10;\n    } else {\n      cur = s[i] - '0';\n    }\n    res += cur * p;\n    p = p * base;\n  }\n  return res;\n}\nint main() {\n  string s, s1 = \"\", s2 = \"\";\n  cin >> s;\n  int i = 0;\n  while (s[i] != ':') {\n    s1 = s1 + s[i];\n    i++;\n  }\n  i++;\n  while (i < s.size()) {\n    s2 = s2 + s[i];\n    i++;\n  }\n  int max = 0;\n  for (int i = 0; i < s1.size(); i++) {\n    if (s1[i] > max) {\n      max = s1[i];\n    }\n  }\n  for (int i = 0; i < s2.size(); i++) {\n    if (s2[i] > max) {\n      max = s2[i];\n    }\n  }\n  if (max >= 'A') {\n    max = max - 'A' + 10;\n  } else {\n    max = max - '0';\n  }\n  if (convert(s1, max + 1) > 23) {\n    cout << \"0\\n\";\n    return 0;\n  }\n  if (convert(s2, max + 1) > 59) {\n    cout << \"0\\n\";\n    return 0;\n  }\n  while (s1.size() > 1) {\n    if (s1[0] == '0') {\n      s1.erase(s1.begin());\n    } else {\n      break;\n    }\n  }\n  while (s2.size() > 1) {\n    if (s2[0] == '0') {\n      s2.erase(s2.begin());\n    } else {\n      break;\n    }\n  }\n  if (s1.size() == 1 && s2.size() == 1) {\n    cout << \"-1\\n\";\n    return 0;\n  }\n  int res1 = 0, res2 = 0;\n  int cbase = max + 1;\n  if (s1.size() > 1) {\n    while (convert(s1, cbase) < 24) {\n      cbase++;\n      res1++;\n    }\n  } else {\n    res1 = 1000000000;\n  }\n  cbase = max + 1;\n  if (s2.size() > 1) {\n    while (convert(s2, cbase) < 60) {\n      cbase++;\n      res2++;\n    }\n  } else {\n    res2 = 1000000000;\n  }\n  if (res1 < res2) {\n    for (int i = 0; i < res1; i++) {\n      cout << (max + 1 + i) << \" \";\n    }\n  } else {\n    for (int i = 0; i < res2; i++) {\n      cout << (max + 1 + i) << \" \";\n    }\n  }\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string str;\n  cin >> str;\n  int mx = 0;\n  bool m = 0, g = 0;\n  int first;\n  for (int i = 0; i < str.size(); i++) {\n    if (str[i] == ':') {\n      first = i;\n      int x;\n      if (str[i - 1] >= 'A' && str[i - 1] <= 'Z') {\n        x = str[i - 1] - 55;\n        mx = max(mx, x);\n        if (x >= 24) {\n          m = 1;\n          break;\n        }\n      } else {\n        x = str[i - 1] - '0';\n        mx = max(mx, x);\n        if (x >= 24) {\n          m = 1;\n          break;\n        }\n      }\n      for (int j = i - 2; j >= 0; j--) {\n        if (str[j] != '0') g = 1;\n        if (str[j] >= 'A' && str[j] <= 'Z') {\n          mx = max(mx, (str[j] - 55));\n        } else {\n          mx = max(mx, (str[j] - '0'));\n        }\n      }\n      for (int j = i + 1; j < (str.size() - 1); j++) {\n        if (str[j] != '0') g = 1;\n        if (str[j] >= 'A' && str[j] <= 'Z') {\n          mx = max(mx, (str[j] - 55));\n        } else {\n          mx = max(mx, (str[j] - '0'));\n        }\n      }\n      if (str[str.size() - 1] >= 'A' && str[str.size() - 1] <= 'Z') {\n        x = str[str.size() - 1] - 55;\n        mx = max(mx, x);\n      } else {\n        x = str[str.size() - 1] - '0';\n        mx = max(mx, x);\n      }\n      break;\n    }\n  }\n  if (m == 1) {\n    cout << 0 << endl;\n  } else if (m == 0 && g == 0)\n    cout << -1 << endl;\n  else {\n    mx++;\n    int i;\n    for (i = mx;; i++) {\n      long long x = 0;\n      int k = 0;\n      for (int j = first - 1; j >= 0; j--, k++) {\n        int y;\n        if (str[j] >= 'A' && str[j] <= 'Z')\n          y = str[j] - 55;\n        else\n          y = str[j] - '0';\n        x += y * pow(i, k);\n      }\n      if (x >= 24) {\n        break;\n      }\n      x = 0;\n      k = 0;\n      for (int j = str.size() - 1; j > first; j--, k++) {\n        int y;\n        if (str[j] >= 'A' && str[j] <= 'Z')\n          y = str[j] - 55;\n        else\n          y = str[j] - '0';\n        x += y * pow(i, k);\n      }\n      if (x >= 60) break;\n      cout << i << \" \";\n    }\n    if (i == mx)\n      cout << 0 << endl;\n    else\n      cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint char2int(char ch) {\n  if (ch >= '0' && ch <= '9') return ch - '0';\n  return ch - 'A' + 10;\n}\nchar buf[20], *a = NULL, *b = NULL, *ptr = NULL;\nint hour, minute;\nvoid GetHM(int radix) {\n  hour = minute = 0;\n  ptr = a;\n  while ((*ptr) != 0) {\n    hour = hour * radix + char2int(*ptr);\n    ++ptr;\n  }\n  ptr = b;\n  while ((*ptr) != 0) {\n    minute = minute * radix + char2int(*ptr);\n    ++ptr;\n  }\n}\nint main() {\n  scanf(\"%s\", buf);\n  a = strtok(buf, \":\");\n  b = strtok(NULL, \":\");\n  int min_r = 2;\n  ptr = a;\n  while ((*ptr) != 0) {\n    min_r = max(min_r, char2int(*ptr) + 1);\n    ++ptr;\n  }\n  ptr = b;\n  while ((*ptr) != 0) {\n    min_r = max(min_r, char2int(*ptr) + 1);\n    ++ptr;\n  }\n  GetHM(min_r);\n  if (hour >= 24 || minute >= 60) {\n    printf(\"0\\n\");\n    return 0;\n  }\n  GetHM(60);\n  if (hour < 24 && minute < 60) {\n    printf(\"-1\\n\");\n    return 0;\n  }\n  bool first = true;\n  for (int i = min_r; i < 60; ++i) {\n    GetHM(i);\n    if (hour >= 24 || minute >= 60) continue;\n    if (!first)\n      printf(\" \");\n    else\n      first = false;\n    printf(\"%d\", i);\n  }\n  printf(\"\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\n\npublic class Main149B\n{\n  static PrintWriter out=new PrintWriter(System.out);\n  \n  static boolean valid(int i,String a,String b)\n  {\n    long hour=0;\n    long min=0;\n    for(int j=a.length()-1;j>=0;j--)\n    {\n      int x=convert(a.substring(j,j+1));\n      if(x>=i)\n      {\n        hour=-1;\n        break;\n      } \n      hour=hour+(pow(i,a.length()-j-1)*x); \n    }\n    if(hour>=0&&hour<=23)\n    {\n      for(int j=b.length()-1;j>=0;j--)\n      {\n        int x=convert(b.substring(j,j+1));\n        if(x>=i)\n        {\n          min=-1;\n          break;\n        }\n        \n        \n        min+=Math.pow(i,b.length()-j-1)*x;\n      }\n      if(min>=0&&min<60)\n      {\n        //out.println(hour+\" \"+min);\n          return true;\n      }\n    }\n    return false;\n  }\n    \n  static int convert(String a)\n  {\n    if(a.charAt(0)>=65&&a.charAt(0)<=90)\n      return a.charAt(0)-55;\n    else\n      return Integer.parseInt(a);\n  }\n  public static long pow(int a, int b)\n  {\n    long res=1;\n    while(b>0)\n    {\n      if(b%2!=0)\n        res=res*a;\n      a=a*a;\n      b>>=1;\n    }\n    return res;\n  }\n  \n      \n      \n  \n  \n  \n  public static void main(String[] args) throws IOException\n  {\n    Scanner sc=new Scanner(System.in);\n    String s=sc.next();\n    int colon=s.indexOf(\":\");\n    String a=s.substring(0,colon);\n    String b=s.substring(colon+1,s.length());\n    long hour=0;\n    long min=0;\n   \n      \n    Vector<Integer> sol=new Vector<Integer>();\n    for(int i=2;i<=60;i++)\n    {\n      if(valid(i,a,b))\n        sol.add(i);\n      \n    }\n    if(sol.size()==0)\n      out.println(0);\n    else if(valid(60,a,b)&&valid(65,a,b))\n      out.println(-1);\n    else\n    {\n      for(int i:sol)\n        out.print(i+\" \");\n    }\n    //out.println(sol.size());\n    out.flush();\n      \n            \n          \n        \n        \n    \n    \n  }\n  static class Scanner\n  {\n    BufferedReader br;\n    StringTokenizer tk=new StringTokenizer(\"\");\n    public Scanner(InputStream is) \n        {\n      br=new BufferedReader(new InputStreamReader(is));\n    }\n        public int nextInt() throws IOException\n        {\n          if(tk.hasMoreTokens())\n                return Integer.parseInt(tk.nextToken());\n          tk=new StringTokenizer(br.readLine());\n          return nextInt();\n        }\n        public long nextLong() throws IOException\n        {\n            if(tk.hasMoreTokens())\n              return Long.parseLong(tk.nextToken());\n            tk=new StringTokenizer(br.readLine());\n            return nextLong();\n        }\n        public String next() throws IOException\n        {\n          if(tk.hasMoreTokens())\n            return (tk.nextToken());\n            tk=new StringTokenizer(br.readLine());\n            return next();\n        }\n        public String nextLine() throws IOException\n        {\n          tk=new StringTokenizer(\"\");\n          return br.readLine();\n        }\n        public double nextDouble() throws IOException\n        {\n            if(tk.hasMoreTokens())\n              return Double.parseDouble(tk.nextToken());\n            tk=new StringTokenizer(br.readLine());\n            return nextDouble();\n        }\n        public char nextChar() throws IOException\n        {\n            if(tk.hasMoreTokens())\n              return (tk.nextToken().charAt(0));\n            tk=new StringTokenizer(br.readLine());\n            return nextChar();\n        }\n        public int[] nextIntArray(int n) throws IOException\n        {\n            int a[]=new int[n];\n            for(int i=0;i<n;i++)\n              a[i]=nextInt();\n            return a;\n        }\n        public long[] nextLongArray(int n) throws IOException\n        {\n          long a[]=new long[n];\n            for(int i=0;i<n;i++)\n              a[i]=nextLong();\n            return a;\n        }\n        public int[] nextIntArrayOneBased(int n) throws IOException\n        {\n          int a[]=new int[n+1];\n            for(int i=1;i<=n;i++)\n              a[i]=nextInt();\n            return a;\n        }\n        public long[] nextLongArrayOneBased(int n) throws IOException\n        {\n          long a[]=new long[n+1];\n          for(int i=1;i<=n;i++)\n                a[i]=nextLong();\n          return a;\n        }\n  }\n}\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\n\npublic class P149B {\n    public static void main(String[] args) {\n\tInputStream inputStream = System.in;\n\tOutputStream outputStream = System.out;\n\tInputReader in = new InputReader(inputStream);\n\tPrintWriter out = new PrintWriter(outputStream);\n\tTask solver = new Task();\n\tsolver.solve(in, out);\n\tout.close();\n    }\n\n    static class Task {\n\tpublic void solve(InputReader in, PrintWriter out) {\n\t    String[] t = in.nextLine().split(\":\");\n\t    int mi = (1 + Math.max(t[0].chars().max().getAsInt(), t[1].chars().max().getAsInt()));\n\t    if ('Z' >= mi && mi >= 'A')\n\t\tmi = mi - 'A' + 10;\n\t    else\n\t\tmi = mi - '0';\n\t    int MI1 = mi;\n\t    long pval = -1, val = -1;\n\t    while ((val = baseVal(t[0], MI1)) <= 23) {\n\t\tMI1++;\n\t\tif (val == pval) {\n\t\t    MI1 = 0;\n\t\t    break;\n\t\t}\n\t\tpval = val;\n\t    }\n\t    MI1 -= 1;\n\t    int MI2 = mi;\n\t    while ((val = baseVal(t[1], MI2)) <= 59) {\n\t\tMI2++;\n\t\tif (val == pval) {\n\t\t    MI2 = 0;\n\t\t    break;\n\t\t}\n\t\tpval = val;\n\t    }\n\t    MI2 -= 1;\n\t    int MI;\n\t    if (MI1 == -1)\n\t\tMI = MI2;\n\t    else if (MI2 == -1)\n\t\tMI = MI1;\n\t    else\n\t\tMI = Math.min(MI1, MI2);\n\t    if (MI1 == -1 && MI2 == -1) {\n\t\tout.println(-1);\n\t\treturn;\n\t    } else if (mi > MI) {\n\t\tout.println(0);\n\t\treturn;\n\t    } else {\n\t\tfor (int i = mi; i <= MI; i++)\n\t\t    out.print(i + \" \");\n\t    }\n\t}\n\n\tprivate long baseVal(String s, int b) {\n\t    long val = 0;\n\t    for (int i = 0; i < s.length(); i++) {\n\t\tval *= b;\n\t\tif (s.charAt(i) >= 'A' && s.charAt(i) <= 'Z')\n\t\t    val += s.charAt(i) - 'A' + 10;\n\t\telse\n\t\t    val += s.charAt(i) - '0';\n\t    }\n\t    return val;\n\t}\n    }\n\n    static class InputReader {\n\tpublic BufferedReader reader;\n\tpublic StringTokenizer tokenizer;\n\n\tpublic InputReader(InputStream stream) {\n\t    reader = new BufferedReader(new InputStreamReader(stream), 32768);\n\t    tokenizer = null;\n\t}\n\n\tpublic String next() {\n\t    while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n\t\ttry {\n\t\t    tokenizer = new StringTokenizer(reader.readLine());\n\t\t} catch (IOException e) {\n\t\t    throw new RuntimeException(e);\n\t\t}\n\t    }\n\t    return tokenizer.nextToken();\n\t}\n\n\tpublic int nextInt() {\n\t    return Integer.parseInt(next());\n\t}\n\n\tpublic long nextLong() {\n\t    return Long.parseLong(next());\n\t}\n\n\tpublic String nextLine() {\n\t    try {\n\t\treturn reader.readLine();\n\t    } catch (IOException e) {\n\t\tthrow new RuntimeException(e);\n\t    }\n\t}\n\n\tpublic int[] nextIntArray(int n) {\n\t    int[] arr = new int[n];\n\t    for (int i = 0; i < n; i++)\n\t\tarr[i] = nextInt();\n\t    return arr;\n\t}\n\n    }\n}\n"
        },
        {
            "language": 3,
            "solution": "a={}\nfor x in range(10): a[str(x)]=x\nfor x in range(26): a[chr(ord('A')+x)]=10+x\n\ndef to10(s,n):\n    y=0\n    for c in s:\n        if a[c]>=n: return None\n        y=y*n+a[c]\n    return y\n\nh,m=input().split(':')\n\n\nans=[]\nfor i in range(2,60):\n    h1,m1=to10(h,i),to10(m,i)\n    if h1==None or m1==None: continue\n    if h1<24 and m1<60: ans.append(i)\n\nif len(ans)==0:\n    print(0)\nelse:\n    h2,m2=to10(h,100),to10(m,100)\n    if h2<24 and m2<60:\n        print(-1)\n    else:\n        print(*ans)\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint f(char c) {\n  if (c >= 'A' && c <= 'Z')\n    return 10 + c - 'A';\n  else\n    return c - '0';\n}\nint Pow(int i, int k) {\n  int sum = 1;\n  for (int j = 0; j < k; j++) sum *= i;\n  return sum;\n}\nchar a[10], b[10], c[20];\nint x[10], y[10], total, mn, lx, ly, res[210];\nint solve() {\n  int i;\n  for (i = mn + 1; i < 62; i++) {\n    int flag = 0;\n    int sum = 0;\n    for (int j = lx - 1, k = 0; j >= 0; j--, k++) {\n      sum += x[j] * Pow(i, k);\n    }\n    if (sum > 23) flag = 1;\n    sum = 0;\n    for (int j = ly - 1, k = 0; j >= 0; j--, k++) {\n      sum += y[j] * Pow(i, k);\n    }\n    if (sum > 59) flag = 1;\n    if (!flag) {\n      res[total++] = i;\n      if (i >= 60) return 2;\n    }\n  }\n  if (total == 0)\n    return 0;\n  else\n    return 1;\n}\nint main() {\n  scanf(\"%s\", c);\n  int i, j;\n  for (i = 0, j = 0; i < strlen(c); i++) {\n    if (c[i] == ':') break;\n    a[j++] = c[i];\n  }\n  a[j] = '\\0';\n  i++;\n  for (j = 0; i < strlen(c); i++) {\n    if (c[i] == ':') break;\n    b[j++] = c[i];\n  }\n  b[j] = '\\0';\n  for (i = 0; i < strlen(a); i++)\n    if (a[i] != '0') break;\n  lx = 0, ly = 0;\n  for (; i < strlen(a); i++) x[lx++] = f(a[i]);\n  for (i = 0; i < strlen(b); i++)\n    if (b[i] != '0') break;\n  for (; i < strlen(b); i++) y[ly++] = f(b[i]);\n  mn = 0;\n  if (!lx) lx = 1;\n  if (!ly) ly = 1;\n  for (int i = 0; i < lx; i++)\n    if (mn < x[i]) mn = x[i];\n  for (int i = 0; i < ly; i++)\n    if (mn < y[i]) mn = y[i];\n  total = 0;\n  if (mn == 0) mn = 1;\n  int nnn = solve();\n  if (nnn > 1)\n    printf(\"-1\\n\");\n  else if (nnn == 0)\n    printf(\"0\\n\");\n  else {\n    for (i = 0; i < total; i++)\n      printf(\"%d%c\", res[i], i == total - 1 ? '\\n' : ' ');\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar str[12];\nchar a[6], b[6];\nint radix[59];\nint convert(char a[], int len, int radix) {\n  int i;\n  int dec = 0;\n  for (i = 0; i < len; i++) {\n    int temp = ('0' <= a[i] && a[i] <= '9') ? (a[i] - '0') : (a[i] - 'A' + 10);\n    dec = dec * radix + temp;\n  }\n  return dec;\n}\nint find_max(char a[], int len) {\n  int i;\n  int max = 0;\n  for (i = 0; i < len; i++) {\n    int temp = ('0' <= a[i] && a[i] <= '9') ? (a[i] - '0') : (a[i] - 'A' + 10);\n    if (temp > max) max = temp;\n  }\n  return max;\n}\nint main() {\n  scanf(\"%s\", str);\n  int i = 0, j = 0;\n  while (str[i] != ':') {\n    a[j++] = str[i];\n    i++;\n  }\n  a[j] = '\\0';\n  j = 0;\n  i++;\n  while (str[i] != '\\0') {\n    b[j++] = str[i];\n    i++;\n  }\n  b[j] = '\\0';\n  int a_len = strlen(a);\n  int b_len = strlen(b);\n  int a_max = find_max(a, a_len);\n  int b_max = find_max(b, b_len);\n  int min = ((a_max > b_max) ? a_max : b_max) + 1;\n  if (min < 2) {\n    min = 2;\n  }\n  int a_dec = 0, b_dec = 0;\n  j = 0;\n  for (i = min; i <= 60; i++) {\n    a_dec = convert(a, a_len, i);\n    b_dec = convert(b, b_len, i);\n    if (a_dec < 24 && b_dec < 60) {\n      radix[j++] = i;\n    }\n  }\n  if (radix[j - 1] == 60)\n    printf(\"-1\\n\");\n  else if (j == 0)\n    printf(\"0\\n\");\n  else {\n    for (i = 0; i < j; i++) {\n      printf(\"%d \", radix[i]);\n    }\n    printf(\"\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import sys\n\ndef val(c):\n    if ord(c) >= ord('0') and ord(c) <= ord('9'):\n        return ord(c) - ord('0')\n    return ord(c) - ord('A') + 10\n\ndef ok(s, base, limit):\n    sum = 0\n    cur = 1\n    t = s[::-1]\n    for c in t:\n        v = val(c)\n        if v >= base:\n            return False\n        sum = sum + cur * v\n        cur = cur * base\n    return sum < limit\n\nt = sys.stdin.readline()\nt = t.rstrip()\nind = t.find(':')\nh = t[0:ind]\nm = t[ind+1:]\n\n#print h,m\n\nif ok(h, 100, 24) and ok(m, 100, 60):\n    print -1\n    exit()\n\nans = []\nbase = 2\nwhile base < 60:\n    if ok(h, base, 24) and ok(m, base, 60):\n        ans.append(base)\n    base = base + 1\nif len(ans) == 0:\n    print 0\n    exit()\nprint ans.pop(0),\nfor val in ans:\n    print val,\nprint\n\n\n\n#print val('A')\n"
        },
        {
            "language": 4,
            "solution": " \nimport java.io.*;\nimport java.util.*;\n\npublic class CodeForce {\n    \n    private int getVal(char a) {\n        if(a >= '0' && a <= '9') return a - '0';\n        return a - 'A' + 10;\n    }\n    \n    int pot(int b, int a) {\n        if(a == 0) return 1;\n        else if(a == 1) return b;\n        return b * pot(b, a - 1);\n    }\n\n    private void solve() throws IOException {\n        final String []t = nextLine().split(\":\");\n        final String a = t[0], b = t[1];\n        int minBase = 1;\n        for(int i = 0; i < a.length(); i++) \n            minBase = Math.max(minBase, getVal(a.charAt(i)));\n        for(int i = 0; i < b.length(); i++)\n            minBase = Math.max(minBase, getVal(b.charAt(i)));\n        List<Integer> ret = new LinkedList<Integer>();\n        boolean isInf = true;\n        for(int i = minBase + 1; i <= 100; i++) {\n            int aa = 0;\n            for(int j = a.length() - 1, k = 0; j >= 0; j--, k++) \n                aa += getVal(a.charAt(j)) * pot(i, k);\n            int bb = 0;\n            for(int j = b.length() - 1, k = 0; j >= 0; j--, k++) \n                bb += getVal(b.charAt(j)) * pot(i, k);\n            if(aa >= 0 && aa < 24 && bb >= 0 && bb < 60) \n                ret.add(i); \n            else\n                isInf = false;\n        }\n        if(ret.size() == 0) {\n            System.out.println(0);\n        } else {\n            if(isInf) {\n                System.out.println(-1);\n            } else {\n                for(int i = 0; i < ret.size(); i++)\n                    System.out.print(ret.get(i) + \" \");\n            }\n        }\n    }\n    \n    public static void main(String[] args) {\n        new CodeForce().run();\n    }\n\n    BufferedReader reader;\n    StringTokenizer tokenizer;\n    PrintWriter writer;\n\n    public void run() {\n        try {\n            reader = new BufferedReader(new InputStreamReader(System.in));\n            tokenizer = null;\n            writer = new PrintWriter(new FileOutputStream(new File(\"output.txt\")));\n            solve();\n            reader.close();\n            writer.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(nextToken());\n    }\n\n    long nextLong() throws IOException {\n        return Long.parseLong(nextToken());\n    }\n\n    double nextDouble() throws IOException {\n        return Double.parseDouble(nextToken());\n    }\n    \n    String nextLine() throws IOException {\n        return reader.readLine();\n    }\n\n    String nextToken() throws IOException {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n}\n"
        },
        {
            "language": 1,
            "solution": "x=raw_input().split(':')\nH=x[0]\nM=x[1]\nH=H[::-1]\nM=M[::-1]\nflag=0\nAns=[]\nMax=2\nfor i in H:\n\tif(i>='0' and i<='9'):\n\t\tMax=max(Max,int(i)+1)\n\telse:\n\t\tMax=max(Max,ord(i)-54)\nfor i in M:\n\tif(i>='0' and i<='9'):\n\t\tMax=max(Max,int(i)+1)\n\telse:\n\t\tMax=max(Max,ord(i)-54)\n\nfor i in xrange(Max,1000):\n\tans1=0\n\tk=1\n\tfor j in H:\n\t\tif(j>='0' and j<='9'):\n\t\t\tans1+=int(j)*k\n\t\telif(j>='A' and j<='Z'):\n\t\t\tq=ord(j)-55\n\t\t\tans1+=q*k\n\t\tk*=i\n\tif(ans1>23):\n\t\tflag=1\n\t\tbreak\n\tk=1\n\tans1=0\n\tfor j in M:\n\t \tif(j>='0' and j<='9'):\n\t\t \tans1+=int(j)*k\n\t\telif(j>='A' and j<='Z'):\n\t\t\t q=ord(j)-55\n\t\t\t ans1+=q*k\n\t\tk*=i\n\tif(ans1>59):\n\t\tflag=1\n\t\tbreak\n\tAns.append(i)\nif(flag):\n\tfor i in Ans:\n\t\tprint i,\n\tif(len(Ans)==0):\n\t\tprint 0\nelse:\n\tprint -1\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long convert(string s, int base, map<char, int>& m) {\n  long long val = 0;\n  for (int i = 0; i < s.size(); i++) val = val * base + m[s[i]];\n  return val;\n}\nint main() {\n  ios::sync_with_stdio(0);\n  string s, a, b;\n  map<char, int> m;\n  for (int i = 0; i < 10; i++) m['0' + i] = i;\n  for (char i = 'A'; i <= 'Z'; i++) m[i] = 10 + i - 'A';\n  cin >> s;\n  bool f = 1;\n  for (int i = 0; i < s.size(); i++)\n    if (s[i] == ':')\n      f = 0;\n    else if (f)\n      a += s[i];\n    else\n      b += s[i];\n  int min_base = 0;\n  for (int i = 0; i < s.size(); i++) min_base = max(min_base, m[s[i]] + 1);\n  while (a[0] == '0' && a.size() > 1) a.erase(a.begin());\n  while (b[0] == '0' && b.size() > 1) b.erase(b.begin());\n  if (a.size() == 1 && b.size() == 1 && convert(a, min_base, m) <= 23 &&\n      convert(b, min_base, m) <= 59)\n    return cout << -1, 0;\n  vector<int> ats;\n  for (int base = min_base; base < 100; base++)\n    if (convert(a, base, m) <= 23 && convert(b, base, m) <= 59)\n      ats.push_back(base);\n  if (ats.empty()) cout << 0;\n  for (auto x : ats) cout << x << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint power(int a, int b) {\n  int z = 1;\n  for (int i = 0; i < b; i++) {\n    z *= a;\n  }\n  return z;\n}\nint toRadix10(string s1, int r1) {\n  int sum = 0;\n  int o = 0;\n  for (int i = s1.size() - 1; i >= 0; i--, o++) {\n    int a = (s1.at(i) >= 'A' && s1.at(i) <= 'Z') ? (int)(s1.at(i) - 'A' + 10)\n                                                 : (int)(s1.at(i) - '0');\n    if (a >= r1) return -1;\n    sum += a * (power(r1, o));\n  }\n  return sum;\n}\nint main() {\n  string str;\n  cin >> str;\n  string hour = \"\", min = \"\";\n  bool dono = false;\n  bool startH = false;\n  bool startM = false;\n  for (int i = 0; i < str.size(); i++) {\n    if (str.at(i) == ':') {\n      dono = true;\n      continue;\n    }\n    if (!dono) {\n      if (str.at(i) == '0' && !startH)\n        continue;\n      else {\n        startH = true;\n        hour += str.at(i);\n      }\n    } else {\n      if (str.at(i) == '0' && !startM)\n        continue;\n      else {\n        startM = true;\n        min += str.at(i);\n      }\n    }\n  }\n  if (hour.size() == 0) hour = \"0\";\n  if (min.size() == 0) min = \"0\";\n  if (hour.size() == 1 && min.size() == 1) {\n    int hh = (hour.at(0) >= 'A' && hour.at(0) <= 'Z')\n                 ? (int)(hour.at(0) - 'A' + 10)\n                 : (int)(hour.at(0) - '0');\n    int mm = (min.at(0) >= 'A' && min.at(0) <= 'Z')\n                 ? (int)(min.at(0) - 'A' + 10)\n                 : (int)(min.at(0) - '0');\n    if (hh <= 23 && hh >= 0 && mm <= 59 && mm >= 0)\n      cout << \"-1\" << endl;\n    else\n      cout << \"0\" << endl;\n    return 0;\n  }\n  vector<int> R;\n  for (int radix = 2; true; radix++) {\n    int hour10 = toRadix10(hour, radix);\n    int min10 = toRadix10(min, radix);\n    if (hour10 == -1 || min10 == -1) {\n      continue;\n    }\n    if (!(hour10 <= 23 && hour10 >= 0)) {\n      break;\n    }\n    if (!(min10 <= 59 && min10 >= 0)) {\n      break;\n    }\n    R.push_back(radix);\n  }\n  if (R.size() == 0)\n    cout << \"0\" << endl;\n  else {\n    for (int i = 0; i < R.size(); i++) {\n      cout << R.at(i) << \" \";\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.HashMap;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class B106 {\n\t\n\tHashMap<Integer, Integer> map;\n\t\n\tpublic void countRadix(String hours, String mins) {\n\t\tint maxHrs = Integer.MAX_VALUE;\n\t\tint maxMins = Integer.MAX_VALUE;\n\t\tint minHrs = 1;\n\t\tint minMins = 1;\n\t\tif (hours.length() == 1) {\n\t\t\tif (map.get((int) hours.charAt(0)) > 23) {\n\t\t\t\tSystem.out.println(\"0\");\n\t\t\t\treturn;\n\t\t\t} else\n\t\t\t\tminHrs = map.get((int) hours.charAt(0)) + 1;\n\t\t} else {\n\t\t\tchar[] hrs = hours.toCharArray();\n\t\t\tminHrs = 1;\n\t\t\tfor (char c : hrs)\n\t\t\t\tif (map.get((int) c) >= minHrs)\n\t\t\t\t\tminHrs = map.get((int) c) + 1;\n\t\t\tboolean passed23 = false;\n\t\t\tfor (int r = minHrs; r < maxHrs && !passed23; r++) {\n\t\t\t\tint sum = map.get((int) hrs[0]);\n\t\t\t\tfor (int idx = 1; idx < hrs.length; idx++) {\n\t\t\t\t\tsum *= r;\n\t\t\t\t\tsum += map.get((int) hrs[idx]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (sum > 23) {\n\t\t\t\t\tpassed23 = true;\n\t\t\t\t\tmaxHrs = (sum > 23)? r - 1 : r;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tif (mins.length() == 1) {\n\t\t\tif (map.get((int) mins.charAt(0)) > 59) {\n\t\t\t\tSystem.out.println(\"0\");\n\t\t\t\treturn;\n\t\t\t} else\n\t\t\t\tminMins = map.get((int) mins.charAt(0)) + 1;\n\t\t} else {\n\t\t\tchar[] minutes = mins.toCharArray();\n\t\t\tminMins = 1;\n\t\t\tfor (char c : minutes)\n\t\t\t\tif (map.get((int) c) >= minMins)\n\t\t\t\t\tminMins = map.get((int) c) + 1;\n\t\t\tboolean passed59 = false;\n\t\t\tfor (int r = minMins; r < maxMins && !passed59; r++) {\n\t\t\t\tint sum = map.get((int) minutes[0]);\n\t\t\t\tfor (int idx = 1; idx < minutes.length; idx++) {\n\t\t\t\t\tsum *= r;\n\t\t\t\t\tsum += map.get((int) minutes[idx]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (sum > 59) {\n\t\t\t\t\tpassed59 = true;\n\t\t\t\t\tmaxMins = (sum > 59)? r - 1 : r;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t\t\n\t\tif (minHrs > maxHrs || minMins > maxMins) {\n\t\t\tSystem.out.println(\"0\");\n\t\t\treturn;\n\t\t}\n\t\t\t\n\t\tint lowerBound = Math.max(minHrs, minMins);\n\t\tint upperBound = Math.min(maxHrs, maxMins);\n\t\tif (upperBound == Integer.MAX_VALUE)\n\t\t\tSystem.out.println(\"-1\");\n\t\telse if (lowerBound <= upperBound) {\n\t\t\tfor (int i = lowerBound; i <= upperBound; i++) {\n\t\t\t\tSystem.out.println(i);\n\t\t\t}\n\t\t} else {\n\t\t\tSystem.out.println(\"0\");\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tB106 b = new B106();\n\t\tb.map = new HashMap<Integer, Integer>(35);\n\t\tint i;\n\t\tfor (i = 0; i < 10; i++)\n\t\t\tb.map.put('0' + i, i);\n\t\tfor (; i <= 35; i++)\n\t\t\tb.map.put('A' + (i - 10), i);\n\t\t\n\t\tBufferedReader r = new BufferedReader(new InputStreamReader(System.in));\n\t\tScanner s = new Scanner(r);\n\t\tString time = s.nextLine();\n\t\tString[] parts = time.trim().split(\":\");\n\t\tPattern p = Pattern.compile(\"0*([\\\\d\\\\w]+)\");\n\t\tMatcher m;\n\t\tm = p.matcher(parts[0]);\n\t\tif (m.matches())\n\t\t\tparts[0] = m.group(1);\n\t\tm = p.matcher(parts[1]);\n\t\tif (m.matches())\n\t\t\tparts[1] = m.group(1);\n\t\t\n\t\tb.countRadix(parts[0], parts[1]);\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[10], b[10];\nint main() {\n  long l1, l2, p, i, j, k, sum, l, flag, max;\n  char s[100];\n  while (cin >> s) {\n    l1 = 0;\n    l2 = 0;\n    flag = 1;\n    max = 0;\n    while (s[l1] != ':') {\n      if (s[l1] >= '0' && s[l1] <= '9')\n        a[l1] = s[l1] - '0';\n      else\n        a[l1] = s[l1] - 'A' + 10;\n      if (max < a[l1]) max = a[l1];\n      l1++;\n    }\n    while (s[l1 + l2 + 1] != '\\0') {\n      if (s[l1 + l2 + 1] >= '0' && s[l1 + l2 + 1] <= '9')\n        b[l2] = s[l1 + l2 + 1] - '0';\n      else\n        b[l2] = s[l1 + l2 + 1] - 'A' + 10;\n      if (max < b[l2]) max = b[l2];\n      l2++;\n    }\n    for (p = max + 1; p < 70; p++) {\n      sum = 0;\n      k = 1;\n      for (l = l1 - 1; l >= 0; l--) {\n        sum = sum + k * a[l];\n        k = k * p;\n      }\n      if (sum >= 24) goto F1;\n      sum = 0;\n      k = 1;\n      for (l = l2 - 1; l >= 0; l--) {\n        sum += k * b[l];\n        k *= p;\n      }\n      if (sum >= 60) goto F1;\n    }\n  F1:\n    if (p == max + 1)\n      cout << 0;\n    else if (p >= 69)\n      cout << -1;\n    else {\n      for (i = max + 1; i < p; i++)\n        if (i == max + 1)\n          cout << i;\n        else\n          cout << \" \" << i;\n    }\n    cout << endl;\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "x=raw_input().split(':')\nH=x[0]\nM=x[1]\nH=H[::-1]\nM=M[::-1]\nflag=0\nAns=[]\nMax=2\nfor i in H:\n\tif(i>='0' and i<='9'):\n\t\tMax=max(Max,int(i)+1)\n\telse:\n\t\tMax=max(Max,ord(i)-54)\nfor i in M:\n\tif(i>='0' and i<='9'):\n\t\tMax=max(Max,int(i)+1)\n\telse:\n\t\tMax=max(Max,ord(i)-54)\n\nfor i in xrange(Max,10000):\n\tans1=0\n\tk=1\n\tfor j in H:\n\t\tif(j>='0' and j<='9'):\n\t\t\tans1+=int(j)*k\n\t\telif(j>='A' and j<='Z'):\n\t\t\tq=ord(j)-55\n\t\t\tans1+=q*k\n\t\tk*=i\n\tif(ans1>23):\n\t\tflag=1\n\t\tbreak\n\tk=1\n\tans1=0\n\tfor j in M:\n\t \tif(j>='0' and j<='9'):\n\t\t \tans1+=int(j)*k\n\t\telif(j>='A' and j<='Z'):\n\t\t\t q=ord(j)-55\n\t\t\t ans1+=q*k\n\t\tk*=i\n\tif(ans1>59):\n\t\tflag=1\n\t\tbreak\n\tAns.append(i)\nif(flag):\n\tfor i in Ans:\n\t\tprint i,\n\tif(len(Ans)==0):\n\t\tprint 0\nelse:\n\tprint -1\n"
        },
        {
            "language": 1,
            "solution": "def convert_to_base(n, base):\n\ti = 0\n\tres = 0\n\tfor num in n[::-1]:\n\t\tnum = int(num, 36)\n\t\tif num >= base:\n\t\t\treturn -1\n\t\tres += (num * (base**i))\n\t\ti += 1\n\treturn res\n\n\ndef is_representable(base):\n\tconv_h = convert_to_base(h, base)\n\tconv_m = convert_to_base(m, base)\n\treturn conv_h >= 0 and conv_h < 24 and conv_m >= 0 and conv_m < 60\n\n\nh, m = raw_input().split(':')\nans = filter(is_representable, range(100))\nif ans == []:\n\tprint 0\nelif ans[-1] == 99:\n\tprint -1\nelse:\n\tprint ' '.join(map(str, ans))\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  char s[20], a[20], b[20];\n  gets(s);\n  int i, j, k, l, m;\n  l = strlen(s);\n  for (i = 0; i < l; i++) {\n    if (s[i] == ':') {\n      break;\n    } else {\n      a[i] = s[i];\n    }\n  }\n  a[i] = '\\0';\n  for (j = i + 1; j < l; j++) {\n    b[j - i - 1] = s[j];\n  }\n  b[j - i - 1] = '\\0';\n  char max = '0';\n  for (k = 0; k < l; k++) {\n    if (s[k] != ':') {\n      if (max <= s[k]) {\n        max = s[k];\n      }\n    }\n  }\n  int start;\n  if (max >= '0' && max <= '9') {\n    start = max - '0';\n  } else {\n    start = max - 'A' + 10;\n  }\n  int flag = 0;\n  for (k = 0; k < (i - 1); k++) {\n    if (s[k] != '0') {\n      flag = 1;\n      break;\n    }\n  }\n  for (k = i + 1; k < (l - 1); k++) {\n    if (s[k] != '0') {\n      flag = 1;\n      break;\n    }\n  }\n  int sum, flag2;\n  if (flag) {\n    for (k = start + 1;; k++) {\n      sum = 0;\n      for (j = 0; j < i; j++) {\n        flag2 = 1;\n        if (s[j] >= '0' && s[j] <= '9') {\n          sum = k * sum + (s[j] - '0');\n          if (sum > 23) {\n            flag2 = 0;\n            break;\n          }\n        } else {\n          sum = k * sum + (s[j] - 'A' + 10);\n          if (sum > 23) {\n            flag2 = 0;\n            break;\n          }\n        }\n      }\n      if (!flag2) {\n        break;\n      }\n      sum = 0;\n      for (j = i + 1; j < l; j++) {\n        flag2 = 1;\n        if (s[j] >= '0' && s[j] <= '9') {\n          sum = k * sum + (s[j] - '0');\n          if (sum > 59) {\n            flag2 = 0;\n            break;\n          }\n        } else {\n          sum = k * sum + (s[j] - 'A' + 10);\n          if (sum > 59) {\n            flag2 = 0;\n            break;\n          }\n        }\n      }\n      if (!flag2) {\n        break;\n      } else {\n        printf(\"%d \", k);\n      }\n    }\n    if (k == start + 1) {\n      printf(\"0\");\n    }\n  } else {\n    if ((s[i - 1] - 'A' + 10) >= 24 || (s[l - 1] - 'A' + 10) >= 59) {\n      printf(\"0\");\n    } else {\n      printf(\"-1\");\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint parse(int base, string s) {\n  int i, ans = 0;\n  for (int i = 0; i < s.size(); i++) {\n    int x = ((s[i] >= 'A' && s[i] <= 'Z') ? (s[i] - 'A' + 10) : (s[i] - '0'));\n    if (x >= base) return -1;\n    ans = ans * base + x;\n  }\n  return ans;\n}\nint main(void) {\n  int i;\n  string s;\n  cin >> s;\n  for (i = 0;; i++)\n    if (s[i] == ':') break;\n  string H = s.substr(0, i);\n  string M = s.substr(i + 1);\n  vector<int> ans;\n  for (i = 2; i < 70; i++) {\n    int h = parse(i, H);\n    int m = parse(i, M);\n    if (h >= 0 && h < 24 && m >= 0 && m < 60) ans.push_back(i);\n  }\n  if (ans.empty()) ans.push_back(0);\n  int sz = ans.size();\n  if (ans[sz - 1] == 69) {\n    ans.clear();\n    ans.push_back(-1);\n  }\n  sz = ans.size();\n  for (int i = 0; i < sz; i++) {\n    cout << ans[i];\n    if (i == sz - 1)\n      cout << endl;\n    else\n      cout << ' ';\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\n\npublic class B\n{\n\tBufferedReader input;\n\tStringTokenizer token;\n\tBufferedWriter out;\n\n\tint[] lim;\n\n\tint num(char x)\n\t{\n\t\tif(x >= '0' && x <= '9')return x - '0';\n\t\treturn x - 'A' + 10;\n\t}\n\n\tboolean proc(String s,int w,int i)\n\t{\n\t\tString radix = \"\"+i;\n\t\tboolean ok = true;\n\t\tint num = 0;\n\t\tint ctr = 1;\n\t\tfor(int j = s.length()-1; j >= 0; j --)\n\t\t{\n\t\t\tint tmp = num(s.charAt(j));\n\t\t\tif(tmp >= i)\n\t\t\t{\n\t\t\t\tok = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tnum += tmp*ctr;\n\t\t\tctr *= i;\n\t\t\tif(num > lim[w])\n\t\t\t{\n\t\t\t\tok = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn ok;\n\t}\n\n\tvoid solve() throws IOException\n\t{\n\t\tlim = new int[2];\n\t\tlim[0] = 23;\n\t\tlim[1] = 59;\n\t\tinput = new BufferedReader(new InputStreamReader(System.in));\n\t\tout = new BufferedWriter(new OutputStreamWriter(System.out));\n\t\tString in = next();\n\t\tStringTokenizer t = new StringTokenizer(in,\":\");\n\t\tString h = t.nextToken();\n\t\tString m = t.nextToken();\n\t\tint ans = 0;\n\t\tArrayList<Integer> asd = new ArrayList<Integer>();\n\t\tfor(int i = 1; i < 100; i++)\n\t\t{\n\t\t\tif(proc(h,0,i) && proc(m,1,i))\n\t\t\t{\n\t\t\t\tasd.add(i);\n\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t\tif(ans > 60)\n\t\t{\n\t\t\tout.write(\"-1\");\n\t\t}\n\t\telse if(ans == 0)\n\t\t{\n\t\t\tout.write(\"0\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int i = 0; i < asd.size(); i++)\n\t\t\t{\n\t\t\t\tout.write(\"\"+asd.get(i));\n\t\t\t\tif(i != asd.size()-1)out.write(\" \");\n\t\t\t}\n\t\t}\n\t\tout.flush();\n\t}\n\n\tint nextInt() throws IOException\n\t{\n\t\tif(token == null || !token.hasMoreTokens())\n\t\t\ttoken = new StringTokenizer(input.readLine());\n\t\treturn Integer.parseInt(token.nextToken());\n\t}\n\n\tLong nextLong() throws IOException\n\t{\n\t\tif(token == null || !token.hasMoreTokens())\n\t\t\ttoken = new StringTokenizer(input.readLine());\n\t\treturn Long.parseLong(token.nextToken());\n\t}\n\n\tString next() throws IOException\n\t{\n\t\tif(token == null || !token.hasMoreTokens())\n\t\t\ttoken = new StringTokenizer(input.readLine());\n\t\treturn token.nextToken();\n\t}\n\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tnew B().solve();\n\t}\n}"
        },
        {
            "language": 3,
            "solution": "numbers = {'0':0,'1':1,'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'A':10,'B':11,'C':12,'D':13,'E':14,'F':15,'G':16,'H':17,'I':18,'J':19,'K':20,'L':21,'M':22,'N':23,'O':24,'P':25,'Q':26,'R':27,'S':28,'T':29,'U':30,'V':31,'W':32,'X':33,'Y':34,'Z':35}\n\ndef ConvertToDecimal(number, base):\n\tnewnumber = 0\n\tfor digit in range(-1,(0-len(number))-1,-1):\n\t\tif(numbers[number[digit]] >= int(base)):\n\t\t\treturn -1\n\t\tnewnumber += numbers[number[digit]]*(int(base)**(0-digit-1))\n\treturn newnumber\n\na,b = [x for x in input().split(':')]\ndidmake = False\nif(0<=ConvertToDecimal(a,60)<=23 and 0<=ConvertToDecimal(b,60)<=59):\n\tprint(-1)\n\tdidmake = True\nelse:\n\tfor base in range(2,60):\n\t\tif(0<=ConvertToDecimal(a,base)<=23 and 0<=ConvertToDecimal(b,base)<=59):\n\t\t\tprint(base, end = \" \")\n\t\t\tdidmake = True\n\t\t\t\nif not didmake:\n\tprint(0)"
        },
        {
            "language": 4,
            "solution": "//import java.io.*;\nimport java.util.*;\n//import java.lang.Math.*;\npublic class radix\n{\n     public static void main(String args[])throws Exception\n     {\n         Scanner in=new Scanner(System.in);\n         //BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n         String s=in.next();\n         int l=s.length();\n         int i,j=0,k=0,maxh=0,maxm=0,max=0;\n         int h[]=new int[5],m[]=new int[5];\n         for(i=0;i<l;i++)\n         {\n             char ch=s.charAt(i);\n             if(ch==':')\n             break;\n             \n             else if(ch>='0'&& ch<='9')\n             h[j++]=(int)ch-48;\n             \n             else\n             h[j++]=(int)ch-55;\n             \n         }\n         for(;i<l;i++)\n         {\n             char ch=s.charAt(i);\n             if(ch==':')\n             continue;\n             \n             else if(ch>='0'&& ch<='9')\n             m[k++]=(int)ch-48;\n             \n             else\n             m[k++]=(int)ch-55;\n             \n         }\n         for(i=j-1;i>=0;i--)\n         {\n             maxh=Math.max(h[i],maxh);\n         }\n         for(i=k-1;i>=0;i--)\n         {\n             maxm=Math.max(m[i],maxm);\n         }\n         max=Math.max(maxh,maxm);\n         \n         if(radixh(h,60,j-1) && radixm(m,60,k-1))\n         System.out.println(-1);\n         \n         else if(!(radixh(h,max+1,j-1)) || !(radixm(m,max+1,k-1)))\n         System.out.println(0);\n         \n         else\n         {\n             for(i=max+1;;i++)\n             {\n                 if(radixh(h,i,j-1) && radixm(m,i,k-1))\n                 System.out.println(i);\n                 else\n                 break;\n                }\n            }\n     }\n     \n     public static boolean radixh(int a[],int n,int i)\n     { \n         int sum=0,mul=1;\n         for(;i>=0;i--)\n         {\n             sum+=a[i]*mul;\n             mul=mul*n;\n         }\n         if(sum<24)return true;\n         else return false;\n     }\n     public static boolean radixm(int a[],int n,int i)\n     { \n         int sum=0,mul=1;\n         for(;i>=0;i--)\n         {\n             sum+=a[i]*mul;\n             mul=mul*n;\n         }\n         if(sum<60)return true;\n         else return false;\n     }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar str[30];\nchar a[10], b[10];\nbool chk(int r) {\n  int rr = 1;\n  int i = strlen(a);\n  int j = strlen(b);\n  i--;\n  j--;\n  int s = 0, t = 0;\n  while (i >= 0) {\n    int tmp;\n    if (isdigit(a[i]))\n      tmp = a[i] - '0';\n    else\n      tmp = a[i] - 'A' + 10;\n    s += rr * tmp;\n    rr *= r;\n    if (s > 23) return false;\n    i--;\n  }\n  rr = 1;\n  while (j >= 0) {\n    int tmp;\n    if (isdigit(b[j]))\n      tmp = b[j] - '0';\n    else\n      tmp = b[j] - 'A' + 10;\n    t += rr * tmp;\n    rr *= r;\n    if (t > 59) return false;\n    j--;\n  }\n  return true;\n}\nint main() {\n  while (scanf(\"%s\", str) != -1) {\n    int i, j;\n    int len = strlen(str);\n    j = 0;\n    int ma = 0, mb = 0;\n    int maxm = 0;\n    for (i = 0; i < len; i++) {\n      if (isdigit(str[i])) ma = max(ma, str[i] - '0');\n      if (isalpha(str[i])) ma = max(ma, str[i] - 'A' + 10);\n      if (str[i] == ':') break;\n      a[j++] = str[i];\n    }\n    a[j] = '\\0';\n    for (i += 1, j = 0; i < len; i++) {\n      if (isdigit(str[i])) mb = max(mb, str[i] - '0');\n      if (isalpha(str[i])) mb = max(mb, str[i] - 'A' + 10);\n      b[j++] = str[i];\n    }\n    b[j] = '\\0';\n    bool ok = 0;\n    int cnt = 0;\n    int ll = strlen(a);\n    bool g1 = 0, g2 = 0;\n    for (i = 0; i < ll; i++) {\n      if (a[i] != '0' && cnt == ll - 1 && i == ll - 1) {\n        g1 = 1;\n        break;\n      } else if (a[i] == '0')\n        cnt++;\n    }\n    if (cnt == ll) g1 = 1;\n    ll = strlen(b);\n    cnt = 0;\n    for (i = 0; i < ll; i++) {\n      if (b[i] != '0' && cnt == ll - 1 && i == ll - 1) {\n        g2 = 1;\n        break;\n      } else if (b[i] == '0')\n        cnt++;\n    }\n    if (cnt == ll) g2 = 1;\n    if (g1 && g2 && ma <= 23 && mb <= 59) {\n      cout << -1 << endl;\n      continue;\n    } else if (g1 && g2 && (ma > 23 || mb > 59)) {\n      cout << 0 << endl;\n      continue;\n    }\n    maxm = max(ma, mb);\n    for (i = maxm + 1;; i++) {\n      if (chk(i)) {\n        cout << i << \" \";\n        ok = 1;\n      } else\n        break;\n    }\n    if (!ok) cout << 0;\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "h, m = raw_input().split(':')\n\ndef conv(s, b):\n    if not s: return 0\n    if b <= 36: return int(s, b)\n    return conv(s[:-1], b) * b + int(s[-1], 36)\n\ndef judge(k):\n    try: a, b = conv(h, k) < 24, conv(m, k) < 60\n    except ValueError: return False\n    return a and b\n\nres = filter(judge, range(2, 61))\nif not res: print 0\nelif res[-1] == 60: print -1\nelse: print ' '.join(map(str, res))\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long int dec(string s, int n) {\n  long long int r = 0, p = 0, l = s.size() - 1, tmp;\n  while (l >= 0) {\n    if (isalpha(s[l]))\n      tmp = s[l] - 55;\n    else\n      tmp = s[l] - 48;\n    int prod = 1;\n    for (int k = 0; k < p; k++) prod *= n;\n    r += prod * tmp;\n    p++;\n    l--;\n  }\n  return r;\n}\nint main() {\n  string s, a, b;\n  int mx = 0;\n  cin >> s;\n  int i = 0;\n  while (s[i] != ':') {\n    a.push_back(s[i]);\n    if (mx < s[i]) mx = s[i];\n    i++;\n  }\n  i++;\n  while (s[i] != '\\0') {\n    b.push_back(s[i]);\n    if (mx < s[i]) mx = s[i];\n    i++;\n  }\n  int bg;\n  bg = mx < 65 ? mx - 48 : mx - 55;\n  int beg = max(2, bg + 1);\n  if (dec(a, beg) >= 24 || dec(b, beg) >= 60) {\n    cout << 0 << endl;\n    return 0;\n  }\n  if (dec(a, 100) < 24 && dec(b, 100) < 60) {\n    cout << -1 << endl;\n    return 0;\n  }\n  for (i = beg;; i++) {\n    if (dec(a, i) < 24 && dec(b, i) < 60) {\n      cout << i << \" \";\n    } else\n      break;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst double pi = acos(-1.0);\nconst double eps = 1e-7;\ntemplate <class TT>\nTT sqr(TT a) {\n  return a * a;\n}\ntemplate <class TT>\nTT abs(TT a) {\n  if (a < 0) return -a;\n  return a;\n}\ntemplate <class ZZ>\nZZ max(ZZ a, ZZ b, ZZ c) {\n  return max(a, max(b, c));\n}\ntemplate <class ZZ>\nZZ min(ZZ a, ZZ b, ZZ c) {\n  return min(a, min(b, c));\n}\nlong long f(char c) {\n  if (isdigit(c)) return c - '0';\n  return c - 'A' + 10;\n}\nlong long val(string a, long long bs) {\n  reverse((a).begin(), (a).end());\n  long long x = 1, re = 0, i;\n  for (i = 0; i < ((int)a.size()); i++) {\n    re += x * f(a[i]);\n    x *= bs;\n  }\n  return re;\n}\nbool ch(string a, string b, long long bs) {\n  long long va = val(a, bs), vb = val(b, bs);\n  return (va <= 23 && vb <= 59);\n}\nint main() {\n  vector<int> v;\n  long long i, j, k, tks, ks = 1, n, m;\n  string s, a, b;\n  while (cin >> s) {\n    m = 0;\n    v.clear();\n    for (i = 0; i < ((int)s.size()); i++)\n      if (s[i] == ':')\n        s[i] = ' ';\n      else {\n        m = max(m, f(s[i]));\n      }\n    m++;\n    stringstream ss(s);\n    ss >> a >> b;\n    for (i = m; i < 100; i++)\n      if (ch(a, b, i)) {\n        v.push_back(i);\n      } else\n        break;\n    if (i == 100)\n      printf(\"-1\\n\");\n    else if (((int)v.size()) == 0)\n      printf(\"0\\n\");\n    else {\n      for (i = 0; i < ((int)v.size()); i++) {\n        if (i) cout << \" \";\n        cout << v[i];\n      }\n      cout << endl;\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint num(char ch) {\n  if (isdigit(ch)) return ch - '0';\n  return 10 + ch - 'A';\n}\nint cnvt(string s, int base) {\n  int ans = 0;\n  int po = 0;\n  for (int i = s.length() - 1; i >= 0; i--) {\n    ans += num(s[i]) * pow(base, po++);\n  }\n  return ans;\n}\nint main() {\n  string s;\n  cin >> s;\n  int mid = 0;\n  while (s[mid] != ':') mid++;\n  string hr = s.substr(0, mid);\n  string mi = s.substr(mid + 1);\n  int zeros = 0;\n  while (hr[zeros] == '0') zeros++;\n  hr = hr.substr(zeros);\n  zeros = 0;\n  while (mi[zeros] == '0') zeros++;\n  mi = mi.substr(zeros);\n  int prevmi = -1;\n  int prevhr = -1;\n  int minBase = 1;\n  for (char ch : mi) minBase = std::max(minBase, num(ch));\n  for (char ch : hr) minBase = std::max(minBase, num(ch));\n  minBase++;\n  vector<int> ans;\n  while (true) {\n    int curhr = cnvt(hr, minBase);\n    int curmi = cnvt(mi, minBase);\n    if (curhr >= 0 && curhr < 24 && curmi >= 0 && curmi < 60) {\n      if (curhr == prevhr && curmi == prevmi) {\n        cout << -1;\n        return 0;\n      } else {\n        prevhr = curhr;\n        prevmi = curmi;\n        ans.push_back(minBase);\n        minBase++;\n      }\n    } else {\n      break;\n    }\n  }\n  if (ans.size() == 0)\n    cout << 0;\n  else\n    for (int t : ans) cout << t << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\n\npublic class B {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String []s = sc.next().split(\":\");\n        String h = s[0].toLowerCase();\n        String m = s[1].toLowerCase();\n        int[]ans = new int[1000];\n        int n = 0;\n        for (int i = 2; i <= 100; i++) {\n            if (is(h, i) && is(m, i)) {\n                int a = f(h, i);\n                int b = f(m, i);\n                if (a >= 0 && a <= 23 && b >= 0 && b <= 59) {\n                    ans[++n] = i;\n                }\n            }\n        }\n        if (ans[n]==100) {\n            System.out.println(-1);\n        }\n        else {\n            if (n==0)\n                System.out.println(0);\n            else {\n                for (int i = 1; i <= n; i++) {\n                    System.out.print(ans[i]+\" \");\n                }\n            }\n        }\n    }\n\n    private static int f(String h, int k) {\n        int res = 0;\n        for (int i = 0; i < h.length(); i++) {\n            res += code(h.charAt(i))*Math.pow(k, h.length()-i-1);\n        }\n        return res;\n    }\n\n    private static int code(char w) {\n        int t = (int)w;\n        if (t <= 57)\n            return t-48;\n        return t-87;\n    }\n\n    private static boolean is(String h, int k) {\n        int r = 0;\n        for (int i = 0; i < h.length(); i++) {\n            if (h.charAt(i)!='0')\n                r++;\n        }\n        if (r!=0) {\n            int t = 0;\n            while (h.charAt(t)=='0')\n                t++;\n            h = h.substring(t);\n        }\n        for (int i = 0; i < h.length(); i++) {\n            int t = code(h.charAt(i));\n            if (t >= k)\n                return false;\n        }\n        return true;\n    }\n}\n"
        },
        {
            "language": 1,
            "solution": "time = raw_input()\nh = time[:time.index(':')]\nmi = time[time.index(':')+1:]\nres = [];\nfor i in range(100):\n\ti += 1\n\tx = 0;\n\ty = 0;\n\t\n\t\n\tk = 0\n\tfor j in range(len(h))[::-1]:\n\t\tm = 0\n\t\tif h[j] >= 'A' and h[j] <= 'Z':\n\t\t\tm = ord(h[j]) - 55;\n\t\telse:\n\t\t\tm = int(h[j])\n\t\tif m >= i:\n\t\t\tx = 9999\n\t\t\tbreak;\n\t\tx += pow(i, k)*m\n\t\tk += 1\n\t\n\tk = 0\n\tfor j in range(len(mi))[::-1]:\n\t\tm = 0\n\t\tif mi[j] >= 'A' and mi[j] <= 'Z':\n\t\t\tm = ord(mi[j]) - 55;\n\t\telse:\n\t\t\tm = int(mi[j])\n\t\tif m >= i:\n\t\t\ty = 9999\n\t\t\tbreak;\n\t\ty += pow(i, k)*m\n\t\tk += 1\n\t\t\n\tif x <= 23 and y <= 59:\n\t\tres.append(str(i))\nif len(res) == 0:\n\tprint \"0\"\nelif res[-1] == '100':\n\tprint \"-1\"\nelse:\n\tprint \" \".join(res)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma comment(linker, \"/STACK:67108864\")\nusing namespace std;\nint convert(string &s, int ps) {\n  long long res(0ll);\n  for (int i(0); i <= ((int)(s.length()) - 1); ++i) {\n    int x;\n    if (isdigit(s[i]))\n      x = s[i] - '0';\n    else\n      x = s[i] - 'A' + 10;\n    if (x >= ps) return -1;\n    res *= (long long)ps;\n    res += (long long)x;\n  }\n  return res;\n}\nint main() {\n  string a, b;\n  getline(cin, a);\n  b = a.substr(0, a.find(':'));\n  a.erase(a.begin(), a.begin() + a.find(':') + 1);\n  swap(a, b);\n  while (a.length() > 1 && a[0] == '0') a.erase(a.begin());\n  while (b.length() > 1 && b[0] == '0') b.erase(b.begin());\n  vector<int> res;\n  for (int i(2); i <= (140); ++i) {\n    if (convert(a, i) >= 0ll && convert(a, i) <= 23ll && convert(b, i) >= 0ll &&\n        convert(b, i) <= 59ll)\n      res.push_back(i);\n  }\n  if (((int)res.size()) == 0)\n    printf(\"0\\n\");\n  else if (((int)res.size()) > 66)\n    printf(\"-1\\n\");\n  else {\n    printf(\"%d\", res[0]);\n    for (int i(0); i <= ((int)(((int)res.size()) - 1) - 1); ++i)\n      printf(\" %d\", res[i + 1]);\n    printf(\"\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def conv(n,b):\n\tif not n:\n\t\treturn 0\n\tif int(n[-1],36)>=b:\n\t\treturn 100\n\treturn int(n[-1],36)+conv(n[:-1],b)*b\nh,m=raw_input().split(\":\")\nz=filter(lambda x:conv(h,x)<24 and conv(m,x)<60,range(1,100))\nif z==[]:\n\tprint 0\nelif z[-1]==99:\n\tprint -1\nelse:\n\tprint ' '.join(map(str,z))"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint c2i(char c) { return c <= '9' ? c - '0' : c - 'A' + 10; }\nint conv(string s, int r) {\n  int ret = 0;\n  for (int i = 0, _n = (int)((int((s).size()))); i < _n; i++)\n    if (c2i(s[i]) >= r) return -1;\n  for (int i = 0, _n = (int)((int((s).size()))); i < _n; i++) {\n    ret = ret * r + c2i(s[i]);\n    if (ret > 1000) return -1;\n  }\n  return ret;\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  string str;\n  cin >> str;\n  string a, b;\n  for (int i = 0, _n = (int)((int((str).size()))); i < _n; i++)\n    if (str[i] != ':')\n      a += str[i];\n    else\n      break;\n  for (int i = (int)((int((str).size()))), _x = (int)(0); i-- > _x;)\n    if (str[i] != ':')\n      b = str[i] + b;\n    else\n      break;\n  vector<int> ans;\n  for (int r = (int)(2), _n = (int)(1000); r < _n; r++) {\n    int x = conv(a, r);\n    int y = conv(b, r);\n    if (0 <= x && x < 24 && 0 <= y && y < 60) ans.push_back(r);\n  }\n  if ((int((ans).size())) == 0)\n    cout << 0 << endl;\n  else if ((int((ans).size())) > 100)\n    cout << -1 << endl;\n  else {\n    for (int i = 0, _n = (int)((int((ans).size()))); i < _n; i++)\n      cout << ans[i] << ' ';\n    cout << endl;\n  }\n  {\n    int _;\n    cin >> _;\n    return 0;\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.*;\n\npublic class Solution {\n    \n    public static void main(String[] args) throws Exception {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String[] val = reader.readLine().trim().split(\":\");\n        String hour = val[0];\n        String minute = val[1];\n\n        Map<Character, Integer> digitMap = initDigitMap();\n        if (isPofig(hour, 23, digitMap) && isPofig(minute, 59, digitMap)) {\n            System.out.println(-1);\n            return;\n        }\n\n        int startBase = Math.max(getMaxDigit(hour, digitMap), getMaxDigit(minute, digitMap)) + 1;\n        List<Integer> resultList = new ArrayList<Integer>();\n        while (true) {\n            int hr = getValue(hour, digitMap, startBase);\n            if (hr > 23) {\n                break;\n            }\n            int min = getValue(minute, digitMap, startBase);\n            if (min > 59) {\n                break;\n            }\n            resultList.add(startBase);\n            startBase++;\n        }\n\n        StringBuilder result = new StringBuilder();\n        int resultSize = resultList.size();\n        if (resultSize == 0) {\n            System.out.println(0);\n            return;\n        }\n        for (int i = 0; i < resultSize; i++) {\n            result.append(resultList.get(i));\n            if (i != resultSize - 1) {\n                result.append(\" \");\n            }\n        }\n        System.out.println(result.toString());\n    }\n\n    private static int getValue(String str, Map<Character, Integer> digitMap, int base) {\n        int value = 0;\n        int size = str.length();\n        int multi = 1;\n        for (int i = size - 1; i >= 0; i--) {\n            value = value + multi * digitMap.get(str.charAt(i));\n            multi = multi * base;\n        }\n        return value;\n    }\n\n    @SuppressWarnings(\"all\")\n    private static int getMaxDigit(String str, Map<Character, Integer> digitMap) {\n        Integer max = null;\n        int size = str.length();\n        for (int i = 0; i < size; i++) {\n            Integer digit = digitMap.get(str.charAt(i));\n            if (max == null || digit > max) {\n                max = digit;\n            }\n        }\n        return max;\n    }\n\n    private static boolean isPofig(String str, int maxValue, Map<Character, Integer> digitMap) {\n        int notZeroIndex = str.length() - 1;\n        for (int i = 0; i < notZeroIndex; i++) {\n            if (str.charAt(i) != '0') {\n                return false;\n            }\n        }\n        return digitMap.get(str.charAt(notZeroIndex)) <= maxValue;\n    }\n\n    private static Map<Character, Integer> initDigitMap() {\n        Map<Character, Integer> digitMap = new HashMap<Character, Integer>(35);\n        char c = '0';\n        int d = 0;\n        while (c <= '9') {\n            digitMap.put(c, d);\n            c++;\n            d++;\n        }\n        c = 'A';\n        d = 10;\n        while (c <= 'Z') {\n            digitMap.put(c, d);\n            c++;\n            d++;\n        }\n        return digitMap;\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring s;\nchar a[1005];\nchar b[1005];\nint getv(char c) {\n  if (c >= '0' && c <= '9') return c - '0';\n  if (c >= 'A' && c <= 'Z') return c - 'A' + 10;\n  return -1;\n}\nvector<int> ans;\nint main() {\n  cin >> s;\n  int len = s.length();\n  int p = s.find(':');\n  int la = 0, lb = 0, i;\n  for (i = 0; i < p; i++) {\n    a[la++] = s[i];\n  }\n  a[la] = 0;\n  for (i = p + 1; i < len; i++) {\n    b[lb++] = s[i];\n  }\n  b[lb] = 0;\n  int hh = 0, ss = 0;\n  int nFlag;\n  for (int bt = 2; bt <= 200; bt++) {\n    hh = 0, ss = 0;\n    nFlag = 1;\n    for (i = 0; i < la; i++) {\n      int num = getv(a[i]);\n      if (num >= bt) {\n        nFlag = 0;\n        break;\n      }\n      hh = hh * bt + num;\n    }\n    if (!nFlag) continue;\n    for (i = 0; i < lb; i++) {\n      int num = getv(b[i]);\n      if (num >= bt) {\n        nFlag = false;\n        break;\n      }\n      ss = ss * bt + num;\n    }\n    if (!nFlag) continue;\n    if (hh >= 0 && hh < 24 && ss >= 0 && ss < 60) ans.push_back(bt);\n  }\n  if (ans.size() == 0)\n    puts(\"0\");\n  else if (ans.size() > 100)\n    puts(\"-1\");\n  else {\n    for (i = 0; i < (int)ans.size(); i++) {\n      printf(\"%d \", ans[i]);\n    }\n    puts(\"\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "def getValue(c):\n    res = ord(c) - ord('0')\n    if (res > 16):\n        res -= 7\n    return res\n\ndef getNumber(base, a, b):\n    hours, minutes = 0, 0\n\n    ii = 0\n    for i in range(len(a)-1, -1, -1):\n        hours += getValue(a[i]) * pow(base, ii)\n        ii += 1\n    if (hours > 23):\n        return -1, -1\n\n    ii = 0\n    for i in range(len(b) - 1, -1, -1):\n        minutes += getValue(b[i]) * pow(base, ii)\n        ii += 1\n\n    if (minutes > 59):\n        return -1, -1\n\n    return hours, minutes\n\ndef getBase(a,b):\n    base = 0\n    for i in range(len(a)):\n        base = max(base, getValue(a[i]))\n\n    for i in range(len(b)):\n        base = max(base, getValue(b[i]))\n\n    return base+1\n\nif __name__ == '__main__':\n    a, b = input().split(':')\n\n    res = []\n    inf = 0\n    lastHours, lastMinutes = -1, -1\n    base = getBase(a, b)\n\n    while True:\n        hours, minutes = getNumber(base,a,b)\n        if (hours == -1 and minutes == -1):\n            break\n\n        if (hours == lastHours and minutes == lastMinutes):\n            inf = 1\n            break\n\n        res.append(base)\n        lastHours, lastMinutes = hours , minutes\n        base += 1\n\n    if (inf == 1):\n        print(-1)\n    elif (len(res) == 0):\n        print(0)\n    else:\n        print(' '.join(str(x) for x in res))"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport java.math.*;\n\npublic class Timus {\n\tstatic BufferedReader in;\n\tstatic PrintWriter out;\n\tstatic StringTokenizer st;\n\tstatic Random rnd;\n\t\n\tstatic boolean check(String s, int a) {\n\t\tfor(int i = 0; i < s.length(); i++) {\n\t\t\tint cur = 0;\n\t\t\t\n\t\t\tchar c = s.charAt(i);\n\t\t\tif(Character.isDigit(c)) cur = c - '0';\n\t\t\telse cur = 10 + c - 'a';\n\t\t\t\n\t\t\tif(cur >= a) return false;\n\t\t}\n\t\t\n\t\treturn true;\n\t}\n\t\n\tstatic String remove(String s) {\n\t\twhile(s.length() > 1 && s.charAt(0) == '0') {\n\t\t\ts = s.substring(1);\n\t\t}\n\t\t\n\t\treturn s;\n\t}\n\t\n\tstatic long convert(String s, long a) {\n\t\tlong res = 0, base = 1;\n\t\t\n\t\tfor(int i = s.length() - 1; i >= 0; i--) {\n\t\t\tlong cur = 0;\n\t\t\t\n\t\t\tchar c = s.charAt(i);\n\t\t\tif(Character.isDigit(c)) cur = c - '0';\n\t\t\telse cur = 10 + c - 'a';\n\t\t\t\n\t\t\tres += cur * base;\n\t\t\t\n\t\t\tbase *= a;\n\t\t}\n\t\t\n\t\treturn res;\n\t}\n\t\n\tstatic boolean checkNull(String a, String b) {\n\t\ta  =remove(a);\n\t\tb = remove(b);\n\t\t\n\t\tif(a.length() > 1 || b.length() > 1) return false;\n\t\tif(a.charAt(0) >= (char) ('A' + 14)) return false;\n\t\treturn true;\n\t}\n\n\tstatic void solve() throws IOException {\n\t\tString[] tokens = nextToken().split(\":\");\n\t\tint[] ok = new int[100];\n\t\t\n\t\t/*if(checkNull(tokens[0], tokens[1])) {\n\t\t\tout.println(-1);\n\t\t\treturn;\n\t\t}*/\n\t\t\n\t\tfinal int[] limits = {23, 59};\n\t\t\n\t\tfor(int i = 0; i < 2; i++) {\n\t\t\tString token = tokens[i].toLowerCase();\n\t\t\t\n\t\t\tfor(int radix = 2; radix < ok.length; radix++) {\n\t\t\t\tif(check(token, radix)) {\n\t\t\t\t\tlong t = convert(token, radix);\n\t\t\t\t\tif(t <= limits[i]) ok[radix]++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(ok[99] == 2) {\n\t\t\tout.println(-1);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tboolean flag = false;\n\t\t\n\t\tfor(int i = 2; i < ok.length; i++) {\n\t\t\tif(ok[i] == 2) {\n\t\t\t\tflag = true;\n\t\t\t\tout.print(i);\n\t\t\t\tout.print(' ');\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!flag) out.print(0);\n\t\t\n\t\tout.print('\\n');\n\t\t\n\t}\n\n\tpublic static void main(String[] args) {\n\t\ttry {\n\t\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\t\tout = new PrintWriter(System.out);\n\t\t\trnd = new Random();\n\n\t\t\tsolve();\n\n\t\t\tout.close();\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t\tSystem.exit(42);\n\t\t}\n\t}\n\n\tstatic String nextToken() throws IOException {\n\t\twhile (st == null || !st.hasMoreTokens()) {\n\t\t\tString line = in.readLine();\n\n\t\t\tif (line == null)\n\t\t\t\treturn null;\n\n\t\t\tst = new StringTokenizer(line);\n\t\t}\n\n\t\treturn st.nextToken();\n\t}\n\n\tstatic int nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tstatic long nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tstatic double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint dx8[8] = {1, -1, 0, 0, 1, 1, -1, -1};\nint dy8[8] = {0, 0, 1, -1, 1, -1, 1, -1};\nvoid file() {}\nvoid fast() {\n  std::ios_base::sync_with_stdio(0);\n  cin.tie(NULL);\n  cout.tie(NULL);\n}\nlong long chartoint(char ch) {\n  if ('0' <= ch && ch <= '9') return (ch - '0');\n  return (ch - 'A' + 10);\n}\nlong long toint(string x, int base) {\n  long long ans = 0;\n  long long m = 1;\n  for (int i = x.size() - 1; i >= 0; i--) ans += chartoint(x[i]) * m, m *= base;\n  return ans;\n}\nint main() {\n  string x;\n  cin >> x;\n  string h, m;\n  bool hh = 1, fh = 0, fm = 0;\n  for (int i = 0; i < x.size(); i++) {\n    if (x[i] == ':') {\n      hh = 0;\n      continue;\n    }\n    if (hh) {\n      if (x[i] != '0') fh = 1;\n      if (fh) h += x[i];\n    } else {\n      if (x[i] != '0') fm = 1;\n      if (fm) m += x[i];\n    }\n  }\n  if (h.empty()) h = \"0\";\n  if (m.empty()) m = \"0\";\n  if (h.size() == 1 && m.size() == 1) {\n    if (chartoint(h[0]) >= 24)\n      cout << 0;\n    else\n      cout << -1;\n    return 0;\n  }\n  long long bas = 0, c = 0;\n  for (int i = 0; i < h.size(); i++)\n    bas = max((long long)(bas), chartoint(h[i]));\n  for (int i = 0; i < m.size(); i++) bas = max((long long)bas, chartoint(m[i]));\n  bas++;\n  if (toint(h, bas) < 24 && toint(m, bas) < 60) {\n    c++;\n    cout << bas << \" \";\n  }\n  bas++;\n  while (1) {\n    if (toint(h, bas) < 24 && toint(m, bas) < 60)\n      cout << bas++ << \" \";\n    else\n      break;\n  }\n  if (!c) cout << 0 << endl;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.util.*;\nimport java.lang.String;\nimport java.lang.Integer;\n\npublic class taskB {\n\tBufferedReader reader;\n\tStringTokenizer tokenizer = null;\n\tPrintWriter writer;\n\n\tpublic static void main(String[] args) {\n\t\ttry {\n\t\t\tnew taskB().run();\n\t\t} catch(IOException e) {\n\t\t}\t\n\t}\n\n\tvoid run() throws IOException {\n\t\ttokenizer = null;\n\t\treader = new BufferedReader(new InputStreamReader(System.in));\n\t\twriter = new PrintWriter(System.out);\n\t\tsolve();\n\t\twriter.flush();\n\t}\n\n\tint[] getNums(String str){\n\t\tfinal String[] Alpabet = {\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"};\n\t\tint len = str.length();\n\t\tint[] nums = new int[len];\n\t\tfor (int i = 0; i < len; i++) {\n\t\t\tint count = 10;\n\t\t\tfor (String stri : Alpabet) {\n\t\t\t\t//if (str.equals(stri.charAt(i))) {\n\t\t\t\t//if (stri.equals(str.charAt(i))) {\n\t\t\t\tif (stri.equals(String.valueOf(str.charAt(i)))) {\n\t\t\t\t\tnums[len - i - 1] = count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcount++;\n\t\t\t}\n\n\t\t\tif (count == 36) {\n\t\t\t\t//nums[i] = Integer.parseInt(\"\" + str.charAt(i));\n\t\t\t\tnums[len - i - 1] = Integer.parseInt(\"\" + str.charAt(i));\n\t\t\t\t//System.out.println(\"count == 36\" +\" i \" + i);\n\t\t\t} else if (count != 36 && nums[len - i - 1] == 0){\n\t\t\t\tnums[len - i - 1] = -1;\n\t\t\t\t//System.out.println(\"count != 36\" +\"i\" + i );\n\t\t\t}\n\t\t\t//} else {\n\t\t\t\t//nums[i] = -1;\n\t\t\t\t//System.out.println(\"count != 36\" +\"i\" + i );\n\t\t\t//}\n\t\t}\n\t\treturn nums;\n\t}\n\n\tint getMaxNum(int[] hours, int[] minutes){\n\t\tint max = 0;\n\t\tfor (int i : hours) {\n\t\t\tif (max < i) max = i;\n\t\t}\n\t\tfor (int i : minutes) {\n\t\t\tif (max < i) max = i;\n\t\t}\n\t\treturn max;\n\t}\n\n\tint getTenNum(int num, int[] arr) {\n\t\tint len = arr.length;\n\t\t//int n = 1;\n\t\tint ans = 0;\n\n\t\tfor (int i = 0; i < len; i++) {\n\t\t\t//for (int j = 0; j < i; j++) {\n\t\t\tint c = i;\n\t\t\tint n = 1;\n\t\t\twhile(c > 0) {\n\t\t\t\tn *= num;\n\t\t\t\tc--;\n\t\t\t}\n\t\t\t//ans = arr[i] * n;\n\t\t\tans += arr[i] * n;\n\t\t\t//System.out.println(\"n\" + n + \" num\" + num +\" ans\" + ans);\n\t\t}\n\t\treturn ans;\n\t}\n\t\t\n\tprivate void solve() throws IOException {\n\n\t\tString time = new String(nextLine());\n\t\tString[] times = time.split(\":\");\n\t\tint[] hours = getNums(times[0]);\n\t\tint[] minutes = getNums(times[1]);\n\t\tint max = getMaxNum(hours, minutes);\n\t\tint minNum = max + 1;\n\t\tint tempH = getTenNum(minNum, hours);\n\t\tint tempM = getTenNum(minNum, minutes);\n\n\t\t//if (tempH > 23 || tempM > 60) {\n\t\tif (tempH > 23 || tempM > 59) {\n\t\t\twriter.print(0);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tList<Integer> list = new ArrayList<Integer>();\n\t\tint count = 0;\n\t\t//while (tempH <= 23 && tempM <= 60) {\n\t\twhile (tempH <= 23 && tempM <= 59) {\n\t\t\tlist.add(minNum);\n\t\t\tminNum++;\n\t\t\ttempH = getTenNum(minNum, hours);\n\t\t\ttempM = getTenNum(minNum, minutes);\n\t\t\tcount++;\n\t\t\tif (count > 1e4) {\n\t\t\t\twriter.print(-1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tString str = Integer.toString(list.get(0));\n\t\tint flag = -1;\n\t\tfor (int i : list) {\n\t\t\tif (flag == -1) {\n\t\t\t\tflag = 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tstr += \" \" + Integer.toString(i);\n\t\t}\t\n\t\twriter.print(str);\n\t}\n\n\t/********************** \n\t* Input \n\t***********************/\n\t//BufferedReader in;\n\tPrintWriter out;\n\t//StringTokenizer st = new StringTokenizer(\"\");\n\n\tString nextToken() throws IOException {\n\t\twhile (tokenizer == null || !tokenizer.hasMoreTokens())\n\t\t\ttokenizer = new StringTokenizer(reader.readLine());\n\t\treturn tokenizer.nextToken();\n\t}\n\n\tint nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tlong nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tdouble nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\n\tint[] nextIntArray(int size) throws IOException {\n\t\tint[] ret = new int [size];\n\t\tfor (int i = 0; i < size; i++)\n\t\t\tret[i] = nextInt();\n\t\treturn ret;\n\t}\n    \n\tlong[] nextLongArray(int size) throws IOException {\n\t\tlong[] ret = new long [size];\n\t\tfor (int i = 0; i < size; i++)\n\t\t\tret[i] = nextLong();\n\t\treturn ret;\n\t}\n    \n\tdouble[] nextDoubleArray(int size) throws IOException {\n\t\tdouble[] ret = new double [size];\n\t\tfor (int i = 0; i < size; i++)\n\t\t\tret[i] = nextDouble();\n\t\treturn ret;\n\t}\n\n\tString nextLine() throws IOException {\n\t\t//if (tokenizer == null || !tokenizer.hasMoreTokens())\n\t\t\t//tokenizer = new StringTokenizer(\"\");\n\t\t//return in.readLine();\n\t\tif (tokenizer != null) return tokenizer.nextToken();\n\t\treturn reader.readLine();\n\t}\n\n    boolean EOF() throws IOException {\n\t\twhile (!tokenizer.hasMoreTokens()) {\n\t\t\tString s = reader.readLine();\n\t\t\tif (s == null)\n\t\t\t\treturn true;\n \t\t\ttokenizer = new StringTokenizer(s);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/********************** \n\t* Output \n\t***********************/\n\tvoid printRepeat(String s, int count) {\n\t\tfor (int i = 0; i < count; i++)\n    \t\tout.print(s);\n\t}\n\n\tvoid printArray(int[] array) {\n\t\tif (array == null || array.length == 0)\n\t\t\treturn;\n\t\tfor (int i = 0; i < array.length; i++) {\n        \tif (i > 0) out.print(' ');\n            \tout.print(array[i]);\n\t\t}\n\t\tout.println();\n\t}\n\n\tvoid printArray(long[] array) {\n\t\t\tif (array == null || array.length == 0)\n\t\t\t\treturn;\n\t\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\t\tif (i > 0) out.print(' ');\n\t\t\t\t\tout.print(array[i]);\n\t\t\t}\n\t\t\tout.println();\n\t}\n    \n\tvoid printArray(double[] array) {\n\t\tif (array == null || array.length == 0)\n\t\t\treturn;\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tif (i > 0) out.print(' ');\n\t\t\t\tout.print(array[i]);\n\t\t}\n\t\tout.println();\n\t}\n\n\tvoid printArray(double[] array, String spec) {\n\t\tif (array == null || array.length == 0)\n\t\t\treturn;\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tif (i > 0) out.print(' ');\n\t\t\t\tout.printf(Locale.US, spec, array[i]);\n\t\t}\n\t\tout.println();\n\t}\n\n\tvoid printArray(Object[] array) {\n\t\tif (array == null || array.length == 0)\n\t\t\treturn;\n\t\tboolean blank = false;\n\t\tfor (Object x : array) {\n\t\t\tif (blank) out.print(' '); else blank = true;\n\t\t\t\tout.print(x);\n\t\t}\n\t\tout.println();\n\t}\n    \n\t@SuppressWarnings(\"rawtypes\")\n\tvoid printCollection(Collection collection) {\n\t\tif (collection == null || collection.isEmpty())\n\t\t\treturn;\n\t\tboolean blank = false;\n\t\tfor (Object x : collection) {\n\t\t\tif (blank) out.print(' '); else blank = true;\n\t\t\t\tout.print(x);\n\t\t}\n\t\tout.println();\n\t}\n\n\t/********************** \n\t* Utility \n\t***********************/\n\n\tstatic String memoryStatus() {\n\t\treturn (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory() >> 20) + \"/\" + (Runtime.getRuntime().totalMemory() >> 20) + \" MB\";\n\t}\n\t\t\n\tstatic void checkMemory() {\n\t\tSystem.err.println(memoryStatus());\n\t}\n\t\t\n\tstatic long prevTimeStamp = Long.MIN_VALUE;\n\t\n\tstatic void updateTimer() {\n\t\tprevTimeStamp = System.currentTimeMillis();\n\t}\n\n\tstatic long elapsedTime() {\n\t\treturn (System.currentTimeMillis() - prevTimeStamp);\n\t}\n\n\tstatic void checkTimer() {\n\t\tSystem.err.println(elapsedTime() + \" ms\");\n\t}\n}\n/*\njjava.lang.NumberFormatException: For input string: \"A\"\n\tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\n\tat java.lang.Integer.parseInt(Integer.java:449)\n\tat java.lang.Integer.parseInt(Integer.java:499)\n\tat taskB.getNum...\n\n2.break\ufffd\ufffdA\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u0102\ufffd\ufffd\u0702\ufffd\ufffd\u0102\ufffd\ufffd\ufffd\ufffdB\ufffdibreak\ufffd\ufffdreturn\ufffd\u030c\ufffd\ufffd\ufffdj\n\n3.getTenNum\ufffd\u0141Ai\ufffd\ufffd\ufffd\ufffd\ufffd\u0182\ufffdn *= num\ufffdB\ufffd\ufffd\ufffd[\ufffdv\ufffd\ud901\udd02\ufffd\ufffd\u0508\ufffd\ufffd\ufffd\u0102\ufffd\ufffd\ufffd\ufffdB\n\t\ufffd{\n  n\ufffd\u030f\ufffd\ufffd\ufffd\u0308\u0292u\ufffd\ufffd\ufffd\u0508\ufffd\ufffd\ufffd\u0102\ufffd\ufffd\ufffd\ufffdB\n*/"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar cc[12];\nint aa[5], bb[5];\nint main() {\n  cin >> cc;\n  int l = strlen(cc);\n  int n = 0;\n  int i = 0;\n  while (i < l && cc[i] != ':') {\n    aa[n++] = '0' <= cc[i] && cc[i] <= '9' ? cc[i] - '0' : cc[i] - 'A' + 10;\n    i++;\n  }\n  int m = 0;\n  int j = i + 1;\n  while (j < l) {\n    bb[m++] = '0' <= cc[j] && cc[j] <= '9' ? cc[j] - '0' : cc[j] - 'A' + 10;\n    j++;\n  }\n  int k = 0;\n  while (k < n && aa[k] == 0) k++;\n  for (int j = 0; j + k < n; j++) aa[j] = aa[j + k];\n  n -= k;\n  k = 0;\n  while (k < m && bb[k] == 0) k++;\n  for (int j = 0; j + k < m; j++) bb[j] = bb[j + k];\n  m -= k;\n  if ((n == 0 || n == 1 && aa[0] < 24) && m <= 1) {\n    cout << \"-1\\n\";\n    return 0;\n  }\n  int b_ = 0;\n  for (int i = 0; i < n; i++) b_ = max(b_, aa[i] + 1);\n  for (int j = 0; j < m; j++) b_ = max(b_, bb[j] + 1);\n  int x = 0;\n  for (int i = 0; i < n; i++)\n    if ((x = x * b_ + aa[i]) >= 24) {\n      cout << \"0\\n\";\n      return 0;\n    }\n  int y = 0;\n  for (int j = 0; j < m; j++)\n    if ((y = y * b_ + bb[j]) >= 60) {\n      cout << \"0\\n\";\n      return 0;\n    }\n  for (int b = b_; b <= 60; b++) {\n    bool yes = true;\n    int x = 0;\n    for (int i = 0; i < n; i++)\n      if ((x = x * b + aa[i]) >= 24) {\n        yes = false;\n        break;\n      }\n    int y = 0;\n    for (int j = 0; j < m; j++)\n      if ((y = y * b + bb[j]) >= 60) {\n        yes = false;\n        break;\n      }\n    if (yes) cout << b << ' ';\n  }\n  cout << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar s[12] = {0};\nchar a[6] = {0};\nchar b[6] = {0};\nint min_base = 99999999;\nint max_base = 0;\nbool isLetter(char c) { return c >= 'A' && c <= 'Z' || c >= 'a' && c <= 'z'; }\nbool isDigit(char c) { return c >= '0' && c <= '9'; }\nint getVal(char c) {\n  if (isDigit(c)) {\n    return c - '0';\n  } else {\n    return (int)c - 55;\n  }\n}\nint isValid(int base) {\n  int i;\n  int aVal = 0;\n  for (i = 0; i < strlen(a); i++) {\n    aVal +=\n        (double)pow((double)base, (double)(strlen(a) - i - 1)) * getVal(a[i]);\n  }\n  if (aVal > 23) {\n    return 0;\n  }\n  int bVal = 0;\n  for (i = 0; i < strlen(b); i++) {\n    bVal +=\n        (double)pow((double)base, (double)(strlen(b) - i - 1)) * getVal(b[i]);\n  }\n  if (bVal > 59) {\n    return 0;\n  }\n  return 1;\n}\nint main() {\n  gets(s);\n  int i, j, flag, lead0;\n  j = 0;\n  flag = 1;\n  char min_ch = '0';\n  lead0 = 1;\n  for (i = 0; i < strlen(s); i++) {\n    if (s[i] == ':') {\n      flag = 0;\n      j = 0;\n      lead0 = 1;\n      continue;\n    }\n    if (s[i] > min_ch) {\n      min_ch = s[i];\n    }\n    if (flag) {\n      if (lead0) {\n        if (s[i] != '0') {\n          a[j++] = s[i];\n          lead0 = 0;\n        }\n      } else {\n        a[j++] = s[i];\n      }\n    } else {\n      if (lead0) {\n        if (s[i] != '0') {\n          b[j++] = s[i];\n          lead0 = 0;\n        }\n      } else {\n        b[j++] = s[i];\n      }\n    }\n  }\n  if (strlen(a) == 0) {\n    a[0] = '0';\n  }\n  if (strlen(b) == 0) {\n    b[0] = '0';\n  }\n  min_base = getVal(min_ch) + 1;\n  if (strlen(a) == 1 && strlen(b) == 1) {\n    if (getVal(a[0]) < 24 && getVal(b[0]) < 60) {\n      cout << \"-1\" << endl;\n      return 0;\n    }\n  }\n  if (!isValid(min_base)) {\n    cout << \"0\" << endl;\n    return 0;\n  } else {\n    cout << min_base;\n  }\n  for (i = min_base + 1;; i++) {\n    if (isValid(i)) {\n      cout << \" \" << i;\n    } else {\n      break;\n    }\n  }\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar cc[12];\nint aa[5], bb[5];\nint main() {\n  cin >> cc;\n  int l = strlen(cc);\n  int n = 0;\n  int i = 0;\n  while (i < l && cc[i] != ':') {\n    aa[n++] = '0' <= cc[i] && cc[i] <= '9' ? cc[i] - '0' : cc[i] - 'A' + 10;\n    i++;\n  }\n  int m = 0;\n  int j = i + 1;\n  while (j < l) {\n    bb[m++] = '0' <= cc[j] && cc[j] <= '9' ? cc[j] - '0' : cc[j] - 'A' + 10;\n    j++;\n  }\n  int k = 0;\n  while (k < n && aa[k] == 0) k++;\n  for (int j = 0; j + k < n; j++) aa[j] = aa[j + k];\n  n -= k;\n  k = 0;\n  while (k < m && bb[k] == 0) k++;\n  for (int j = 0; j + k < m; j++) bb[j] = bb[j + k];\n  m -= k;\n  if ((n == 0 || n == 1 && aa[0] < 24) && m <= 1) {\n    cout << \"-1\\n\";\n    return 0;\n  }\n  int b_ = 0;\n  for (int i = 0; i < n; i++) b_ = max(b_, aa[i] + 1);\n  for (int j = 0; j < m; j++) b_ = max(b_, bb[j] + 1);\n  int x = 0;\n  for (int i = 0; i < n; i++)\n    if ((x = x * b_ + aa[i]) >= 24) {\n      cout << \"0\\n\";\n      return 0;\n    }\n  int y = 0;\n  for (int j = 0; j < m; j++)\n    if ((y = y * b_ + bb[j]) >= 60) {\n      cout << \"0\\n\";\n      return 0;\n    }\n  int b = 60;\n  while (b >= b_) {\n    bool yes = true;\n    int x = 0;\n    for (int i = 0; i < n; i++)\n      if ((x = x * b + aa[i]) >= 24) {\n        yes = false;\n        break;\n      }\n    int y = 0;\n    for (int j = 0; j < m; j++)\n      if ((y = y * b + bb[j]) >= 60) {\n        yes = false;\n        break;\n      }\n    if (yes) break;\n    b--;\n  }\n  while (b_ <= b) cout << b_++ << ' ';\n  cout << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nmap<char, int> book;\nbool pk(string val, int m, int maxx) {\n  int ans = 0;\n  int bei = 1;\n  for (int i = val.size() - 1; i >= 0; --i) {\n    ans += book[val[i]] * bei;\n    bei *= m;\n  }\n  return ans < maxx;\n}\nint main() {\n  for (int i = '0'; i <= '9'; ++i) book[i] = i - '0';\n  for (int i = 'A'; i <= 'Z'; ++i) book[i] = i - 'A' + 10;\n  string strh, strm;\n  getline(cin, strh, ':');\n  getline(cin, strm);\n  int pos = 0;\n  for (; pos < strh.size(); ++pos)\n    if (strh[pos] != '0') break;\n  strh = strh.substr(pos, strh.size() - pos);\n  pos = 0;\n  for (; pos < strm.size(); ++pos)\n    if (strm[pos] != '0') break;\n  strm = strm.substr(pos, strm.size() - pos);\n  int minm = 1;\n  for (int i = 0; i < strh.size(); ++i) minm = max(minm, book[strh[i]] + 1);\n  for (int i = 0; i < strm.size(); ++i) minm = max(minm, book[strm[i]] + 1);\n  if (!(pk(strh, minm, 24) && pk(strm, minm, 60)))\n    cout << 0;\n  else if (strh.size() <= 1 && strm.size() <= 1)\n    cout << -1;\n  else\n    while (pk(strh, minm, 24) && pk(strm, minm++, 60)) cout << minm - 1 << ' ';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long hour[10], minute[10];\nlong long hL, mL;\nlong long possible[1000], pL = 0;\nlong long POWER(long long k, long long p) {\n  long long i;\n  long long ans = 1;\n  for (i = 1; i <= p; i++) ans = ans * k;\n  return ans;\n}\nlong long DecimalHours(long long base) {\n  long long i, onpower = 0;\n  long long num = 0;\n  for (i = hL; i >= 1; i--) {\n    num = num + hour[i] * POWER(base, onpower);\n    onpower++;\n  }\n  return num;\n}\nlong long DecimalMins(long long base) {\n  long long i, onpower = 0;\n  long long num = 0;\n  for (i = mL; i >= 1; i--) {\n    num = num + minute[i] * POWER(base, onpower);\n    onpower++;\n  }\n  return num;\n}\nint main() {\n  string a;\n  long long decimalh, decimalm;\n  long long i;\n  bool passed = false;\n  long long largest = -1;\n  cin >> a;\n  for (i = 0; i < a.length(); i++) {\n    if (a[i] == ':') {\n      passed = true;\n    } else if (!passed) {\n      hL++;\n      if (a[i] <= '9' && a[i] >= '0')\n        hour[hL] = a[i] - '0';\n      else\n        hour[hL] = (a[i] - 'A') + 10;\n      if (hour[hL] > largest) largest = hour[hL];\n    } else {\n      mL++;\n      if (a[i] <= '9' && a[i] >= '0')\n        minute[mL] = a[i] - '0';\n      else\n        minute[mL] = (a[i] - 'A') + 10;\n      if (minute[mL] > largest) largest = minute[mL];\n    }\n  }\n  largest++;\n  for (i = largest; i <= 400; i++) {\n    decimalm = DecimalMins(i);\n    if (decimalm < 0 || decimalm > 59) continue;\n    decimalh = DecimalHours(i);\n    if (decimalh < 0 || decimalh > 23) continue;\n    pL++;\n    possible[pL] = i;\n  }\n  if (pL > 300) {\n    printf(\"-1\\n\");\n    return 0;\n  }\n  for (i = 1; i <= pL; i++) {\n    printf(\"%I64d\", possible[i]);\n    if (i == pL)\n      printf(\"\\n\");\n    else\n      printf(\" \");\n  }\n  if (pL == 0) printf(\"0\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool test(string t, int base, int valmax) {\n  int val = 0;\n  for (int i = 0; i < t.size(); ++i) {\n    val *= base;\n    if ('0' <= t[i] && '9' >= t[i]) {\n      if (t[i] - '0' >= base) return false;\n      val += t[i] - '0';\n    } else {\n      if (t[i] - 'A' + 10 >= base) return false;\n      val += t[i] - 'A' + 10;\n    }\n  }\n  if (val > valmax) return false;\n  return true;\n}\nint main() {\n  string a[2];\n  char t;\n  int ind = 0;\n  while (cin >> t) {\n    if (t == ':') {\n      ind++;\n      continue;\n    }\n    a[ind].push_back(t);\n  }\n  for (int i = 0; i < 2; ++i)\n    while (!a[i].empty() && a[i][0] == '0') a[i].erase(a[i].begin());\n  vector<int> ans;\n  for (int i = 1; i <= 61; ++i) {\n    if (test(a[0], i, 23) && test(a[1], i, 59)) ans.push_back(i);\n  }\n  if (ans.size() == 0)\n    cout << \"0\\n\";\n  else if (ans[ans.size() - 1] == 61)\n    cout << \"-1\\n\";\n  else\n    for (int i = 0; i < ans.size(); ++i)\n      cout << ans[i] << \" \\n\"[i == ans.size() - 1];\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport java.math.*;\n\npublic class Solution\n{\n\tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n\tStringTokenizer tokenizer=null;\n\t\n\tpublic static void main(String[] args) throws IOException\n\t{\n\t\tnew Solution().execute();\n\t}\n\t\n\tvoid debug(Object...os)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(os));\n\t}\n\t\n\tint ni() throws IOException\n\t{\n\t\treturn Integer.parseInt(ns());\n\t}\n\t\n\tlong nl() throws IOException \n\t{\n\t\treturn Long.parseLong(ns());\n\t}\n\t\n\tdouble nd() throws IOException \n\t{\n\t\treturn Double.parseDouble(ns());\n\t}\n\t\t\n\tString ns() throws IOException \n\t{\n\t\twhile (tokenizer == null || !tokenizer.hasMoreTokens()) \n\t\t\ttokenizer = new StringTokenizer(br.readLine());\n\t\treturn tokenizer.nextToken();\n\t}\n\t\n\tString nline() throws IOException\n\t{\n\t\ttokenizer=null;\n\t\treturn br.readLine();\n\t}\n\t\t\n\t\n\t//Main Code starts Here\n\tint totalCases, testNum;\t\n\tint m,n;\n\t\n\tvoid execute() throws IOException\n\t{\n\t\t//totalCases = ni();\n\t\t//for(testNum = 1; testNum <= totalCases; testNum++)\n\t\t{\n\t\t\t//input();\n\t\t\tsolve();\n\t\t\t//System.out.println();\n\t\t}\n\t}\n\n\tvoid solve() throws IOException\n\t{\n\t\tString s = nline();\n\t\tString[] arr = s.split(\":\");\n\t\t\n\t\tint max = max(arr[0]+arr[1])+1;\n\t\t//debug(max(\"A19\"));\n\t\tmax=Math.max(2,max);\n\t\tboolean b = true;\n\t\tif(constant(arr[0]) && constant(arr[1]))\n\t\t{\n\t\t\tif(value(arr[0])<24 && value(arr[1])<60)\n\t\t\t\tSystem.out.print(-1);\n\t\t\telse\n\t\t\t\tSystem.out.print(0);\n\t\t\tb=false;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int i = max;true;i++)\n\t\t\t{\n\t\t\t\tint x = convert(arr[0],i);\n\t\t\t\tint y = convert(arr[1],i);\n\t\t\t\tif(x>23 || y>59)\n\t\t\t\t\tbreak;\n\t\t\t\tif(i==max)\n\t\t\t\t\tSystem.out.print(i);\n\t\t\t\telse\n\t\t\t\t\tSystem.out.print(\" \"+i);\n\t\t\t\tb=false;\n\t\t\t\t//debug(x,y);\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tif(b)\n\t\t\tSystem.out.print(0);\n\t}\n\t\n\tint convert(String s,int base)\n\t{\n\t\tint n = s.length();\n\t\tint count=0;\n\t\tfor(int i = n-1;i>=0;i--)\n\t\t{\n\t\t\tif(s.charAt(i)<='9')\n\t\t\t\tcount+=((int)s.charAt(i)-48)*Math.pow(base,n-1-i);\n\t\t\telse\n\t\t\t\tcount+=((int)s.charAt(i)-55)*Math.pow(base,n-1-i);\n\t\t}\n\t\treturn count;\n\t}\n\t\n\tboolean constant(String s)\n\t{\n\t\tfor(int i =0;i<s.length()-1;i++)\n\t\t{\n\t\t\tif(s.charAt(i)!='0')\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tint value(String s)\n\t{\n\t\tif(s.charAt(s.length()-1)<='9')\n\t\t\treturn (int)s.charAt(s.length()-1)-48;\n\t\telse\n\t\t\treturn (int)s.charAt(s.length()-1)-55;\n\t}\n\t\n\tint max(String s)\n\t{\n\t\tint max=-1;\n\t\tint n = s.length();\n\t\tfor(int i = 0 ;i<n;i++)\n\t\t{\n\t\t\tif(s.charAt(i)=='0')\n\t\t\t\tcontinue;\n\t\t\tif(s.charAt(i)<='9')\n\t\t\t\tmax=Math.max(max,(int)s.charAt(i)-48);\n\t\t\telse\n\t\t\t\tmax=Math.max(max,(int)s.charAt(i)-55);\n\t\t}\n\t\treturn max;\n\t}\n\tboolean input() throws IOException\n\t{\n\t\tn = ni();\n\t\t//m = ni();\n\t\treturn true;\n\t}\n}"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\n\npublic class B {\n\n\tpublic static void main(String[] args) throws InterruptedException{\n\t\tFastScanner scan = new FastScanner();\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\tString[] in = scan.next().split(\"[:]\");\n\t\tint lo = 0;\n\t\tfor(int i = 0; i < in[0].length(); i++) lo = Math.max(lo, get(in[0].charAt(i)));\n\t\tfor(int i = 0; i < in[1].length(); i++) lo = Math.max(lo, get(in[1].charAt(i)));\n\t\tlo++;\n\t\tif(lo == 1) {\n\t\t\tout.println(-1);\n\t\t\tout.close();\n\t\t\treturn;\n\t\t}\n\t\tint res = -1;\n\t\tfor(int i = lo; i < 100; i++){\n\t\t\tint a = 0, b = 0;\n\t\t\tfor(int j = 0; j < in[0].length(); j++) a += get(in[0].charAt(j))*Math.pow(i, in[0].length()-j-1);\n\t\t\tfor(int j = 0; j < in[1].length(); j++) b += get(in[1].charAt(j))*Math.pow(i, in[1].length()-j-1);\n\t\t\tif(a >= 24 || b >= 60){\n\t\t\t\tres = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(res == -1) out.println(res);\n\t\tif(lo == res) out.println(0);\n\t\telse for(int i = lo; i < res; i++) out.print(i+\" \");\n\t\tout.close();\n\t}\n\t\n\tstatic int get(char c) {\n\t\tif(c >= '0' && c <= '9') return c-'0';\n\t\treturn c-'A'+10;\n\t}\n\t\n\tstatic class FastScanner {\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n\n\t\tpublic FastScanner() {\n\t\t\ttry\t{\n\t\t\t\tbr = new BufferedReader(new InputStreamReader(System.in));\n\t\t\t\tst = new StringTokenizer(br.readLine());\n\t\t\t} catch (Exception e){e.printStackTrace();}\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif (st.hasMoreTokens())\treturn st.nextToken();\n\t\t\ttry {st = new StringTokenizer(br.readLine());}\n\t\t\tcatch (Exception e) {e.printStackTrace();}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() {return Integer.parseInt(next());}\n\n\t\tpublic long nextLong() {return Long.parseLong(next());}\n\n\t\tpublic double nextDouble() {return Double.parseDouble(next());}\n\n\t\tpublic String nextLine() {\n\t\t\tString line = \"\";\n\t\t\tif(st.hasMoreTokens()) line = st.nextToken();\n\t\t\telse try {return br.readLine();}catch(IOException e){e.printStackTrace();}\n\t\t\twhile(st.hasMoreTokens()) line += \" \"+st.nextToken();\n\t\t\treturn line;\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor(int i = 0; i < n; i++) a[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n){\n\t\t\tlong[] a = new long[n];\n\t\t\tfor(int i = 0; i < n; i++) a[i] = nextLong();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic double[] nextDoubleArray(int n){\n\t\t\tdouble[] a = new double[n];\n\t\t\tfor(int i = 0; i < n; i++) a[i] = nextDouble();\n\t\t\treturn a;\n\t\t}\n\n\t\tpublic char[][] nextGrid(int n, int m){\n\t\t\tchar[][] grid = new char[n][m];\n\t\t\tfor(int i = 0; i < n; i++) grid[i] = next().toCharArray();\n\t\t\treturn grid;\n\t\t}\n\t}\n\n\n}"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\npublic class a {\npublic static void main(String[] args) throws IOException\n{\n    //Scanner input = new Scanner(new File(\"input.txt\"));\n    //PrintWriter out = new PrintWriter(new File(\"output.txt\"));\n  input.init(System.in);\n  PrintWriter out = new PrintWriter(System.out);\n  String s = input.next();\n  String a = s.substring(0,s.indexOf(':'));\n  String b = s.substring(s.indexOf(':')+1);\n  int max = 0;\n  for(int i = 0; i<s.length(); i++)\n  {\n      char c = s.charAt(i);\n      if(c>='0' && c<='9') max = Math.max(max, c-'0');\n      else if(c>='A' && c<='Z') max = Math.max(max,10+c-'A');\n  }\n  ArrayList<Integer> res = new ArrayList<Integer>();\n  for(int i = max+1; i<=65; i++)\n  {\n      int h = 0, m=0, pow = 0;\n      for(int j = a.length()-1; j>=0; j--)\n      {\n          char c = a.charAt(j);\n          int val = (c>='0'&&c<='9') ? c-'0' : c+10-'A';\n          for(int k = 0; k<pow; k++) val *= i;\n          h += val;\n          pow++;\n      }\n      pow = 0;\n      for(int j = b.length()-1; j>=0; j--)\n      {\n          char c = b.charAt(j);\n          int val = (c>='0'&&c<='9') ? c-'0' : c+10-'A';\n          for(int k = 0; k<pow; k++) val *= i;\n          m += val;\n          pow++;\n      }\n      if(m<=59 && h<=23) res.add(i);\n  }\n  if(res.size()==0) out.println(0);\n  else if(res.get(res.size()-1) == 65)\n      out.println(-1);\n  else\n      for(int x: res) out.print(x+\" \");\n  out.close();\n  \n}\nstatic class input {\n  static BufferedReader reader;\n  static StringTokenizer tokenizer;\n\n  /** call this method to initialize reader for InputStream */\n  static void init(InputStream input) {\n      reader = new BufferedReader(\n                   new InputStreamReader(input) );\n      tokenizer = new StringTokenizer(\"\");\n  }\n\n  /** get next word */\n  static String next() throws IOException {\n      while ( ! tokenizer.hasMoreTokens() ) {\n          //TODO add check for eof if necessary\n          tokenizer = new StringTokenizer(\n                 reader.readLine() );\n      }\n      return tokenizer.nextToken();\n  }\n\n  static int nextInt() throws IOException {\n      return Integer.parseInt( next() );\n  }\n  \n  static double nextDouble() throws IOException {\n      return Double.parseDouble( next() );\n  }\n  static long nextLong() throws IOException {\n      return Long.parseLong( next() );\n  }\n  static String nextLine() throws IOException {\n    return reader.readLine();\n  }\n}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long int power(long long int n, long long int l) {\n  long long int odd = 1;\n  if (l == 1) return n;\n  if (l == 0) return 1;\n  while (l > 0) {\n    if (l % 2) {\n      odd *= n;\n    }\n    n = n * n;\n    l = l / 2;\n  }\n  return odd;\n}\nint main() {\n  char a[20], b[6], c[6];\n  long long int i, j, k, l, l1 = 0, l2 = 0, flag = 0, flag1 = 0;\n  cin >> a;\n  l = strlen(a);\n  for (i = 0; i < l; i++) {\n    if (a[i] == ':') flag = 1;\n    if (flag == 0) {\n      b[l1] = a[i];\n      l1++;\n    } else {\n      if (a[i] != ':') {\n        c[l2] = a[i];\n        l2++;\n      }\n    }\n  }\n  flag = 0;\n  int temp = 0;\n  for (i = l1 - 1; i >= 0; i--) {\n    if (b[l1 - i - 1] >= 65) {\n      temp += (b[l1 - i - 1] - 55) * power(60, i);\n    } else {\n      temp += (b[l1 - i - 1] - 48) * power(60, i);\n    }\n  }\n  if (temp >= 24) {\n    flag = 1;\n  }\n  temp = 0;\n  for (i = l2 - 1; i >= 0; i--) {\n    if (c[l2 - i - 1] >= 65) {\n      temp += (c[l2 - i - 1] - 55) * power(60, i);\n    } else {\n      temp += (c[l2 - i - 1] - 48) * power(60, i);\n    }\n  }\n  if (temp >= 60) flag = 1;\n  if (flag == 0)\n    printf(\"-1\\n\");\n  else {\n    for (j = 2; j <= 60; j++) {\n      temp = 0;\n      flag = 0;\n      for (i = l1 - 1; i >= 0; i--) {\n        if (b[l1 - i - 1] >= 65) {\n          temp += (b[l1 - i - 1] - 55) * power(j, i);\n          if (b[l1 - i - 1] - 55 >= j) flag = 1;\n        } else {\n          temp += (b[l1 - i - 1] - 48) * power(j, i);\n          if (b[l1 - i - 1] - 48 >= j) flag = 1;\n        }\n      }\n      if (temp >= 24) flag = 1;\n      temp = 0;\n      for (i = l2 - 1; i >= 0; i--) {\n        if (c[l2 - i - 1] >= 65) {\n          temp += (c[l2 - i - 1] - 55) * power(j, i);\n          if (c[l2 - i - 1] - 55 >= j) flag = 1;\n        } else {\n          temp += (c[l2 - i - 1] - 48) * power(j, i);\n          if (c[l2 - i - 1] - 48 >= j) flag = 1;\n        }\n      }\n      if (temp >= 60) flag = 1;\n      if (flag == 0) {\n        flag1 = 1;\n        printf(\"%lld \", j);\n      }\n    }\n    if (flag1 == 0) printf(\"0\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long INF = 1e9;\nint c2i(char c) {\n  if (c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nlong long conv(string num, int base) {\n  long long res = 0;\n  for (int i = 0; i < (int)num.length(); i++) {\n    if (c2i(num[i]) >= base) return INF;\n    res = res * base + c2i(num[i]);\n  }\n  return res;\n}\nint main() {\n  string inp, h, m;\n  cin >> inp;\n  for (int i = 0; i < (int)inp.length(); i++)\n    if (inp[i] == ':') inp[i] = ' ';\n  istringstream sin(inp);\n  sin >> h >> m;\n  vector<int> res;\n  for (int base = 2; base <= 100; base++)\n    if (conv(h, base) < 24 && conv(m, base) < 60) res.push_back(base);\n  if (res.empty())\n    cout << 0 << endl;\n  else if (res.back() == 100)\n    cout << -1 << endl;\n  else {\n    for (int i = 0; i < (int)res.size(); i++) cout << res[i] << \" \";\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst string digit = \"0123456789ABCDEFGHIJKLMNOPQRSTUVXWYZ\";\nstring s, hour, mins;\nvector<int> ans;\nint main() {\n  int base = 0;\n  cin >> s;\n  hour = s.substr(0, s.find(\":\"));\n  mins = s.substr(s.find(\":\") + 1);\n  for (int i = 0; i < hour.length(); i++)\n    base = max(base, (int)digit.find(hour[i]));\n  for (int i = 0; i < mins.length(); i++)\n    base = max(base, (int)digit.find(mins[i]));\n  base++;\n  while (base < 1000) {\n    long long ihour = 0, imins = 0;\n    for (int i = 0; i < hour.length(); i++)\n      ihour = ihour * base + digit.find(hour[i]);\n    for (int i = 0; i < mins.length(); i++)\n      imins = imins * base + digit.find(mins[i]);\n    if (ihour < 24 && imins < 60) ans.push_back(base);\n    base++;\n  }\n  if (ans.size() == 0)\n    cout << 0;\n  else if (ans.size() > 100)\n    cout << -1;\n  else\n    for (int i = 0; i < ans.size(); i++) cout << ans[i] << ' ';\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint getdig(char ch) {\n  if (ch >= '0' && ch <= '9')\n    return ch - '0';\n  else\n    return ch - 'A' + 10;\n}\nint get(string str, int b) {\n  reverse((str).begin(), (str).end());\n  int po = 1, ret = 0, i;\n  for (i = 0; i < (str.size()); i++) {\n    int x = getdig(str[i]);\n    if (x >= b) return -1;\n    ret += po * x;\n    po *= b;\n  }\n  return ret;\n}\nint main() {\n  char h[100], m[100], str[100];\n  int i;\n  cin >> str;\n  for (i = 0; i < (strlen(str)); i++) {\n    if (str[i] == ':') str[i] = ' ';\n  }\n  sscanf(str, \"%s %s\", h, m);\n  string hour = h;\n  string min = m;\n  pair<int, int> last;\n  last.first = -1;\n  last.second = -1;\n  vector<int> v;\n  int c = 0;\n  for (i = 0; i < (100); i++) {\n    if (get(hour, i) >= 0 && get(hour, i) <= 23)\n      if (get(min, i) >= 0 && get(min, i) <= 59) {\n        pair<int, int> now;\n        now.first = get(hour, i);\n        now.second = get(min, i);\n        if (now.second != -1 && now.first != -1) {\n          if (now == last) {\n            c = 1;\n            break;\n          } else {\n            last = now;\n            v.push_back(i);\n          }\n        }\n      }\n  }\n  if (v.size() == 0) {\n    cout << 0 << endl;\n  } else if (c == 1) {\n    cout << -1 << endl;\n  } else {\n    for (i = 0; i < (v.size()); i++) {\n      if (i) cout << \" \";\n      cout << v[i];\n    }\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar s1[10], s2[10];\nint Get(char s[]) {\n  int i = 0, Max = 0;\n  char str[10] = {0};\n  while (s[i] == '0') ++i;\n  strcpy(str, s + i);\n  strcpy(s, str);\n  i = 0;\n  while (s[i]) {\n    int tmp = s[i];\n    if (s[i] < 'A')\n      tmp -= '0';\n    else\n      tmp = tmp - 'A' + 10;\n    if (tmp > Max) Max = tmp;\n    ++i;\n  }\n  return Max;\n}\nint judge(char s[], int r, int Max) {\n  int p = 0, i = 0;\n  while (s[i]) {\n    if (s[i] < 'A')\n      p = p * r + s[i++] - '0';\n    else\n      p = p * r + s[i++] - 'A' + 10;\n  }\n  if (p <= Max) return 1;\n  return 0;\n}\nint main() {\n  char ss[20];\n  while (scanf(\"%s\", ss) == 1) {\n    memset(s1, 0, sizeof(s1));\n    ;\n    memset(s2, 0, sizeof(s2));\n    ;\n    int i = 0, j = 0;\n    while (ss[i] != ':') s1[j++] = ss[i++];\n    ++i, j = 0;\n    while (ss[i]) s2[j++] = ss[i++];\n    int Min = 0;\n    Min = max(0, max(Get(s1), Get(s2)));\n    if (strlen(s1) <= 1 && strlen(s2) <= 1 && Get(s1) <= 23 && Get(s2) <= 59) {\n      puts(\"-1\");\n    } else {\n      int f = 0;\n      Min++;\n      Min = max(2, Min);\n      while (Min <= 60) {\n        if (judge(s1, Min, 23) && judge(s2, Min, 59)) {\n          printf(f++ == 0 ? \"%d\" : \" %d\", Min);\n        }\n        Min++;\n      }\n      if (!f) printf(\"0\");\n      puts(\"\");\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\npublic class MartianClock {\n\tpublic static void main(String[] args){\n\t\tScanner reader = new Scanner(System.in);\n\t\tString in = reader.next();\n\t\tStringTokenizer st = new StringTokenizer(in, \":\");\n\t\tString a = st.nextToken();\n\t\tString b = st.nextToken();\n\t\t\n\t\tLinkedList<Integer> q = new LinkedList<Integer>();\n\t\t//try all bases!\n\t\tfor(int i = 2; i <= 70; i++){\n\t\t\ttry{\n\t\t\t\tint A = parseInt(a,i);\n\t\t\t\tint B = parseInt(b,i);\n\t\t\t\tif(A <= 23 && B <= 59)\n\t\t\t\t\tq.add(i);\n\t\t\t}catch(Exception e){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(q.size() == 0){\n\t\t\tSystem.out.println(0);\n\t\t}else if(q.getLast() == 70){\n\t\t\tSystem.out.println(-1);\n\t\t}else{\n\t\t\twhile(!q.isEmpty())\n\t\t\t\tSystem.out.print(q.remove() + \" \");\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\t\n\tpublic static int parseInt(String a, int b){\n\t\tif(b < 36)\n\t\t\treturn Integer.parseInt(a,b);\n\t\tint sum = 0;\n\t\tfor(int i = 0; i < a.length(); i++){\n\t\t\tsum *= b;\n\t\t\tsum += a.charAt(i)>='A'?(a.charAt(i)-'A'+10):(a.charAt(i)-'0');\n\t\t}\n\t\treturn sum;\n\t}\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\npublic class BB {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String s = in.next();\n        String[] t = s.split(\":\");\n        String a = t[0];\n        String b = t[1];\n        String ans = \"\";\n        int i = 2;\n        while ((!hour(a, i) || !mins(b, i)) && i < 100)\n            i++;\n\n        boolean inf = true;\n        for (int j = 0; j < a.length() - 1; j++)\n            if (a.charAt(j) != '0')\n                inf = false;\n        for (int j = 0; j < b.length() - 1; j++)\n            if (b.charAt(j) != '0')\n                inf = false;\n\n        int cnt = 0;\n        for (; (hour(a, i) && mins(b, i)); i++) {\n            ans += \" \" + i;\n            cnt++;\n            if (i > 37 && inf)\n                break;\n        }\n\n        if (cnt == 0)\n            System.out.println(cnt);\n        else if (inf && i > 37)\n            System.out.println(-1);\n        else\n            System.out.println(ans.substring(1));\n    }\n\n    public static boolean hour(String a, int r) {\n        long x;\n        x = parseInt(a, r);\n        if (x == -1)\n            return false;\n        return (x < 24 && x >= 0);\n    }\n\n    public static boolean mins(String a, int r) {\n        long x;\n        x = parseInt(a, r);\n        if (x == -1)\n            return false;\n        return (x < 60 && x >= 0);\n    }\n\n    public static long parseInt(String a, int r) {\n        long res = 0;\n        long v;\n        for (int i = 0; i < a.length(); i++) {\n            res = res * r + (v = valueOf(a.charAt(i)));\n            if (v >= r)\n                return -1;\n        }\n        return res;\n    }\n\n    private static long valueOf(char c) {\n        if (c >= '0' && c <= '9')\n            return c - '0';\n        else\n            return c - 'A' + 10;\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nmap<char, int> m;\nlong long f(string r, int pos) {\n  long long sum = 0;\n  long long p = 1;\n  for (int i = r.length() - 1; i >= 0; --i) {\n    sum += m[r[i]] * p;\n    p *= pos;\n  }\n  return sum;\n}\nint main() {\n  string r = \"\", d = \"\";\n  char t;\n  while ((t = getchar()) != ':') {\n    r += t;\n  }\n  cin >> d;\n  int cnt = 1;\n  m['0'] = 0;\n  for (char i = '1'; i <= '9'; ++i) {\n    m[i] = cnt;\n    ++cnt;\n  }\n  for (char i = 'A'; i <= 'Z'; ++i) {\n    m[i] = cnt;\n    ++cnt;\n  }\n  int pos = 1;\n  for (int i = 0; i < r.length(); ++i) {\n    pos = max(pos, m[r[i]]);\n  }\n  for (int i = 0; i < d.length(); ++i) {\n    pos = max(pos, m[d[i]]);\n  }\n  ++pos;\n  if (f(r, pos) >= 24 || f(d, pos) >= 60) {\n    cout << 0;\n    return 0;\n  }\n  if (f(r, 100) == f(r, 150) && f(d, 100) == f(d, 150)) {\n    cout << -1;\n    return 0;\n  }\n  while (f(r, pos) < 24 && f(d, pos) < 60) {\n    cout << pos << \" \";\n    ++pos;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint cc(char a) {\n  if (a == '0')\n    return 0;\n  else if (a == '1')\n    return 1;\n  else if (a == '2')\n    return 2;\n  else if (a == '3')\n    return 3;\n  else if (a == '4')\n    return 4;\n  else if (a == '5')\n    return 5;\n  else if (a == '6')\n    return 6;\n  else if (a == '7')\n    return 7;\n  else if (a == '8')\n    return 8;\n  else if (a == '9')\n    return 9;\n  else {\n    return a - 'A' + 10;\n  }\n}\nint power(int a, int b) {\n  int res = 1;\n  for (int i = 0; i < b; i++) {\n    res *= a;\n  }\n  return res;\n}\nint main() {\n  char buffer[100];\n  gets(buffer);\n  string A = \"\";\n  string B = \"\";\n  int sz = strlen(buffer);\n  bool next = false;\n  for (int i = 0; i < sz; i++) {\n    if (buffer[i] != ':' && !next) {\n      A += buffer[i];\n    } else if (buffer[i] == ':') {\n      next = true;\n    } else if (next) {\n      B += buffer[i];\n    }\n  }\n  int asz = A.size();\n  int bsz = B.size();\n  int hour = 0;\n  int min = 0;\n  int b = asz - 1;\n  for (int i = 0; i < asz; i++) {\n    hour += cc(A[i]) * power(50, b);\n    b--;\n  }\n  b = bsz - 1;\n  for (int i = 0; i < bsz; i++) {\n    min += cc(B[i]) * power(100, b);\n    b--;\n  }\n  int res = 0;\n  bool isInfinite = false;\n  bool isEligible = false;\n  if (hour <= 23 && min <= 59) {\n    res = -1;\n    isInfinite = true;\n  }\n  vector<int> output;\n  if (!isInfinite) {\n    for (int j = 1; j <= 60; j++) {\n      isEligible = true;\n      for (int i = 0; i < asz; i++) {\n        if (cc(A[i]) >= j) {\n          isEligible = false;\n          break;\n        }\n      }\n      for (int i = 0; i < bsz; i++) {\n        if (cc(B[i]) >= j) {\n          isEligible = false;\n          break;\n        }\n      }\n      if (isEligible) {\n        hour = 0;\n        min = 0;\n        b = asz - 1;\n        for (int i = 0; i < asz; i++) {\n          hour += cc(A[i]) * power(j, b);\n          b--;\n        }\n        b = bsz - 1;\n        for (int i = 0; i < bsz; i++) {\n          min += cc(B[i]) * power(j, b);\n          b--;\n        }\n      }\n      if (hour <= 23 && min <= 59) {\n        output.push_back(j);\n      }\n    }\n  }\n  if (isInfinite)\n    printf(\"%d\\n\", res);\n  else if (output.size() == 0)\n    printf(\"0\\n\");\n  else {\n    for (int i = 0; i < output.size() - 1; i++) {\n      printf(\"%d \", output[i]);\n    }\n    printf(\"%d\\n\", output[output.size() - 1]);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\n#pragma GCC optimize(\"-Ofast\")\n#pragma GCC optimize(\"trapv\")\n#pragma GCC target( \\\n    \"sse,sse2,sse3,ssse3,sse4,sse4.2,popcnt,abm,mmx,avx2,tune=native\")\n#pragma GCC optimize(\"-ffast-math\")\n#pragma GCC optimize(\"-funroll-loops\")\n#pragma GCC optimize(\"-funroll-all-loops,-fpeel-loops,-funswitch-loops\")\nconst int N = 1e5 + 40;\nconst int MAXK = 12;\nconst long long int INF = 1000000000000000000;\nconst int RANDOM =\n    chrono::high_resolution_clock::now().time_since_epoch().count();\nlong long int expo_pow(long long int x, long long int y) {\n  if (y == 0) return 1;\n  y = y % ((1000000007) - 1);\n  x %= (1000000007);\n  if (y == 0) y = (1000000007) - 1;\n  long long int res = 1;\n  while (y) {\n    if (y & 1) res = (res * x) % (1000000007);\n    x = (x * x) % (1000000007);\n    y >>= 1;\n  }\n  return res;\n}\nlong long int modInverse(long long int a, long long int m = (1000000007)) {\n  return expo_pow(a, m - 2);\n}\nvoid solve() {\n  string second;\n  cin >> second;\n  int ind;\n  int cnt = 0;\n  int mx = 0;\n  map<char, int> m;\n  for (char c = '0'; c <= '9'; c++) m[c] = c - '0';\n  for (char c = 'A'; c <= 'Z'; c++) m[c] = c - 'A' + 10;\n  for (int i = (0); i < ((int)second.size()); i++) {\n    if (second[i] == ':') {\n      ind = i;\n    } else {\n      mx = max(mx, m[second[i]]);\n    }\n    if (second[i] == '0') cnt++;\n  }\n  mx++;\n  vector<int> ans;\n  for (int i = (mx); i < (65); i++) {\n    long long int ti = 1;\n    long long int cur = 0;\n    for (int j = (ind - 1); j > (-1); j -= 1) {\n      cur += (m[second[j]]) * ti;\n      ti *= i;\n    }\n    if (cur >= 24) break;\n    cur = 0;\n    ti = 1;\n    for (int j = (second.size() - 1); j > (ind); j -= 1) {\n      cur += (m[second[j]]) * ti;\n      ti *= i;\n    }\n    if (cur > 59) break;\n    ans.push_back(i);\n    if (i == 60) {\n      cout << -1 << '\\n';\n      return;\n    }\n  }\n  if (ans.empty()) {\n    cout << 0 << '\\n';\n  } else {\n    for (auto x : ans) {\n      cout << x << \" \";\n    }\n  }\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  int T = 1;\n  while (T--) {\n    solve();\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> v;\nint getnum(string s, int b) {\n  int i, j = 0, k;\n  for (i = 0; i < s.size(); i++) {\n    if (s[i] >= '0' && s[i] <= '9')\n      k = s[i] - '0';\n    else\n      k = s[i] - 'A' + 10;\n    if (k >= b) return 61;\n    j *= b;\n    j += k;\n    if (j > 60) return 61;\n  }\n  return j;\n}\nint main() {\n  string s, a, b;\n  cin >> s;\n  a = s.substr(0, s.find(\":\"));\n  b = s.substr(s.find(\":\") + 1);\n  for (int i = 2; i < 200; i++)\n    if (getnum(a, i) < 24 && getnum(b, i) < 60) v.push_back(i);\n  if (v.size() == 0)\n    cout << \"0\";\n  else if (v.size() > 100)\n    cout << \"-1\";\n  else\n    for (int i = 0; i < v.size(); i++) cout << v[i] << \" \";\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n \npublic class codeforces {\n\tpublic static void main(String[] args) {\n\t\tScanner scan = new Scanner(System.in);\n\t\tString str = scan.nextLine();\n\t\tString hour = new String();\n\t\tString minute = new String();\n\t\tint i = 0;\n\t\twhile (str.charAt(i) == '0') {\n \n\t\t\ti++;\n\t\t}\n\t\tfor (; str.charAt(i) != ':'; i++) {\n\t\t\thour += str.charAt(i);\n\t\t}\n\t\ti++;\n\t\twhile (str.charAt(i) == '0') {\n\t\t\t\n\t\t\ti++;\n\t\t\tif (i == str.length() ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor (; i < str.length(); i++) {\n\t\t\n\t\t\tminute += str.charAt(i);\n\t\t}\n\t\tif (hour.length() == 0 && minute.length() == 0) {\n\t\t\tSystem.out.println(-1);\n\t\t} else {\n\t\t\tif (hour.length() == 1 && minute.length() == 0) {\n\t\t\t\tif (((hour.charAt(0) >= '0' && hour.charAt(0) <= '9')\n\t\t\t\t\t\t|| (hour.charAt(0) >= 'A' && hour.charAt(0) <= 'N'))) {\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t}\n\t\t\t}else if(hour.length() == 0 && minute.length() == 1){\n\t\t\t\tif (((minute.charAt(0) >= '0' && minute.charAt(0) <= '9')\n\t\t\t\t\t\t|| (minute.charAt(0) >= 'A' && minute.charAt(0) <= 'Z'))) {\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t}\n\t\t\t} else if(hour.length() == 1 && minute.length() == 1){\n\t\t\t\tif (((minute.charAt(0) >= '0' && minute.charAt(0) <= '9')\n\t\t\t\t\t\t|| (minute.charAt(0) >= 'A' && minute.charAt(0) <= 'Z'))\n\t\t\t\t\t\t\t&& ((hour.charAt(0) >= '0' && hour.charAt(0) <= '9')\n\t\t\t\t\t\t\t\t\t|| (hour.charAt(0) >= 'A' && hour.charAt(0) <= 'N'))) {\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tint max = 0;\n\t\t\t\tint arr[] = new int[36];\n\t\t\t\tfor (int j = 0; j < 36; j++) {\n\t\t\t\t\tarr[j] = j;\n\t\t\t\t}\n\t\t\t\tfor (int j = str.length() - 1; j >= 0; j--) {\n\t\t\t\t\tif (str.charAt(j) == ':') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (str.charAt(j) >= '0' && str.charAt(j) <= '9') {\n\t\t\t\t\t\tif (max < arr[Integer.parseInt(str.charAt(j) + \"\")]) {\n\t\t\t\t\t\t\tmax = arr[Integer.parseInt(str.charAt(j) + \"\")];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tint idx = str.charAt(j) - 65 + 10;\n\t\t\t\t\t\tif (max < arr[idx]) {\n\t\t\t\t\t\t\tmax = arr[idx];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmax = max + 1;\n\t\t\t\t\n\t\t\t\tint h_flag = 0;\n\t\t\t\tint m_flag = 0;\n\t\t\t\tint tmp = max;\n\t\t\t\tint prev_max = max;\n\t\t\t\twhile (true) {\n\t\t\t\t\t\n\t\t\t\t\tint h_sum = 0;\n\t\t\t\n\t\t\t\t\tfor (int j = hour.length() - 1; j >= 0; j--) {\n\t\t\t\t\t\tint add = 0;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (hour.charAt(j) >= '0' && hour.charAt(j) <= '9') {\n\t\t\t\t\t\t\tadd = Integer.parseInt(hour.charAt(j) + \"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadd = hour.charAt(j) - 65 + 10;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (h_sum + add * Math.pow(max, hour.length() - 1 - j) >= 24) {\n\t\t\t\t\t\t\th_flag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\th_sum += add * Math.pow(max, hour.length() - 1 - j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tint m_sum = 0;\n \n\t\t\t\t\tfor (int j = minute.length() - 1; j >= 0; j--) {\n\t\t\t\t\t\tint add = 0;\n\t\t\t\t\t\tif (minute.charAt(j) >= '0' && minute.charAt(j) <= '9') {\n\t\t\t\t\t\t\tadd = Integer.parseInt(minute.charAt(j) + \"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadd = minute.charAt(j) - 65 + 10;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (m_sum + add * Math.pow(max, minute.length() - 1 - j) >= 60) {\n\t\t\t\t\t\t\tm_flag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tm_sum += add * Math.pow(max, minute.length() - 1 - j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif (h_flag == 0 && m_flag == 0) {\n\t\t\t\t\t\tSystem.out.print(max + \" \");\n\t\t\t\t\t\tmax++;\n \n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (prev_max == max) {\n\t\t\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}"
        },
        {
            "language": 1,
            "solution": "def IsBigWord(c):\n    return \"Z\" >= c >= \"A\"\n\ndef MyInt(c):\n    if IsBigWord(c):\n        return ord(c) - 55\n    else:\n        return int(c)\n\ns = raw_input()\na, b = s.split(\":\")\n\nAns = []\n\nbottom = 0\nfor c in a:\n    bottom = max(MyInt(c), bottom)\nfor c in b:\n    bottom = max(MyInt(c), bottom)\n\nfor c in xrange(max(2, bottom + 1), 1000):\n    i = len(a) - 1\n    A = 0\n    while i >= 0:\n        A += c ** (len(a) - i - 1) * MyInt(a[i])\n        i -= 1\n    i = len(b) - 1\n    B = 0\n    while i >= 0:\n        B += c ** (len(b) - i - 1) * MyInt(b[i])\n        i -= 1\n    if 23 >= A >= 0 and 59 >= B >= 0:\n        Ans.append(c)\nif len(Ans) >= 500:\n    print -1\nelif len(Ans) == 0:\n    print 0\nelse:\n    for elem in Ans:\n        print elem,"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tPrintWriter out = new PrintWriter(outputStream);\n\t\tSolver solver = new Solver();\n\t\tsolver.solve(in, out);\n\t\tout.close();\n\t}\n}\n\nclass Solver {\n\tpublic void solve(InputReader in, PrintWriter out) {\n\t\tString ws = in.next();\n\t\tString[] s = ws.split(\":\");\n\t\tif (Integer.parseInt(s[0], 36) <= 23 && Integer.parseInt(s[1], 36) <= 35) {\n\t\t\tout.print(-1);\n\t\t\treturn;\n\t\t}\n\t\tboolean ind = true;\n\t\tfor (int i = 2; i <= 59; i++) {\n\t\t\ttry {\n\t\t\t\tif (Integer.parseInt(s[0], i) <= 23 && Integer.parseInt(s[1], i) <= 59) {\n\t\t\t\t\tout.print(i);\n\t\t\t\t\tout.print(' ');\n\t\t\t\t\tind = false;\n\t\t\t\t}\n\t\t\t} catch (NumberFormatException e) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\ttry {\n\t\t\tif ((Integer.parseInt(s[1], 36) - Integer.parseInt(s[1], 35) == 1)&&(Integer.parseInt(s[0], 36) <= 23)) {\n\t\t\t\tint last = Integer.parseInt(s[1], 36) - 36;\n\t\t\t\tfor (int i = 37; i < 60 - last; i++) {\n\t\t\t\t\tout.print(i);\n\t\t\t\t\tout.print(' ');\n\t\t\t\t\tind = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (NumberFormatException e) {\n\t\t}\n\t\tif (ind)\n\t\t\tout.print(0);\n\t}\n}\n\nclass InputReader {\n\tprivate BufferedReader reader;\n\tprivate StringTokenizer tokenizer;\n\n\tpublic InputReader(InputStream stream) {\n\t\treader = new BufferedReader(new InputStreamReader(stream));\n\t\ttokenizer = null;\n\t}\n\n\tpublic String next() {\n\t\twhile (tokenizer == null || !tokenizer.hasMoreTokens()) {\n\t\t\ttry {\n\t\t\t\ttokenizer = new StringTokenizer(reader.readLine());\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new RuntimeException(e);\n\t\t\t}\n\t\t}\n\t\treturn tokenizer.nextToken();\n\t}\n\n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}\n"
        },
        {
            "language": 1,
            "solution": "import sys\ndef getnum(ch):\n    if ch.isdigit():\n        return ord(ch)-ord('0')\n    else:\n        return ord(ch)-ord('A')+10\n\ndef tonum(s,base):\n    res = 0\n    for ch in s:\n        res = res*base + getnum(ch)\n    return res\n\nlow = 2\na,b = raw_input().split(':')\nfor ch in a:\n    low=max(low,getnum(ch)+1)\nfor ch in b:\n    low=max(low,getnum(ch)+1)\n\nwhile a[0]=='0' and len(a)>1:\n    a=a[1:]\nwhile b[0]=='0' and len(b)>1:\n    b=b[1:]\n\nif len(a)==1 and len(b)==1 and getnum(a)<24:\n    print -1\n    sys.exit()\n\nans = []\n\nwhile low<=100:\n    if tonum(a,low)<24 and tonum(b,low)<60:\n        ans.append(low)\n    low += 1\n\nif len(ans)==0: print 0\nelse: print ' '.join(map(str,ans))\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.InputStreamReader;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        Scanner in = new Scanner(inputStream);\n        PrintWriter out = new PrintWriter(outputStream);\n        BMartianClock solver = new BMartianClock();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class BMartianClock {\n        public void solve(int testNumber, Scanner sc, PrintWriter pw) {\n            int t = 1;\n            // t= sc.nextInt();\n            while (t-- > 0) {\n                StringTokenizer st = new StringTokenizer(sc.nextLine(), \":\");\n                char[] a = st.nextToken().toCharArray();\n                char[] b = st.nextToken().toCharArray();\n                int ans = 0;\n                StringBuilder sb = new StringBuilder();\n                for (int i = 1; i < 1000; i++) {\n                    if (check(a, b, i)) {\n                        ans++;\n                        sb.append(i + \" \");\n                    }\n\n                }\n                //pw.println(sb.toString());\n                if (ans == 0) pw.println(0);\n                else if (ans > 500) pw.println(-1);\n                else\n                    pw.println(sb.toString());\n            }\n        }\n\n        boolean check(char[] a, char[] b, int x) {\n            long l = 0;\n            long r = 0;\n            int c = 0;\n            for (int i = a.length - 1; i >= 0; i--) {\n                if (get(a[i]) >= x) return false;\n                l += power(x, c) * (get(a[i]));\n                c++;\n            }\n            c = 0;\n            for (int i = b.length - 1; i >= 0; i--) {\n                if (get(b[i]) >= x) return false;\n                r += power(x, c) * (get(b[i]));\n                c++;\n            }\n            return (l < 24 && r < 60);\n        }\n\n        int get(char c) {\n            if (c >= '0' && c <= '9') return c - '0';\n            else return 10 + (c - 'A');\n        }\n\n        long power(long x, long y) {\n            // Initialize result\n            long res = 1;\n\n            while (y > 0) {\n                // If y is odd,\n                // multiply\n                // x with result\n                if ((y & 1) == 1)\n                    res = res * x;\n\n                // n must be even now\n                y = y >> 1; // y = y/2\n                x = x * x; // Change x to x^2\n            }\n            return res;\n        }\n\n    }\n\n    static class Scanner {\n        BufferedReader br;\n\n        public Scanner(FileReader r) {\n            br = new BufferedReader(r);\n        }\n\n        public Scanner(InputStream s) {\n            br = new BufferedReader(new InputStreamReader(s));\n        }\n\n        public String nextLine() {\n            try {\n                return br.readLine();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n    }\n}\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\n\npublic class MartianClock {\n        \n    public static void main(String[] args) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        String[] tokens = in.readLine().split(\":\");\n        String h = tokens[0];\n        String m = tokens[1];\n        \n        String ans = \"\";\n        for(int i = 0; i < 60; i++) {\n            if(isValid(i, h, m)) ans += \" \" + i;\n        }\n        \n        if(isValid(60, h, m)) ans = \"-1\";\n        if(ans.equals(\"\")) ans = \"0\";\n        \n        System.out.println(ans.trim());\n    }\n    \n    private static boolean isValid(int radix, String h, String m) {\n        int ih = 0, im = 0;\n        int max = 0;\n        for(int i = 0; i < h.length(); i++) {\n            char c = h.charAt(h.length() - 1 - i);\n            int num = Character.isDigit(c) ? Character.getNumericValue(c) : c - 55;\n            max = Math.max(max, num);\n            ih += Math.pow(radix, i) * num;\n        }\n        for(int i = 0; i < m.length(); i++) {\n            char c = m.charAt(m.length() - 1 - i);\n            int num = Character.isDigit(c) ? Character.getNumericValue(c) : c - 55;\n            max = Math.max(max, num);\n            im += Math.pow(radix, i) * num;\n        }   \n        \n        return (ih < 24 && im < 60 && max < radix);\n    }\n}\n"
        },
        {
            "language": 1,
            "solution": "def arrayPrint(a):\n    s = ''\n    for i in a:\n        s += str(i) + ' '\n    return s[0:len(s)-1]\n\n\ns = raw_input()\n\nj  = 0\nbasic = {}\nfor i in range(10):\n    basic[str(i)] = i\nfor i in range(65,91):\n    basic[ chr(i) ] = len(basic)   \na = ''\nfor i in s:\n    if i != ':':\n        if (len(a) == 0 and i == '0') == 0:\n            a = a + i\n        j += 1\n    else:\n        break\n\nb = s[j + 1:len(s)]\nj = 0\nfor i in b:\n    if i == '0':\n        j += 1\n    else:\n        break   \n\nb = b[j:len(b)]\nif len(a) == 0:\n    a = '0'\nif len(b) == 0:\n    b = '0'    \n\n\nif (len(a) <= 1 and len(b) <= 1):\n    if (len(a) == 1 and basic[a] > 23):\n        print 0\n    else:    \n        print -1\nelse:\n    minbas = max(basic[max(a)],basic[max(b)]) + 1\n    maxbasA = 0\n    basa = minbas\n    sum = 0\n    if a != '0':\n        if len(a) > 1:\n            while sum < 24:\n                sum = 0\n                j = len(a) - 1\n                for i in a:\n                    sum += basic[i]*(basa**j)\n                    j -= 1\n                    if sum > 24:\n                        break\n                if sum < 24:\n                    maxbasA = basa \n                    basa += 1   \n                else:\n                    break    \n        else:\n            if 24 / basic[a] > 0:\n                maxbasA = 59\n            else:\n                maxbasA = 0                \n    basa = minbas\n    sum = 0\n    maxbasB = 0\n    if b != '0':\n        if len(b) > 1:\n            while sum < 60:\n                sum = 0\n                j = len(b) - 1\n                for i in b:\n                    sum += basic[i]*(basa**j)\n                    j -= 1\n                    if sum > 60:\n                        break\n                if sum < 60:\n                    maxbasB = basa \n                    basa += 1   \n                else:\n                    break\n        else:\n            if 60 / basic[b] > 0:\n                maxbasB = 23         \n            else:\n                maxbasB = 0                   \n    if a == '0':\n        c = maxbasB\n    else:\n        if b == '0':\n            c = maxbasA\n        else:                    \n            c = min(maxbasA, maxbasB)    \n    if c < minbas:\n        print 0\n    else:\n        for i in range(minbas, c + 1):\n            print i, "
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring st;\nint d[20], m;\nbool test(int b) {\n  bool before = 1;\n  int be = 0, af = 0, p = 1;\n  for (int i = ((int)((st).size())) - 1; i >= 0; i--) {\n    if (st[i] == ':') {\n      before = 0;\n      p = 1;\n      continue;\n    }\n    if (before)\n      be += p * d[i];\n    else\n      af += p * d[i];\n    p *= b;\n  }\n  return (be < 60 && be >= 0 && af < 24 && af >= 0);\n}\nint main() {\n  cin >> st;\n  for (int i = 0; i < ((int)((st).size())); ++i) {\n    if (st[i] == ':') continue;\n    if (isdigit(st[i]))\n      d[i] = st[i] - '0';\n    else if (st[i] >= 'A' && st[i] <= 'Z')\n      d[i] = st[i] - 'A' + 10;\n    m = max(m, d[i]);\n  }\n  m++;\n  int t = m;\n  while (1) {\n    if (m > 70) {\n      cout << -1;\n      return 0;\n    }\n    if (!test(m)) {\n      if (t == m)\n        cout << 0;\n      else {\n        for (int i = t; i < m; i++) cout << i << \" \";\n      }\n      return 0;\n    }\n    m++;\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "\nimport string\n\nval = {}\nfor i in range(10):\n   val[str(i)] = i\nfor c in string.ascii_uppercase:\n   val[c] = ord(c) - ord('A') + 10\n\ntime = raw_input().split(':')\nH, M = [[val[x] for x in t] for t in time]\n\ndef value(L, R):\n   v, r = 0, 1\n   for x in reversed(L):\n      v += x*r\n      r *= R\n   return v\n\nRmin = max(H + M) + 1\n\nif len(H + M) <= 2 or max(H[:-1] + M[:-1]) == 0:\n   print (-1, 0)[H[-1] >= 24]\nelif value(H, Rmin) >= 24 or value(M, Rmin) >= 60:\n   print 0\nelse:\n   r = Rmin\n   while value(H, r) < 24 and value(M, r) < 60:\n      print r,\n      r += 1\n   print\n   \n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\npublic class B {\n    public static StreamTokenizer in = new StreamTokenizer(System.in);\n    public static boolean bg = true;\n\n    public static void main(String[] args) throws Exception {\n        in = null;\n        Scanner scan = new Scanner(System.in);\n        String[] l1 = scan.next().split(\":\");\n        char[] ll1 = l1[0].toCharArray();\n        char[] ll2 = l1[1].toCharArray();\n        \n        int[] v1 = new int[ll1.length];\n        int[] v2 = new int[ll2.length]; \n        for (int i=0;i<ll1.length;i++){\n            v1[i] = qq(ll1[i]);\n        }\n        for (int i=0;i<ll2.length;i++){\n            v2[i] = qq(ll2[i]);\n        }\n        ArrayList<Integer> fin = new ArrayList();\n        if (check1(v1)&&check2(v2)){\n            pn(-1);\n            ex();\n        }\n        else if (check1(v1)&&!check2(v2)){\n            HashSet<Integer> s2 = cd2(v2);\n            for (int e: s2){\n                if (e>v1[v1.length-1]){\n                    fin.add(e);\n                }\n            }\n        }\n        else if (!check1(v1)&&check2(v2)){\n            HashSet<Integer> s1 = cd1(v1);\n            for (int e: s1){\n                if (e>v2[v2.length-1]){\n                    fin.add(e);\n                }\n            }\n        }\n        else {\n            HashSet<Integer> s1 = cd1(v1);\n            HashSet<Integer> s2 = cd2(v2);\n            s1.retainAll(s2);\n            \n            fin.addAll(s1);\n            \n            \n        }\n        \n        Collections.sort(fin);\n        \n        \n        \n        if (fin.size()==0){\n            pn(0);\n            ex();\n        }\n        for (int e: fin){\n            p(e+\" \");\n        }\n        pn(\"\");\n    }\n    public static HashSet<Integer> cd1(int[] l1){\n        HashSet<Integer> s1 = new HashSet();\n        for (int i=1;;i++){\n            if (ok(l1,i) ){\n                int cur = parse(l1, i);\n                if (cur<=23){\n                    s1.add(i);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        return s1;\n    }\n    public static HashSet<Integer> cd2(int[] l1){\n        HashSet<Integer> s1 = new HashSet();\n        for (int i=1;;i++){\n            if (ok(l1,i) ){\n                int cur = parse(l1, i);\n                if (cur<=59){\n                    s1.add(i);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        return s1;\n    }\n    public static boolean check1(int[] l1){\n        ArrayList<Integer> f1 = new ArrayList();\n        for (int i=0;i<l1.length-1;i++){\n            if (l1[i]!=0) return false;\n        }\n        if (l1[l1.length-1]<=23){\n            return true;\n        }\n        return false;\n    }\n    public static boolean check2(int[] l1){\n        ArrayList<Integer> f1 = new ArrayList();\n        for (int i=0;i<l1.length-1;i++){\n            if (l1[i]!=0) return false;\n        }\n        if (l1[l1.length-1]<=59){\n            return true;\n        }\n        return false;\n    }\n    public static int parse(int[] l1, int rdx){\n        int fin = 0;\n        for (int e: l1){\n            fin *= rdx;\n            fin += e;\n        }\n        return fin;\n    }\n    public static boolean ok(int[] l1, int rdx){\n        for (int e: l1){\n            if (rdx <=e) return false;\n        }\n        return true;\n    }\n    public static int qq(char c1){\n        if (c1 - '0'>=0\n                &&c1 - '0'<=9\n                ){\n            return c1 - '0';\n        }\n        else return c1 - 'A' + 10;\n    }\n    private static int ni() throws Exception {\n        in.nextToken();\n        return (int) in.nval;\n    }\n\n    private static long nl() throws Exception {\n        in.nextToken();\n        return (long) in.nval;\n    }\n\n    private static double nd() throws Exception {\n        in.nextToken();\n        return in.nval;\n    }\n\n    private static void pn(Object o1) {\n        System.out.println(o1);\n    }\n\n    private static void p(Object o1) {\n        System.out.print(o1);\n    }\n\n    private static void ex() {\n        System.exit(0);\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar buf[16], m[8], h[8];\nint letter2digit(char c) {\n  if (isdigit(c))\n    return c - '0';\n  else\n    return c - 'A' + 10;\n}\nint str2num(char* s, int len, int radix) {\n  int p = 1, res = 0;\n  for (int i = len - 1; i >= 0; i--) {\n    res += p * letter2digit(s[i]);\n    p *= radix;\n  }\n  return res;\n}\nint main() {\n  cin >> buf;\n  int i = 0, lm = 0, lh = 0;\n  while (buf[i] == '0') i++;\n  while (buf[i] != ':') h[lh++] = buf[i++];\n  if (lh == 0) h[lh++] = '0';\n  i++;\n  while (buf[i] == '0') i++;\n  while (buf[i] != '\\0') m[lm++] = buf[i++];\n  if (lm == 0) m[lm++] = '0';\n  int lowm, lowh, low;\n  lowm = lowh = 0;\n  for (i = 0; i < lh; i++) {\n    int temp = letter2digit(h[i]);\n    lowh = (lowh < temp ? temp : lowh);\n  }\n  for (i = 0; i < lm; i++) {\n    int temp = letter2digit(m[i]);\n    lowm = (lowm < temp ? temp : lowm);\n  }\n  low = max(lowh, lowm) + 1;\n  if (lh == 1 && lm == 1 && letter2digit(h[0]) < 24 && letter2digit(m[0]) < 60)\n    cout << -1 << endl;\n  else {\n    bool found = false;\n    int hh, mm;\n    while ((hh = str2num(h, lh, low)) < 24 && (mm = str2num(m, lm, low) < 60)) {\n      found = true;\n      cout << low++ << ' ';\n    }\n    if (!found) cout << 0;\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar s[15];\nint p(char ch) {\n  if ('0' <= ch && ch <= '9') return ch - '0';\n  return ch - 'A' + 10;\n}\nint work(char s[], int base) {\n  int ans = 0, t;\n  for (int i = 0; s[i]; i++) {\n    t = p(s[i]);\n    if (t >= base) return 100;\n    ans = ans * base + t;\n  }\n  return ans;\n}\nint main() {\n  int i, j;\n  int m, n, k;\n  int a[61];\n  while (scanf(\"%s\", s) != EOF) {\n    m = strlen(s);\n    for (i = 0; i < m; i++)\n      if (s[i] == ':') {\n        s[i] = '\\0';\n        k = i;\n      }\n    for (i = 2, j = 0; i <= 60; i++)\n      if (work(s, i) < 24 && work(&s[k + 1], i) < 60) a[j++] = i;\n    if (j == 0)\n      printf(\"0\\n\");\n    else if (a[j - 1] == 60)\n      printf(\"-1\\n\");\n    else {\n      for (i = 0; i < j; i++)\n        if (i)\n          printf(\" %d\", a[i]);\n        else\n          printf(\"%d\", a[i]);\n      printf(\"\\n\");\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint getHour(char *s1, int len, int base) {\n  double hr = 0;\n  char *s = new char[10];\n  for (int i = 0; i < len; i++) {\n    s[i] = s1[i];\n  }\n  s[len] = 0;\n  reverse(s, s + len);\n  for (int i = 0; i < len; i++) {\n    char p = s[i];\n    int r = 0;\n    if (p > '9') {\n      r = 10 + p - 'A';\n    } else {\n      r = p - '0';\n    }\n    hr = hr + (r * pow(base, i));\n  }\n  return hr;\n}\nint main() {\n  vector<int> ans;\n  char *c = new char[20];\n  cin >> c;\n  char *a = new char[10];\n  char *b = new char[10];\n  bool f = false;\n  int lena = 0;\n  int lenb = 0;\n  char p = 0;\n  for (int i = 0; i < strlen(c); i++) {\n    if (c[i] == ':') {\n      f = true;\n      continue;\n    }\n    if (c[i] > p) {\n      p = c[i];\n    }\n    if (!f) {\n      a[lena++] = c[i];\n    } else {\n      b[lenb++] = c[i];\n    }\n  }\n  a[lena] = 0;\n  b[lenb] = 0;\n  int r = 0;\n  if (p > '9') {\n    r = 10 + p - 'A';\n  } else {\n    r = p - '0';\n  }\n  r++;\n  for (int i = r; i < 70; i++) {\n    if (i > 60) {\n      cout << -1;\n      return 0;\n    }\n    int hr = getHour(a, lena, i);\n    int minute = getHour(b, lenb, i);\n    if (hr < 24 && minute < 60) {\n      ans.push_back(i);\n    } else {\n      break;\n    }\n  }\n  if (ans.size() == 0) {\n    cout << 0 << endl;\n  }\n  for (int i = 0; i < ans.size(); i++) {\n    cout << ans[i] << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint base;\nint conv(char c) {\n  if (c >= '0' && c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nint solve(string s) {\n  int ret = 0;\n  for (int i = 0; i < s.size(); i++) {\n    int t = conv(s[i]);\n    if (t >= base) return 1 << 30;\n    ret = ret * base + t;\n    if (ret > 100) return 1 << 30;\n  }\n  return ret;\n}\nint main() {\n  string s;\n  cin >> s;\n  for (int i = 0; i < s.size(); i++) {\n    if (s[i] == ':') s[i] = ' ';\n  }\n  stringstream ss(s);\n  string a, b;\n  ss >> a >> b;\n  vector<int> v;\n  for (base = 2; base <= 1000; base++) {\n    if (solve(a) < 24 && solve(b) < 60) v.push_back(base);\n  }\n  if (v.size() > 100) {\n    cout << -1;\n    return 0;\n  }\n  if (v.size() == 0) {\n    cout << 0;\n    return 0;\n  }\n  for (int i = 0; i < v.size(); i++) cout << v[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool check(int base, string s, int limit) {\n  int val, res = 0;\n  for (typeof(0) i = (0); i < (((int)(s).size())); ++i) {\n    if (s[i] >= 'A' && s[i] <= 'Z')\n      val = s[i] - 'A' + 10;\n    else\n      val = s[i] - '0';\n    res = res * base + val;\n  }\n  return res <= limit;\n}\nint main() {\n  string s, min, sec;\n  while (cin >> s) {\n    int x = s.find(':');\n    min = s.substr(0, x);\n    sec = s.substr(x + 1);\n    int i = 0;\n    while (min[i] == '0') ++i;\n    min = min.substr(i);\n    i = 0;\n    while (sec[i] == '0') ++i;\n    sec = sec.substr(i);\n    int base, ma = 0, val, ma2 = 0;\n    if (((int)(min).size()) <= 1 && ((int)(sec).size()) <= 1) {\n      bool ok = true;\n      for (typeof(0) i = (0); i < (((int)(min).size())); ++i)\n        if (min[i] - 'A' > 13) {\n          puts(\"0\");\n          ok = false;\n        }\n      if (ok) puts(\"-1\");\n      continue;\n    }\n    for (typeof(0) i = (0); i < (((int)(min).size())); ++i) {\n      if (min[i] >= 'A' && min[i] <= 'Z')\n        val = min[i] - 'A' + 10;\n      else\n        val = min[i] - '0';\n      ma = max(ma, val);\n    }\n    for (typeof(0) i = (0); i < (((int)(sec).size())); ++i) {\n      if (sec[i] >= 'A' && sec[i] <= 'Z')\n        val = sec[i] - 'A' + 10;\n      else\n        val = sec[i] - '0';\n      ma2 = max(ma2, val);\n    }\n    base = max(ma, ma2) + 1;\n    if (!check(base, min, 23) || !check(base, sec, 59)) {\n      puts(\"0\");\n      continue;\n    } else {\n      for (int b = base; b < 60; ++b) {\n        if (check(b, min, 23) && check(b, sec, 59))\n          printf(\"%d \", b);\n        else\n          break;\n      }\n      printf(\"\\n\");\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import re\nimport itertools\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c) - ord('A') + 10)\n\ndef con(n, s):\n      if n == '': return 0\n      if get(n[-1]) >= s: return 100\n      return get(n[-1]) + con(n[:-1], s) * s\n\ndef good(n):\n      return con(s[0], n) < 24 and con(s[1], n) < 60\n\ns = map(lambda x: max('0', re.sub('^0*', '', x)), raw_input().split(':'))\nans = filter(good, range(100))\nif ans == []: print '0'\nelif ans[-1] == 99: print '-1'\nelse: print ' '.join(str(x) for x in ans)\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.io.IOException;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        InputReader in = new InputReader(inputStream);\n        PrintWriter out = new PrintWriter(outputStream);\n        Task solver = new Task();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class Task {\n        public void solve(int testNumber, InputReader in, PrintWriter out) {\n            String time = in.next();\n            int lenFirst = 0;\n            int lenSecond = 0;\n            int n = time.length();\n            for (int i = 0; i < n; i++) {\n                if (time.charAt(i) == ':') {\n                    lenFirst = i;\n                    lenSecond = n - i - 1;\n                    break;\n                }\n            }\n            int[] a = new int[lenFirst];\n            int[] b = new int[lenSecond];\n            int start = 0;\n            for (int i = 0; i < lenFirst; i++) {\n                int code = time.charAt(i) - 48;\n                if (code >= 0 && code <= 9) {\n                    a[i] = code;\n                    start = Math.max(start, code);\n                    continue;\n                }\n                code += 48;\n                code -= 'A';\n                code += 10;\n                a[i] = code;\n                start = Math.max(start, code);\n            }\n            int id = 0;\n            for (int i = lenFirst + 1; i < n; i++) {\n                int code = time.charAt(i) - 48;\n                if (code >= 0 && code <= 9) {\n                    b[id++] = code;\n                    start = Math.max(start, code);\n                    continue;\n                }\n                code += 48;\n                code -= 'A';\n                code += 10;\n                b[id++] = code;\n                start = Math.max(start, code);\n            }\n            ArrayList<Integer> answer = new ArrayList<>();\n            boolean fail = false;\n            start = Math.max(start + 1, 2);\n            for (int i = start; i <= 100; i++) {\n                int power = 1;\n                int hours = 0;\n                int minutes = 0;\n                for (int j = lenFirst - 1; j >= 0; --j) {\n                    hours += (power * a[j]);\n                    power *= i;\n                    if (hours > 23) {\n                        break;\n                    }\n                }\n                power = 1;\n                for (int j = lenSecond - 1; j >= 0; --j) {\n                    minutes += (power * b[j]);\n                    power *= i;\n                    if (minutes > 60) {\n                        break;\n                    }\n                }\n                if (hours > 23 || minutes > 59) {\n                    fail = true;\n                    continue;\n                }\n                answer.add(i);\n            }\n            if (!fail) {\n                out.println(\"-1\");\n                return;\n            }\n            if (answer.size() == 0) {\n                out.println(\"0\");\n                return;\n            }\n            for (int x : answer) {\n                out.print(x + \" \");\n            }\n            out.println(\"\");\n        }\n\n    }\n\n    static class InputReader {\n        public BufferedReader reader;\n        public StringTokenizer tokenizer;\n\n        public InputReader(InputStream stream) {\n            reader = new BufferedReader(new InputStreamReader(stream), 32768);\n            tokenizer = null;\n        }\n\n        public String next() {\n            while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n                try {\n                    tokenizer = new StringTokenizer(reader.readLine());\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n            return tokenizer.nextToken();\n        }\n\n    }\n}\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nbool judge(char c) {\n  if (c == '\\0' || c >= '0' && c <= '9' || c >= 'A' && c <= 'N') return true;\n  return false;\n}\nint change(char c) {\n  if (c == '\\0') return 0;\n  if (c >= '0' && c <= '9') return (c - '0');\n  if (c >= 'A' && c <= 'Z') return (c - 'A' + 10);\n}\nbool judge2(int n, char s1[], char s2[], int l1, int l2) {\n  int i;\n  int num = 0;\n  int k, l;\n  l = 1;\n  for (i = l1 - 1; i >= 0; i--) {\n    k = change(s1[i]);\n    num += k * l;\n    l = l * n;\n    if (k >= n || num > 23) return false;\n  }\n  num = 0;\n  k = 0;\n  l = 1;\n  for (i = l2 - 1; i >= 0; i--) {\n    k = change(s2[i]);\n    num += k * l;\n    l = l * n;\n    if (k >= n || num > 59) return false;\n  }\n  return true;\n}\nint main() {\n  char str[20];\n  char s1[10], s2[20];\n  int len1, len2;\n  int num, i;\n  bool flag;\n  int a[100];\n  while (scanf(\"%s\", str) != EOF) {\n    num = 0;\n    memset(s1, 0, sizeof(s1));\n    memset(s2, 0, sizeof(s2));\n    flag = true;\n    for (i = 0; str[i] != ':'; i++) {\n      if (str[i] == '0' && flag) continue;\n      s1[num++] = str[i];\n      flag = false;\n    }\n    len1 = num;\n    num = 0;\n    flag = true;\n    for (i++; str[i]; i++) {\n      if (str[i] == '0' && flag == true) continue;\n      s2[num++] = str[i];\n      flag = false;\n    }\n    len2 = num;\n    if ((len1 <= 1 && judge(s1[0])) && len2 <= 1) {\n      printf(\"-1\\n\");\n      continue;\n    }\n    flag = false;\n    num = 0;\n    for (i = 2; i <= 59; i++) {\n      if (judge2(i, s1, s2, len1, len2)) {\n        a[num++] = i;\n        flag = true;\n      }\n    }\n    if (flag) {\n      for (i = 0; i < num - 1; i++) printf(\"%d \", a[i]);\n      printf(\"%d\\n\", a[i]);\n    } else\n      printf(\"0\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint toDigit(char c) {\n  if ('0' <= c && c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nint toInteger(string a, int k) {\n  int ret = 0;\n  for (int i = 0; i < (int)(a.length()); i++) {\n    int x = toDigit(a[i]);\n    if (x >= k) return -1;\n    ret = k * ret + x;\n    if (ret >= 60) return -1;\n  }\n  return ret;\n}\nint main() {\n  ios_base::sync_with_stdio(0);\n  string str;\n  cin >> str;\n  size_t pos = str.find(':');\n  string a = str.substr(0, pos);\n  string b = str.substr(pos + 1);\n  vector<int> ret;\n  bool inf = false;\n  for (int k = 2; k < 60; k++) {\n    int x = toInteger(a, k);\n    int y = toInteger(b, k);\n    if (x < 0 || x > 23) continue;\n    if (y < 0 || y > 59) continue;\n    ret.push_back(k);\n    if (x < k && y < k) inf = true;\n  }\n  if (inf)\n    cout << -1 << endl;\n  else if (!ret.size())\n    cout << 0 << endl;\n  else {\n    for (int i = 0; i < (int)(ret.size()); i++) cout << ret[i] << \" \";\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "f = lambda b, s : sum(v * b ** (len(s) - 1 - i) for i, v in enumerate(s))\nh, m = map(lambda x : [ord(v) - [ord('A') - 10, ord('0')][v.isdigit()] for v in x], raw_input().split(':'))\nl = [b for b in range(max(h + m) + 1, 99) if f(b, h) < 24 and f(b, m) < 60]\nprint 0 if not len(l) else -1 if max(l) > 90 else ' '.join(map(str, l))"
        },
        {
            "language": 1,
            "solution": "import re\nimport itertools\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c) - ord('A') + 10)\n\ndef con(n, s):\n      ans, p = 0, 1\n      for i in range(1, len(n) + 1):\n            if get(n[-i]) >= s: return 100\n            ans, p = ans + get(n[-i]) * p, p * s\n      return ans\n\ndef good(m, s):\n      return con(m[0], s) < 24 and con(m[1], s) < 60\n\ns = map(lambda x: max('0', re.sub('^0*', '', x)), raw_input().split(':'))\nx = range(2, 1000)\nans = list(itertools.compress(x, [good(s, i) for i in x]))\nif len(ans) == 0: print '0'\nelif len(ans) > 60: print '-1'\nelse: print ' '.join(str(x) for x in ans)\n"
        },
        {
            "language": 1,
            "solution": "def convert(a, b):\n    if a=='': return 0\n    if b<=36: return int(a,b)\n    return convert(a[:-1], b)*b + int(a[-1],36)\n\ndef solve():\n    a = str(raw_input()).split(':')\n    h = a[0]\n    m = a[1]\n    if (h[:-1] == '0'*(len(h)-1)) and (m[:-1] == '0'*(len(m)-1)):\n        if(h[-1] >= 'O'):\n            print 0\n            return\n        print -1\n        return\n    flag = False\n    i = 1\n    while i<59:\n        i += 1\n        try:\n            x = convert(h, i)\n            if x>23:\n                continue\n            y = convert(m, i)\n            if y>59:\n                continue\n            print i,\n            flag = True\n        except ValueError:\n            continue\n    if flag:\n        print ''\n        return\n    print '0'\n\nsolve()\n"
        },
        {
            "language": 1,
            "solution": "def get_val(c):\n    return int(c, 36)\n\ndef in_radix(a, b, oo=1000):\n    # a in radix b, a is a string\n    co = 1\n    s = 0\n    for c in reversed(a):\n        v = get_val(c)\n        if v >= b: return oo\n        s += v * co\n        co *= b\n    return s\nL, R = 24, 60\nls, rs = raw_input().split(':')\nif in_radix(ls, R) < L and in_radix(rs, R) < R:\n    ans = -1\n    print ans\nelse:\n    ans = []\n    for r in xrange(1, R):\n        if in_radix(ls, r) < L and in_radix(rs, r) < R:\n            ans.append(r)\n    if ans:\n        print ' '.join(map(str, ans))\n    else:\n        print 0\n\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long OO = 1e8;\nconst double EPS = (1e-7);\nint dcmp(double x, double y) { return fabs(x - y) <= EPS ? 0 : x < y ? -1 : 1; }\nconst int N = 100;\nint tonum(char c) {\n  if (c >= '0' && c <= '9')\n    return c - '0';\n  else\n    return c - 'A' + 10;\n}\nint main() {\n  ios::sync_with_stdio(false);\n  string h, m;\n  char c;\n  while (1) {\n    cin >> c;\n    if (c == ':') {\n      cin >> m;\n      break;\n    }\n    h.push_back(c);\n  }\n  reverse(((h).begin()), ((h).end()));\n  reverse(((m).begin()), ((m).end()));\n  bool all = true;\n  long long cnt = 0;\n  for (int j = 0; j < ((int)((h).size())); ++j)\n    cnt += pow(100, j) * tonum(h[j]);\n  if (cnt > 23) all = false;\n  cnt = 0;\n  for (int j = 0; j < ((int)((m).size())); ++j)\n    cnt += pow(100, j) * tonum(m[j]);\n  if (cnt > 59) all = false;\n  if (all) return cout << -1 << endl, 0;\n  int maxi = 0;\n  for (int i = 0; i < ((int)((h).size())); ++i)\n    if (tonum(h[i]) > maxi) maxi = tonum(h[i]);\n  for (int i = 0; i < ((int)((m).size())); ++i)\n    if (tonum(m[i]) > maxi) maxi = tonum(m[i]);\n  vector<int> ans;\n  for (int i = (maxi + 1); i < (int)(61); ++i) {\n    cnt = 0;\n    for (int j = 0; j < ((int)((h).size())); ++j)\n      cnt += pow(i, j) * tonum(h[j]);\n    if (cnt > 23) continue;\n    cnt = 0;\n    for (int j = 0; j < ((int)((m).size())); ++j)\n      cnt += pow(i, j) * tonum(m[j]);\n    if (cnt > 59) continue;\n    ans.push_back(i);\n  }\n  if (ans.size() == 0) return cout << 0 << endl, 0;\n  for (int i = 0; i < ((int)((ans).size())); ++i) cout << ans[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c) - ord('A') + 10)\n\ndef con(n, s):\n      if n == '': return 0\n      if get(n[-1]) >= s: return 100\n      return get(n[-1]) + con(n[:-1], s) * s\n\ndef good(n):\n      return con(s[0], n) < 24 and con(s[1], n) < 60\n\ns = raw_input().split(':')\nans = filter(good, range(100))\nif ans == []: print '0'\nelif ans[-1] == 99: print '-1'\nelse: print ' '.join(str(x) for x in ans)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  bool flag = false;\n  vector<int> lh, rh;\n  int minsc = 0;\n  int x;\n  int lhs[5], rhs[5];\n  string time;\n  cin >> time;\n  for (int i = 0; i < time.length(); i++) {\n    if (time[i] == ':') {\n      flag = true;\n      continue;\n    }\n    if (flag) {\n      if (time[i] >= 48 && time[i] <= 57)\n        rh.push_back(time[i] - 48);\n      else\n        rh.push_back(time[i] - 55);\n    } else {\n      if (time[i] >= 48 && time[i] <= 57)\n        lh.push_back(time[i] - 48);\n      else\n        lh.push_back(time[i] - 55);\n    }\n  }\n  for (int i = 0; i < 5; i++) {\n    lhs[i] = rhs[i] = 0;\n  }\n  for (int i = lh.size() - 1, j = 0; i >= 0; i--, j++) {\n    lhs[j] = lh[i];\n  }\n  for (int i = rh.size() - 1, j = 0; i >= 0; i--, j++) {\n    rhs[j] = rh[i];\n  }\n  for (int i = 0; i < 5; i++) {\n    if (minsc < lhs[i] && lhs[i] != 0) minsc = lhs[i];\n    if (minsc < rhs[i] && rhs[i] != 0) minsc = rhs[i];\n  }\n  flag = false;\n  for (int i = 1; i < 5; i++) {\n    if (lhs[i] != 0 || rhs[i] != 0) {\n      flag = true;\n      break;\n    }\n  }\n  if (!flag) {\n    if (lhs[0] >= 0 && lhs[0] <= 23) {\n      cout << \"-1\";\n      return 0;\n    }\n  }\n  flag = true;\n  x = minsc + 1;\n  while (flag) {\n    int s1, s2;\n    s1 = lhs[4] * x * x * x * x + lhs[3] * x * x * x + lhs[2] * x * x +\n         lhs[1] * x + lhs[0];\n    s2 = rhs[4] * x * x * x * x + rhs[3] * x * x * x + rhs[2] * x * x +\n         rhs[1] * x + rhs[0];\n    if (s1 >= 24 || s2 >= 60)\n      flag = false;\n    else {\n      cout << x << \" \";\n      x++;\n    }\n  }\n  if (x == minsc + 1) cout << \"0\";\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, a[3][15];\nvector<int> sol;\nint main() {\n  char sir[15];\n  scanf(\"%s\", sir + 1);\n  n = strlen(sir + 1);\n  int val, p = 1, i, max_val = 1;\n  for (i = 1; i <= n; ++i) {\n    if (sir[i] == ':') {\n      ++p;\n      continue;\n    }\n    if (sir[i] >= '0' && sir[i] <= '9') val = sir[i] - '0';\n    if (sir[i] >= 'A' && sir[i] <= 'Z') val = sir[i] - 'A' + 10;\n    if (val > max_val) max_val = val;\n    a[p][++a[p][0]] = val;\n  }\n  val = 0;\n  int inf = 0, ora1 = -1, ora2 = -1;\n  for (int b = max_val + 1;; ++b) {\n    int ora = 0;\n    int min = 0;\n    val = 1;\n    for (int i = a[1][0]; i >= 1; --i) {\n      ora += a[1][i] * val;\n      val *= b;\n    }\n    val = 1;\n    for (int i = a[2][0]; i >= 1; --i) {\n      min += a[2][i] * val;\n      val *= b;\n    }\n    if (ora1 == ora && ora2 == min) {\n      inf = 1;\n      break;\n    }\n    if (ora >= 0 && ora <= 23 && min >= 0 && min <= 59) {\n      sol.push_back(b);\n    } else {\n      if (ora > 23 || min > 59) break;\n    }\n    ora1 = ora;\n    ora2 = min;\n  }\n  if (inf) {\n    printf(\"-1\\n\");\n    return 0;\n  }\n  if (sol.size() == 0)\n    printf(\"0\\n\");\n  else {\n    for (i = 0; i < sol.size(); ++i) {\n      printf(\"%d \", sol[i]);\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\n\npublic class CF149B {\n\tstatic int digit(char c) {\n\t\tint d = -1;\n\t\tif (c >= '0' && c <= '9')\n\t\t\td = c - '0';\n\t\telse if (c >= 'A' && c <= 'Z')\n\t\t\td = c - 'A' + 10;\n\t\treturn d;\n\t}\n\tstatic int number(char[] cc, int a, int b, int r) {\n\t\tint n = 0;\n\t\tfor (int i = a; i < b; i++)\n\t\t\tn = n * r + digit(cc[i]);\n\t\treturn n;\n\t}\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tchar[] cc = br.readLine().toCharArray();\n\t\tint n = cc.length;\n\t\tint k = 0;\n\t\twhile (cc[k] != ':')\n\t\t\tk++;\n\t\tboolean h1 = true, b1 = true;\n\t\tint dmax = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint d = digit(cc[i]);\n\t\t\tif (d > 0) {\n\t\t\t\tif (i < k - 1)\n\t\t\t\t\th1 = false;\n\t\t\t\telse if (i > k && i < n - 1)\n\t\t\t\t\tb1 = false;\n\t\t\t\tif (d > dmax)\n\t\t\t\t\tdmax = d;\n\t\t\t}\n\t\t}\n\t\tif (h1 && b1 && digit(cc[k - 1]) < 24 && digit(cc[n - 1]) < 60) {\n\t\t\tSystem.out.println(-1);\n\t\t\treturn;\n\t\t}\n\t\tint r = dmax + 1;\n\t\twhile (number(cc, 0, k, r) < 24 && number(cc, k + 1, n, r) < 60)\n\t\t\tr++;\n\t\tif (r <= dmax + 1) {\n\t\t\tSystem.out.println(0);\n\t\t\treturn;\n\t\t}\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor (int i = dmax + 1; i < r; i++)\n\t\t\tsb.append(i + \" \");\n\t\tSystem.out.println(sb);\n\t}\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class Solution \n{\t\n\tstatic String[] ss=null;\n\tstatic int Min()\n\t{\n\t\tint max=0;\n\t\tfor(int i=0;i<2;i++)\n\t\t{\n\t\t\tfor(int j=0;j<ss[i].length();j++)\n\t\t\t{\n\t\t\t\tif(ss[i].charAt(j)>='0' && ss[i].charAt(j)<='9')\n\t\t\t\t\tmax=Math.max(max, ss[i].charAt(j)-'0');\n\t\t\t\telse\n\t\t\t\t\tmax=Math.max(max,ss[i].charAt(j)-'A'+10);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn max+1;\n\t}\n\t\n\tstatic boolean Check(int base, String str, int max)\n\t{\n\t\tint num=0;\n\t\tfor(int i=0;i<str.length();i++)\n\t\t{\n\t\t\tnum*=base;\n\t\t\tchar c=str.charAt(i);\n\t\t\tif(c>='0' && c<='9')\n\t\t\t\tnum+=c-'0';\n\t\t\telse\n\t\t\t\tnum+=c-'A'+10;\n\t\t}\n\t\t\n\t\treturn max>=num;\n\t}\n\tstatic boolean Check(int base)\n\t{\n\t\treturn Check(base,ss[0],23) && Check(base,ss[1],59);\n\t}\n\t\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner sc=new Scanner(System.in);\n\t\tss=sc.nextLine().split(\":\");\n\n\t\tint min=Min();\n\t\tint i=min;\n\t\tStringBuffer sb=new StringBuffer();\n\t\t\t\n\t\tboolean flag1=true;\n\t\t\n\t\tfor(int j=0;j<ss[0].length()-1;j++)\n\t\t\tif(ss[0].charAt(j)!='0')\n\t\t\t\tflag1=false;\n\t\t\n\t\tif(ss[0].charAt(ss[0].length()-1)-'A'+10>23)\n\t\t\tflag1=false;\n\t\t\n\t\tboolean flag2=true;\n\t\tfor(int j=0;j<ss[1].length()-1;j++)\n\t\t\tif(ss[1].charAt(j)!='0')\n\t\t\t\tflag2=false;\n\t\t\t\t\n\t\tif(flag1 && flag2)\n\t\t{\n\t\t\tSystem.out.println(-1);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t\n\t\tfor(;;i++)\n\t\t{\n\t\t\tif(!Check(i))\n\t\t\t\tbreak;\n\t\t\telse\n\t\t\t\tsb.append(i+\" \");\n\t\t}\n\n\t\tif(i==min)\n\t\t\tSystem.out.println(0);\n\t\telse\n\t\t\tSystem.out.println(sb.toString());\n\t\t\n\t}\n}"
        },
        {
            "language": 1,
            "solution": "import sys\nimport string\n\nconsole_io = 1\nif console_io:\n    inf,ouf = sys.stdin,sys.stdout\nelse:\n    inf,ouf = open(\"input.txt\",\"r\",1),open(\"output.txt\",\"w\",1)\n#---------------------------------------------------------------------------\n\ns = inf.readline().rstrip('\\r\\n').split(':')\nh = s[0]\nm = s[1]\n\ndef checkAny(s):\n    s1 = s[0:len(s)-1]\n    for ch in s1:\n        if ch!='0':\n            return 0\n    \n    return 1\n\ndef parseInt(s, radix):\n    res = 0\n    r = 1\n    \n    for i in xrange(len(s)-1,-1,-1): \n        ch = s[i]\n        if ch in string.uppercase:\n            dig = ord(ch)-ord('A')+10\n        else:\n            dig = ord(ch)-ord('0')\n            \n        if dig >= radix:\n            raise\n        \n        res += dig*r\n        r *= radix\n        \n    return res\n\nv = []\ndef solve():\n    for i in range(2,60):\n        try:\n            b = parseInt(h,i)\n            if not(b>=0 and b<24):\n                return\n            \n            b = parseInt(m,i)\n            if not(b>=0 and b<60):\n                return\n            \n            v.append(i)\n        except:\n            pass\n\nif checkAny(h) and checkAny(m):\n    solve()\n    ouf.write('0' if len(v)==0 else '-1')\nelse:\n    solve()\n    if len(v)==0:\n        ouf.write('0')\n    else:\n        for i in v:\n            ouf.write(str(i)+' ')\n\nouf.close()\ninf.close()\n            \n            \n            \n            \n            \n            \n    \n    \n\n        \n        \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    "
        },
        {
            "language": 3,
            "solution": "def s():\n\ta = [[ord(i)-48 if ord(i) < 60 else ord(i)-55 for i in i]for i in input().split(':')]\n\tr = [i for i in range(max(max(a[0]),max(a[1]))+1,61) if sum(list(i**l[0]*l[1] for l in enumerate(reversed(a[0]))))<24 and sum(list(i**l[0]*l[1] for l in enumerate(reversed(a[1]))))<60]\n\tif len(r) == 0:\n\t\tprint(0)\n\telif r[-1] == 60:\n\t\tprint(-1)\n\telse:\n\t\tprint(*r)\ns()"
        },
        {
            "language": 3,
            "solution": "'''input\n27:0070\n'''\n\n\n\n\n\n\n\n\ndef conv(s, base):\n\tans = 0\n\tfor index, i in enumerate(reversed(s)):\n\t\tval = int(i, 36)\n\t\tans += (base**index)*val\n\n\treturn ans\n\ndef valid(base, h, m):\n\thours = conv(h, base)\n\tmint = conv(m, base)\n\n\tif(0 <= hours < 24 and 0 <= mint < 60):\n\t\treturn True\n\telse:\n\t\treturn False\n\n\nh, m = input().split(\":\")\nhl = sorted(list(h))\nml = sorted(list(m))\nhm = hl[-1]\nmm = ml[-1]\n\nif(ord(hm) < ord('A')):\n\tminbaseh = ord(hm) - ord('0') + 1\nelse:\n\tminbaseh = 11 + ord(hm) - ord('A')\n\n\nif(ord(mm) < ord('A')):\n\tminbasem = ord(mm) - ord('0') + 1\nelse:\n\tminbasem = 11 + ord(mm) - ord('A') \n\n\n\nminbase = max(minbasem, minbaseh)\n\n\n# print(minbaseh, minbasem, minbase, hm, mm)\n\nfirstInval = 0\nfound = False\n\n\nlo = minbase\nhi = 60\n\nwhile(lo <= hi):\n\t\n\tmid = lo + (hi - lo)//2\n\t# print(mid, lo, hi, valid(mid, h, m))\n\tif(not valid(mid, h, m)):\n\t\tfirstInval = mid\n\t\thi = mid-1\n\t\tfound = True\n\telse:\n\t\tlo = mid+1\n\n\n\nif(not found):\n\tprint(-1)\nelif(firstInval == minbase):\n\tprint(0)\nelse:\n\tfor i in range(minbase, firstInval):\n\t\tprint(i, end = \" \")\n\n\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint sym(char c) {\n  if (c >= '0' && c <= '9')\n    return c - '0';\n  else if (c >= 'A' && c <= 'Z')\n    return (c - 'A') + 10;\n  return 0;\n}\nint binpow(int a, int n) {\n  int res = 1;\n  while (n)\n    if (n & 1) {\n      res *= a;\n      --n;\n    } else {\n      a *= a;\n      n >>= 1;\n    }\n  return res;\n}\nint main() {\n  string s;\n  int m = 0, i = 0, n = 0;\n  cin >> s;\n  while (s[0] == '0') s.erase(0, 1);\n  for (i = 0; s[i] != ':'; i++)\n    ;\n  i++;\n  while (s[i] == '0') s.erase(i, 1);\n  if (s[0] == ':') s = '0' + s;\n  if (s[s.length() - 1] == ':') s += '0';\n  for (i = 0; i < s.length(); i++) m = max(m, sym(s[i]));\n  m++;\n  int c, l;\n  for (l = 0; s[l] != ':'; l++)\n    ;\n  for (n = m;; n++) {\n    c = 0;\n    for (i = 0; i < l; i++) {\n      c += sym(s[i]) * binpow(n, l - (i + 1));\n      if (c > 23) goto _;\n    }\n    c = 0;\n    i++;\n    for (int ii = 0; i < s.length(); i++, ii++) {\n      c += sym(s[i]) * binpow(n, (s.length() - (l + 1)) - (ii + 1));\n      if (c > 59) goto _;\n    }\n    if (l <= 1 && (s.length() - (l + 1)) <= 1) {\n      cout << -1 << '\\n';\n      return 0;\n    }\n    cout << n << '\\n';\n  }\n_:;\n  if (n == m) cout << 0 << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 100005;\nchar s[111];\nchar a[11], b[11];\nint to[200];\nint ret[N], ct;\nint main() {\n  int i, j;\n  int x = 0, y = 0;\n  for (i = 0; i <= 9; i++) to[i + '0'] = i;\n  for (i = 'A'; i <= 'Z'; i++) to[i] = i - 'A' + 10;\n  scanf(\"%s\", s);\n  int len = strlen(s);\n  x = y = 0;\n  for (i = 0; s[i] == '0'; i++)\n    ;\n  if (s[i] == ':')\n    a[x++] = '0';\n  else {\n    for (; s[i] != ':'; i++) a[x++] = s[i];\n  }\n  for (i++; s[i] == '0'; i++)\n    ;\n  if (i == len)\n    b[y++] = '0';\n  else {\n    for (; i < len; i++) b[y++] = s[i];\n  }\n  a[x] = 0;\n  b[y] = 0;\n  if (x == 1 && y == 1) {\n    if (to[a[0]] > 23)\n      puts(\"0\");\n    else\n      puts(\"-1\");\n  } else {\n    int mx = 0;\n    for (i = 0; i < x; i++) mx = max(mx, to[a[i]]);\n    for (i = 0; i < y; i++) mx = max(mx, to[b[i]]);\n    ct = 0;\n    for (int bs = mx + 1;; bs++) {\n      int tmp = 0;\n      for (i = 0; i < x; i++) {\n        if (tmp > 23) break;\n        tmp = tmp * bs + (to[a[i]]);\n      }\n      if (tmp > 23) break;\n      tmp = 0;\n      for (i = 0; i < y; i++) {\n        if (tmp > 59) break;\n        tmp = tmp * bs + (to[b[i]]);\n      }\n      if (tmp > 59) break;\n      ret[++ct] = bs;\n    }\n    if (ct == 0)\n      puts(\"0\");\n    else {\n      for (i = 1; i < ct; i++) printf(\"%d \", ret[i]);\n      printf(\"%d\\n\", ret[i]);\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "def toi(t, b):\n    res = 0\n    for i in t:\n        if i >= b:\n            return -1\n        res = b * res + i\n    return res\n\ndef valid(h, m, b):\n    return toi(h, b) in range(24) and toi(m, b) in range(60)\n\nh, m = input().split(':')\nh = [int(ch, 36) for ch in h]\nm = [int(ch, 36) for ch in m]\nif valid(h, m, 61):\n    print('-1')\n    exit()\nres = [str(i) for i in range(2, 61) if valid(h, m, i)]\nif res: print(*res)\nelse: print(0)\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport java.math.*;\nimport java.awt.geom.*;\n\nimport static java.lang.Math.*;\n\npublic class Main implements Runnable {\n\t\n\tstatic String filename = \"\";\n\t\n\tint get (char c) {\n\t\tif (c>='0' && c<='9') return c-'0';\n\t\treturn c-'A'+10;\n\t}\n\t\n\tpublic void solve() throws Exception {\n\t\tString t = sc.nextToken();\n\t\tString a [] = t.split(\":\");\n\t\t\n\t\tArrayList<Integer> answer = new ArrayList<Integer>();\n\t\t\n\t\tint mx = 2;\n\t\tfor (int i = 0; i < a[0].length(); i++) {\n\t\t\tmx = max (mx, get(a[0].charAt(i)) + 1);\n\t\t}\n\t\t\n\t\tfor (int i = 0; i < a[1].length(); i++) {\n\t\t\tmx = max (mx, get(a[1].charAt(i)) + 1);\n\t\t}\n\t\t\n\t\tfor (int i = mx; i <= 1000; i++) {\n\t\t\tlong h = 0;\n\t\t\tlong m = 0;\n\t\t\t\n\t\t\tfor (int j = 0; j < a[0].length(); j++) {\n\t\t\t\th = h * (long) i + get(a[0].charAt(j));\n\t\t\t\tif (h > 23) break;\n\t\t\t}\n\t\t\tfor (int j = 0; j < a[1].length(); j++) {\n\t\t\t\tm = m * (long) i + get(a[1].charAt(j));\n\t\t\t\tif (m > 59) break;\n \t\t\t}\n\t\t\t\n\t\t\tif (h >=0 && h <= 23 && m >= 0 && m <= 59) {\n\t\t\t\tanswer.add(i);\n\t\t\t\tif (i == 1000) {\n\t\t\t\t\tout.println(-1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (answer.size() == 0) {\n\t\t\tout.println(0);\n\t\t} else {\n\t\t\tfor (int num : answer) {\n\t\t\t\tout.print(num+\" \");\n\t\t\t}\n\t\t}\n\t}\n\t\n\tBufferedReader in;\n\tPrintWriter out;\n\tFastScanner sc;\n\t\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Thread(null, new Main(), \"\", 1 << 25).start();\n\t}\n\t\n\t@Override\n\tpublic void run() {\n\t\ttry {\n\t\t\tinit();\n\t\t\tsolve();\n\t\t} catch (Exception e) {\n\t\t\tthrow new RuntimeException(e);\n\t\t} finally {\n\t\t\tout.close();\n\t\t}\n\t}\n\t\n\tvoid init() throws Exception {\n\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\tout = new PrintWriter(System.out);\n\t\tsc = new FastScanner(in);\n\t}\n}\n\nclass FastScanner {\n\t\n\tBufferedReader reader;\n\tStringTokenizer strTok;\n\t\n\tpublic FastScanner(BufferedReader reader) {\n\t\tthis.reader = reader;\n\t}\n\t\n\tpublic String nextToken() throws IOException {\n\t\twhile (strTok == null || !strTok.hasMoreTokens()) {\n\t\t\tstrTok = new StringTokenizer(reader.readLine());\n\t\t}\n\t\t\n\t\treturn strTok.nextToken();\n\t}\n\t\n\tpublic int nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\t\n\tpublic long nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\t\n\tpublic double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\t\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint diru[] = {-1, -1, -1, 0, 0, 1, 1, 1};\nint dirv[] = {-1, 0, 1, -1, 1, -1, 0, 1};\nusing namespace std;\ntemplate <class T>\nT sq(T n) {\n  return n * n;\n}\ntemplate <class T>\nT gcd(T a, T b) {\n  return (b != 0 ? gcd<T>(b, a % b) : a);\n}\ntemplate <class T>\nT lcm(T a, T b) {\n  return (a / gcd<T>(a, b) * b);\n}\ntemplate <class T>\nbool inside(T a, T b, T c) {\n  return a <= b && b <= c;\n}\ntemplate <class T>\nvoid setmax(T &a, T b) {\n  if (a < b) a = b;\n}\ntemplate <class T>\nvoid setmin(T &a, T b) {\n  if (b < a) a = b;\n}\ntemplate <class T>\nT power(T N, T P) {\n  return (P == 0) ? 1 : N * power(N, P - 1);\n}\nvector<int> p;\nchar in[100000], *ch;\nstring A, B;\nint main() {\n  int n, T, t = 1, m, i, j, k;\n  scanf(\"%s\", in);\n  ch = strtok(in, \":\");\n  A = ch;\n  ch = strtok(NULL, \":\");\n  B = ch;\n  int f = 0;\n  for (i = 0; i < ((int)A.size()); i++) {\n    if (A[i] != '0') break;\n  }\n  if (i == ((int)A.size()))\n    f++;\n  else if (i == ((int)A.size()) - 1) {\n    if (A[i] - 'A' + 10 > 23) {\n      puts(\"0\");\n      return 0;\n    }\n    f++;\n  }\n  for (i = 0; i < ((int)B.size()); i++) {\n    if (B[i] != '0') break;\n  }\n  if (i == ((int)B.size()) || i == ((int)B.size()) - 1) f++;\n  if (f == 2) {\n    puts(\"-1\");\n    return 0;\n  }\n  int ans = 0;\n  for (k = 2;; k++) {\n    long long unsigned tot = 0;\n    long long unsigned cur = 1;\n    for (i = ((int)A.size()) - 1; i > -1; i--) {\n      if (isalpha(A[i])) {\n        tot += cur * (long long unsigned)(A[i] - 'A' + 10);\n        j = A[i] - 'A' + 10;\n      } else {\n        tot += cur * (long long unsigned)(A[i] - '0');\n        j = A[i] - '0';\n      }\n      if (j >= k) goto second;\n      cur *= (long long unsigned)k;\n    }\n    if (tot > 23) break;\n    tot = 0;\n    cur = 1;\n    for (i = ((int)B.size()) - 1; i > -1; i--) {\n      if (isalpha(B[i])) {\n        j = B[i] - 'A' + 10;\n        tot += cur * (long long unsigned)(j);\n      } else {\n        j = B[i] - '0';\n        tot += cur * (long long unsigned)(j);\n      }\n      if (j >= k) goto second;\n      cur *= (long long unsigned)k;\n    }\n    if (tot > 59) break;\n    ans++;\n    p.push_back(k);\n  second:;\n  }\n  if (ans == 0)\n    puts(\"0\");\n  else {\n    for (i = 0; i < ((int)p.size()); i++) {\n      if (i) printf(\" \");\n      printf(\"%d\", p[i]);\n    }\n    puts(\"\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import sys;\n\n#sys.stdin = file('in.txt');\n\ndef ri():\n    return map(list, raw_input().split(':'));\n\ndef con(ch):\n    if '0' <= ch and ch <= '9':\n        ans = ord(ch) - ord('0');\n    else:\n        ans = ord(ch) - ord('A') + 10;\n    return ans;\n\ndef tonum(str, base):\n    ans = 0;\n    for i in str:\n        ans = ans * base + con(i);\n    return ans;\n        \n\ndef Do():\n    h, m = ri();\n    while h[0] == '0' and len(h) > 1:\n        h = h[1:];\n    while m[0] == '0' and len(m) > 1:\n        m = m[1:];    \n        \n    if len(h) == 1 and len(m) == 1 and con(h[0]) < 24:\n        print -1;\n        return;\n    \n    base = max(max(h), max(m));\n    base = con(base);\n    base += 1;\n\n    ans = [];\n    while base <= 100: \n        ih = tonum(h, base);\n        im = tonum(m, base);\n        \n        if (ih < 24 and im < 60):\n            ans.append(base);\n            \n        base += 1;\n\n    #print \"base:\", base, \"h:\", ih, \"m:\", im;\n    if len(ans) == 0:\n        print 0;\n    else:\n        print \" \".join(map(str, ans));\n\nDo();\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool zero(double x) { return x > -1e-6 && x < 1e-6; }\nchar s1[10], s2[10];\nint val[256], len1, len2;\nvoid init() {\n  int i;\n  for (i = 0; i <= 9; ++i) val[i + '0'] = i;\n  for (i = 'A'; i <= 'Z'; ++i) val[i] = i - 'A' + 10;\n}\nbool flag;\nbool check(int k) {\n  int i, ex, v1 = 0, v2 = 0;\n  for (i = len1 - 1; i >= 0; --i) {\n    if (val[s1[i]] >= k) return false;\n  }\n  for (i = len2 - 1; i >= 0; --i) {\n    if (val[s2[i]] >= k) return false;\n  }\n  ex = 1;\n  for (i = len1 - 1; i >= 0; --i) {\n    v1 += ex * val[s1[i]];\n    ex *= k;\n  }\n  ex = 1;\n  for (i = len2 - 1; i >= 0; --i) {\n    v2 += ex * val[s2[i]];\n    ex *= k;\n  }\n  if (v1 < 0 || v1 > 23) return false;\n  if (v2 < 0 || v2 > 59) return false;\n  if (v1 == val[s1[len1 - 1]] && v2 == val[s2[len2 - 1]]) flag = 1;\n  return true;\n}\nint stat[100], top;\nchar ss[100];\nint main() {\n  int i, j, ans = 0;\n  scanf(\"%s\", ss);\n  for (i = j = 0; ss[i] != ':'; ++i) s1[j++] = ss[i];\n  s1[j] = '\\0';\n  j = 0;\n  for (++i; ss[i]; ++i) s2[j++] = ss[i];\n  s2[j] = '\\0';\n  len1 = strlen(s1);\n  len2 = strlen(s2);\n  init();\n  top = 0;\n  flag = 0;\n  for (i = 2; i < 70; ++i) {\n    if (check(i)) {\n      stat[top++] = i;\n    }\n  }\n  if (flag)\n    printf(\"-1\\n\");\n  else if (top == 0)\n    printf(\"0\\n\");\n  else {\n    for (i = 0; i < top; ++i) {\n      if (i) printf(\" \");\n      printf(\"%d\", stat[i]);\n    }\n    printf(\"\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import fileinput\nimport string\n\nradixdigits = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n\ndef testdata():\n\tfor line in fileinput.input():\n\t\tyield list(line.strip().split(':'))\n\ndef checker(strnum, base, min=None, max=None):\n\ttry:\n\t\ti = 0\n\t\tfor c in strnum:\n\t\t\td = radixdigits.find(c)\n\t\t\tif d==-1 or d>=base:\n\t\t\t\traise ValueError\n\t\t\ti = i*base + d\n\t\tif (min!=None and i<min) or (max!=None and i>max):\n\t\t\treturn False\n\texcept ValueError:\n\t\treturn False\n\treturn True\n\t\ndef time_checker(test, base):\n\treturn checker(test[0], base, max=23) and checker(test[1], base, max=59)\n\ndef radixlist(test):\n\treturn filter(lambda x: time_checker(test, x), range(2, 60))\n\t\ndef infinite(test):\n\tfor numstr in test:\n\t\tif len(numstr.lstrip('0'))>1 or not time_checker(test, 59):\n\t\t\treturn False\n\treturn True\n\n\nfor test in testdata():\n\tif infinite(test):\n\t\tprint -1\n\telif radixlist(test):\n\t\tprint string.join(map(str, radixlist(test)), ' ')\n\telse:\n\t\tprint 0\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring hour, minit;\nvector<int> ans;\nint mypow(int n, int a) {\n  if (!a) return 1;\n  int x = n;\n  for (int i = 1; i < a; i++) x *= n;\n  return x;\n}\nbool valid(int base) {\n  int h = 0, m = 0;\n  for (int i = hour.size() - 1, j = 0; i >= 0; i--, j++) {\n    int t;\n    if (hour[i] < 'A')\n      t = hour[i] - '0';\n    else\n      t = hour[i] - 'A' + 10;\n    if (t >= base) return false;\n    h += (mypow(base, j) * t);\n  }\n  if (h >= 24) return false;\n  for (int i = minit.size() - 1, j = 0; i >= 0; i--, j++) {\n    int t;\n    if (minit[i] < 'A') {\n      t = minit[i] - '0';\n    } else\n      t = minit[i] - 'A' + 10;\n    if (t >= base) return false;\n    m += (mypow(base, j) * t);\n  }\n  if (m >= 60) return false;\n  return true;\n}\nint main() {\n  string str;\n  int i;\n  cin >> str;\n  for (i = 0; str[i] != ':'; i++) hour += str[i];\n  i++;\n  for (; str[i]; i++) minit += str[i];\n  for (i = 2; i < 60; i++) {\n    if (valid(i)) {\n      ans.push_back(i);\n    }\n  }\n  if (valid(60))\n    printf(\"-1\");\n  else if (ans.size() == 0)\n    printf(\"0\");\n  else {\n    for (i = 0; i < ans.size(); i++) printf(\"%d \", ans[i]);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 0x7f7f7f7f;\nconst int MAXN = 21;\nstring ss, s, s2;\nint parse(int base, string &s) {\n  int ret = 0;\n  for (int i = 0; i < s.length(); ++i) {\n    ret *= base;\n    if (isdigit(s[i]))\n      ret += s[i] - '0';\n    else\n      ret += s[i] - 'A' + 10;\n  }\n  return ret;\n}\nint main() {\n  cin >> ss;\n  int len = ss.find(':');\n  s = ss.substr(0, len);\n  s2 = ss.substr(len + 1, ss.size() - len);\n  int mx = 0;\n  for (int i = 0; i < ss.length(); ++i) {\n    if (isalpha(ss[i])) {\n      mx = max(mx, ss[i] - 'A' + 10);\n    } else if (isdigit(ss[i])) {\n      mx = max(mx, ss[i] - '0');\n    }\n  }\n  bool flag = 0;\n  int i;\n  vector<int> ans;\n  for (i = mx + 1; i <= 100; ++i) {\n    int l = parse(i, s), r = parse(i, s2);\n    if (l < 24 && r < 60) {\n      ans.push_back(i);\n      flag = 1;\n    } else\n      break;\n  }\n  if (!flag) {\n    cout << 0 << '\\n';\n  } else {\n    if (i == 101) {\n      cout << -1 << endl;\n      return 0;\n    }\n    for (int i = 0; i < ans.size(); ++i) {\n      cout << ans[i] << ' ';\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "\nchns='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\nnums=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35]\n\nmp={}\n\nfor ind, i in enumerate(chns):\n    mp[i]=nums[ind]\n\nans=[]\nh, m = input().split(':')\nminsys=max([mp[i] for i in (h+m)])+1\nfor sys in range(minsys,101):\n    h10=0\n    for pw, i in enumerate(reversed(h)):\n        h10+=sys**pw*mp[i]\n    m10=0\n    for pw, i in enumerate(reversed(m)):\n        m10+=sys**pw*mp[i]\n    if(h10<=23 and h10>=0 and m10<=59 and m10>=0):\n        ans.append(sys)\n\nif 100 in ans:\n    print(-1)\n    quit()\nif len(ans) == 0:\n    print(0)\n    quit()\nfor i in ans:\n    print(i, end=' ') "
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, m, t;\nchar str1[9], str2[9], str[20], c;\nint main() {\n  int i, j, k;\n  scanf(\"%s\", str);\n  bool tmp = true;\n  for (i = n = t = 0; str[i]; i++) {\n    if (str[i] == ':') {\n      j = i + 1;\n      break;\n    }\n    if (str[i] > 'N') {\n      puts(\"0\");\n      return 0;\n    }\n    str1[n++] = str[i];\n    if (str[i] <= '9')\n      t = max(t, str[i] - '0');\n    else\n      t = max(t, str[i] - 'A' + 10);\n  }\n  for (i = 0; i < n / 2; i++)\n    c = str1[i], str1[i] = str1[n - i - 1], str1[n - i - 1] = c;\n  for (i = j, m = 0; str[i]; i++) {\n    str2[m++] = str[i];\n    if (str[i] <= '9')\n      t = max(t, str[i] - '0');\n    else\n      t = max(t, str[i] - 'A' + 10);\n  }\n  for (i = 0; i < m / 2; i++)\n    c = str2[i], str2[i] = str2[m - i - 1], str2[m - i - 1] = c;\n  for (i = n - 1; i >= 0; i--) {\n    if (str1[i] == '0')\n      n--;\n    else\n      break;\n  }\n  for (i = m - 1; i >= 0; i--) {\n    if (str2[i] == '0')\n      m--;\n    else\n      break;\n  }\n  if (n == 1 && m == 1 || (n == 1 && m == 0) || (n == 0 && m == 1) ||\n      (n == 0 && m == 0))\n    puts(\"-1\");\n  else {\n    for (i = t + 1; i <= 59; i++) {\n      int l, r, lx, rx;\n      for (j = 0, lx = 1, l = 0; j < n; j++) {\n        if (str1[j] <= '9')\n          k = str1[j] - '0';\n        else\n          k = str1[j] - 'A' + 10;\n        l += lx * k;\n        lx *= i;\n      }\n      if (l > 23) break;\n      for (j = 0, rx = 1, r = 0; j < m; j++) {\n        if (str2[j] <= '9')\n          k = str2[j] - '0';\n        else\n          k = str2[j] - 'A' + 10;\n        r += rx * k;\n        rx *= i;\n      }\n      if (r > 59) break;\n      printf(\"%d\\n\", i);\n      tmp = false;\n    }\n    if (tmp) puts(\"0\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "def toi(t, b):\n    v = 0\n    for ti in t:\n        if ti >= b:\n            return -1\n        v = b * v + ti\n    return v\ndef t(h, m, b):\n    return toi(h, b) in range(24) and toi(m, b) in range(60)\nh, m = ([int(ch, 36) for ch in x] for x in input().split(':'))\nif t(h, m, 61):\n    print('-1')\nelse:\n    v = [str(i) for i in range(2, 61) if t(h, m, i)]\n    print(' '.join(v) if v else '0')"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint convert(string a, int base) {\n  int val, j, sum = 0, mul = 1;\n  for (j = a.size() - 1; j >= 0; j--) {\n    if (a[j] >= '0' && a[j] <= '9')\n      val = a[j] - '0';\n    else\n      val = a[j] - 'A' + 10;\n    sum += val * mul;\n    mul *= base;\n  }\n  return sum;\n}\nint main() {\n  vector<long long> ret;\n  int i, intmin, inthr;\n  string a, min, hr;\n  cin >> a;\n  int pos = a.find(\":\");\n  hr = a.substr(0, pos);\n  min = a.substr(pos + 1);\n  for (i = 0; i < hr.size(); i++) {\n    if (hr[i] == '0') {\n      hr.erase(i, 1);\n      --i;\n    } else\n      break;\n  }\n  for (i = 0; i < min.size(); i++) {\n    if (min[i] == '0') {\n      min.erase(i, 1);\n      --i;\n    } else\n      break;\n  }\n  if (hr.empty()) hr = \"0\";\n  if (min.empty()) min = \"0\";\n  if (hr.size() == 1 && min.size() == 1)\n    if ((hr[0] >= '0' && hr[0] <= '9') || (hr[0] >= 'A' && hr[0] <= 'O')) {\n      cout << \"-1\\n\";\n      return 0;\n    }\n  a = hr + min;\n  int max2 = -1, val;\n  for (long long j = 0; j < a.size(); j++) {\n    if (a[j] >= '0' && a[j] <= '9')\n      val = a[j] - '0';\n    else\n      val = a[j] - 'A' + 10;\n    max2 = max(val, max2);\n  }\n  int minBase = max2 + 1;\n  for (i = minBase; i <= 60; i++) {\n    inthr = convert(hr, i);\n    intmin = convert(min, i);\n    if (inthr >= 0 && inthr <= 23 && intmin >= 0 && intmin <= 59)\n      ret.push_back(i);\n    else\n      break;\n  }\n  if (ret.empty())\n    cout << \"0\\n\";\n  else {\n    for (long long j = 0; j < ret.size(); j++) cout << ret[j] << \" \";\n    cout << \"\\n\";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.math.BigInteger;\nimport java.util.*;\n\npublic class B {\n\n    int parse(int base, String s) {\n        int ans = 0;\n\n        for (int i = 0; i < s.length(); i++) {\n            int x = ((s.charAt(i) >= 'A' && s.charAt(i) <= 'Z') ? (s.charAt(i) - 'A' + 10) : (s.charAt(i) - '0'));\n            if (x >= base) return -1;\n            ans = ans * base + x;\n        }\n\n        return ans;\n    }\n\n    private void solve() throws IOException {\n        String s = nextToken();\n        String[] f = s.split(\"[:]\");\n\n        int prevH = -1, prevM = -1;\n\n        StringBuilder sb = new StringBuilder();\n        for (int j = 2; j < 60; j++) {\n            int a = parse(j, f[0]);\n            if (a == -1) continue;\n            int b = parse(j, f[1]);\n            if (b == -1) continue;\n            if (a >= 24) continue;\n            if (b >= 60) continue;\n            if (a == prevH && prevM == b) {\n                pl(-1);\n                return;\n            }\n            sb.append(j + \" \");\n            prevH = a;\n            prevM = b;\n        }\n        if (sb.length() == 0) {\n            pl(0);\n            return;\n        }\n        pl(sb.toString().trim());\n    }\n\n    public static void main(String[] args) {\n        new B().run();\n    }\n\n    BufferedReader reader;\n    StringTokenizer tokenizer;\n    PrintWriter writer;\n\n    public void run() {\n        try {\n            reader = new BufferedReader(new InputStreamReader(System.in));\n            tokenizer = null;\n            writer = new PrintWriter(System.out);\n            solve();\n            reader.close();\n            writer.close();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(nextToken());\n    }\n\n    long nextLong() throws IOException {\n        return Long.parseLong(nextToken());\n    }\n\n    double nextDouble() throws IOException {\n        return Double.parseDouble(nextToken());\n    }\n\n    BigInteger nextBigInteger() throws IOException {\n        return new BigInteger(nextToken());\n    }\n\n    String nextToken() throws IOException {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n\n    void p(Object... objects) {\n        for (int i = 0; i < objects.length; i++) {\n            if (i != 0) writer.print(' ');\n            writer.flush();\n            writer.print(objects[i]);\n            writer.flush();\n        }\n    }\n\n    void pl(Object... objects) {\n        p(objects);\n        writer.flush();\n        writer.println();\n        writer.flush();\n    }\n\n    int cc;\n\n    void pf() {\n        writer.printf(\"Case #%d: \", ++cc);\n        writer.flush();\n    }\n\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class B {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        \n        String str = sc.next();\n        \n        int[] a = getArray(str.split(\":\")[0]);\n        int[] b = getArray(str.split(\":\")[1]);\n        \n        int max  = Math.max(max(a), max(b))+1;\n\n        if (isInfinity(a,b)) {\n            System.out.println(-1);\n        } \n        else if (!isExist(a,b,max)) {\n            System.out.println(0);\n        }\n        else {\n            for (int i=max; i<=60; i++) \n                if (f(a,i,23) && f(b,i,59))\n                    System.out.print(i+\" \");\n        }\n    }\n\n    static boolean f(int mas[], int arg, int max) {\n        int res = 0;\n        for(int i=0; i<mas.length; i++) {\n            res += mas[i]*Math.pow(arg, i);\n            if (res>max)\n                return false;\n        }\n        return true;\n    }\n    \n    static boolean isInfinity(int[] a, int[] b) {\n        for (int i=1; i<a.length; i++)\n            if (a[i]!=0)\n                return false;\n            \n        for (int i=1; i<b.length; i++)\n            if (b[i]!=0)\n                return false;\n\n        return a[0]<24 && b[0]<60;\n    }\n    \n    static boolean isExist(int[] a, int[] b, int max) {\n        return f(a, max, 23) && f(b, max, 59);\n    }\n\n    static int[] getArray(String str) {\n        int[] mas = new int[str.length()];\n        for (int i=0; i<mas.length; i++) {\n            int c = (int)str.charAt(mas.length-1-i);\n            mas[i] = c>=65 ? c-55 : c-48;\n        }\n        return mas;\n    }\n    \n    static int max(int[] mas) {\n        int max=0;\n        for (int i=0; i<mas.length; i++) {\n            if (max<mas[i])\n                max = mas[i];\n        }\n        return max;\n    }\n\n}"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Scanner;\n\npublic class C {\n    \n    String a,b;\n    public int read(String s,int base){\n        int res = 0;\n        int b = 1;\n        int x = 0;\n        for (int i = s.length()-1; i > -1; i--) {\n            if (s.charAt(i) >= '0' && s.charAt(i) <= '9')\n                x = (s.charAt(i) - '0');\n            else\n                x  = (s.charAt(i) - 'A'+10);\n            if (x >= base)\n                return -1;\n            res += b * x;\n            b*=base;\n        }\n        return res;\n    }\n    public void run() throws IOException{\n        //Scanner s = new Scanner(new InputStreamReader(System.in));\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String str = br.readLine();\n        a = str.split(\":\")[0];\n        b = str.split(\":\")[1];\n        \n        int count = 0;\n        int n1=0,n2=0;\n        String result =\"\";\n        boolean inf = false;\n        for (int i = 2; i <= 59; i++) {\n            n1 = read(a,i);\n            n2 = read(b,i);\n            if (n1==-1 || n2==-1) continue;\n            if (n1 < 24 && n2 < 60){\n                if (n1 < i && n2 < i)\n                    inf = true;\n                count++;\n                result += i + \" \";\n            }\n        }\n        if (inf == false){\n            if (count == 0)\n                result = \"0\";\n            else\n                result = result.substring(0,result.length()-1);\n            System.out.println(result);\n        }else{\n            System.out.println(-1);\n        }\n        \n    }\n    \n    public static void main(String[] args) throws IOException {\n        (new C()).run();\n    }\n\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedOutputStream;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.math.BigInteger;\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.Stack;\nimport java.util.StringTokenizer;\nimport java.util.BitSet;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.ListIterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\npublic class A {\n\npublic static void main(String[] args) throws IOException  {\n\t   FastReader  sc= new FastReader();\n\t   HashMap<Character,Integer> h=new HashMap<>();\n\t   h.put('0',0);h.put('1',1);h.put('2',2);h.put('3',3);h.put('4',4);h.put('5',5);h.put('6',6);h.put('7',7);h.put('8',8);h.put('9',9);\n\t   char ch='A';\n\t   for(int i=0;i<26;i++){\n\t\t   h.put((char)(ch+i),i+10);\n\t   }\n\t   \n\t   String s[]=sc.next().split(\":\");\n\t   \n\t   int max=0;\n\t   for(int i=0;i<s[0].length();i++){ \n\t\t   int v=h.get(s[0].charAt(i));\n\t\t   if(v>max) max=v;\n\t   }\n\t   for(int i=0;i<s[1].length();i++){ \n\t\t   int v=h.get(s[1].charAt(i));\n\t\t   if(v>max) max=v;\n\t   }\n\t   int base=max+1;\n\t   long prevt1=-1,prevt2=-1;\n\t   StringBuilder sb=new StringBuilder(\"\");\n\t   while(true){\n\t\t   long t1=0,t2=0,k=0;\n\t\t   for(int i=s[0].length()-1;i>=0;i--){\n\t\t\t   t1+=(Math.pow(base, k++)*h.get(s[0].charAt(i)));\n\t\t   }\n\t\t   k=0;\n\t\t   for(int i=s[1].length()-1;i>=0;i--){\n\t\t\t   t2+=(Math.pow(base, k++)*h.get(s[1].charAt(i)));\n\t\t   }\n\t\t   if(prevt1==t1 && prevt2==t2) { System.out.println(-1); return; }\n\t\t   prevt1=t1; prevt2=t2;\n\t\t   if(t1>=0 && t1<24 && t2>=0 && t2<60){ sb.append(base+\" \"); }\n\t\t   else break;\n\t\t   base++;\n\t   }\n\t   if(sb.length()==0) System.out.println(0);\n\t   else System.out.println(sb);\n\t   \n}\n\nstatic long gcd(long a,long b){\n\tif(b==0) return a;\n\treturn gcd(b,a%b);\n}\nstatic void seive(long a[]){\n\tboolean prime[]=new boolean[1000001];\n\tfor(int i=2;i*i<=1000000;i++){\n\t\tif(!prime[i]){\n\t\t\tfor(int j=2*i;j<=1000000;j+=i) prime[j]=true;\n\t\t}\n\t}\n\tlong sum=0;\n\ta[0]=0;\n\ta[1]=0;\n\tint k=2;\n\tfor(int i=2;i<=1000000;i++) {if(!prime[i]) sum+=i;\n\t\ta[k++]=sum;\n\t}\n}\nstatic boolean isPrime(long n){\n\tfor(int i=2;i<=Math.sqrt(n);i++){\n\t\tif(n%i==0) return false; \n\t}\n\treturn true;\n}\nstatic int min=Integer.MAX_VALUE;\n\nstatic long ncr(long n,long r){ \n\tif(r==0 || r==n) return 1;\n\tdouble d=1;\n\tif(r>n) r=n-r;\n\tfor(int i=0;i<r;i++){\n\t\td*=(double)(n-i)/(i+1);\n\t\t\n\t}\n\treturn (long)d;\n}\n\nstatic long d, x, y;\nstatic void extendedEuclid(long A, long B) {\n    if(B == 0) {\n        d = A;\n        x = 1;\n        y = 0;\n    }\n    else {\n        extendedEuclid(B, A%B);\n        long temp = x;\n        x = y;\n        y = temp - (A/B)*y;\n    }\n}\nstatic long modInverse(long A, long M)\n{\n    extendedEuclid(A,M);\n    return (x%M+M)%M;    //x may be negative\n}\nstatic long modPow(long x,long y,long M){\n\tif(y==0) return 1;\n\tif(y%2==0) return modPow((x*x)%M,y/2,M);\n\telse return (x*modPow((x*x)%M,(y-1)/2,M))%M;\n}\nstatic long M=(long)Math.pow(10, 9)+7;\n\n\tstatic class FastReader\n    {\n        BufferedReader br;\n        StringTokenizer st;\n \n        public FastReader(){\n        \t\tbr = new BufferedReader(new InputStreamReader(System.in));\n        }\n \n        String next()\n        {\n            while (st == null || !st.hasMoreElements())\n            {\n                try\n                {\n                    st = new StringTokenizer(br.readLine());\n                }\n                catch (IOException  e)\n                {\n                    e.printStackTrace();\n                }\n            }\n            return st.nextToken();\n        }\n \n        int nextInt(){   return Integer.parseInt(next()); }\n        \n \n        long nextLong(){  return Long.parseLong(next()); }\n        \n           \n        double nextDouble() {  return Double.parseDouble(next()); }\n       \n \n        String nextLine()\n        {\n            String str = \"\";\n            try\n            {\n                str = br.readLine();\n            }\n            catch (IOException e)\n            {\n                e.printStackTrace();\n            }\n            return str;\n        }\n    }\n}\n "
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\n/**\n * Codeforces Round #106 (Div. 2), B\n * @author Roman Kosenko <madkite@gmail.com>\n */\npublic class C149B_MartianClock {\n\tpublic static void main(String... args) throws IOException {\n\t\tlong time = 0;\n\t\tif(args.length != 0) {\n\t\t\tSystem.setIn(new FileInputStream(args[0]));\n\t\t\ttime = System.currentTimeMillis();\n\t\t} else if(!Boolean.parseBoolean(System.getProperty(\"ONLINE_JUDGE\"))) {\n\t\t\tmain(\"in/C149B.1.txt\");\n\t\t\tmain(\"in/C149B.2.txt\");\n\t\t\tmain(\"in/C149B.3.txt\");\n\t\t\t//main(\"input.txt\");\n\t\t\treturn;\n\t\t}\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString ss[] = br.readLine().split(\":\");\n\t\tassert ss.length == 2;\n\t\tchar[] hh = ss[0].replaceFirst(\"^0+\", \"\").toCharArray(), mm = ss[1].replaceFirst(\"^0+\", \"\").toCharArray();\n\n\t\tif(hh.length <= 1 && mm.length <= 1 && (hh.length == 0 || DIGITS[hh[0]] < 24)) {\n\t\t\tSystem.out.println(\"-1\");\n\t\t} else {\n\t\t\tint min = 0;\n\t\t\tfor(char c : hh)\n\t\t\t\tmin = Math.max(min, DIGITS[c]);\n\t\t\tfor(char c : mm)\n\t\t\t\tmin = Math.max(min, DIGITS[c]);\n\t\t\tassert min >= 0;\n\t\t\tmin++;\n\n\t\t\tint max = min;\n\t\t\tfor(;; max++) {\n\t\t\t\tint h = parse(hh, max);\n\t\t\t\tassert h >= 0;\n\t\t\t\tif(h >= 24)\n\t\t\t\t\tbreak;\n\t\t\t\tint m = parse(mm, max);\n\t\t\t\tassert m >= 0;\n\t\t\t\tif(m >= 60)\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(min == max)\n\t\t\t\tSystem.out.println('0');\n\t\t\telse {\n\t\t\t\tfor(int i = min; i < max; i++) {\n\t\t\t\t\tif(i != min)\n\t\t\t\t\t\tSystem.out.print(' ');\n\t\t\t\t\tSystem.out.print(i);\n\t\t\t\t}\n\t\t\t\tSystem.out.println();\n\t\t\t}\n\t\t}\n\n\t\tif(time != 0)\n\t\t\tSystem.out.println(System.currentTimeMillis() - time);\n\t}\n\n\tprivate static final int[] DIGITS = new int[255];\n\tstatic {\n\t\tArrays.fill(DIGITS, -1);\n\t\tint i = 0;\n\t\tfor(char c = '0'; c <= '9'; c++)\n\t\t\tDIGITS[c] = i++;\n\t\tfor(char c = 'A'; c <= 'Z'; c++)\n\t\t\tDIGITS[c] = i++;\n\t}\n\n\tprivate static int parse(char[] s, int base) {\n\t\tint result = 0;\n\t\tfor(char c : s) {\n\t\t\tint digit = DIGITS[c];\n\t\t\tif(digit < 0)\n\t\t\t\tthrow new IllegalArgumentException();\n\t\t\tif(digit >= base)\n\t\t\t\treturn -1;\n\t\t\tresult = result * base + digit;\n\t\t}\n\t\treturn result;\n\t}\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\n\npublic class MartianClock {\n    static class InputReader {\n\n        /**\n         * The default size of the InputReader's buffer is 2^16 -> 65,536 characters\n         */\n        private static final int DEFAULT_BUFFER_SIZE = 1 << 16; // Change this to increase your input size //\n\n        /**\n         * The default stream for the InputReader is standard input.\n         */\n        private static final InputStream DEFAULT_STREAM = System.in;\n\n        /**\n         * The maximum number of accurate decimal digits the method {@link #nextDoubleFast() nextDoubleFast()} can read.\n         * Currently this value is set to 21 because it is the maximum number of digits a double precision float can have at the moment.\n         */\n        private static final int MAX_DECIMAL_PRECISION = 21;\n\n        // 'c' is used to refer to the current character in the stream\n        private int c;\n\n        // Variables associated with the byte buffer.\n        private byte[] buf;\n        private int bufferSize, bufIndex, numBytesRead;\n\n        private InputStream stream;\n\n        // End Of File (EOF) character\n        private static final byte EOF = -1;\n\n        // New line character: '\\n'\n        private static final byte NEW_LINE = 10;\n\n        // Carriage return character: '\\r'\n        private static final byte CARRIAGE_RETURN = 13;\n\n        // Space character: ' '\n        private static final byte SPACE = 32;\n\n        // Dash character: '-'\n        private static final byte DASH = 45;\n\n        // Dot character: '.'\n        private static final byte DOT = 46;\n\n        // A reusable character buffer when reading string data.\n        private char[] charBuffer;\n\n        // Primitive data type lookup tables used for optimizations\n        private static byte[] bytes = new byte[58];\n        private static int[] ints = new int[58];\n        private static char[] chars = new char[128];\n\n        static {\n            char ch = ' ';\n            int value = 0;\n            byte _byte = 0;\n            for (int i = 48; i < 58; i++) bytes[i] = _byte++;\n            for (int i = 48; i < 58; i++) ints[i] = value++;\n            for (int i = 32; i < 128; i++) chars[i] = ch++;\n        }\n\n        // Primitive double lookup table used for optimizations.\n        private static final double[][] doubles = {\n                {0.0d, 0.00d, 0.000d, 0.0000d, 0.00000d, 0.000000d, 0.0000000d, 0.00000000d, 0.000000000d, 0.0000000000d, 0.00000000000d, 0.000000000000d, 0.0000000000000d, 0.00000000000000d, 0.000000000000000d, 0.0000000000000000d, 0.00000000000000000d, 0.000000000000000000d, 0.0000000000000000000d, 0.00000000000000000000d, 0.000000000000000000000d},\n                {0.1d, 0.01d, 0.001d, 0.0001d, 0.00001d, 0.000001d, 0.0000001d, 0.00000001d, 0.000000001d, 0.0000000001d, 0.00000000001d, 0.000000000001d, 0.0000000000001d, 0.00000000000001d, 0.000000000000001d, 0.0000000000000001d, 0.00000000000000001d, 0.000000000000000001d, 0.0000000000000000001d, 0.00000000000000000001d, 0.000000000000000000001d},\n                {0.2d, 0.02d, 0.002d, 0.0002d, 0.00002d, 0.000002d, 0.0000002d, 0.00000002d, 0.000000002d, 0.0000000002d, 0.00000000002d, 0.000000000002d, 0.0000000000002d, 0.00000000000002d, 0.000000000000002d, 0.0000000000000002d, 0.00000000000000002d, 0.000000000000000002d, 0.0000000000000000002d, 0.00000000000000000002d, 0.000000000000000000002d},\n                {0.3d, 0.03d, 0.003d, 0.0003d, 0.00003d, 0.000003d, 0.0000003d, 0.00000003d, 0.000000003d, 0.0000000003d, 0.00000000003d, 0.000000000003d, 0.0000000000003d, 0.00000000000003d, 0.000000000000003d, 0.0000000000000003d, 0.00000000000000003d, 0.000000000000000003d, 0.0000000000000000003d, 0.00000000000000000003d, 0.000000000000000000003d},\n                {0.4d, 0.04d, 0.004d, 0.0004d, 0.00004d, 0.000004d, 0.0000004d, 0.00000004d, 0.000000004d, 0.0000000004d, 0.00000000004d, 0.000000000004d, 0.0000000000004d, 0.00000000000004d, 0.000000000000004d, 0.0000000000000004d, 0.00000000000000004d, 0.000000000000000004d, 0.0000000000000000004d, 0.00000000000000000004d, 0.000000000000000000004d},\n                {0.5d, 0.05d, 0.005d, 0.0005d, 0.00005d, 0.000005d, 0.0000005d, 0.00000005d, 0.000000005d, 0.0000000005d, 0.00000000005d, 0.000000000005d, 0.0000000000005d, 0.00000000000005d, 0.000000000000005d, 0.0000000000000005d, 0.00000000000000005d, 0.000000000000000005d, 0.0000000000000000005d, 0.00000000000000000005d, 0.000000000000000000005d},\n                {0.6d, 0.06d, 0.006d, 0.0006d, 0.00006d, 0.000006d, 0.0000006d, 0.00000006d, 0.000000006d, 0.0000000006d, 0.00000000006d, 0.000000000006d, 0.0000000000006d, 0.00000000000006d, 0.000000000000006d, 0.0000000000000006d, 0.00000000000000006d, 0.000000000000000006d, 0.0000000000000000006d, 0.00000000000000000006d, 0.000000000000000000006d},\n                {0.7d, 0.07d, 0.007d, 0.0007d, 0.00007d, 0.000007d, 0.0000007d, 0.00000007d, 0.000000007d, 0.0000000007d, 0.00000000007d, 0.000000000007d, 0.0000000000007d, 0.00000000000007d, 0.000000000000007d, 0.0000000000000007d, 0.00000000000000007d, 0.000000000000000007d, 0.0000000000000000007d, 0.00000000000000000007d, 0.000000000000000000007d},\n                {0.8d, 0.08d, 0.008d, 0.0008d, 0.00008d, 0.000008d, 0.0000008d, 0.00000008d, 0.000000008d, 0.0000000008d, 0.00000000008d, 0.000000000008d, 0.0000000000008d, 0.00000000000008d, 0.000000000000008d, 0.0000000000000008d, 0.00000000000000008d, 0.000000000000000008d, 0.0000000000000000008d, 0.00000000000000000008d, 0.000000000000000000008d},\n                {0.9d, 0.09d, 0.009d, 0.0009d, 0.00009d, 0.000009d, 0.0000009d, 0.00000009d, 0.000000009d, 0.0000000009d, 0.00000000009d, 0.000000000009d, 0.0000000000009d, 0.00000000000009d, 0.000000000000009d, 0.0000000000000009d, 0.00000000000000009d, 0.000000000000000009d, 0.0000000000000000009d, 0.00000000000000000009d, 0.000000000000000000009d}\n        };\n\n        /**\n         * Create an InputReader that reads from standard input.\n         */\n        public InputReader() {\n            this(DEFAULT_STREAM, DEFAULT_BUFFER_SIZE);\n        }\n\n        /**\n         * Create an InputReader that reads from standard input.\n         *\n         * @param bufferSize The buffer size for this input reader.\n         */\n        public InputReader(int bufferSize) {\n            this(DEFAULT_STREAM, bufferSize);\n        }\n\n        /**\n         * Create an InputReader that reads from standard input.\n         *\n         * @param stream Takes an InputStream as a parameter to read from.\n         */\n        public InputReader(InputStream stream) {\n            this(stream, DEFAULT_BUFFER_SIZE);\n        }\n\n        /**\n         * Create an InputReader that reads from standard input.\n         *\n         * @param stream     Takes an {@link InputStream#InputStream() InputStream} as a parameter to read from.\n         * @param bufferSize The size of the buffer to use.\n         */\n        public InputReader(InputStream stream, int bufferSize) {\n            if (stream == null || bufferSize <= 0)\n                throw new IllegalArgumentException();\n            buf = new byte[bufferSize];\n            charBuffer = new char[128];\n            this.bufferSize = bufferSize;\n            this.stream = stream;\n        }\n\n        /**\n         * Reads a single character from the input stream.\n         *\n         * @return Returns the byte value of the next character in the buffer and EOF\n         * at the end of the stream.\n         * @throws IOException throws exception if there is no more data to read\n         */\n        private byte read() throws IOException {\n\n            if (numBytesRead == EOF) throw new IOException();\n\n            if (bufIndex >= numBytesRead) {\n                bufIndex = 0;\n                numBytesRead = stream.read(buf);\n                if (numBytesRead == EOF)\n                    return EOF;\n            }\n\n            return buf[bufIndex++];\n        }\n\n        /**\n         * Read values from the input stream until you reach a character with a\n         * higher ASCII value than 'token'.\n         *\n         * @param token The token is a value which we use to stop reading junk out of\n         *              the stream.\n         * @return Returns 0 if a value greater than the token was reached or -1 if\n         * the end of the stream was reached.\n         * @throws IOException Throws exception at end of stream.\n         */\n        private int readJunk(int token) throws IOException {\n\n            if (numBytesRead == EOF) return EOF;\n\n            // Seek to the first valid position index\n            do {\n\n                while (bufIndex < numBytesRead) {\n                    if (buf[bufIndex] > token) return 0;\n                    bufIndex++;\n                }\n\n                // reload buffer\n                numBytesRead = stream.read(buf);\n                if (numBytesRead == EOF) return EOF;\n                bufIndex = 0;\n\n            } while (true);\n\n        }\n\n        /**\n         * Reads a single byte from the input stream.\n         *\n         * @return The next byte in the input stream\n         * @throws IOException Throws exception at end of stream.\n         */\n        public byte nextByte() throws IOException {\n            return (byte) nextInt();\n        }\n\n        /**\n         * Reads a 32 bit signed integer from input stream.\n         *\n         * @return The next integer value in the stream.\n         * @throws IOException Throws exception at end of stream.\n         */\n        public int nextInt() throws IOException {\n\n            if (readJunk(DASH - 1) == EOF) throw new IOException();\n            int sgn = 1, res = 0;\n\n            c = buf[bufIndex];\n            if (c == DASH) {\n                sgn = -1;\n                bufIndex++;\n            }\n\n            do {\n\n                while (bufIndex < numBytesRead) {\n                    if (buf[bufIndex] > SPACE) {\n                        res = (res << 3) + (res << 1);\n                        res += ints[buf[bufIndex++]];\n                    } else {\n                        bufIndex++;\n                        return res * sgn;\n                    }\n                }\n\n                // Reload buffer\n                numBytesRead = stream.read(buf);\n                if (numBytesRead == EOF) return res * sgn;\n                bufIndex = 0;\n\n            } while (true);\n\n        }\n\n        /**\n         * Reads a 64 bit signed long from input stream.\n         *\n         * @return The next long value in the stream.\n         * @throws IOException Throws exception at end of stream.\n         */\n        public long nextLong() throws IOException {\n\n            if (readJunk(DASH - 1) == EOF) throw new IOException();\n            int sgn = 1;\n            long res = 0L;\n            c = buf[bufIndex];\n            if (c == DASH) {\n                sgn = -1;\n                bufIndex++;\n            }\n\n            do {\n\n                while (bufIndex < numBytesRead) {\n                    if (buf[bufIndex] > SPACE) {\n                        res = (res << 3) + (res << 1);\n                        res += ints[buf[bufIndex++]];\n                    } else {\n                        bufIndex++;\n                        return res * sgn;\n                    }\n                }\n\n                // Reload buffer\n                numBytesRead = stream.read(buf);\n                if (numBytesRead == EOF) return res * sgn;\n                bufIndex = 0;\n\n            } while (true);\n\n        }\n\n        /**\n         * Doubles the size of the internal char buffer for strings\n         */\n        private void doubleCharBufferSize() {\n            char[] newBuffer = new char[charBuffer.length << 1];\n            for (int i = 0; i < charBuffer.length; i++) newBuffer[i] = charBuffer[i];\n            charBuffer = newBuffer;\n        }\n\n        /**\n         * Reads a line from the input stream.\n         *\n         * @return Returns a line from the input stream in the form a String not\n         * including the new line character. Returns <code>null</code> when there are\n         * no more lines.\n         * @throws IOException Throws IOException when something terrible happens.\n         */\n        public String nextLine() throws IOException {\n\n            try {\n                c = read();\n            } catch (IOException e) {\n                return null;\n            }\n            if (c == NEW_LINE) return \"\"; // Empty line\n            if (c == EOF) return null; // EOF\n\n            int i = 0;\n            charBuffer[i++] = (char) c;\n\n            do {\n\n                while (bufIndex < numBytesRead) {\n                    if (buf[bufIndex] != NEW_LINE && buf[bufIndex] != CARRIAGE_RETURN) {\n                        if (i == charBuffer.length) doubleCharBufferSize();\n                        charBuffer[i++] = (char) buf[bufIndex++];\n                    } else {\n                        if(buf[bufIndex] == CARRIAGE_RETURN) bufIndex++;\n                        bufIndex++;\n                        return new String(charBuffer, 0, i);\n                    }\n                }\n\n                // Reload buffer\n                numBytesRead = stream.read(buf);\n                if (numBytesRead == EOF)\n                    return new String(charBuffer, 0, i);\n                bufIndex = 0;\n\n            } while (true);\n\n        }\n\n        // Reads a string of characters from the input stream.\n        // The delimiter separating a string of characters is set to be:\n        // any ASCII value <= 32 meaning any spaces, new lines, EOF, tabs...\n        public String nextString() throws IOException {\n            if (numBytesRead == EOF) return null;\n            if (readJunk(SPACE) == EOF) return null;\n\n            for (int i = 0; ; ) {\n                while (bufIndex < numBytesRead) {\n                    if (buf[bufIndex] > SPACE) {\n                        if (i == charBuffer.length) doubleCharBufferSize();\n                        charBuffer[i++] = (char) buf[bufIndex++];\n                    } else {\n                        bufIndex++;\n                        return new String(charBuffer, 0, i);\n                    }\n                }\n\n                // Reload buffer\n                numBytesRead = stream.read(buf);\n                if (numBytesRead == EOF) return new String(charBuffer, 0, i);\n                bufIndex = 0;\n            }\n        }\n\n        // Returns an exact value a double value from the input stream.\n        public double nextDouble() throws IOException {\n            String doubleVal = nextString();\n            if (doubleVal == null) throw new IOException();\n            return Double.valueOf(doubleVal);\n        }\n\n        // Very quickly reads a double value from the input stream (~3x faster than nextDouble()). However,\n        // this method may provide a slightly less accurate reading than .nextDouble() if there are a lot\n        // of digits (~16+). In particular, it will only read double values with at most 21 digits after\n        // the decimal point and the reading my be as inaccurate as ~5*10^-16 from the true value.\n        public double nextDoubleFast() throws IOException {\n            c = read();\n            int sgn = 1;\n            while (c <= SPACE) c = read(); // while c is either: ' ', '\\n', EOF\n            if (c == DASH) {\n                sgn = -1;\n                c = read();\n            }\n            double res = 0.0;\n            // while c is not: ' ', '\\n', '.' or -1\n            while (c > DOT) {\n                res *= 10.0;\n                res += ints[c];\n                c = read();\n            }\n            if (c == DOT) {\n                int i = 0;\n                c = read();\n                // while c is digit and we are less than the maximum decimal precision\n                while (c > SPACE && i < MAX_DECIMAL_PRECISION) {\n                    res += doubles[ints[c]][i++];\n                    c = read();\n                }\n            }\n            return res * sgn;\n        }\n\n        // Read an array of n byte values\n        public byte[] nextByteArray(int n) throws IOException {\n            byte[] ar = new byte[n];\n            for (int i = 0; i < n; i++) ar[i] = nextByte();\n            return ar;\n        }\n\n        // Read an integer array of size n\n        public int[] nextIntArray(int n) throws IOException {\n            int[] ar = new int[n];\n            for (int i = 0; i < n; i++) ar[i] = nextInt();\n            return ar;\n        }\n\n        // Read a long array of size n\n        public long[] nextLongArray(int n) throws IOException {\n            long[] ar = new long[n];\n            for (int i = 0; i < n; i++) ar[i] = nextLong();\n            return ar;\n        }\n\n        // read an of doubles of size n\n        public double[] nextDoubleArray(int n) throws IOException {\n            double[] ar = new double[n];\n            for (int i = 0; i < n; i++) ar[i] = nextDouble();\n            return ar;\n        }\n\n        // Quickly read an array of doubles\n        public double[] nextDoubleArrayFast(int n) throws IOException {\n            double[] ar = new double[n];\n            for (int i = 0; i < n; i++) ar[i] = nextDoubleFast();\n            return ar;\n        }\n\n        // Read a string array of size n\n        public String[] nextStringArray(int n) throws IOException {\n            String[] ar = new String[n];\n            for (int i = 0; i < n; i++) {\n                String str = nextString();\n                if (str == null) throw new IOException();\n                ar[i] = str;\n            }\n            return ar;\n        }\n\n        // Read a 1-based byte array of size n+1\n        public byte[] nextByteArray1(int n) throws IOException {\n            byte[] ar = new byte[n + 1];\n            for (int i = 1; i <= n; i++) ar[i] = nextByte();\n            return ar;\n        }\n\n        // Read a 1-based integer array of size n+1\n        public int[] nextIntArray1(int n) throws IOException {\n            int[] ar = new int[n + 1];\n            for (int i = 1; i <= n; i++) ar[i] = nextInt();\n            return ar;\n        }\n\n        // Read a 1-based long array of size n+1\n        public long[] nextLongArray1(int n) throws IOException {\n            long[] ar = new long[n + 1];\n            for (int i = 1; i <= n; i++) ar[i] = nextLong();\n            return ar;\n        }\n\n        // Read a 1-based double array of size n+1\n        public double[] nextDoubleArray1(int n) throws IOException {\n            double[] ar = new double[n + 1];\n            for (int i = 1; i <= n; i++) ar[i] = nextDouble();\n            return ar;\n        }\n\n        // Quickly read a 1-based double array of size n+1\n        public double[] nextDoubleArrayFast1(int n) throws IOException {\n            double[] ar = new double[n + 1];\n            for (int i = 1; i <= n; i++) ar[i] = nextDoubleFast();\n            return ar;\n        }\n\n        // Read a 1-based string array of size n+1\n        public String[] nextStringArray1(int n) throws IOException {\n            String[] ar = new String[n + 1];\n            for (int i = 1; i <= n; i++) ar[i] = nextString();\n            return ar;\n        }\n\n        // Read a two dimensional matrix of bytes of size rows x cols\n        public byte[][] nextByteMatrix(int rows, int cols) throws IOException {\n            byte[][] matrix = new byte[rows][cols];\n            for (int i = 0; i < rows; i++)\n                for (int j = 0; j < cols; j++)\n                    matrix[i][j] = nextByte();\n            return matrix;\n        }\n\n        // Read a two dimensional matrix of ints of size rows x cols\n        public int[][] nextIntMatrix(int rows, int cols) throws IOException {\n            int[][] matrix = new int[rows][cols];\n            for (int i = 0; i < rows; i++)\n                for (int j = 0; j < cols; j++)\n                    matrix[i][j] = nextInt();\n            return matrix;\n        }\n\n        // Read a two dimensional matrix of longs of size rows x cols\n        public long[][] nextLongMatrix(int rows, int cols) throws IOException {\n            long[][] matrix = new long[rows][cols];\n            for (int i = 0; i < rows; i++)\n                for (int j = 0; j < cols; j++)\n                    matrix[i][j] = nextLong();\n            return matrix;\n        }\n\n        // Read a two dimensional matrix of doubles of size rows x cols\n        public double[][] nextDoubleMatrix(int rows, int cols) throws IOException {\n            double[][] matrix = new double[rows][cols];\n            for (int i = 0; i < rows; i++)\n                for (int j = 0; j < cols; j++)\n                    matrix[i][j] = nextDouble();\n            return matrix;\n        }\n\n        // Quickly read a two dimensional matrix of doubles of size rows x cols\n        public double[][] nextDoubleMatrixFast(int rows, int cols) throws IOException {\n            double[][] matrix = new double[rows][cols];\n            for (int i = 0; i < rows; i++)\n                for (int j = 0; j < cols; j++)\n                    matrix[i][j] = nextDoubleFast();\n            return matrix;\n        }\n\n        // Read a two dimensional matrix of Strings of size rows x cols\n        public String[][] nextStringMatrix(int rows, int cols) throws IOException {\n            String[][] matrix = new String[rows][cols];\n            for (int i = 0; i < rows; i++)\n                for (int j = 0; j < cols; j++)\n                    matrix[i][j] = nextString();\n            return matrix;\n        }\n\n        // Read a 1-based two dimensional matrix of bytes of size rows x cols\n        public byte[][] nextByteMatrix1(int rows, int cols) throws IOException {\n            byte[][] matrix = new byte[rows + 1][cols + 1];\n            for (int i = 1; i <= rows; i++)\n                for (int j = 1; j <= cols; j++)\n                    matrix[i][j] = nextByte();\n            return matrix;\n        }\n\n        // Read a 1-based two dimensional matrix of ints of size rows x cols\n        public int[][] nextIntMatrix1(int rows, int cols) throws IOException {\n            int[][] matrix = new int[rows + 1][cols + 1];\n            for (int i = 1; i <= rows; i++)\n                for (int j = 1; j <= cols; j++)\n                    matrix[i][j] = nextInt();\n            return matrix;\n        }\n\n        // Read a 1-based two dimensional matrix of longs of size rows x cols\n        public long[][] nextLongMatrix1(int rows, int cols) throws IOException {\n            long[][] matrix = new long[rows + 1][cols + 1];\n            for (int i = 1; i <= rows; i++)\n                for (int j = 1; j <= cols; j++)\n                    matrix[i][j] = nextLong();\n            return matrix;\n        }\n\n        // Read a 1-based two dimensional matrix of doubles of size rows x cols\n        public double[][] nextDoubleMatrix1(int rows, int cols) throws IOException {\n            double[][] matrix = new double[rows + 1][cols + 1];\n            for (int i = 1; i <= rows; i++)\n                for (int j = 1; j <= cols; j++)\n                    matrix[i][j] = nextDouble();\n            return matrix;\n        }\n\n        // Quickly read a 1-based two dimensional matrix of doubles of size rows x cols\n        public double[][] nextDoubleMatrixFast1(int rows, int cols) throws IOException {\n            double[][] matrix = new double[rows + 1][cols + 1];\n            for (int i = 1; i <= rows; i++)\n                for (int j = 1; j <= cols; j++)\n                    matrix[i][j] = nextDoubleFast();\n            return matrix;\n        }\n\n        // Read a 1-based two dimensional matrix of Strings of size rows x cols\n        public String[][] nextStringMatrix1(int rows, int cols) throws IOException {\n            String[][] matrix = new String[rows + 1][cols + 1];\n            for (int i = 1; i <= rows; i++)\n                for (int j = 1; j <= cols; j++)\n                    matrix[i][j] = nextString();\n            return matrix;\n        }\n\n        // Closes the input stream\n        public void close() throws IOException {\n            stream.close();\n        }\n    }\n\n    // region variables\n    static InputReader sc = new InputReader();\n    static OutputStream outputStream = System.out;\n    static PrintWriter w = new PrintWriter(outputStream);\n    static long timeStart;\n    // endregion\n\n    private static void initiateIO()\n            throws IOException {\n        if (System.getProperty(\"ONLINE_JUDGE\") == null) {\n            try {\n                w = new PrintWriter(\"output.txt\");\n                sc = new InputReader(new FileInputStream(\"input.txt\"));\n            } catch (Exception e) {\n                throw new IOException();\n            }\n        }\n    }\n\n    public static void main(String[] args)\n            throws IOException {\n\n        //initiateIO();\n\n        solve();\n\n        w.close();\n\n    }\n\n    static void solve() throws IOException {\n        String[] input = (sc.nextLine()).split(\":\");\n\n        // remove leading zeroes\n        int i = 0;\n        for(i = 0; i < input[0].length(); i++) if(input[0].charAt(i) != '0') break;\n        input[0] = input[0].substring(i);\n\n        for(i = 0; i < input[1].length(); i++) if(input[1].charAt(i) != '0') break;\n        input[1] = input[1].substring(i);\n\n        // get smallest digit\n        int smallest = 0;\n        int curr;\n        for(i = 0; i < input[0].length(); i++) {\n            curr = charToInteger(input[0].charAt(i));\n            if(curr > smallest) smallest = curr;\n        }\n\n        for(i = 0; i < input[1].length(); i++) {\n            curr = charToInteger(input[1].charAt(i));\n            if(curr > smallest) smallest = curr;\n        }\n        smallest++;\n\n        // check if not valid for smallest base\n        if(!checkValidHr(input[0], smallest) || !checkValidMin(input[1], smallest)) {\n            w.println(0);\n            return;\n        }\n\n        // check infinite\n        if(input[1].length() < 2 && input[0].length() < 2 && (checkValidHr(input[0], smallest))) {\n            w.println(-1);\n            return;\n        }\n\n        // check if not valid for all bases\n        while(true) {\n            if(checkValidHr(input[0], smallest) && checkValidMin(input[1], smallest)) {\n                w.print(smallest + \" \");\n                smallest++;\n            }else break;\n        }\n\n        w.println();\n    }\n\n    static boolean checkValidHr(String str, int base) {\n        int curr;\n        int value = 0;\n        int pos = 0;\n        int power;\n        for(int i = str.length()-1; i >= 0; i--, pos++) {\n            curr = charToInteger(str.charAt(i));\n            if(curr == 0) continue;\n            power = (int)Math.pow(base, pos);\n            value += (power * curr);\n        }\n\n        return value <= 23;\n    }\n\n    static boolean checkValidMin(String str, int base) {\n        int curr;\n        int value = 0;\n        int pos = 0;\n        int power;\n        for(int i = str.length()-1; i >= 0; i--, pos++) {\n            curr = charToInteger(str.charAt(i));\n            if(curr == 0) continue;\n            power = (int)Math.pow(base, pos);\n            value += (power * curr);\n        }\n\n        return value <= 59;\n    }\n\n    static int charToInteger(char c) {\n        if(Character.isDigit(c)) {\n            return Integer.parseInt(c+\"\");\n        }\n\n        return (10 + (c-'A'));\n    }\n}"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.TreeSet;\nimport java.util.Vector;\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        PrintWriter out = new PrintWriter(System.out);\n\n        String s = in.readLine();\n\n        String[] t = s.split(\":\");\n\n        Vector<TreeSet<Integer>> v = new Vector<TreeSet<Integer>>();\n\n        for (int i = 0; i < 2; i++)\n            v.add(new TreeSet<Integer>());\n\n        for (int i = 0; i < 2; i++) {\n            for (int j = 2; j <= 1000; j++) {\n                if (!isValid(t[i], j))\n                    continue;\n\n                long time = 0;\n                for (int p = 0, k = t[i].length() - 1; k >= 0; k--, p++) {\n                    if (Character.isDigit(t[i].charAt(k)))\n                        time += Math.pow(j, p) * (t[i].charAt(k) - '0');\n                    else\n                        time += Math.pow(j, p) * (t[i].charAt(k) - 'A' + 10);\n                }\n\n                if ((i == 0 && (time < 0 || time > 23)) || (i == 1 && (time < 0 || time > 59)))\n                    continue;\n                else\n                    v.elementAt(i).add(j);\n            }\n        }\n\n        v.elementAt(0).retainAll(v.elementAt(1));\n\n        if (v.elementAt(0).contains(1000))\n            out.println(-1);\n        else if (v.elementAt(0).isEmpty())\n            out.println(0);\n        else\n            for (Integer i : v.elementAt(0))\n                out.print(i + \" \");\n\n        out.close();\n    }\n\n    private static boolean isValid(String s, int sys) {\n        for (int i = 0; i < s.length(); i++) {\n            if (Character.isDigit(s.charAt(i))) {\n                if (s.charAt(i) - '0' >= sys)\n                    return false;\n            } else {\n                if (s.charAt(i) - 'A' + 10 >= sys)\n                    return false;\n            }\n        }\n        return true;\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar str[50];\nint p, j, k;\nint a[11];\nint b[11];\nbool check(int x) {\n  int suma = 0, sumb = 0;\n  for (int i = 0; i < j; i++) {\n    if (a[i] >= x) {\n      return false;\n    }\n  }\n  for (int i = 0; i < k; i++) {\n    if (b[i] >= x) {\n      return false;\n    }\n  }\n  for (int i = 0; i < j; i++) {\n    int tmp = 1;\n    for (int n = i + 1; n < j; n++) {\n      tmp *= x;\n    }\n    suma += a[i] * tmp;\n    if (suma >= 24) return false;\n  }\n  for (int i = 0; i < k; i++) {\n    int tmp = 1;\n    for (int n = i + 1; n < k; n++) {\n      tmp *= x;\n    }\n    sumb += b[i] * tmp;\n    if (sumb >= 60) return false;\n  }\n  return true;\n}\nint main() {\n  int ok = 0, flag = 0;\n  cin >> str;\n  int len = strlen(str);\n  for (int i = 0; i < len; i++) {\n    if (str[i] == ':') {\n      p = i;\n    }\n  }\n  for (int i = 0; i < p; i++) {\n    while (str[i] == '0' && !flag) i++;\n    if (i == p) break;\n    flag = 1;\n    if (str[i] >= 'A' && str[i] <= 'Z')\n      a[j] = str[i] - 'A' + 10;\n    else\n      a[j] = str[i] - '0';\n    j++;\n  }\n  flag = 0;\n  for (int i = p + 1; i < len; i++) {\n    while (str[i] == '0' && !flag) i++;\n    if (i == p) break;\n    flag = 1;\n    if (str[i] >= 'A' && str[i] <= 'Z')\n      b[k] = str[i] - 'A' + 10;\n    else\n      b[k] = str[i] - '0';\n    k++;\n  }\n  if ((j == 0 || (j == 1 && a[0] < 24)) && (k == 0 || k == 1)) {\n    cout << -1 << endl;\n    ok = 1;\n  } else {\n    for (int i = 2; i <= 60; i++) {\n      if (check(i)) {\n        ok = 1;\n        cout << i << ' ';\n      }\n    }\n    if (ok) cout << endl;\n  }\n  if (!ok) cout << 0 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma GCC optimize \"03\"\nusing namespace std;\nconst long long int inf = INT_MAX;\nconst long double eps = 0.0000001;\nconst long double PI = acos(-1.0);\nconst long long int MOD = 1e9 + 7;\nconst long long int N = 1e5 + 5;\nlong long int func(char c) {\n  if (c >= '0' && c <= '9') return (long long int)(c - '0');\n  if (c >= 'A' && c <= 'Z') return (long long int)(c - 'A' + 10);\n  return 0;\n}\nlong long int solve(string s, long long int c) {\n  long long int l = s.length(), ans = 0, p = 1;\n  for (long long int i = l - 1; i >= 0; i--) {\n    ans += func(s[i]) * p;\n    p *= c;\n  }\n  return ans;\n}\nsigned main() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n  string s;\n  cin >> s;\n  string a = s.substr(0, s.find(\":\"));\n  string b = s.substr(s.find(\":\") + 1);\n  long long int f1 = 0, f2 = 0, l1 = a.length(), l2 = b.length();\n  for (long long int i = 0; i < l1 - 1; i++) {\n    if (a[i] != '0') {\n      f1 = 1;\n      break;\n    }\n  }\n  for (long long int i = 0; i < l2 - 1; i++) {\n    if (b[i] != '0') {\n      f2 = 1;\n      break;\n    }\n  }\n  if (!f1 && !f2) {\n    if (s[l1 - 1] <= 'N') return cout << -1, 0;\n  }\n  long long int mx = 0;\n  for (long long int i = 0; i < l1; i++) {\n    mx = max(mx, func(a[i]));\n  }\n  for (long long int i = 0; i < l2; i++) {\n    mx = max(mx, func(b[i]));\n  }\n  if (solve(a, mx + 1) > 23 || solve(b, mx + 1) > 59) return cout << 0, 0;\n  for (long long int i = mx + 1;; i++) {\n    if (solve(a, i) <= 23 && solve(b, i) <= 59)\n      cout << i << \" \";\n    else\n      break;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Stack;\nimport java.util.StringTokenizer;\n\n\n\npublic class C106P2 {\n\n    private static BufferedReader in;\n    private static PrintWriter out;\n    private static StringTokenizer input;\n    \n    public static void main(String[] args) throws IOException {\n        //-------------------------------------------------------------------------\n        //Initializing...\n        new C106P2();\n        //-------------------------------------------------------------------------\n        //put your code here... :)\n        String [] time = nextString().split(\":\");\n        Queue<Integer> rad = new LinkedList<Integer>();\n        boolean inf = false;\n        int lh = -1;\n        int lm = -1;\n        for (int i = 2; i < 100; i++) {\n            try {\n                int h = parseInt(time[0], i);\n                int m = parseInt(time[1], i);\n                if(h>=24||m>=60)break;\n                if(lh==h&&lm==m){inf=true;break;}\n                rad.add(i);\n                lh=h;\n                lm=m;\n            } catch (Exception e) {\n                // TODO: handle exception\n            }\n        }\n        if(inf)\n        writeln(\"-1\");\n        else if(rad.size()==0)writeln(\"0\");\n        else \n            while(!rad.isEmpty())\n                write(rad.poll()+((rad.isEmpty())?\"\\n\":\" \"));\n        //-------------------------------------------------------------------------\n        //closing up\n        end();\n        //--------------------------------------------------------------------------\n\n    }\n    \n    \n    private static int parseInt(String s, int i) throws Exception {\n        // TODO Auto-generated method stub\n        int res = 0;int r=1;\n        for (int j = s.length()-1; j >= 0; j--) {\n            if(Character.isUpperCase(s.charAt(j))){\n                res+=(s.codePointAt(j)-'A'+10)*r;\n                if(s.codePointAt(j)-'A'+10>=i)throw new Exception();\n            }else{\n                res+=(s.codePointAt(j)-'0')*r;\n                if(s.codePointAt(j)-'0'>=i)throw new Exception();\n            }\n            r*=i;\n        }\n        return res;\n    }\n\n\n    public C106P2() throws IOException {\n        //Input Output for Console to be used for trying the test samples of the problem \n        in = new BufferedReader(new InputStreamReader(System.in));\n        out = new PrintWriter(System.out);\n        //-------------------------------------------------------------------------\n        //Initalize Stringtokenizer input\n        input = new StringTokenizer(in.readLine());\n    }\n\n    private static int nextInt() throws IOException {\n        if (!input.hasMoreTokens())input=new StringTokenizer(in.readLine());\n        return Integer.parseInt(input.nextToken());\n    }\n    private static long nextLong() throws IOException {\n        if (!input.hasMoreTokens())input=new StringTokenizer(in.readLine());\n        return Long.parseLong(input.nextToken());\n    }\n    private static double nextDouble() throws IOException {\n        if (!input.hasMoreTokens())input=new StringTokenizer(in.readLine());\n        return Double.parseDouble(input.nextToken());\n    }\n    private static String nextString() throws IOException {\n        if (!input.hasMoreTokens())input=new StringTokenizer(in.readLine());\n        return input.nextToken();\n    }\n    private static void write(String output){\n        out.write(output);\n        out.flush();\n    }\n    private static void writeln(String output){\n        out.write(output+\"\\n\");\n        out.flush();\n    }\n    private static void end() throws IOException{\n        in.close();\n        out.close();\n        System.exit(0);\n    }\n\n    \n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[60], b[60];\nint tota, totb;\nint ans[10000];\nint tot = 0;\nint convert(int base, int *arr, int size) {\n  int ans = 0, k = 1;\n  for (int i = size - 1; i >= 0; i--) {\n    ans += k * arr[i];\n    k = k * base;\n  }\n  return ans;\n}\nint main() {\n  char tmp;\n  int Max = 0;\n  while (scanf(\"%c\", &tmp), tmp != ':') {\n    if (tmp >= 'A')\n      tmp = tmp - 'A' + 10;\n    else\n      tmp = tmp - '0';\n    a[tota++] = tmp;\n    Max = Max > tmp ? Max : tmp;\n  }\n  while (scanf(\"%c\", &tmp) != EOF) {\n    if (tmp == '\\n') break;\n    if (tmp >= 'A')\n      tmp = tmp - 'A' + 10;\n    else\n      tmp = tmp - '0';\n    b[totb++] = tmp;\n    Max = Max > tmp ? Max : tmp;\n  }\n  int beforeA = 0, beforeB = 0;\n  for (int i = Max + 1;; i++) {\n    int A, B;\n    A = convert(i, a, tota);\n    B = convert(i, b, totb);\n    if (A == beforeA && B == beforeB) {\n      printf(\"-1\\n\");\n      return 0;\n    }\n    beforeA = A, beforeB = B;\n    if (A < 24 && B < 60)\n      ans[tot++] = i;\n    else\n      break;\n  }\n  for (int i = 0; i < tot; i++)\n    printf(\"%d%c\", ans[i], i == tot - 1 ? '\\n' : ' ');\n  if (tot == 0) printf(\"0\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import re\nimport itertools\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c) - ord('A') + 10)\n\ndef convert(n, system):\n      ans, pow = 0, 1\n      for i in range(1, len(n) + 1):\n            if get(n[-i]) >= system: return 100500\n            ans, pow = ans + get(n[-i]) * pow, pow * system\n      return ans\n\ndef good(s, system):\n      return convert(s[0], system) < 24 and convert(s[1], system) < 60\n\ns = map(lambda x: max('0', re.sub('^0*', '', x)), raw_input().split(':'))\nans = list(itertools.compress(range(2, 1000), [good(s, i) for i in range(2, 1000)]))\nif len(ans) == 0: print '0'\nelif len(ans) > 60: print '-1'\nelse: print ' '.join(str(x) for x in ans)\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.math.*;\n/**\n *\n * @author mohanad\n */\npublic class Div2_149B {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        Scanner scan = new Scanner (System.in);\n        String ab=scan.next();\n\n        char max=ab.charAt(0);\n        for (int i = 0 ; i < ab.length() ; ++i){\n            char c=ab.charAt(i);\n            if (c==':')\n                continue;\n            else if (max<c)\n                max=c;\n        }\n        String hm[]=ab.split(\":\");\n        String hours=hm[0];\n        String minutes=hm[1];\n        \n        int arrh[]=new int[hours.length()];\n        int arrm[]=new int[minutes.length()];\n        for (int i  = 0 ; i < hours.length() ; ++i){\n            char c=hours.charAt(i);\n            if (c>='0'&&c<='9')\n                arrh[i]=c-'0';\n            else arrh[i] = c-55;\n        }\n          for (int i  = 0 ; i < minutes.length() ; ++i){\n              char c=minutes.charAt(i);\n               if (c>='0'&&c<='9')\n                   arrm[i]=c-'0';\n               else arrm[i] = c-55;\n        }\n        int begin = (max>='0'&&max<='9')?max-'0':max-55;\n        ++begin;\n        StringBuilder out=new StringBuilder();\n        int starth=convert(begin, arrh);\n        int startm=convert(begin, arrm);\n        if (starth>23|| startm>59){\n            out.append(0);\n        }\n        else if (starth==convert(begin+1, arrh) &&startm==convert(begin+1, arrm) ){\n            out.append(-1);\n        }\n        else{\n            out.append(begin).append(\" \");\n            int i = begin+1;\n            starth=convert(i, arrh);\n            startm=convert(i, arrm);\n            while (starth<=23&&startm<=59){\n                out.append(i).append(\" \");\n                ++i;\n                starth=convert(i, arrh);\n                startm=convert(i, arrm);\n            }\n        }\n        System.out.println(out.toString());\n        \n    }\n    \n    public static  int convert (int base , int nums[]){\n        \n        int ans=0;\n        int i = nums.length-1;\n        int pow=0;\n        while (i>=0){\n            ans+=Math.pow(base, pow)*nums[i];\n            --i;\n            ++pow;\n        }\n        return ans;\n    }\n    \n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long do_it(char ch) {\n  if (ch >= '0' && ch <= '9') return ch - '0';\n  return 10 + ch - 'A';\n}\nbool check_it(string s, int num, int total) {\n  long long val = 0;\n  for (int i = 0; i < ((int)s.size()); ++i) {\n    long long x = do_it(s[i]);\n    if (x >= num) return false;\n    val = val * num + x;\n  }\n  if (val <= total) return true;\n  return false;\n}\nint main() {\n  string s;\n  cin >> s;\n  int pos = s.find(\":\");\n  string s1 = s.substr(0, pos);\n  string s2 = s.substr(pos + 1);\n  if (check_it(s1, 100, 23) && check_it(s2, 100, 59)) {\n    cout << \"-1\" << endl;\n    return 0;\n  }\n  vector<int> a;\n  for (int i = 2; i < 100; ++i)\n    if (check_it(s1, i, 23) && check_it(s2, i, 59)) a.push_back(i);\n  if (a.empty()) {\n    cout << \"0\" << endl;\n    return 0;\n  }\n  for (int i = 0; i < ((int)a.size()); ++i) cout << a[i] << \" \";\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.Scanner;\n\npublic class B {\n    public static boolean check(String s,int base) {\n        for (int i=0;i<s.length();i++) {\n            int x;\n            if (s.charAt(i)>='A' && s.charAt(i)<='Z') x = (s.charAt(i)-'A') + 10; else x = (s.charAt(i)-'0') ;\n            if (x>=base) return false;\n        }\n        return true;\n    }\n    public static long time(String s,int base) {\n        long y = 1;\n        long res = 0;\n        for (int i=(s.length()-1);i>=0;i--) {\n            long x;\n            if (s.charAt(i)>='A' && s.charAt(i)<='Z') x = (s.charAt(i)-'A') + 10; else x = (s.charAt(i)-'0') ;\n            res += (x*y); \n            y*=base;\n        }\n        return res;\n    }\n    public static void main(String args[]) {\n        Scanner in = new Scanner(System.in);\n        String s = in.nextLine();\n        String s1 = s.substring(0,s.indexOf(\":\"));\n        String s2 = s.substring(s.indexOf(\":\")+1);\n        String ans = \"\";\n        int kol = 0;\n        for (int i=2;i<=5000;i++) {\n           if ( check(s1,i)&&  check(s2,i)) {\n            long hour = time(s1,i);\n            long min = time(s2,i);\n            if (hour>=0 && hour<=23 && min>=0 && min<=59) {ans+=(i+\" \");kol++;}\n           }\n        }\n        if (kol<3000) {\n            if (kol>0) System.out.println(ans); else System.out.println(0);\n            \n        }  else \n        System.out.println(-1);\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.math.BigInteger;\n\n\nimport java.util.*;\n\npublic class Watermelon {\n\tpublic static void main(String[] args) throws IOException{\n\t\tMain m=new Main();\n\t\tm.solve();\n\t}\n\t}\nclass Main{\n\tstatic int[] temp=new int[100];\n\t BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n\n\t   \n\t    StringTokenizer stringTokenizer;\n\n\t     String next() throws IOException {\n\t        while (stringTokenizer == null || !stringTokenizer.hasMoreTokens()) {\n\t            stringTokenizer = new StringTokenizer(reader.readLine());\n\t        }\n\t        return stringTokenizer.nextToken();\n\t    }\n\n\t    int nextInt() throws IOException {\n\t        return Integer.parseInt(next());\n\t    }\n\n\t    long nextLong() throws IOException {\n\t        return Long.parseLong(next());\n\t    }\n\t    void solve() throws IOException  {\n\t    \tString s=this.next();\n\t    \tInteger[] arr=new Integer[s.length()];\n\t    \tInteger[] carr=new Integer[s.length()];\n\t    \tint x=0;\n\t    \tfor(int i=0;i<arr.length;i++){\n\t    \t\tif(s.charAt(i)!=':'){\n\t    \t\tif(s.charAt(i)>=48&&s.charAt(i)<=58)\n\t    \t\t\t{arr[i]=s.charAt(i)-48;carr[i]=s.charAt(i)-48;}\n\t    \t\telse\n\t    \t\t\t{arr[i]=s.charAt(i)-55;carr[i]=s.charAt(i)-55;}\n\t    \t\t}\n\t    \t\telse \n\t    \t\t\t{ x=i;arr[i]=-1;carr[i]=-1;}\n\t    \t}\n\t    \tx--;\n\t    \tint o=0;\n\t    \tint p=x+2;\n\t    \tint flag=0;\n\t    \t//System.out.println(\"he3\");\n\t    \twhile(o!=x){\n    \t    \t//System.out.println(\"hey1\");\n\n\t    \t\tif(arr[o]!=0){\n\t    \t    \t//System.out.println(\"hey1\");\n\t    \t\t\tflag=1;\n\t    \t\t\t\n\t    \t\t}\n\t    \t\to++;\n\t    \t}\n\t    \tif(flag==0){\n\t    \t   int flag1=0;\n\t    \t   while(p!=arr.length-1){\n\t   \t    \t//System.out.println(\"hey2\");\n\t    \t\t   if(arr[p]!=0)\n\t    \t\t\t   flag1=1;\n\t    \t\t   p++;\n\t    \t   }\n\t    \t   if(flag1==0){\n\t    \t\t   if(arr[x]>=24||arr[arr.length-1]>=60)\n\t    \t\t\t   {System.out.println(0);System.exit(0);}\n\t    \t\t\tSystem.out.println(-1);\n\t\t    \t\tSystem.exit(0);\n\t\t    \t   \n\t    \t   }\n\t    \t}\n\t    Arrays.sort(carr);\n\t    int t=carr[carr.length-1]+1;\n\t//    System.out.println(t+\" \"+x);\n\t    int count=0;\n\t    while(true){\n\t    \t//System.out.println(\"hey\");\n\t    \tint i=x;\n\t    \tint c=0;\n\t    \tint j=arr.length-1;\n\t    \tint sumh=0;\n\t    \tint summ=0;\n\t    \tint flagh=0;int flagm=0;\n\t    \twhile(i>=0){\n\t    \t\t\n\t    \t//\tSystem.out.println(((int)Math.pow(t,c)));\n\t    \t\tsumh+=(((int)Math.pow(t,c))*(arr[i]));\n\t    \t//\tSystem.out.println(sumh);\n\t    \t\tc++;\n\t    \t\ti--;\n\t    \t}\n\t    \tc=0;\n\t    \twhile(j!=x+1){\n\t    \t\t\n\t    \t\tsumm+=(((int)Math.pow(t,c))*(arr[j]));\n\t    \t\t\t\tj--;\n\t    \t\t\t\tc++;\n\t    \t}\n\t    \tif((sumh>23||summ>59)){\n\t    \t\tif(count==0){\n\t    \t\t\tSystem.out.println(0);\n\t    \t\t\tSystem.exit(0);\n\t    \t\t}\n\t    \t\telse\n\t    \t\tbreak;\n\t    \t}\n\t    \t\n\t    \t\n\t    \telse\n\t    \t{System.out.print(t+\" \");t++;}\n\t    \tcount++;\n\t    }\n        }\n           \n\t  void divie(ArrayList<Integer> list,int x){\n\t\t  int m=1;\n\t\t  int n=x-m;\n\t\t  \n\t  }\n\tstatic int fact(int aa) {\n\t\t \n\t    if (aa == 0 || aa == 1) {\n\t        return 1;\n\t    } else {\n\t        if (temp[aa] != 0)\n\t            return temp[aa];\n\t        else\n\t            return temp[aa] = (aa * fact(aa - 1));\n\t    }\n\t \n\t}\n\tprivate static int gcd(int a, int b)\n\t{\n\t    while (b > 0)\n\t    {\n\t    \tint temp = b;\n\t        b = a % b; // % is remainder\n\t        a = temp;\n\t    }\n\t    return a;\n\t}\n\tprivate static int lcm(int a, int b)\n\t{\n\t    return a * (b / gcd(a, b));\n\t}\n\tstatic int[] toFractionPos(int x,int y){\n\t\tint a=gcd(x,y);\n\t\tint[] arr={x/a,y/a};\n\t\t//display(arr);\n\t\treturn arr;\n\t}\n   \n\tstatic void display(int[][] arr){\n\t\tfor(int i=0;i<arr.length;i++){\n\t\t\tfor(int j=0;j<arr[i].length;j++){\n\t\t\t\tSystem.out.print(arr[i][j]+\" \");\n\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t\tSystem.out.println();\n\t}\n\n\t static void display(String[] arr){\n\t\t\tfor(int i=0;i<arr.length;i++){\n\t\t\t\t\n\t\t\t}\t\n\t\t\tSystem.out.println();\n\t\t\n\t }\n\t static void display(Count[] arr){\n\t\t for(int i=0;i<arr.length;i++)\n\t\t\t\tSystem.out.print(arr[i]+\" \");\n\t\tSystem.out.println();\n\t\t }\n\t\t static void display(int[] arr){\n\t\t \t   for(int i=0;i<arr.length;i++){\n\t\t \t\t   System.out.print(arr[i]+\" \");\n\t\t \t   }\n\t\t \t   System.out.println();\n\t    }\n\t static void display(char[] arr){\n\t\t// System.out.println();\n\t\t int t=0;\n\t\t\tfor(int i=0;i<arr.length;i++){\n\t\t\t\tif(arr[i]!='0'){t=i;break;}\n\t\t\t}\t\n\t\t\twhile(t!=arr.length){\n\t\t\t\tSystem.out.print(arr[t]);\n\t\t\t\tt++;\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t\n\t\t  }\n\t static String str(char[] carr){\n\t\t String str=\"\";\n\t\t for(int i=0;i<carr.length;i++){\n\t\t\t    str=str+carr[i];\n\t\t\t}\n\t\t return str;\n\t }\n}\nclass  Count {\n\tArrayList<Integer> list=new ArrayList<>();\n\t\n    void display(){\n    \tSystem.out.println(list);\n    }\n    void inc(int k){\n    \tfor(int i=0;i<list.size();i++)\n    \t\t{if(list.get(i)==k)continue;list.set(i,list.get(i)+1);break;}\n    }\n    /*\t@Override\n\tpublic int compareTo(Object o) {\n\t\t// TODO Auto-generated method stub\n\t\tCount c=(Count)o;\n\t\tif(this.i>c.i)\n\t\t\treturn 1;\n\t\telse if(this.i<c.i)\n\t\t\treturn -1;\n\t\telse return 0;\n\t}\n\t*/\n}"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\n\npublic class B {\n\t/**\n\t * \n\t * 2012-2-10\n\t * @author froest\n\t * @param args\n\t */\n\tstatic Map<String,Integer> m = new HashMap<String,Integer>();\n\tstatic class C {\n\t\tint m;\n\t\tchar n;\n\t}\n\tpublic static void main(String[] args) {\n\t\t// TODO Auto-generated method stub\n\t\tScanner scan = new Scanner(System.in);\n\t\tString s = scan.next();\n\t\tString a = s.substring(0,s.indexOf(\":\"));\n\t\tString b = s.substring(s.indexOf(\":\")+1);\n\t\t//System.out.println(a+\" \"+b);\n\t\tint i;\n\t\tList<Integer> l = new ArrayList<Integer>();\n\t\t\n\t\tfor(i=0;i<36;i++){\n\t\t\tif(i>9){\n\t\t\t\tchar ss = (char)('A'+i-10);\n\t\t\t\tString s1 = ss+\"\";\n\t\t\t\tm.put(s1, i);\n\t\t\t}else{\n\t\t\t\tm.put(\"\"+i, i);\n\t\t\t}\n\t\t}\n\t\tint j=0;\n\t\tfor(i=0;i<a.length();i++){\n\t\t\tif(a.charAt(i)!=48){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor(j=0;j<b.length();j++){\n\t\t\tif(b.charAt(j)!=48){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif((a.length()-i==1&&m.get(a.substring(i, i+1))>24)\n\t\t\t\t||(b.length()-j==1&&m.get(b.substring(j, j+1))>60)){\n\t\t\tSystem.out.println(0);\n\t\t\tSystem.exit(0);\n\t\t}\n\t\tif(a.length()-i<=1&&b.length()-j<=1){\n\t\t\tSystem.out.println(-1);\n\t\t\tSystem.exit(0);\n\t\t}\n\t\t\n\t\tint max = 0;\n\t\tfor(i=0;i<a.length();i++){\n\t\t\tif(m.get(a.substring(i, i+1))>max){\n\t\t\t\tmax=m.get(a.substring(i, i+1));\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<b.length();i++){\n\t\t\tif(m.get(b.substring(i, i+1))>max){\n\t\t\t\tmax=m.get(b.substring(i, i+1));\n\t\t\t}\n\t\t}\n\t\tfor(i=max+1;i<64;i++){\n\t\t\tint ans1 = change(a,i);\n\t\t\tint ans2 = change(b,i);\n\t\t\tif(i==max+1){\n\t\t\t\tif(ans1>23||ans2>59){\n\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t\tSystem.exit(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(ans1<=23&&ans2<=59){\n\t\t\t\tl.add(i);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(l);\n\t\t\n\t\tfor(i=0;i<l.size();i++){\n\t\t\tSystem.out.print(l.get(i)+\" \");\n\t\t}\n\t}\n\tprivate static int change(String a,int j) {\n\t\t// TODO Auto-generated method stub\n\t\tint i;\n\t\tint ans = 0;\n\t\tfor(i=0;i<a.length();i++){\n\t\t\tString s = a.substring(i, i+1);\n\t\t\tInteger t = new Integer(m.get(s));\n\t\t\tans+=t*Math.pow(j, a.length()-i-1);\n\t\t}\n\t\treturn ans;\n\t}\n\n}"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\npublic class Cf106 {\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String k=s.nextLine();\n        String cl[]=k.split(\":\");\n        String chis=new String();\n        for(char i='0';i<='9';i++) chis+=i;\n        for(char i='A';i<='Z';i++) chis+=i;\n        //System.out.print(chis);\n        //k=k.trim();\n        //System.out.println(cl[0]+\" \"+cl[1]);\n        \n       /* for(int i=0;i<2;i++){\n            int t=0;\n            while(t<cl[i].length() && cl[i].charAt(t)=='0' ){System.out.println(cl[i].charAt(t)); t++;}\n            System.out.println(\"\"+t);\n            if(t==cl[i].length()) cl[i]=\"0\";\n            else cl[i]=String.copyValueOf(cl[i].toCharArray(), 0, t);\n        }*/\n        //System.out.println(cl[0]+\"-\"+cl[1]);\n        char max='0';\n        String res=new String();\n        int minosn=2;\n        for(int j=0;j<2;j++)\n            for(int i=0;i<cl[j].length();i++){ if(cl[j].charAt(i)>max)max=cl[j].charAt(i);}\n        minosn=chis.lastIndexOf(max)+1;\n        //System.out.println(\"\"+minosn);\n        while(true){\n        int h=0,m=0;\n        for(int i=0;i<cl[0].length();i++)\n            h+=chis.lastIndexOf(cl[0].charAt(i))*Math.pow(minosn,cl[0].length()-i-1);\n        for(int i=0;i<cl[1].length();i++)\n            m+=chis.lastIndexOf(cl[1].charAt(i))*Math.pow(minosn,cl[1].length()-i-1);\n        if(h<24&&m<=59) res+=minosn+\" \";\n        else break;\n        minosn++;\n        if(minosn>60){res=\"-1\";break;}\n        }\n        if(res.isEmpty())res=\"0\";\n        System.out.print(res);\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\nstring tostr(const T& t) {\n  ostringstream os;\n  os << t;\n  return os.str();\n}\nconst int MAXN = 60;\nint tonum(char ch) {\n  if (isdigit(ch)) return ch - '0';\n  return ch - 'A' + 10;\n}\nint todecimal(string s, int base) {\n  int res = 0;\n  for (int i = 0; i < int((s).size()); ++i) res = res * base + tonum(s[i]);\n  return res;\n}\nint main(int argc, char* argv[]) {\n  string s, h, m;\n  cin >> s;\n  istringstream in(s);\n  getline(in, h, ':');\n  getline(in, m, ':');\n  int base = 0;\n  for (int i = 0; i < int((h).size()); ++i) base = max(base, tonum(h[i]));\n  for (int i = 0; i < int((m).size()); ++i) base = max(base, tonum(m[i]));\n  int i, ph = -1, pm = -1;\n  bool inf = false;\n  for (i = base + 1; i <= 60; ++i) {\n    int hh = todecimal(h, i);\n    int mm = todecimal(m, i);\n    if (hh == ph && mm == pm) inf = true;\n    if (hh > 23 || mm > 59) break;\n    ph = hh;\n    pm = mm;\n  }\n  if (inf) {\n    puts(\"-1\");\n  } else if (i == base + 1) {\n    puts(\"0\");\n  } else {\n    for (int j = base + 1; j < i; ++j) {\n      if (j > base + 1) putchar(' ');\n      printf(\"%d\", j);\n    }\n    putchar('\\n');\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.StringTokenizer;\n\n\npublic class Main {\n\n    /**\n     * @param args\n     */\n    \n    public static int getval(String c){\n        String a = \"A\";\n        return -a.compareTo(c) + 10;\n    }\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String nums = \"0123456789\";\n        String lets = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        \n        StringTokenizer st = new StringTokenizer(scan.nextLine());\n        String h = st.nextToken(\":\");\n        String m = st.nextToken();\n        \n        int rh = 0, rm = 0;\n        int count1 =0,count2=0;\n        int max = 0;\n        int maxInd = -1;\n        int max2 = 0;\n        int maxInd2 = -1;\n        \n        \n        for (int i = 0; i < h.length(); i++) {\n            char c = h.charAt(i);\n            if(lets.indexOf(c) >= 0){\n                int temp = getval(c + \"\");\n                if( temp > max){\n                    max = temp;\n                    maxInd = i;\n                    count1++;\n                }\n            }\n            else{\n                int temp = Integer.parseInt(c + \"\");\n                if( temp > max){\n                    max = temp;\n                    maxInd = i;\n                }\n                if(temp > 0){\n                    count1++;\n                }\n            }\n        }\n        for (int i = 0; i < m.length(); i++) {\n            char c = m.charAt(i);\n            if(lets.indexOf(c) >= 0){\n                int temp = getval(c + \"\");\n                if( temp > max2){\n                    max2 = temp;\n                    maxInd2 = i;\n                    count2++;\n                }\n            }\n            else{\n                int temp = Integer.parseInt(c + \"\");\n                if( temp > max2){\n                    max2 = temp;\n                    maxInd2 = i;\n                }\n                if(temp > 0){\n                    count2++;\n                }\n            }\n        }\n        \n        \n        \n        // case 1 sonsuz\n        if(count1 <= 1 && count2 <= 1){\n            if(max <= 23 && max2 <=59){\n                if((maxInd == h.length()-1 || maxInd == -1) && (maxInd2 == m.length()-1 || maxInd2 == -1)){\n                    System.out.println(-1);\n                    return;\n                }\n                \n            }\n        }\n        \n        // case 2 min over the val\n        \n        int minBase = Math.max(max, max2)+1;\n        for (int i = 0; i < h.length(); i++) {\n            int t = h.length()-i-1;\n            char c = h.charAt(t);\n            if(lets.indexOf(c) >= 0){\n                rh+= getval(c + \"\") * (int)Math.pow(minBase, i);\n            }\n            else{\n                rh+= Integer.parseInt(c +\"\") *(int)Math.pow(minBase, i);\n            }\n        }\n        for (int i = 0; i < m.length(); i++) {\n            int t = m.length()-i-1;\n            char c = m.charAt(t);\n            if(lets.indexOf(c) >= 0){\n                rm+= getval(c + \"\") * (int)Math.pow(minBase, i);\n            }\n            else{\n                rm+= Integer.parseInt(c +\"\") * (int)Math.pow(minBase, i);\n            }\n        }\n        \n        if(rh > 23 || rm >59){\n            System.out.println(0);\n            return;\n        }\n        \n        \n        do{\n            System.out.print(minBase + \" \");\n            minBase++;\n            rh = 0;\n            rm = 0;\n            for (int i = 0; i < h.length(); i++) {\n                int t = h.length()-i-1;\n                char c = h.charAt(t);\n                if(lets.indexOf(c) >= 0){\n                    rh+= getval(c + \"\")*(int)Math.pow(minBase, i);\n                }\n                else{\n                    rh+= Integer.parseInt(c +\"\")*(int)Math.pow(minBase, i);\n                }\n            }\n            for (int i = 0; i < m.length(); i++) {\n                int t = m.length()-i-1;\n                char c = m.charAt(t);\n                if(lets.indexOf(c) >= 0){\n                    rm+= getval(c + \"\")*(int)Math.pow(minBase, i);\n                }\n                else{\n                    rm+= Integer.parseInt(c +\"\")*(int)Math.pow(minBase, i);\n                }\n            }\n            \n        }while(rh <= 23 && rm <=59);\n        \n        System.out.println();\n    }\n\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.StringTokenizer;\n\npublic class MartinClock {\n\n    /**\n     * @param args\n     * @throws IOException\n     */\n    public static void main(String[] args) throws IOException {\n        BufferedReader input = new BufferedReader(new InputStreamReader(\n                System.in));\n        StringTokenizer str = new StringTokenizer(input.readLine(),\":\");\n        String hour=str.nextToken();\n        String min=str.nextToken();\n        String s = hour+ \"\"+min;\n        int max = 0;\n        String result = \"\";\n        for (int i = 0; i < s.length(); i++) {\n            if (s.charAt(i) == ':') {\n                continue;\n            }\n            if (s.charAt(i) >= 'A' && s.charAt(i) <= 'Z') {\n                if (max < s.charAt(i) - 'A' + 10) {\n                    max = s.charAt(i) - 'A' + 10;\n                    \n                }\n\n            } else if (max < s.charAt(i) - '0') {\n                max = s.charAt(i) - '0';\n                \n            }\n\n        }\n        max++;\nif(max==1)\n{\nSystem.out.println(-1);\n\n}else {\n    boolean found=true;\n    int count=0;\n    long x=0;\n    long y=0;\n    while(max<61)\n    {\n     if(max<37){\n         x =Integer.parseInt(hour,max);\n         y=Integer.parseInt(min,max);\n     if(x<24&&y<60)\n     {\n        result+=max+\" \";\n        count++;\n        max++;\n     }else\n     {\n        found=false;\n        break;\n     }\n     \n     }else\n     {\n         x=getValue(hour,max);\n         y=getValue(min,max);\n         if(x<24&&y<60)\n         {\n             result+=max+\" \";\n             count++;\n             max++;\n         }else\n         {\n             found=false;\n             break;\n         }\n      \n     \n     \n     }\n    \n    \n    }\n    if(found)\n    {\n        System.out.println(-1);\n    }else if(count==0)\n    {\n    System.out.println(0);  \n    }else\n    {\n        System.out.println(result);\n    }\n\n    \n    \n    \n    }\n    }   \npublic static long getValue(String st,int base)\n    {\n        long value=0;\n        for(int i=st.length()-1;i>=0;i--)\n        {\n            if(st.charAt(i)>='A'&&st.charAt(i)<='Z')\n            {\n              value+=(st.charAt(i)-'A'+10)*Math.pow(base,st.length()-1-i);  \n            \n            }else \n            {\n                value+=(st.charAt(i)-'0')*Math.pow(base, st.length()-1-i);\n            }\n        \n        \n        }\nreturn value;\n\n    }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint f(char a) {\n  if (a >= 'A' && a <= 'Z') {\n    return a - 'A' + 10;\n  }\n  return a - '0';\n}\nint main() {\n  char a[7];\n  char b[7];\n  char c;\n  int i;\n  int la, lb;\n  scanf(\"%[^:]%c%s\", a, &b[0], b);\n  getchar();\n  la = strlen(a);\n  lb = strlen(b);\n  int aa, bb;\n  for (aa = 0; aa < la - 1; aa++) {\n    if (a[aa] != '0') break;\n  }\n  for (bb = 0; bb < lb - 1; bb++) {\n    if (b[bb] != '0') break;\n  }\n  if (la - aa < 2 && lb - bb < 2 && a[la - 1] < 'O') {\n    printf(\"-1\\n\");\n  } else {\n    int begin, end;\n    int max = 0;\n    int j;\n    for (i = aa; i < la; i++) {\n      if (f(a[i]) > max) {\n        max = f(a[i]);\n      }\n    }\n    for (i = bb; i < lb; i++) {\n      if (f(b[i]) > max) {\n        max = f(b[i]);\n      }\n    }\n    begin = max + 1;\n    int sa, sb;\n    for (j = begin;; j++) {\n      sa = sb = 0;\n      int temp = 1;\n      for (i = la - 1; i >= aa; i--) {\n        sa += f(a[i]) * temp;\n        temp *= j;\n        if (sa > 23) break;\n      }\n      temp = 1;\n      for (i = lb - 1; i >= bb; i--) {\n        sb += f(b[i]) * temp;\n        temp *= j;\n        if (sb > 59) break;\n      }\n      if (sa > 23 || sb > 59) {\n        end = j - 1;\n        break;\n      }\n    }\n    if (begin > end) {\n      printf(\"0\\n\");\n    } else {\n      for (i = begin; i < end; i++) {\n        printf(\"%d \", i);\n      }\n      printf(\"%d\\n\", end);\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Scanner;\nimport java.math.*;\n\n\n    \npublic class Code {\n    \n    \n    \n    public static void main(String[] args) {\n        \n        Scanner input = new Scanner(System.in);\n        String t;\n        t = input.next();\n        String h,m;\n        int i=0;\n        while (t.charAt(i) != ':')\n            i++;\n        h = t.substring(0,i);\n        m = t.substring(i+1,t.length());\n       \n        i=0;\n        while (i < h.length() && h.charAt(i) == '0')\n            i++;\n        if (i != 0)\n           h = h.substring(i,h.length());\n        i = 0;\n        while (i < m.length() && m.charAt(i) == '0')\n            i++;\n        if (i != 0)\n           m = m.substring(i,m.length());\n        \n        int l1=0,l2=0;\n        if (h.length() == 0){\n            h = \"0\"; l1=-1; }\n        if (m.length() == 0){\n            m = \"0\"; l2 = -1; }\n        \n        if (h.length() == 1){\n            if ((int)h.charAt(0) >= 79)\n                l1 = 0;\n            else\n                l1 = -1;\n        }\n        if (m.length() == 1)\n            l2 = -1;\n\n     //   System.out.print(m +\" \"+ h + \" \" + l1);\n        \n            ArrayList<Integer> list = new ArrayList<Integer>();\n            \n            int max = -1;\n            for (int j=0; j < t.length(); j++){\n                if (t.charAt(j) != ':'){\n                    if ((int)t.charAt(j) > max)\n                        max = (int)t.charAt(j);\n                }\n            }\n            if (max >= 65)\n                max -= 55;\n            else\n                max -= 48;\n            i=max+1;\n            int ho = 0;\n            while (l1 != -1 && ho <= 23){\n                ho = 0;\n                for (int j=h.length()-1; j >= 0; j--){\n                    int v = (int)h.charAt(j) - 48;\n                    if (v >= 0 && v <= 9)\n                        ho += Math.pow(i,h.length()-j-1) * v;\n                    else {\n                        v = (int)h.charAt(j) - 55;\n                        ho += Math.pow(i,h.length()-j-1) * v;\n                    }\n                }\n                if (ho <= 23){\n                    list.add(i);\n                    \n                }\n                i++;\n            }\n\n            ArrayList<Integer> list1 = new ArrayList<Integer>();\n            int mn = 0;\n            i=max+1;\n            while (l2 != -1 && mn <= 59){\n                mn = 0;\n                for (int j=m.length()-1; j >= 0; j--){\n                    int v = (int)m.charAt(j) - 48;\n                    if (v >= 0 && v <= 9)\n                        mn += Math.pow(i,m.length()-j-1) * v;\n                    else {\n                        v = (int)m.charAt(j) - 55;\n                        mn += Math.pow(i,m.length()-j-1) * v;\n                    }\n                }\n                if (mn <= 59)\n                    list1.add(i);\n                i++;\n            }\n            if (list1.size() > 0)\n                l2 = list1.size();\n            if (list.size() > 0)\n                l1 = list.size();\n            \n            if (l1 == -1 && l2 == -1)\n                System.out.print(-1);\n            else if (l1 == 0 || l2 == 0)\n                System.out.print(0);\n            else if (l1 == -1){\n                for (int j=0; j < list1.size()-1; j++)\n                    System.out.print(list1.get(j)+\" \");\n                System.out.print(list1.get(list1.size()-1));\n            }\n            else if (l2 == -1){\n                for (int j=0; j < list.size()-1; j++)\n                    System.out.print(list.get(j)+\" \");\n                System.out.print(list.get(list.size()-1));\n            }\n           \n            else if (l2 < l1){\n                for (int j=0; j < list1.size()-1; j++)\n                    System.out.print(list1.get(j)+\" \");\n                System.out.print(list1.get(list1.size()-1));\n            }\n            else if (l2 >= l1){\n                for (int j=0; j < list.size()-1; j++)\n                    System.out.print(list.get(j)+\" \");\n                System.out.print(list.get(list.size()-1));\n            }\n        }\n        \n\n   \n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string time;\n  cin >> time;\n  vector<int> hour, minute;\n  bool flag(0);\n  int minBase(2);\n  for (int p = 0; p < time.size(); p++) {\n    int c;\n    if (time[p] == ':') {\n      flag = 1;\n      continue;\n    } else if ('0' <= time[p] && time[p] <= '9') {\n      c = time[p] - '0';\n    } else if ('A' <= time[p] && time[p] <= 'Z') {\n      c = 10 + time[p] - 'A';\n    }\n    if (!flag && (c > 0 || hour.size() > 0)) {\n      hour.push_back(c);\n    } else if (flag && (c > 0 || minute.size() > 0)) {\n      minute.push_back(c);\n    }\n    if (c + 1 > minBase) {\n      minBase = c + 1;\n    }\n  }\n  std::vector<int> ans;\n  if ((hour.size() == 0 || (hour.size() == 1 && hour[0] < 24)) &&\n      (minute.size() == 0 || (minute.size() == 1 && minute[0] < 60))) {\n    puts(\"-1\");\n  } else {\n    for (int b = minBase; b <= 60; b++) {\n      bool possible = 1;\n      int m = 0;\n      for (int q = 0; q < minute.size(); q++) {\n        m = b * m + minute[q];\n        if (m >= 60) {\n          possible = 0;\n          break;\n        }\n      }\n      int h = 0;\n      for (int q = 0; q < hour.size(); q++) {\n        h = b * h + hour[q];\n        if (h >= 24) {\n          possible = 0;\n          break;\n        }\n      }\n      if (possible) {\n        ans.push_back(b);\n      }\n    }\n    if (ans.size() == 0) {\n      puts(\"0\");\n    } else {\n      for (int p = 0; p < ans.size(); p++) {\n        printf(\"%d \", ans[p]);\n      };\n      puts(\"\");\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst double PI = acos(-1.0);\nchar s[1000111];\nstring a, b;\nint value(char c) {\n  if (c >= '0' && c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nint get(int base, string s) {\n  int res = 0;\n  for (int i = 0, _a = (s.length()); i < _a; i++) {\n    res = (res * base) + value(s[i]);\n    if (res > 59) return res;\n  }\n  return res;\n}\nbool check(int base) {\n  if (get(base, a) <= 23 && get(base, b) <= 59)\n    return true;\n  else\n    return false;\n}\nint main() {\n  gets(s);\n  for (int i = 0, _a = (strlen(s)); i < _a; i++)\n    if (s[i] == ':') s[i] = ' ';\n  int nn = 0;\n  for (int i = 0, _a = (strlen(s)); i < _a; i++) {\n    nn = max(nn, value(s[i]) + 1);\n  }\n  istringstream sin(s);\n  sin >> a >> b;\n  if (check(66))\n    puts(\"-1\");\n  else {\n    int cnt = 0;\n    for (int base = (nn), _b = (66); base <= _b; base++)\n      if (check(base)) {\n        printf(\"%d \", base);\n        cnt++;\n      }\n    if (!cnt) puts(\"0\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar a[10], b[10];\nlong long parse(char *s, long long base) {\n  long long v = 0;\n  for (long long i = 0; s[i]; i++) {\n    long long t = s[i];\n    if (s[i] <= '9') t -= '0';\n    if (s[i] >= 'A') t = t - 'A' + 10;\n    if (base <= t) return -1;\n    v = v * base + t;\n  }\n  return v;\n}\nclock_t time_p = clock();\nvoid timer() {\n  time_p = clock() - time_p;\n  cerr << \"Execution Time: \" << (float)(time_p) / CLOCKS_PER_SEC << \"\\n\";\n}\nint32_t main() {\n  scanf(\"%[^:]:%s\", a, b);\n  vector<long long> r;\n  for (long long i = 2; i <= 120; i++) {\n    long long h = parse(a, i);\n    long long m = parse(b, i);\n    if (h < 0 || m < 0) continue;\n    if (h < 24 && m < 60) r.push_back(i);\n  }\n  if (r.empty())\n    puts(\"0\");\n  else if (r.back() >= 60)\n    puts(\"-1\");\n  else {\n    for (long long i = 0; i < (long long)r.size(); i++) printf(\"%lld \", r[i]);\n  }\n  timer();\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def conv(n, b):\n    if not n:\n        return 0\n    if int(n[-1], 36) >= b: return 100\n    return int(n[-1], 36) + conv(n[:-1], b) * b\n\ndef good(n):\n    return conv(h, n) < 24 and conv(m, n) < 60\n\nh, m = raw_input().split(':')\nans = filter(good, range(100))\nif ans == []:\n    print 0\nelif ans[-1] == 99:\n    print -1\nelse:\n    print ' '.join(map(str, ans))"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\n\npublic class Main {\n  public static void main(String[] args) {\n    MyScanner sc = new MyScanner();\n    String line = sc.nextLine();\n    int ic = line.indexOf(':');\n    String a = line.substring(0, ic);\n    String b = line.substring(ic + 1);\n    \n    if (matchesInfCase(a, true) && matchesInfCase(b, false)) {\n      System.out.println(-1);\n      return;\n    }\n    \n    int min = Math.max(findMin(a), findMin(b));\n    int max = Math.min(findMax(a, 24), findMax(b, 60));\n    if (min > max) {\n      System.out.println(0);\n    } else {\n      for (int i = min; i <= max; ++i) {\n        System.out.print(i + \" \");\n      }\n    }\n  }\n  \n  public static boolean matchesInfCase(String a, boolean max24) {\n    int l = a.length();\n    for (int i = 0; i < l - 1; ++i) {\n      if (a.charAt(i) != '0') {\n        return false;\n      }\n    }\n    if (max24) {\n      char c = a.charAt(l - 1);\n      if ('0' <= c && c <= '9') {\n        return true;\n      } else {\n        return (c <= 'N');\n      }\n    }\n    return true;\n  }\n  \n  public static int findMin(String a) {\n    int min = 2;\n    for (int i = 0; i < a.length(); ++i) {\n      min = Math.max(min, 1 + convert(a.charAt(i)));\n    }\n    return min;\n  }\n  \n  public static int convert(char a) {\n    if ('0' <= a && a <= '9') {\n      return a - '0';\n    }\n    return (a - 'A' + 10);\n  }\n  \n  public static int findMax(String a, int k) {\n    int l = a.length();\n    int[] c = new int[l];\n    for (int i = 0; i < l; ++i) {\n      c[i] = convert(a.charAt(i));\n    }\n    for (int max = 2; max < 60; ++max) {\n      int cur = 0;\n      int pow = 1;\n      for (int i = l - 1; i >= 0; --i) {\n        cur += pow * c[i];\n        pow *= max;\n      }\n      if (cur >= k) {\n        return max - 1;\n      }\n    }\n    return 59;\n  }\n  \n  public static class MyScanner {\n    BufferedReader br;\n    StringTokenizer st;\n    \n    public MyScanner() {\n      br = new BufferedReader(new InputStreamReader(System.in));\n    }\n    \n    int nextInt() {\n      return Integer.parseInt(next());\n    }\n    \n    long nextLong() {\n      return Long.parseLong(next());\n    }\n    \n    double nextDouble() {\n      return Double.parseDouble(next());\n    }\n    \n    String next() {\n      while (st == null || !st.hasMoreElements()) {\n        try {\n          st = new StringTokenizer(br.readLine());\n        }\n        catch (IOException e) {\n          e.printStackTrace();\n        }\n      }\n      return st.nextToken();\n    }\n    \n    String nextLine() {\n      String str = \"\";\n      try { str = br.readLine(); }\n      catch (IOException e) { e.printStackTrace(); }\n      return str;\n    }\n  }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint power(int x, int y) {\n  int prod = 1;\n  while (y--) {\n    prod *= x;\n  }\n  return prod;\n}\nint valueOf(char c) {\n  if (c > 47 && c < 58)\n    return c - 48;\n  else\n    return c - 55;\n}\nint valueUnderRadix(char a[], int len, int r) {\n  if (len == 0) return 0;\n  if (len == 1) return valueOf(a[0]);\n  return valueOf(a[0]) * power(r, len - 1) + valueUnderRadix(a + 1, len - 1, r);\n}\nint main() {\n  char in[16], a[6], b[6];\n  int i = 0, a1 = 0, b1 = 0, maxa = 0, maxb = 0, temp, ctr = 0;\n  cin >> in;\n  while (in[i] == '0') ++i;\n  while (in[i] != ':') {\n    a[a1] = in[i];\n    temp = valueOf(in[i]);\n    if (temp > maxa) maxa = temp;\n    ++a1;\n    ++i;\n  }\n  a[a1] = '\\0';\n  ++i;\n  while (in[i] == '0') ++i;\n  while ((in[i] > 64 && in[i] < 91) || (in[i] > 47 && in[i] < 58)) {\n    b[b1] = in[i];\n    temp = valueOf(in[i]);\n    if (temp > maxb) maxb = temp;\n    ++b1;\n    ++i;\n  }\n  b[b1] = '\\0';\n  if ((a1 == 0 && valueUnderRadix(b, b1, 60) < 60) ||\n      (b1 == 0 && valueUnderRadix(a, a1, 24) < 24) ||\n      (a1 == 1 && valueOf(a[a1 - 1]) < 24 && valueUnderRadix(b, b1, 60) < 60))\n    cout << \"-1\\n\";\n  else {\n    for (i = max(maxa, maxb) + 1; i < 60; ++i) {\n      if (valueUnderRadix(a, a1, i) < 24 && valueUnderRadix(b, b1, i) < 60)\n        cout << i << \" \", ++ctr;\n    }\n    if (ctr == 0) cout << \"0\\n\";\n  }\n  cin >> i;\n}\n"
        },
        {
            "language": 4,
            "solution": "//package round106;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\n\npublic class B {\n\tInputStream is;\n\tPrintWriter out;\n\tString INPUT = \"\";\n\tString lim = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\t\n\tint parse(String x, int b)\n\t{\n\t\tint ret = 0;\n\t\tfor(int i = 0;i < x.length();i++){\n\t\t\tret = ret * b + lim.indexOf(x.charAt(i));\n\t\t\tif(ret >= 60)return 999;\n\t\t}\n\t\treturn ret;\n\t}\n\t\n\tvoid solve()\n\t{\n\t\tString str = new String(ns(20));\n\t\tint ind = str.indexOf(':');\n\t\tString h = str.substring(0, ind);\n\t\tString m = str.substring(ind+1);\n\t\tint max = 0;\n\t\tfor(int i = 0;i < h.length();i++){\n\t\t\tmax = Math.max(max, lim.indexOf(h.charAt(i)));\n\t\t}\n\t\tfor(int i = 0;i < m.length();i++){\n\t\t\tmax = Math.max(max, lim.indexOf(m.charAt(i)));\n\t\t}\n\t\tmax++;\n\t\tif(Integer.parseInt(h, 36) <= 23 && Integer.parseInt(m, 36) <= 35){\n\t\t\tout.println(-1);\n\t\t}else{\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\t\n\t\t\tfor(int i = max;i <= 59;i++){\n\t\t\t\tint hh = parse(h, i);\n\t\t\t\tint mm = parse(m, i);\n\t\t\t\tif(hh <= 23 && mm <= 59){\n\t\t\t\t\tsb.append(\" \").append(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(sb.length() > 0){\n\t\t\t\tout.println(sb.substring(1));\n\t\t\t}else{\n\t\t\t\tout.println(0);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tvoid run() throws Exception\n\t{\n\t\tis = oj ? System.in : new ByteArrayInputStream(INPUT.getBytes());\n\t\tout = new PrintWriter(System.out);\n\t\t\n\t\tlong s = System.currentTimeMillis();\n\t\tsolve();\n\t\tout.flush();\n\t\ttr(System.currentTimeMillis()-s+\"ms\");\n\t}\n\t\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tnew B().run();\n\t}\n\t\n\tpublic int ni()\n\t{\n\t\ttry {\n\t\t\tint num = 0;\n\t\t\tboolean minus = false;\n\t\t\twhile((num = is.read()) != -1 && !((num >= '0' && num <= '9') || num == '-'));\n\t\t\tif(num == '-'){\n\t\t\t\tnum = 0;\n\t\t\t\tminus = true;\n\t\t\t}else{\n\t\t\t\tnum -= '0';\n\t\t\t}\n\t\t\t\n\t\t\twhile(true){\n\t\t\t\tint b = is.read();\n\t\t\t\tif(b >= '0' && b <= '9'){\n\t\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t\t}else{\n\t\t\t\t\treturn minus ? -num : num;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t}\n\t\treturn -1;\n\t}\n\t\n\tpublic long nl()\n\t{\n\t\ttry {\n\t\t\tlong num = 0;\n\t\t\tboolean minus = false;\n\t\t\twhile((num = is.read()) != -1 && !((num >= '0' && num <= '9') || num == '-'));\n\t\t\tif(num == '-'){\n\t\t\t\tnum = 0;\n\t\t\t\tminus = true;\n\t\t\t}else{\n\t\t\t\tnum -= '0';\n\t\t\t}\n\t\t\t\n\t\t\twhile(true){\n\t\t\t\tint b = is.read();\n\t\t\t\tif(b >= '0' && b <= '9'){\n\t\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t\t}else{\n\t\t\t\t\treturn minus ? -num : num;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t}\n\t\treturn -1;\n\t}\n\t\n\tpublic String ns()\n\t{\n\t\ttry{\n\t\t\tint b = 0;\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\twhile((b = is.read()) != -1 && (b == '\\r' || b == '\\n' || b == ' '));\n\t\t\tif(b == -1)return \"\";\n\t\t\tsb.append((char)b);\n\t\t\twhile(true){\n\t\t\t\tb = is.read();\n\t\t\t\tif(b == -1)return sb.toString();\n\t\t\t\tif(b == '\\r' || b == '\\n' || b == ' ')return sb.toString();\n\t\t\t\tsb.append((char)b);\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t}\n\t\treturn \"\";\n\t}\n\t\n\tpublic char[] ns(int n)\n\t{\n\t\tchar[] buf = new char[n];\n\t\ttry{\n\t\t\tint b = 0, p = 0;\n\t\t\twhile((b = is.read()) != -1 && (b == ' ' || b == '\\r' || b == '\\n'));\n\t\t\tif(b == -1)return null;\n\t\t\tbuf[p++] = (char)b;\n\t\t\twhile(p < n){\n\t\t\t\tb = is.read();\n\t\t\t\tif(b == -1 || b == ' ' || b == '\\r' || b == '\\n')break;\n\t\t\t\tbuf[p++] = (char)b;\n\t\t\t}\n\t\t\treturn Arrays.copyOf(buf, p);\n\t\t} catch (IOException e) {\n\t\t}\n\t\treturn null;\n\t}\n\t\n\t\n\tdouble nd() { return Double.parseDouble(ns()); }\n\tboolean oj = System.getProperty(\"ONLINE_JUDGE\") != null;\n\tvoid tr(Object... o) { if(!oj)System.out.println(Arrays.deepToString(o)); }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\nimport java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author codeKNIGHT\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tScanner in = new Scanner(inputStream);\n\t\tPrintWriter out = new PrintWriter(outputStream);\n\t\tTaskB solver = new TaskB();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskB {\n\tpublic void solve(int testNumber, Scanner in, PrintWriter out) {\n        String s=in.next();\n        String hours=s.substring(0,s.indexOf(\":\"));\n        String mins=s.substring(s.indexOf(\":\")+1,s.length());\n        int i;\n        boolean status1=true,status2=true;\n        for(i=0;i<hours.length()-1;i++)\n            if(hours.charAt(i)!='0')\n                status1=false;\n        for(i=0;i<mins.length()-1;i++)\n            if(mins.charAt(i)!='0')\n                status2=false;\n        if(status1&&status2&&Integer.parseInt(hours,36)<24&&Integer.parseInt(mins,36)<60)\n        {\n            out.println(-1);\n            return;\n        }\n        i=2;\n        char ch;\n        int min=48,base;\n        for(i=0;i<hours.length();i++)\n        {\n            ch=hours.charAt(i);\n            if((int)ch>min)\n                min=(int)ch;\n        }\n        for(i=0;i<mins.length();i++)\n        {\n            ch=mins.charAt(i);\n            if((int)ch>min)\n                min=(int)ch;\n        }\n        if(min>=65)\n            base=10+min-65;\n        else base=0+min-48;\n        base++;\n        if(Integer.parseInt(hours,base)>=24||Integer.parseInt(mins,base)>=60)\n            out.println(0);\n        else\n        while (check(hours,base)<24&&check(mins,base)<60)\n        {\n             out.println(base);\n            base++;\n            \n\n        }\n\t}\n    public int check(String x,int base)\n    {\n        int i,val=0,p,k=0;\n        char ch;\n        for(i=x.length()-1;i>=0;i--)\n        {\n            ch=x.charAt(i);\n            if(ch>='A')\n               p=ch-'A'+10;\n            else p=ch-'0';\n            val+=p*Math.pow(base,k);\n            k++;\n        }\n        return val;\n    }\n}\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.StringTokenizer;\nimport java.util.TreeSet;\n\n\npublic class P4 {\n\t\n\tstatic class Scanner{\n\t\tBufferedReader br=null;\n\t\tStringTokenizer tk=null;\n\t\tpublic Scanner(){\n\t\t\tbr=new BufferedReader(new InputStreamReader(System.in));\n\t\t}\n\t\tpublic String next() throws IOException{\n\t\t\twhile(tk==null || !tk.hasMoreTokens())\n\t\t\t\ttk=new StringTokenizer(br.readLine());\n\t\t\treturn tk.nextToken();\n\t\t}\n\t\tpublic int nextInt() throws NumberFormatException, IOException{\n\t\t\treturn Integer.valueOf(next());\n\t\t}\n\t\tpublic double nextDouble() throws NumberFormatException, IOException{\n\t\t\treturn Double.valueOf(next());\n\t\t}\n\t}\n\t\n\tstatic String removeleadingzeros(String s){\n\t\twhile(s.length()>1 && s.charAt(0) == '0')\n\t\t\ts = s.substring(1);\n\t\treturn s;\n\t}\n\t\n\t\n\tstatic int getvalue(char a){\n\t\tif (a>='0' && a<='9')\n\t\t\treturn a - '0';\n\t\treturn (a - 'A') + 10;\n\t}\n\t\n\tstatic long value(char[] a, int r){\n\t\tlong ret = 0;\n\t\tfor(int i = 0; i < a.length; i++){\n\t\t\tret *= r;\n\t\t\tret += getvalue(a[i]);\n\t\t}\n\t\treturn ret;\n\t}\n\t\n\tstatic boolean eval(int radix,String h, String m){\n\t\tfor(char a: h.toCharArray()){\n\t\t\tif (getvalue(a) >= radix)\n\t\t\t\treturn false;\n\t\t}\n\t\tfor(char a: m.toCharArray()){\n\t\t\tif (getvalue(a) >= radix)\n\t\t\t\treturn false;\n\t\t}\n\t\tlong hora = value(h.toCharArray(), radix);\n\t\tlong mins = value(m.toCharArray(), radix);\n\t\tif (hora > 23 || mins > 59)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\t\n\t\n\tpublic static void main(String args[]) throws NumberFormatException, IOException{\n\t\tScanner sc = new Scanner();\n\t\tString input = sc.next();\n\t\tStringTokenizer tk = new StringTokenizer(input,\":\");\n\t\tString horas =removeleadingzeros( tk.nextToken() );\n\t\tString mins = removeleadingzeros( tk.nextToken() );\n\t\tif (horas.length() == 1 && mins.length()==1){\n\t\t\tif (horas.charAt(0) <= 'O')\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\telse\n\t\t\t\tSystem.out.println(\"0\");\n\t\t\treturn;\n\t\t}\n\t\tboolean posible = false;\n\t\tfor(int i = 2; i <= 100; i++){\n\t\t\tif (eval(i,horas,mins)){\n\t\t\t\tposible = true;\n\t\t\t\tSystem.out.print(i+\" \");\n\t\t\t}\n\t\t}\n\t\tif (!posible)\n\t\t\tSystem.out.println(\"0\");\n\t\telse\n\t\t\tSystem.out.println();\n\t\t\n\t}\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool check(string hr, string min, int base) {\n  int hh = 0, mm = 0;\n  int k = 0;\n  for (int i = hr.length() - 1; i >= 0; --i) {\n    if (hr[i] <= '9' and hr[i] >= '0') {\n      if (hr[i] - '0' >= base) return false;\n      hh = hh + ceil(pow(base, k)) * (hr[i] - '0');\n    } else if (hr[i] <= 'Z' and hr[i] >= 'A') {\n      if (hr[i] - 'A' + 10 >= base) return false;\n      hh += ceil(pow(base, k)) * (hr[i] - 'A' + 10);\n    }\n    k++;\n  }\n  if (hh > 23) return false;\n  k = 0;\n  for (int i = min.length() - 1; i >= 0; --i) {\n    if (min[i] <= '9' and min[i] >= '0') {\n      if (min[i] - '0' >= base) return false;\n      mm += ceil(pow(base, k)) * (min[i] - '0');\n    } else if (min[i] <= 'Z' and min[i] >= 'A') {\n      if (min[i] - 'A' + 10 >= base) return false;\n      mm += pow(base, k) * (min[i] - 'A' + 10);\n    }\n    k++;\n  }\n  if (mm > 59) return false;\n  return true;\n}\nint main() {\n  string s;\n  cin >> s;\n  string hr = \"\", min = \"\";\n  int k;\n  for (k = 0; k < s.length(); ++k) {\n    if (s[k] == ':') {\n      k++;\n      break;\n    }\n    hr += s[k];\n  }\n  for (; k < s.length(); ++k) {\n    min += s[k];\n  }\n  bool flag = 0;\n  int ret;\n  std::vector<int> v;\n  for (int i = 2; i < 70; ++i) {\n    ret = check(hr, min, i);\n    if (ret == 1) {\n      flag = 1;\n      v.push_back(i);\n    }\n  }\n  if (flag == 0) {\n    cout << \"0\";\n    return 0;\n  }\n  if (v.back() == 69)\n    cout << \"-1\";\n  else {\n    for (int i = 0; i < v.size(); ++i) {\n      cout << v[i] << \" \";\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring s;\nint anw[10010];\nchar a[110], b[110];\nint get(char c) {\n  if (c >= '0' && c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nint main() {\n  cin >> s;\n  int la = 0, lb = 0;\n  for (int i = 0; i < s.size(); i++) {\n    if (s[i] == ':') break;\n    a[la++] = s[i];\n  }\n  for (int i = la + 1; i < s.size(); i++) {\n    b[lb++] = s[i];\n  }\n  int cnt = 0;\n  for (int i = 2; i <= 200; i++) {\n    int fen = 0, miao = 0, flag = 0;\n    for (int j = 0; j < la; j++) {\n      int x = get(a[j]);\n      if (x >= i) {\n        flag = 1;\n        break;\n      }\n      fen = fen * i + x;\n    }\n    for (int j = 0; j < lb; j++) {\n      int x = get(b[j]);\n      if (x >= i) {\n        flag = 1;\n        break;\n      }\n      miao = miao * i + x;\n    }\n    if (flag) continue;\n    if (fen >= 0 && fen <= 23 && miao >= 0 && miao <= 59) anw[cnt++] = i;\n  }\n  if (cnt == 0)\n    cout << 0 << endl;\n  else if (cnt > 100) {\n    cout << -1 << endl;\n  } else {\n    for (int i = 0; i < cnt; i++) cout << anw[i] << \" \";\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.math.*;\nimport java.util.*;\nimport java.util.stream.*;\nimport java.lang.management.*;\nimport static java.lang.Math.*;\n\n@SuppressWarnings(\"unchecked\")\npublic class P0149B {\n\n  final static int FAIL_VALUE = 100;\n\n  int dig(char c, int r) {\n    int d = (c < 'A') ? (c - '0') : (c - 'A' + 10);\n    return ((d < r) ? d : FAIL_VALUE);\n  }\n\n  boolean check(String s, int r, int m) {\n    int v = 0;\n    for (int i = 0; (i < s.length()) && (v < m); v = v * r + dig(s.charAt(i), r), i++);\n    return (v < m);\n  }\n\n  boolean check(String [] hm, int r) {\n    return (check(hm[0], r, 24) && check(hm[1], r, 60));\n  }\n\n  public void run() throws Exception {\n    String [] hm = next().split(\":\");\n    StringBuilder ans = new StringBuilder();\n    \n    if (check(hm, 100)) {\n      ans.append(-1);\n    } else {\n      for (int r = 2; r <= 60; r++) {\n        if (check(hm, r)) {\n          ans.append(r).append(' ');\n        }\n      }\n    }\n\n    println((ans.length() > 0) ? ans : 0);\n  }\n\n  public static void main(String... args) throws Exception {\n    br = new BufferedReader(new InputStreamReader(System.in));\n    pw = new PrintWriter(new BufferedOutputStream(System.out));\n    new P0149B().run();\n    br.close();\n    pw.close();\n    System.err.println(\"\\n[Time : \" + (System.currentTimeMillis() - startTime) + \" ms]\");\n    long gct = 0, gcc = 0;\n    for (GarbageCollectorMXBean garbageCollectorMXBean : ManagementFactory.getGarbageCollectorMXBeans()) {\n      gct += garbageCollectorMXBean.getCollectionTime();\n      gcc += garbageCollectorMXBean.getCollectionCount();\n    }\n    System.err.println(\"[GC time : \" + gct + \" ms, count = \" + gcc + \"]\");\n  }\n\n  static long startTime = System.currentTimeMillis();\n  static BufferedReader br;\n  static PrintWriter pw;\n  StringTokenizer stok;\n\n  String nextToken() throws IOException {\n    while (stok == null || !stok.hasMoreTokens()) {\n      String s = br.readLine();\n      if (s == null) { return null; }\n      stok = new StringTokenizer(s);\n    }\n    return stok.nextToken();\n  }\n\n  void print(byte b) { print(\"\" + b); }\n  void print(int i) { print(\"\" + i); }\n  void print(long l) { print(\"\" + l); }\n  void print(double d) { print(\"\" + d); }\n  void print(char c) { print(\"\" + c); }\n  void print(Object o) {\n    if (o instanceof int[]) { print(Arrays.toString((int [])o));\n    } else if (o instanceof long[]) { print(Arrays.toString((long [])o));\n    } else if (o instanceof char[]) { print(Arrays.toString((char [])o));\n    } else if (o instanceof byte[]) { print(Arrays.toString((byte [])o));\n    } else if (o instanceof short[]) { print(Arrays.toString((short [])o));\n    } else if (o instanceof boolean[]) { print(Arrays.toString((boolean [])o));\n    } else if (o instanceof float[]) { print(Arrays.toString((float [])o));\n    } else if (o instanceof double[]) { print(Arrays.toString((double [])o));\n    } else if (o instanceof Object[]) { print(Arrays.toString((Object [])o));\n    } else { print(\"\" + o); }\n  }\n  void printsp(int [] a) { for (int i = 0, n = a.length; i < n; print(a[i] + \" \"), i++); }\n  void print(String s) { pw.print(s); }\n  void println() { println(\"\"); }\n  void println(byte b) { println(\"\" + b); }\n  void println(int i) { println(\"\" + i); }\n  void println(long l) { println(\"\" + l); }\n  void println(double d) { println(\"\" + d); }\n  void println(char c) { println(\"\" + c); }\n  void println(Object o) { print(o); println(); }\n  void println(String s) { pw.println(s); }\n  int nextInt() throws IOException { return Integer.parseInt(nextToken()); }\n  long nextLong() throws IOException { return Long.parseLong(nextToken()); }\n  double nextDouble() throws IOException { return Double.parseDouble(nextToken()); }\n  char nextChar() throws IOException { return (char) (br.read()); }\n  String next() throws IOException { return nextToken(); }\n  String nextLine() throws IOException { return br.readLine(); }\n  int [] readInt(int size) throws IOException {\n    int [] array = new int [size];\n    for (int i = 0; i < size; i++) { array[i] = nextInt(); }\n    return array;\n  }\n  long [] readLong(int size) throws IOException {\n    long [] array = new long [size];\n    for (int i = 0; i < size; i++) { array[i] = nextLong(); }\n    return array;\n  }\n  double [] readDouble(int size) throws IOException {\n    double [] array = new double [size];\n    for (int i = 0; i < size; i++) { array[i] = nextDouble(); }\n    return array;\n  }\n  String [] readLines(int size) throws IOException {\n    String [] array = new String [size];\n    for (int i = 0; i < size; i++) { array[i] = nextLine(); }\n    return array;\n  }\n\n  int gcd(int a, int b) {\n    if (a == 0) return Math.abs(b); if (b == 0) return Math.abs(a);\n    a = Math.abs(a); b = Math.abs(b);\n    int az = Integer.numberOfTrailingZeros(a), bz = Integer.numberOfTrailingZeros(b);\n    a >>>= az; b >>>= bz;\n    while (a != b) {\n      if (a > b) { a -= b; a >>>= Integer.numberOfTrailingZeros(a); }\n            else { b -= a; b >>>= Integer.numberOfTrailingZeros(b); }\n    }\n    return (a << Math.min(az, bz));\n  }\n\n  long gcd(long a, long b) {\n    if (a == 0) return Math.abs(b); if (b == 0) return Math.abs(a);\n    a = Math.abs(a); b = Math.abs(b);\n    int az = Long.numberOfTrailingZeros(a), bz = Long.numberOfTrailingZeros(b);\n    a >>>= az; b >>>= bz;\n    while (a != b) {\n      if (a > b) { a -= b; a >>>= Long.numberOfTrailingZeros(a); }\n            else { b -= a; b >>>= Long.numberOfTrailingZeros(b); }\n    }\n    return (a << Math.min(az, bz));\n  }\n\n  void shuffle(int [] a) { // RANDOM shuffle\n    Random r = new Random();\n    for (int i = a.length - 1, j, t; i >= 0; j = r.nextInt(a.length), t = a[i], a[i] = a[j], a[j] = t, i--);\n  }\n\n  void shuffle(int [] a, int m) { // QUICK shuffle\n    for (int i = 0, n = a.length, j = m % n, t; i < n; t = a[i], a[i] = a[j], a[j] = t, i++, j = (i * m) % n);\n  }\n\n  void shuffle(long [] a) {\n    Random r = new Random();\n    for (int i = a.length - 1; i >= 0; i--) {\n      int j = r.nextInt(a.length);\n      long t = a[i]; a[i] = a[j]; a[j] = t;\n    }\n  }\n\n  void shuffle(Object [] a) {\n    Random r = new Random();\n    for (int i = a.length - 1; i >= 0; i--) {\n      int j = r.nextInt(a.length);\n      Object t = a[i]; a[i] = a[j]; a[j] = t;\n    }\n  }\n\n  int [] sort(int [] a) {\n    final int SHIFT = 16, MASK = (1 << SHIFT) - 1, SIZE = (1 << SHIFT) + 1;\n    int n = a.length, ta [] = new int [n], ai [] = new int [SIZE];\n    for (int i = 0; i < n; ai[(a[i] & MASK) + 1]++, i++);\n    for (int i = 1; i < SIZE; ai[i] += ai[i - 1], i++);\n    for (int i = 0; i < n; ta[ai[a[i] & MASK]++] = a[i], i++);\n    int [] t = a; a = ta; ta = t;\n    ai = new int [SIZE];\n    for (int i = 0; i < n; ai[(a[i] >> SHIFT) + 1]++, i++);\n    for (int i = 1; i < SIZE; ai[i] += ai[i - 1], i++);\n    for (int i = 0; i < n; ta[ai[a[i] >> SHIFT]++] = a[i], i++);\n    return ta;\n  }\n\n  void flush() {\n    pw.flush();\n  }\n\n  void pause() {\n    flush(); System.console().readLine();\n  }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint xx[] = {1, 1, 1, 0, -1, -1, -1, 0};\nint yy[] = {-1, 0, 1, 1, 1, 0, -1, -1};\nlong long int gcd(long long int a, long long int b) {\n  return ((a % b == 0) ? b : gcd(b, a % b));\n}\nint cal(int mal, int times) {\n  int h = 1, i;\n  for (i = 0; i < times; i++) h = h * mal;\n  return h;\n}\nint main() {\n  int i, j, len, tmp;\n  map<char, int> my;\n  vector<int> res;\n  for (i = 0; i < 10; i++) {\n    my[(char)(i + 48)] = i;\n  }\n  for (i = 0; i < 26; i++) {\n    my[(char)(i + 65)] = i + 10;\n  }\n  bool f = true;\n  string str, s1, s2;\n  cin >> str;\n  len = str.size();\n  for (i = 0; i < len; i++) {\n    if (str[i] == ':') {\n      f = false;\n      continue;\n    }\n    if (f)\n      s1 += str[i];\n    else\n      s2 += str[i];\n  }\n  len = s1.size();\n  for (i = 0; i < len; i++) {\n    if (s1[i] == '0') {\n      s1.erase(s1.begin());\n      i--;\n    } else\n      break;\n  }\n  len = s2.size();\n  for (i = 0; i < len; i++) {\n    if (s2[i] == '0') {\n      s2.erase(s2.begin());\n      i--;\n    } else\n      break;\n  }\n  tmp = 0;\n  reverse(s1.begin(), s1.end());\n  reverse(s2.begin(), s2.end());\n  for (i = 0; i < s1.size(); i++) {\n    tmp = max(my[s1[i]], tmp);\n  }\n  for (i = 0; i < s2.size(); i++) {\n    tmp = max(my[s2[i]], tmp);\n  }\n  int m, n, l1, l2;\n  l1 = s1.size();\n  l2 = s2.size();\n  for (i = tmp + 1; i <= 60; i++) {\n    m = n = 0;\n    for (j = 0; j < l1; j++) {\n      m += (cal(i, j) * my[s1[j]]);\n    }\n    for (j = 0; j < l2; j++) {\n      n += (cal(i, j) * my[s2[j]]);\n    }\n    if (m < 24 && n < 60) {\n      res.push_back(i);\n    }\n  }\n  if (res.size() == 0) {\n    printf(\"0\\n\");\n    return 0;\n  }\n  if (res[res.size() - 1] == 60) {\n    printf(\"-1\\n\");\n    return 0;\n  }\n  l1 = res.size();\n  for (i = 0; i < l1; i++) {\n    cout << res[i] << \" \";\n  }\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import sys\na,b = sys.stdin.readline().strip().split(\":\")\ndef conv(s,b):\n  if not s: return 0\n  if b <= 36:\n    return int(s,b)\n  #print s, (s[:-1],s[-1])\n  return conv(s[:-1],b)*b+int(s[-1],36)\nres = []\nfor k in range(2,61):\n  try:\n    c,d = conv(a,k), conv(b,k)\n    if c <= 23 and d <= 59:\n      res.append(k)\n  except ValueError:\n    pass\n\nif not res:\n  print 0\nelse:\n  if res[-1] == 60:\n    print -1\n  else:\n    print \" \".join(map(str,res))\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstringstream ss;\nint val(char x) {\n  if (x <= '9') return x - '0';\n  return x - 'A' + 10;\n}\nint f(string a, string b, int r) {\n  int h = 0, m = 0;\n  for (int i = 0; i < a.size(); i++) {\n    h = h * r + val(a[i]);\n    if (val(a[i]) >= r || h > 23) return 0;\n  }\n  for (int i = 0; i < b.size(); i++) {\n    m = m * r + val(b[i]);\n    if (val(b[i]) >= r || m > 59) return 0;\n  }\n  return 0 <= h && h <= 23 && 0 <= m && m <= 59;\n}\nint main() {\n  string a, b, s;\n  vector<int> res;\n  cin >> s;\n  a = s.substr(0, s.find(':'));\n  b = s.substr(s.find(':') + 1);\n  for (int i = 2; i < 10000; i++)\n    if (f(a, b, i)) res.push_back(i);\n  if (f(a, b, 10000))\n    cout << -1 << endl;\n  else if (res.size() == 0)\n    cout << 0 << endl;\n  else {\n    for (int i = 0; i < res.size(); i++) cout << res[i] << \" \";\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring rem(string s) {\n  long long i;\n  for (i = 0; i < s.size(); i++)\n    if (s[i] != '0') break;\n  string res;\n  while (i < s.size()) {\n    res += s[i];\n    i++;\n  }\n  if (res == \"\") return \"0\";\n  return res;\n}\nlong long value(char ch) {\n  if (isdigit(ch)) return ch - '0';\n  return ch - 'A' + 10;\n}\nbool poss(string s, long long ra) {\n  for (long long i = 0; i < s.size(); i++) {\n    if (value(s[i]) >= ra) return false;\n  }\n  return true;\n}\nlong long getVal(string s, long long ra) {\n  reverse(s.begin(), s.end());\n  long long res = 0;\n  long long tav = 1;\n  for (long long i = 0; i < s.size(); i++) {\n    res += tav * value(s[i]);\n    tav *= ra;\n  }\n  return res;\n}\nint main() {\n  string a, b, s;\n  cin >> s;\n  for (long long i = 0; i < s.size(); i++)\n    if (s[i] == ':') s[i] = ' ';\n  stringstream ssin(s);\n  ssin >> a >> b;\n  a = rem(a);\n  b = rem(b);\n  if (a.size() == 1 && b.size() == 1) {\n    if (value(a[0]) <= 23 && value(b[0]) <= 59)\n      cout << -1 << endl;\n    else\n      cout << 0 << endl;\n    return 0;\n  }\n  vector<long long> out;\n  for (long long rad = 2; rad <= 100; rad++) {\n    if (poss(a, rad) && poss(b, rad)) {\n      long long x = getVal(a, rad);\n      long long y = getVal(b, rad);\n      if (x <= 23 && y <= 59) {\n        out.push_back(rad);\n      }\n    }\n  }\n  if (out.size() == 0) {\n    cout << 0 << endl;\n    return 0;\n  }\n  for (long long i = 0; i < out.size(); i++)\n    cout << (i == 0 ? \"\" : \" \") << out[i];\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport java.math.*;\n\n/*\n * @author Mahmoud Aladdin <aladdin3>\n *\n */\n \npublic class Main {\n    public static void main (String[] args) throws java.lang.Exception {\n\t\tInputReader scan = new InputReader(System.in);\n\t\tPrintWriter writer = new PrintWriter(System.out, true);\n\t\t(new Main(scan, writer)).run();\n\t\twriter.close();\n    }\n    \n    private InputReader jin;\n    private PrintWriter jout;\n    \n    public Main(InputReader in, PrintWriter out) {\n    \tthis.jin  = in;\n    \tthis.jout = out;\n    }\n    \n    int parseInt(String x, int rad) throws Exception {\n    \tint n = 0;\n    \tfor(int i = 0; i < x.length(); i++) {\n    \t\tint v = 0;\n\t\t\tif(x.charAt(i) >= '0' && x.charAt(i) <= '9') {\n\t\t\t\tv = (int)(x.charAt(i) - '0');\n\t\t\t} else {\n\t\t\t\tv = 10 + (int)(x.charAt(i) - 'A');\n\t\t\t}\n\t\t\tif(v >= rad) throw new Exception();\n\t\t\tn = (n * rad) + v;\n    \t}\n    \treturn n;\n    }\n    \n    public void run() throws Exception {\n\t\tString tok = jin.token();\n\t\tString[] toks = tok.split(\":\");\n\t\tint start = 2, last = 1;\n\t\tfor(int i = 2; i <= 60; ++i) {\n\t\t\ttry {\n\t\t\t\tint hr = parseInt(toks[0], i);\n\t\t\t\tint mn = parseInt(toks[1], i);\n\t\t\t\tif(hr >= 24 || mn >= 60) break;\n\t\t\t\tlast = i;\n\t\t\t} catch(Exception e) {\n\t\t\t\tstart++;\n\t\t\t}\n\t\t}\n\t\tif(last < start) {\n\t\t\tjout.println(0);\n\t\t} else if(last == 60) {\n\t\t\tjout.println(-1);\n\t\t} else {\n\t\t\tfor(int i = start; i <= last; i++) {\n\t\t\t\tif(i != start) jout.print(\" \");\n\t\t\t\tjout.print(i);\n\t\t\t}\n\t\t\tjout.println();\n\t\t}\n    }\n}\n \nclass InputReader {\n    private static final int bufferMaxLength = 1024;\n    private InputStream in;\n    private byte[] buffer;\n    private int currentBufferSize;\n    private int currentBufferTop;\n    private static final String tokenizers = \" \\t\\r\\f\\n\";\n    \n    public InputReader(InputStream stream) {\n        this.in = stream;\n        buffer = new byte[bufferMaxLength];\n        currentBufferSize = 0;\n        currentBufferTop = 0;\n    }\n    \n    private boolean refill() throws IOException {\n        this.currentBufferSize = this.in.read(this.buffer);\n        this.currentBufferTop = 0;\n        return this.currentBufferSize > 0;\n    }\n    \n    \n    private Byte readChar() throws IOException {\n        if(currentBufferTop < currentBufferSize) {\n            return this.buffer[this.currentBufferTop++];\n        } else {\n            if(!this.refill()) {\n                return null;\n            } else {\n                return readChar();\n            }\n        }\n    }\n    \n    \n    public String token() throws IOException {\n        StringBuffer tok = new StringBuffer();\n        Byte first;\n        while((first = readChar()) != null && (tokenizers.indexOf((char) first.byteValue()) != -1));\n        if(first == null) return null;\n        tok.append((char)first.byteValue());\n        while((first = readChar()) != null && (tokenizers.indexOf((char) first.byteValue()) == -1)) {\n            tok.append((char)first.byteValue());\n        }\n        return tok.toString();\n    }\n    \n    public String line() throws IOException {\n\t\tByte first;\n\t\tStringBuffer line = new StringBuffer();\n\t\twhile ((first = readChar()) != null && (char)first.byteValue() != '\\n') {\n\t\t\tline.append((char)first.byteValue());\n\t\t}\n\t\treturn (first == null && line.length() == 0)? null : line.toString();\n    }\n    \n    public Integer integer() throws NumberFormatException, IOException {\n        String tok = token();\n        return tok == null? null : Integer.parseInt(tok);\n    }\n    \n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.math.BigInteger;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tPrintWriter out = new PrintWriter(outputStream);\n\t\tTaskB solver = new TaskB();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskB {\n\tpublic void solve(int testNumber, InputReader in, PrintWriter out) {\n\t\tString s = in.next();\n\t\tString []st = s.split(\":\");\n\t\tString a = st[0];\n\t\tString b = st[1];\n\n\t\tint []vala = new int[a.length()];\n\t\tint []valb = new int[b.length()];\n\t\tint max = 0;\n\t\tfor(int j=0;j<a.length();j++){\n\t\t\tvala[j] = get(a.charAt(j));\n\t\t\tmax = Math.max(max,vala[j]);\n\t\t}\n\t\tfor(int j=0;j<b.length();j++){\n\t\t\tvalb[j] = get(b.charAt(j));\n\t\t\tmax = Math.max(max,valb[j]);\n\t\t}\n\t\tboolean poss = true;\n\t\tfor(int i=0;i<a.length()-1;i++)\n\t\t\tif(vala[i]!=0)\n\t\t\t\tposs = false;\n\t\tfor(int i=0;i<b.length()-1;i++)\n\t\t\tif(valb[i]!=0)\n\t\t\t\tposs = false;\n\t\tif(vala[a.length()-1]>23 || valb[b.length()-1]>59)\n\t\t\tposs = false;\n\t\tif(poss){\n\t\t\tout.println(-1);\n\t\t\treturn;\n\t\t}\n\t\tString ans = \"\";\n\t\tint cnt = 0;\n\t\tfor(int i=2;i<100;i++){\n\t\t\tif(i<=max)\n\t\t\t\tcontinue;\n\t\t\tint minute = 0, hour = 0;\n\t\t\tfor(int j=a.length()-1,k=0;j>=0;j--,k++)\n\t\t\t\thour += Math.pow(i,k)*vala[j];\n\t\t\tfor(int j=b.length()-1,k=0;j>=0;j--,k++)\n\t\t\t\tminute += Math.pow(i,k)*valb[j];\n\t\t\tif(hour>23 || minute>59)\n\t\t\t\tbreak;\n\t\t\tcnt++;\n\t\t\tans += \" \" + i;\n\t\t}\n\t\tif(cnt==0)\n\t\t\tout.println(cnt);\n\t\telse\n\t\t\tout.println(ans.trim());\n\t}\n\t\n\tint get(char ch){\n\t\tif(Character.isDigit(ch))\n\t\t\treturn ch-'0';\n\t\treturn ch - 'A' + 10;\n\t}\n}\n\nclass InputReader {\n    private BufferedReader reader;\n    private StringTokenizer tokenizer;\n    public InputReader(InputStream stream) {\n        reader = new BufferedReader(new InputStreamReader(stream));\n        tokenizer = null;\n    }\n\n    public String next() {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            try {\n                tokenizer = new StringTokenizer(reader.readLine());\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        return tokenizer.nextToken();\n    }\n\n    }\n\n"
        },
        {
            "language": 4,
            "solution": "import java.util.List;\nimport java.io.IOException;\nimport java.util.InputMismatchException;\nimport java.util.ArrayList;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.math.BigInteger;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author Egor Kulikov (egor@egork.net)\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tOutputWriter out = new OutputWriter(outputStream);\n\t\tTaskB solver = new TaskB();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskB {\n\tpublic void solve(int testNumber, InputReader in, OutputWriter out) {\n\t\tString time = in.readString();\n\t\tString hours = time.split(\":\")[0];\n\t\tString minutes = time.split(\":\")[1];\n\t\tList<Integer> answer = new ArrayList<Integer>();\n\t\tfor (int i = 2; i <= 59; i++) {\n\t\t\tint hour = parse(hours, i);\n\t\t\tint minute = parse(minutes, i);\n\t\t\tif (hour >= 0 && hour < 24 && minute >= 0 && minute < 60)\n\t\t\t\tanswer.add(i);\n\t\t}\n\t\tint hour = parse(hours, 60);\n\t\tint minute = parse(minutes, 60);\n\t\tif (hour >= 0 && hour < 24 && minute >= 0 && minute < 60) {\n\t\t\tout.printLine(-1);\n\t\t\treturn;\n\t\t}\n\t\tif (answer.isEmpty())\n\t\t\tout.printLine(0);\n\t\telse\n\t\t\tout.printLine(answer.toArray());\n\t}\n\n\tprivate int parse(String number, int base) {\n\t\tint result = 0;\n\t\tfor (char c : number.toCharArray()) {\n\t\t\tint digit = Character.isDigit(c) ? c - '0' : c - 'A' + 10;\n\t\t\tif (digit >= base)\n\t\t\t\treturn -1;\n\t\t\tresult *= base;\n\t\t\tresult += digit;\n\t\t}\n\t\treturn result;\n\t}\n}\n\nclass InputReader {\n\n\tprivate InputStream stream;\n\tprivate byte[] buf = new byte[1024];\n\tprivate int curChar;\n\tprivate int numChars;\n\n\tpublic InputReader(InputStream stream) {\n\t\tthis.stream = stream;\n\t}\n\n\tpublic int read() {\n\t\tif (numChars == -1)\n\t\t\tthrow new InputMismatchException();\n\t\tif (curChar >= numChars) {\n\t\t\tcurChar = 0;\n\t\t\ttry {\n\t\t\t\tnumChars = stream.read(buf);\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t\tif (numChars <= 0)\n\t\t\t\treturn -1;\n\t\t}\n\t\treturn buf[curChar++];\n\t}\n\n\tpublic String readString() {\n\t\tint c = read();\n\t\twhile (isSpaceChar(c))\n\t\t\tc = read();\n\t\tStringBuffer res = new StringBuffer();\n\t\tdo {\n\t\t\tres.appendCodePoint(c);\n\t\t\tc = read();\n\t\t} while (!isSpaceChar(c));\n\t\treturn res.toString();\n\t}\n\n\tpublic static boolean isSpaceChar(int c) {\n\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t}\n\n\t}\n\nclass OutputWriter {\n\tprivate final PrintWriter writer;\n\n\tpublic OutputWriter(OutputStream outputStream) {\n\t\twriter = new PrintWriter(outputStream);\n\t}\n\n\tpublic OutputWriter(Writer writer) {\n\t\tthis.writer = new PrintWriter(writer);\n\t}\n\n\tpublic void print(Object...objects) {\n\t\tfor (int i = 0; i < objects.length; i++) {\n\t\t\tif (i != 0)\n\t\t\t\twriter.print(' ');\n\t\t\twriter.print(objects[i]);\n\t\t}\n\t}\n\n\tpublic void printLine(Object...objects) {\n\t\tprint(objects);\n\t\twriter.println();\n\t}\n\n\tpublic void close() {\n\t\twriter.close();\n\t}\n\n\t}\n\n"
        },
        {
            "language": 1,
            "solution": "t = raw_input().split(':')\nfor x in t:\n    x = x.rstrip('0')\ndef func(s, r):\n    res = 0\n    for ch in s:\n        k = 0\n        if ch.isdigit():\n            k = int(ch)\n        else:\n            k = ord(ch) - ord('A') + 10\n        if k >= r: return -1\n        res = res * r + k\n    return res\nF = False\nans = []\nfor i in range(2, 200):\n    h = func(t[0], i)\n    m = func(t[1], i)\n#    print i, h, m\n    if 0 <= h < 24 and 0 <= m < 60:\n        ans.append(i)\n        F = True\nif not F: print 0\nelif len(ans) > 150: print -1\nelse:\n    for i in ans:\n        print i,\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring h, m, s;\nbool a[100];\nlong long va(string s, int sys) {\n  long long k = 1;\n  long long r = 0;\n  for (int i = s.size() - 1; i >= 0; --i) {\n    r += (s[i] < 'A' ? s[i] - 48 : s[i] - 'A' + 10) * k;\n    k *= sys;\n  }\n  return r;\n}\nint main() {\n  cin >> s;\n  int w = 0;\n  for (int i = 0; i < s.size(); ++i) {\n    if (s[i] == ':')\n      w = 1;\n    else if (w)\n      m += s[i];\n    else\n      h += s[i];\n  }\n  int inf = 1;\n  if (h[h.size() - 1] > 'A' + 13) inf = 0;\n  for (int i = 0; i < h.size() - 1; ++i) {\n    if (h[i] != '0') inf = 0;\n  }\n  for (int i = 0; i < m.size() - 1; ++i) {\n    if (m[i] != '0') inf = 0;\n  }\n  if (inf) {\n    printf(\"-1\");\n    return 0;\n  }\n  for (int i = 1; i <= 9; ++i) {\n    int g = 1;\n    for (int j = 0; j < h.size(); ++j)\n      if (i + 48 <= h[j]) g = 0;\n    for (int j = 0; j < m.size(); ++j)\n      if (i + 48 <= m[j]) g = 0;\n    if (g && va(h, i) < 24 && va(m, i) < 60) a[i] = 1;\n  }\n  for (int i = 'A'; i <= 'A' + 89; ++i) {\n    int g = 1;\n    for (int j = 0; j < h.size(); ++j)\n      if (i <= h[j]) g = 0;\n    for (int j = 0; j < m.size(); ++j)\n      if (i <= m[j]) g = 0;\n    if (g && va(h, i - 'A' + 10) < 24LL && va(m, i - 'A' + 10) < 60LL)\n      a[i - 'A' + 10] = 1;\n  }\n  int cnt = 0;\n  for (int i = 1; i < 100; ++i)\n    if (a[i]) {\n      printf(\"%d \", i);\n      ++cnt;\n    }\n  if (cnt == 0) cout << cnt;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint h[100];\nint m[100];\nchar s[100];\nint a[100];\nint main() {\n  memset(h, 0, sizeof(h));\n  memset(m, 0, sizeof(m));\n  scanf(\"%s\", s);\n  int i, j;\n  int temp;\n  int id = 0;\n  int l = strlen(s);\n  for (i = 0; i < l; i++) {\n    if (s[i] == ':') {\n      temp = i;\n      break;\n    }\n  }\n  int cnt = 0;\n  int ans = 0;\n  for (i = temp - 1; i >= 0; i--) {\n    if (s[i] >= '0' && s[i] <= '9')\n      h[++cnt] = s[i] - '0';\n    else\n      h[++cnt] = s[i] - 'A' + 10;\n  }\n  for (i = l - 1; i >= temp + 1; i--) {\n    if (s[i] >= '0' && s[i] <= '9')\n      m[++ans] = s[i] - '0';\n    else\n      m[++ans] = s[i] - 'A' + 10;\n  }\n  int maxn = 0;\n  for (i = 0; i < l; i++) {\n    if (s[i] == ':') continue;\n    if (s[i] >= '0' && s[i] <= '9') {\n      if (maxn < s[i] - '0') {\n        maxn = s[i] - '0';\n      }\n    } else if (s[i] >= 'A' && s[i] <= 'Z') {\n      if (maxn < s[i] - 'A' + 10) {\n        maxn = s[i] - 'A' + 10;\n      }\n    }\n  }\n  maxn = maxn + 1;\n  for (i = maxn; i <= 59; i++) {\n    int k = 1;\n    int flag1 = 0;\n    int flag2 = 0;\n    for (j = 1; j <= cnt; j++) {\n      flag1 += k * h[j];\n      k *= i;\n    }\n    k = 1;\n    for (j = 1; j <= ans; j++) {\n      flag2 += k * m[j];\n      k *= i;\n    }\n    if (flag1 < 24 && flag2 <= 59) {\n      a[++id] = i;\n    }\n  }\n  int flag = 0;\n  for (i = 60; i <= 60; i++) {\n    int k = 1;\n    int flag1 = 0;\n    int flag2 = 0;\n    for (j = 1; j <= cnt; j++) {\n      flag1 += k * h[j];\n      k *= i;\n    }\n    k = 1;\n    for (j = 1; j <= ans; j++) {\n      flag2 += k * m[j];\n      k *= i;\n    }\n    if (flag1 < 24 && flag2 <= 59) {\n      a[++id] = i;\n    }\n    if (flag1 < 24 && flag2 <= 59) {\n      flag = 1;\n    }\n  }\n  if (flag == 1)\n    printf(\"-1\\n\");\n  else if (id == 0)\n    printf(\"%d\\n\", 0);\n  else\n    for (i = 1; i <= id; i++) {\n      printf(\"%d \", a[i]);\n    }\n}\n"
        },
        {
            "language": 1,
            "solution": "import sys\n\n#sys.stdin = open('input.txt', 'r')\n\ns = raw_input()\n\nvis = [False for i in xrange(200)]\nMap = {}\n\n\ndef init():\n    for i in xrange(10):\n        Map[str(i)] = i\n    for i in xrange(26):\n        tmp = ord('A') + i\n        tmp = chr(tmp)\n        Map[tmp] = i + 10\n\n\ndef work():\n    for i in xrange(1, 200):\n        bingo = True\n        for j in xrange(len(s)):\n            if ':' == s[j]:\n                continue\n            if Map[s[j]] >= i:\n                bingo = False\n                break\n        if not bingo:\n            continue\n        tmp = 0\n        flag = 0\n        for j in xrange(len(s)):\n            if ':' == s[j]:\n                tmp = 0\n                flag = 1\n                continue\n            tmp = tmp * i + Map[s[j]]\n            if flag == 0:\n                if tmp >= 24:\n                    bingo = False\n            else:\n                if tmp >= 60:\n                    bingo = False\n        vis[i] = bingo\n    cnt = 0\n    for i in xrange(1, 200):\n        if vis[i]:\n            cnt += 1\n    if cnt == 0:\n        print 0\n    elif cnt >= 100:\n        print -1\n    else:\n        for i in xrange(1, 200):\n            if vis[i]:\n                print i,\n\n\nif __name__ == '__main__':\n    init()\n    work()\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma comment(linker, \"/STACK:16777216\")\nusing namespace std;\nint main() {\n  char a[10] = {0};\n  char b[10] = {0};\n  char bb = 1;\n  int hj = 0;\n  scanf(\"%c\", &bb);\n  do {\n    a[hj] = bb;\n    hj++;\n    scanf(\"%c\", &bb);\n  } while (bb != ':');\n  a[hj] = 0;\n  scanf(\"%s\", &b);\n  int begA = -1;\n  int begB = -1;\n  for (int i = 0; a[i] && a[i] == '0'; i++) begA++;\n  for (int i = 0; b[i] && b[i] == '0'; i++) begB++;\n  int la = strlen(a);\n  int lb = strlen(b);\n  char v[36] = \"0123456789ABCDEFGHIJKLMNOPQRSTVWXYZ\";\n  int ma = -1;\n  int mb = -1;\n  if ((begA >= (la - 2)) && (begB >= (lb - 2))) {\n    if (a[la - 1] <= 'O') {\n      printf(\"-1\");\n      return 0;\n    }\n  }\n  for (int i = 0; a[i]; i++) {\n    for (int j = 0; v[j]; j++) {\n      if (v[j] == a[i]) ma = max(ma, j);\n    }\n  }\n  for (int i = 0; b[i]; i++) {\n    for (int j = 0; v[j]; j++) {\n      if (v[j] == b[i]) mb = max(mb, j);\n    }\n  }\n  int beg = max(ma, mb) + 1;\n  bool f = false;\n  for (int i = beg; true; i++) {\n    int ca = 0;\n    int cb = 0;\n    int p = 0;\n    for (int j = la - 1; j > begA; j--) {\n      int mest = 0;\n      for (int k = 0; v[k]; k++) {\n        if (v[k] == a[j]) {\n          mest = k;\n          break;\n        }\n      }\n      int buf = (int)pow((double)i, (double)p) * mest;\n      ca += buf;\n      p++;\n    }\n    p = 0;\n    for (int j = lb - 1; j > begB; j--) {\n      int mest = 0;\n      for (int k = 0; v[k]; k++) {\n        if (v[k] == b[j]) {\n          mest = k;\n          break;\n        }\n      }\n      int buf = (int)pow((double)i, (double)p) * mest;\n      cb += buf;\n      p++;\n    }\n    if ((ca > 23) || (cb > 59)) break;\n    f = true;\n    printf(\"%d \", i);\n  }\n  if (!f) printf(\"0\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring kol;\nstring h, m;\nvector<int> ans;\nint tod(char ch) {\n  if (ch < '9' + 1 && ch >= '0') return ch - '0';\n  return ch - 'A' + 10;\n}\nint num(string s, int base) {\n  int sss = 0;\n  int dti;\n  for (int i = 0; i < (int)s.size(); ++i) {\n    dti = tod(s[i]);\n    if (dti >= base) return 60;\n    sss *= base;\n    sss += dti;\n    if (sss > 60) return 60;\n  }\n  return sss;\n}\nint main() {\n  cin >> kol;\n  int ind = kol.find_first_of(\":\");\n  h = kol.substr(0, ind);\n  m = kol.substr(ind + 1);\n  for (int i = 1; i < 62; ++i)\n    if (num(h, i) < 24 && num(m, i) < 60) ans.push_back(i);\n  if (ans.empty()) {\n    cout << 0 << endl;\n    return 0;\n  }\n  if (ans.back() > 60) {\n    cout << -1 << endl;\n    return 0;\n  }\n  for (int i = 0; i < (int)ans.size(); ++i) cout << ans[i] << \" \";\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long POWER(long long a, long long p) {\n  if (p == 0) return 1;\n  long long b = a;\n  for (int i = 1; i < p; i++) {\n    b *= a;\n  }\n  return b;\n}\nint main() {\n  string s;\n  cin >> s;\n  long long a[27];\n  vector<long long> ans;\n  for (int i = 0; i < 27; i++) {\n    a[i] = 10 + i;\n  }\n  long long base = 2;\n  while (true) {\n    bool d = 1;\n    long long q = 0, c = 0;\n    for (int i = s.size() - 1; i >= 0; i--) {\n      if (s[i] == ':') {\n        if (!(c >= 0 && c <= 59)) {\n          d = 0;\n          break;\n        }\n        q = 0;\n        c = 0;\n        for (int j = i - 1; j >= 0; j--) {\n          if ((isdigit(s[j]) && s[j] - '0' > base - 1) ||\n              (isalpha(s[j]) && a[s[j] - 'A'] > base - 1)) {\n            d = 0;\n            break;\n          }\n          if (isdigit(s[j]))\n            c += (s[j] - '0') * POWER(base, q);\n          else {\n            c += a[s[j] - 'A'] * POWER(base, q);\n          }\n          q++;\n        }\n        if (!(c >= 0 && c <= 23)) {\n          d = 0;\n        }\n        break;\n      }\n      if ((isdigit(s[i]) && s[i] - '0' > base - 1) ||\n          (isalpha(s[i]) && a[s[i] - 'A'] > base - 1)) {\n        d = 0;\n        break;\n      }\n      if (isdigit(s[i]))\n        c += (s[i] - '0') * POWER(base, q);\n      else {\n        c += a[s[i] - 'A'] * POWER(base, q);\n      }\n      q++;\n    }\n    if (d) ans.push_back(base);\n    base++;\n    if (base > 1000) break;\n  }\n  if (!(ans.size())) {\n    cout << 0;\n    return 0;\n  }\n  if (ans.size() > 800) {\n    cout << -1;\n    return 0;\n  }\n  for (int i = 0; i < ans.size(); i++) cout << ans[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "\n\nvals = [str(i) for i in range(10)] + [chr(i) for i in range(ord('a'),ord('z')+1)]\n\ndef isBase(s, base):\n    for c in s:\n        if not c in vals[:base]:\n            return False\n    \n    return True\n\ndef fromBase(s, base, step=0):\n    if step < len(s):\n        return fromBase(s, base, step+1) + vals.index(s[-step-1])*(base**step)\n    else:\n        return 0\n\n\na, b = raw_input().strip().lower().split(':')\n\n\nif fromBase(a,24) <= 23 and fromBase(b,60) <= 59:\n    res = [-1]\nelse:\n    res = []\n    for i in range(1,59+1):\n        if isBase(a,i) and isBase(b,i) and fromBase(a,i) <= 23 and fromBase(b,i) <= 59:\n            res.append(i)\n\n\nprint res and ' '.join(map(str, res)) or '0'\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.lang.*;\nimport java.util.*;\n\npublic class B\n{\n\n\n    int calc(String _s,int a){\n        char[] s = _s.toCharArray();\n        if (a < 10){\n            for (int i = 0; i < _s.length(); i++)\n                 if ('0'<= s[i]  && s[i] <= '9'){\n                   if (s[i] - '0' >= a)\n                     return -1;\n                 }\n                 else\n                   return -1;\n\n        }\n        else {\n            for (int i = 0; i < _s.length(); i++)\n                 if ('0'<= s[i]  && s[i] <= '9')\n                    continue;\n                 else if (s[i] - 'A' >= a-10)\n                     return -1;\n        }\n\n        int x = 0;\n        for (int i = 0; i < _s.length(); i++)\n            if ('0'<= s[i]  && s[i] <= '9')\n                x = x * a + s[i] - '0';\n            else\n                x = x * a + s[i] - 'A'+10;\n        return x;\n    }\n\n    void solve() throws IOException{\n        String[] a = nextToken().split(\":\");\n\n        ArrayList<Integer> b = new ArrayList<Integer>();\n\n        for (int i = 2; i < 100; i++){\n            int h = calc(a[0],i);\n            int m = calc(a[1],i);\n            if (0 <= h && h <= 23 && 0 <= m && m < 60)\n                b.add(i);            \n        }\n\n        if (b.size() >= 60){\n            out.println(\"-1\");\n            return;\n        }\n        if (b.size() == 0){\n            out.println(\"0\");\n            return;\n        }\n\n        for (Integer x: b){\n            out.print(x+\" \");\n        }\n        out.println();\n    }\n\n    public static void main(String[] args) throws IOException{\n        new B().run();\n    }\n\n    BufferedReader in;\n    StringTokenizer tokenizer;\n    PrintWriter out;\n\n    public void run() throws IOException\n    {\n        try {                               \n            boolean oj = System.getProperty(\"ONLINE_JUDGE\") != null;\n            Reader reader = oj ? new InputStreamReader(System.in) : new FileReader(\"input.txt\");\n            Writer writer = oj ? new OutputStreamWriter(System.out) : new FileWriter(\"output.txt\");\n            in = new BufferedReader(reader);\n            tokenizer = null;\n            out = new PrintWriter(writer);\n            solve();\n            in.close();\n            out.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }       \n    }\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(nextToken());\n    }\n\n    long nextLong() throws IOException {\n        return Long.parseLong(nextToken());\n    }\n\n    double nextDouble() throws IOException {\n        return Double.parseDouble(nextToken());\n    }\n\n    String nextToken() throws IOException {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(in.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n\n}                                    \n"
        },
        {
            "language": 3,
            "solution": "def f(x, k):\n    if 1 < k < 37: return int(x, k)\n    s = 0\n    for i in x:\n        s = s * k\n        s += int(i, 36)\n    return s\n \nhours, minutes = input().split(':')\ni = j = k = max(int(max(hours), 36), int(max(minutes), 36)) + 1\nx, y = (f(hours, k) == f(hours, k + 1)), (f(minutes, k) == f(minutes, k + 1))\nif x and y: print(-1 if hours[-1] < 'O' else 0)\nelse:\n    if x: i = 61\n    else:\n        while f(hours, i) < 24: i += 1\n    if y: j = i\n    else:\n        while j < i and f(minutes, j) < 60: j += 1\n    print(' '.join(map(str, range(k, j))) if k < j else 0)"
        },
        {
            "language": 1,
            "solution": "def value(n, b):\n\ta = 1\n\tr = 0\n\tfor i in range(-1, -len(n) - 1, -1):\n\t\tr += int(n[i], 36) * a\n\t\ta *= b\n\treturn r\n\nh, m = [i for i in raw_input().split(\":\")]\nif int(h, 36) < 24 and int(m, 36) < 36:\n\tprint -1\nelse:\n\ta = []\n\ttmp = list(h)\n\ttmp.extend(list(m))\n\tmb = max((int(x, 36)+1) for x in tmp)\n\tfor i in range(mb, 60):\n\t\tif value(h, i) < 24 and value(m, i) < 60: a.append(i)\n\tif (len(a) == 0):\n\t\tprint 0\n\telse:\n\t\tprint ' '.join(map(str, a))\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\n\npublic class CF105_B {\n\n\tpublic static void main(String[] args){\n\t\tScanner in = new Scanner(System.in);\n\t\tchar[] s = in.next().toCharArray();\n\t\tint[] y = new int[100];\n\t\tboolean yes = false;\n\t\tint i = 0, k = 0, p;\n\t\tString s1 = \"\", s2 = \"\";\n\t\tfor (; s[i] != ':'; i++) s1 = s1 + s[i];\n\t\ti++;\n\t\tfor (; i < s.length; i++) s2 = s2 + s[i];\n\t\t\n\t\t\n\t\tfor (i = 2; i < 80; i++){\n\t\t\tif (check(s1, i, 1) && check(s2, i, 2)){\n\t\t\t\tyes = true;\n\t\t\t\ty[k++] = i;\n\t\t\t\tp = i;\n\t\t\t} \n\t\t}\n\t\t\n\t\tif (k == 0){\n\t\t\tSystem.out.println(0);\t\n\t\t} else if (y[k - 1] > 70){\n\t\t\tSystem.out.println(-1);\n\t\t}else \n\t\t\t{\n\t\t\t   for (i = 0; i < k; i++){\n\t\t\t\t System.out.print(y[i]+\" \");\n\t\t\t}\n\t\t\n\t\t\n\t\t}  \n\t\t\t\n\t}\n\n\tprivate static boolean check(String s, int k, int g) {\n\t\tfor (int i = 0; i < s.length(); i++)\n\t\t\tif (get(s.charAt(i)) >= k) return false;\n\t\tint t = 0;\n\t\tfor (int i = 0; i < s.length(); i++)\n\t\t\tt = t * k + get(s.charAt(i));\n\t\tif (g == 1 && t < 24) return true;\n\t\tif (g == 2 && t < 60) return true;\n\t\treturn false;\n\t}\n\n\tprivate static int get(char c) {\n\t\tif (c >= '0' && c <= '9') return c - '0'; else return c - 'A' + 10;\n\t}\n\n\tprivate static boolean check1(String s1) {\n\t\t// TODO Auto-generated method stub\n\t\treturn false;\n\t}\n\t\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int inf = 2000000000;\nconst long double eps = 1e-07;\nstring s1, s2;\nvector<int> a1, a2;\nvector<int> ans;\nbool check(int x) {\n  for (int i = 0; i < a1.size(); ++i)\n    if (a1[i] >= x) return false;\n  for (int i = 0; i < a2.size(); ++i)\n    if (a2[i] >= x) return false;\n  int t = 0;\n  for (int i = 0; i < a1.size(); ++i) t = t * x + a1[i];\n  if ((t >= 24) || (t < 0)) return false;\n  t = 0;\n  for (int i = 0; i < a2.size(); ++i) t = t * x + a2[i];\n  if ((t >= 60) || (t < 0)) return false;\n  return true;\n}\nvoid parse() {\n  for (int i = 0; i < s1.size(); ++i) {\n    if ((s1[i] >= '0') && (s1[i] <= '9'))\n      a1.push_back(s1[i] - '0');\n    else\n      a1.push_back(s1[i] - 'A' + 10);\n  }\n  for (int i = 0; i < s2.size(); ++i) {\n    if ((s2[i] >= '0') && (s2[i] <= '9'))\n      a2.push_back(s2[i] - '0');\n    else\n      a2.push_back(s2[i] - 'A' + 10);\n  }\n  reverse(a1.begin(), a1.end());\n  reverse(a2.begin(), a2.end());\n  while ((a1.size() > 1) && (a1[a1.size() - 1] == 0)) a1.pop_back();\n  while ((a2.size() > 1) && (a2[a2.size() - 1] == 0)) a2.pop_back();\n  reverse(a1.begin(), a1.end());\n  reverse(a2.begin(), a2.end());\n}\nint main() {\n  string s;\n  cin >> s;\n  int i = 0;\n  while (s[i] != ':') {\n    s1.push_back(s[i]);\n    ++i;\n  }\n  ++i;\n  while (i < s.size()) {\n    s2.push_back(s[i]);\n    ++i;\n  }\n  parse();\n  for (int i = 2; i < 200; ++i)\n    if (check(i)) ans.push_back(i);\n  if (ans.size() > 100)\n    cout << -1 << endl;\n  else {\n    for (int i = 0; i < ans.size(); ++i) printf(\"%d \", ans[i]);\n  }\n  if (ans.size() == 0) cout << 0 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Scanner;\n\n\npublic class B\n{\n    public static void main(String []args)\n    {\n        Scanner in=new Scanner(System.in);\n        String s=in.nextLine(),h=s.substring(0,s.indexOf(':')),m=s.substring(s.indexOf(':')+1,s.length());\n        ArrayList<Integer> H=func(h);\n        ArrayList<Integer> M=func(m);\n        ArrayList<Integer> res=new ArrayList<Integer>();\n        int min;\n        if (Collections.max(H)>Collections.max(M))\n            min=  Collections.max(H)+1;\n        else min=Collections.max(M)+1;\n\n        boolean f=true;\n\n        while (f)\n        {\n            if (func2(H,min,24) &&   func2(M,min,60))\n            {\n                res.add(min);\n                min++;\n            }\n            else break;\n            if (min>60)\n            {\n                System.out.println(-1);\n                return;\n            }\n        }\n        if (res.size()==0)\n            System.out.println(0);\n        else\n        {\n            for (int i = 0;i<res.size()-1;++i)\n            {\n                System.out.print(res.get(i)+\" \");\n            }\n            System.out.println(res.get(res.size()-1));\n        }\n    }\n    public static boolean func2(ArrayList<Integer> l,int o,int max)\n    {\n\n         int sum=0;\n         for (int i:l)\n         {\n            sum=sum*o+i;\n         }\n        if (sum>=max)\n            return false;\n        else return true;\n    }\n    public static ArrayList <Integer> func(String s)\n    {\n        ArrayList<Integer> T=new ArrayList<Integer>();\n        for (int i = 0;i<s.length();++i)\n        {\n            if (s.charAt(i)>='0' && s.charAt(i)<='9')\n            {\n                T.add(s.charAt(i)-'0');\n            }\n            else\n            {\n                T.add(s.charAt(i)-'A'+10);\n            }\n        }\n        return T;\n    }\n\n}\n"
        },
        {
            "language": 1,
            "solution": "#!/usr/bin.python\naa,bb=raw_input().split(':')\n\ndef digit(char):\n    if char<'A':\n        return int(char)\n    else:\n        return ord(char)-55\n\ndef cal(s,radix):\n    if len(s)==1:\n        return digit(s)\n    return reduce(lambda a,b: digit(a)*radix+digit(b), s)\n\na=map(digit,aa)\nb=map(digit,bb)\n\nrad=max(max(a),max(b))+1\nif rad==1:\n    rad=2\n\nif cal(aa,rad)>24 or cal(bb,rad)>60:\n    print 0\nelse:\n    if cal(aa,rad)<rad and cal(bb,rad)<rad:\n        print -1\n    else:\n        i=0\n        while cal(aa,rad)<24 and cal(bb,rad)<60:\n            print rad,\n            rad+=1"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint pw(int x, int y) {\n  int q, res = 1;\n  for (q = 0; q < y; q++) res *= x;\n  return res;\n}\nint a[12], k, cnt, i, l1, l2, m, p, j, r[100];\nchar s1[5], s2[5], s[11];\nint main() {\n  gets(s);\n  for (i = 0; i < strlen(s); i++) {\n    if (s[i] == ':') break;\n    s1[j++] = s[i];\n  }\n  l1 = j;\n  j = 0;\n  i++;\n  for (; i < strlen(s); i++) {\n    s2[j++] = s[i];\n  }\n  l2 = j;\n  for (i = 0; i < l1 - 1; i++) {\n    if (s1[i] < 'A')\n      m = (((m) > (s1[i] - 48)) ? m : s1[i] - 48);\n    else\n      m = (((m) > (s1[i] - 55)) ? m : s1[i] - 55);\n  }\n  if (m == 0) {\n    for (i = 0; i < l2 - 1; i++) {\n      if (s2[i] < 'A')\n        m = (((m) > (s2[i] - 48)) ? m : s2[i] - 48);\n      else\n        m = (((m) > (s2[i] - 55)) ? m : s2[i] - 55);\n    }\n    if (m == 0 && s1[l1 - 1] - 55 < 24) {\n      printf(\"-1\\n\");\n      return 0;\n    } else {\n      if (s2[l2 - 1] < 'A')\n        m = (((m) > (s2[l2 - 1] - 48)) ? m : s2[l2 - 1] - 48);\n      else\n        m = (((m) > (s2[l2 - 1] - 55)) ? m : s2[l2 - 1] - 55);\n    }\n  }\n  for (i = 0; i < l2; i++) {\n    if (s2[i] < 'A')\n      m = (((m) > (s2[i] - 48)) ? m : s2[i] - 48);\n    else\n      m = (((m) > (s2[i] - 55)) ? m : s2[i] - 55);\n  }\n  if (s1[l1 - 1] < 'A')\n    m = (((m) > (s1[l1 - 1] - 48)) ? m : s1[l1 - 1] - 48);\n  else\n    m = (((m) > (s1[l1 - 1] - 55)) ? m : s1[l1 - 1] - 55);\n  for (i = m + 1;; i++) {\n    p = 0;\n    for (j = 0; j < l1; j++) {\n      if (s1[j] < 'A')\n        p += (s1[j] - 48) * pw(i, l1 - 1 - j);\n      else\n        p += (s1[j] - 55) * pw(i, l1 - 1 - j);\n    }\n    if (p > 23) break;\n    p = 0;\n    for (j = 0; j < l2; j++) {\n      if (s2[j] < 'A') {\n        p = p + (s2[j] - 48) * pw(i, (l2 - 1 - j));\n      } else\n        p += (s2[j] - 55) * pw(i, (l2 - 1 - j));\n    }\n    if (p > 59) break;\n    r[k++] = i;\n  }\n  if (k == 0) {\n    printf(\"0\\n\");\n    return 0;\n  }\n  for (i = 0; i < k - 1; i++) printf(\"%d \", r[i]);\n  printf(\"%d\\n\", r[k - 1]);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class MartianClock {\n\tpublic static void main(String[] args) {\n\t\tScanner in = new Scanner(System.in);\n\t\tString[] a = in.nextLine().split(\":\");\n\t\tint[] map = new int[128];\n\t\tfor (int i = '0'; i <= '9'; i++)\n\t\t\tmap[i] = i - '0';\n\t\tfor (int i = 'A', j = 10; i <= 'Z'; j++, i++) {\n\t\t\tmap[i] = j;\n\t\t}\n\t\tint lastA = -1;\n\t\tint lastB = -1;\n\t\tboolean inf = false;\n\t\tLinkedList<Integer> res = new LinkedList<Integer>();\n\t\tl1: for (int i = 2; !inf; i++) {\n\t\t\tint x = 0;\n\t\t\tint y = 0;\n\t\t\tfor (int j = 0; j < a[0].length(); j++) {\n\t\t\t\tif (map[a[0].charAt(j)] < i) {\n\t\t\t\t\tx = x * i + map[a[0].charAt(j)];\n\t\t\t\t} else\n\t\t\t\t\tcontinue l1;\n\t\t\t}\n\t\t\tfor (int j = 0; j < a[1].length(); j++) {\n\t\t\t\tif (map[a[1].charAt(j)] < i) {\n\t\t\t\t\ty = y * i + map[a[1].charAt(j)];\n\t\t\t\t} else\n\t\t\t\t\tcontinue l1;\n\t\t\t}\n\t\t\tif (x == lastA && y == lastB)\n\t\t\t\tinf = true;\n\t\t\tif (x <= 23 && y <= 59) {\n\t\t\t\tres.add(i);\n\t\t\t\tlastA = x;\n\t\t\t\tlastB = y;\n\t\t\t} else\n\t\t\t\tbreak;\n\t\t}\n\t\tif (inf)\n\t\t\tSystem.out.println(-1);\n\t\telse {\n\t\t\tString s = \"\";\n\t\t\tfor (int i : res) {\n\t\t\t\ts = s + i + \" \";\n\t\t\t}\n\t\t\tif (s.length() > 0)\n\t\t\t\tSystem.out.println(s.substring(0, s.length() - 1));\n\t\t\telse\n\t\t\t\tSystem.out.println(0);\n\t\t}\n\n\t}\n}\n"
        },
        {
            "language": 1,
            "solution": "def main():\n\thr,mint=raw_input().split(':')\n\toffset=ord('A')\n\tlimit=ord('Z')\n\thrls=[]\n\tminls=[]\n\tindex=0\n\tfor ele in hr:\n\t\tif ele=='0':\n\t\t\tindex=index+1\n\t\telse:\n\t\t\tbreak\n\tif index>=len(hr):\n\t\thr='0'\n\telse:\t\n\t\thr=hr[index:]\n\tindex=0\n\tfor ele in mint:\n\t\tif ele=='0':\n\t\t\tindex=index+1\n\t\telse:\n\t\t\tbreak\n\tif index>=len(mint):\n\t\tmint='0'\n\telse:\t\n\t\tmint=mint[index:]\n\n\tfor ele in hr:\n\t\tif ord(ele)>=offset and ord(ele)<=limit:\n\t\t\thrls.append(ord(ele)-offset+10)\n\t\telse:\n\t\t\thrls.append(int(ele))\n\tfor ele in mint:\n\t\tif ord(ele)>=offset and ord(ele)<=limit:\n\t\t\tminls.append(ord(ele)-offset+10)\n\t\telse:\n\t\t\tminls.append(int(ele))\n\tminnumsys=max(max(hrls),max(minls))+1\n\tif len(hrls)==1 and len(minls)==1 and hrls[0]<24 and minls[0]<60:\n\t\tprint -1\n\t\treturn\n\tcount=0\n\twhile(1):\n\t\tsum=0\n\t\tfor i in range(len(hrls)):\n\t\t\tsum=sum+pow(minnumsys,i)*hrls[-(i+1)]\n\t\t\tif(sum>23):\n\t\t\t\tbreak\n\t\tif(sum>23):\n\t\t\tbreak\n\t\tsum=0\n\t\tfor i in range(len(minls)):\n\t\t\tsum=sum+pow(minnumsys,i)*minls[-(i+1)]\n\t\t\tif(sum>59):\n\t\t\t\tbreak\n\t\tif(sum>59):\n\t\t\tbreak\n\t\tprint minnumsys,\n\t\tminnumsys=minnumsys+1\n\t\tcount=count+1\n\t\n\tif count==0:\n\t\tprint 0\n\t\n\t\n\n\nif __name__==\"__main__\":\n\tmain()\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 2e5 + 9, MOD = 1e9 + 7, OO = 2e9, MOD2 = 998244353;\nconst long long INF = 1e15;\nint val(char c) {\n  if (c >= 'A' && c <= 'Z') return c - 'A' + 10;\n  return c - '0';\n}\nvoid runtestcase() {\n  string str;\n  cin >> str;\n  string h, m;\n  for (int i = 0; i < str.find(':'); ++i) h.push_back(str[i]);\n  for (int i = str.find(':') + 1; i < ((int)str.size()); ++i)\n    m.push_back(str[i]);\n  vector<int> vec;\n  for (int b = 2; b < 100; ++b) {\n    long long hh = 00, mm = 0;\n    bool valid = 1;\n    for (auto it : h) {\n      if (val(it) >= b) valid = 0;\n      hh = hh * b + val(it);\n    }\n    for (auto it : m) {\n      if (val(it) >= b) valid = 0;\n      mm = mm * b + val(it);\n    }\n    valid &= hh < 24 && mm < 60;\n    if (valid) {\n      if (b == 99) {\n        cout << -1;\n        return;\n      }\n      vec.push_back(b);\n    }\n  }\n  for (auto it : vec) cout << it << ' ';\n  if (vec.empty()) cout << 0;\n}\nint main() {\n  cout << fixed << setprecision(9), ios::sync_with_stdio(false),\n      cin.tie(nullptr), cout.tie(nullptr);\n  int t = 1, tt = 1;\n  while (t--) {\n    runtestcase();\n    ++tt;\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.BigInteger;\npublic class C106B{\n    static BufferedReader br;\n    public static void main(String args[])throws Exception{\n        br=new BufferedReader(new InputStreamReader(System.in));\n        String time=toStr();\n        String st[]=time.split(\":\");\n        String hour=st[0];\n        String minute=st[1];\n\n        int min=0;\n        min=getmin(hour)+1;\n        min=Math.max(getmin(minute)+1,min);\n\n        int max=-1;\n        \n        for(int i=min;i<=105;i++){\n            if(checkH(hour,i) && checkM(minute,i)){\n                max=i;\n            }\n        }\n        if(max==-1){\n            System.out.println(\"0\");\n            return;\n        }\n        if(max==105){\n            System.out.println(\"-1\");\n            return;\n        }\n        for(int i=min;i<max;i++){\n            System.out.print(i+\" \");\n        }\n        System.out.println(max);\n\n\n\n\n    }\n      public static boolean checkH(String m,int x){\n        long a=0;\n        char ch[]=m.toCharArray();\n        int count=0;\n        for(int i=m.length()-1;i>=0;i--){\n            if(Character.isDigit(ch[i])){\n                a+=Math.pow(x,count)*Integer.parseInt(ch[i]+\"\");\n                count++;\n            }\n            else{\n                int aa=ch[i]-'A'+10;\n                a+=aa*Math.pow(x,count);\n                count++;\n            }\n        }\n        if(a>23)\n            return false;\n        else return true;\n    }\n    public static boolean checkM(String m,int x){\n        long a=0;\n        char ch[]=m.toCharArray();\n        int count=0;\n        for(int i=m.length()-1;i>=0;i--){\n            if(Character.isDigit(ch[i])){\n                a+=Math.pow(x,count)*Integer.parseInt(ch[i]+\"\");\n                count++;\n            }\n            else{\n                int aa=ch[i]-'A'+10;\n                a+=aa*Math.pow(x,count);\n                count++;\n            }\n        }\n        if(a>59)\n            return false;\n        else return true;\n    }\n\n\n    public static int getmin(String s){\n        char ch[]=s.toCharArray();\n        //char chA[] = {'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'};\n        int max=-1;\n        for(int i=0;i<ch.length;i++){\n            if(Character.isDigit(ch[i])){\n                if(max<Integer.parseInt(ch[i]+\"\")){\n                    max=Integer.parseInt(ch[i]+\"\");\n                }\n            }\n            else{\n                int a=ch[i]-'A'+10;\n                if(max<a){\n                    max=a;\n                }\n            }\n        }\n        return max;\n    }\n\n    /****************************************************************/\n    public static int[] toIntArray()throws Exception{\n       String str[]=br.readLine().split(\" \");\n       int k[]=new int[str.length];\n       for(int i=0;i<str.length;i++){\n            k[i]=Integer.parseInt(str[i]);\n       }\n       return k;\n    }\n    public static int toInt()throws Exception{\n       return Integer.parseInt(br.readLine());\n    }\n    public static long[] toLongArray()throws Exception{\n       String str[]=br.readLine().split(\" \");\n       long k[]=new long[str.length];\n       for(int i=0;i<str.length;i++){\n            k[i]=Long.parseLong(str[i]);\n       }\n       return k;\n    }\n    public static long toLong()throws Exception{\n       return Long.parseLong(br.readLine());\n    }\n    public static double[] toDoubleArray()throws Exception{\n       String str[]=br.readLine().split(\" \");\n       double k[]=new double[str.length];\n       for(int i=0;i<str.length;i++){\n            k[i]=Double.parseDouble(str[i]);\n       }\n       return k;\n    }\n    public static double toDouble()throws Exception{\n       return Double.parseDouble(br.readLine());\n    }\n    public static String toStr()throws Exception{\n       return br.readLine();\n    }\n    public static String[] toStrArray()throws Exception{\n       String str[]=br.readLine().split(\" \");\n       return str;\n    }\n    /****************************************************************/\n\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\npublic class B149 {\n\tpublic static int toInt(String s, int rad) {\n\t\tlong num = 0;\n\t\tfor (int i = 0; i < s.length(); i++) {\n\t\t\tnum *= rad;\n\t\t\tint d = digit(s.charAt(i), rad);\n\t\t\tif (d == -1) return -1;\n\t\t\tnum += d;\n\t\t}\n\t\tif (num > 60) return 60;\n\t\treturn (int)num;\n\t}\n\tprivate static int digit(char charAt, int rad) {\n\t\treturn Character.digit(charAt, Math.min(36, rad));\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner s = new Scanner(System.in);\n\t\tString[] str = s.next().split(\":\");\n\t\tString hour = str[0];\n\t\tString min = str[1];\n\t\tList<Integer> list = new ArrayList<Integer>();\n\t\tfor (int rad = 2; rad <= 61; rad++) {\n\t\t\tint h = toInt(hour, rad);\n\t\t\tint m = toInt(min, rad);\n\t\t\tif (m==-1 || h == -1) { \n\t\t\t\t\n\t\t\t} else if (h<24&&m<60) {\n\t\t\t\tlist.add(rad);\n\t\t\t}\n\t\t}\n\t\tif (list.size()==0) System.out.println(0);\n\t\telse {\n\t\t\tif (mostlyZeroes(hour) && mostlyZeroes(min)) {\n\t\t\t\tSystem.out.println(-1); \n\t\t\t} else {\n\t\t\t\tfor (int rad : list) {\n\t\t\t\t\tSystem.out.print(rad+\" \");\n\t\t\t\t}\n\t\t\t\tSystem.out.println();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static boolean mostlyZeroes(String hour) {\n\t\tfor (int i = 0; i < hour.length() - 1; i++) {\n\t\t\tif (hour.charAt(i)!='0') return false;\n\t\t}\n\t\treturn true;\n\t}\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\nimport static java.lang.Math.*;\n\npublic class Main extends PrintWriter {\n    BufferedReader in;\n    StringTokenizer stok;\n    final Random rand = new Random(31);\n    final int inf = (int) 1e9;\n    final long linf = (long) 1e18;\n\n    final static String IO = \"_std\";\n\n    String trim(String s) {\n        String res = \"\";\n        for (int i = 0; i < s.length(); i++) {\n            char c = s.charAt(i);\n            if (c != '0' || res.length() > 0) {\n                res += c;\n            }\n        }\n        if (res.length() == 0) {\n            res = \"0\";\n        }\n        return res;\n    }\n\n    int toDigit(char c) {\n        if (c >= '0' && c <= '9') {\n            return c - '0';\n        }\n        return c - 'A' + 10;\n    }\n\n    int parseInt(String s, int r) {\n        int res = 0;\n        for (char c : s.toCharArray()) {\n            int x = toDigit(c);\n            if (x >= r) {\n                throw new NumberFormatException();\n            }\n            res = res * r + x;\n        }\n        return res;\n    }\n\n    void solve() throws IOException {\n        String[] a = in.readLine().split(\":\");\n        a[0] = trim(a[0]);\n        a[1] = trim(a[1]);\n        List<Integer> ans = new ArrayList<>();\n        for (int i = 2; i <= 80; i++) {\n            int x, y;\n            try {\n                x = parseInt(a[0], i);\n                y = parseInt(a[1], i);\n            } catch (NumberFormatException e) {\n                continue;\n            }\n            if (x <= 23 && y <= 59) {\n                ans.add(i);\n            }\n        }\n        if (ans.size() == 0) {\n            println(0);\n        } else if (a[0].length() == 1 && a[1].length() == 1) {\n            println(-1);\n        } else {\n            for (int i : ans) {\n                print(i);\n                print(\" \");\n            }\n        }\n    }\n\n    Main() {\n        super(System.out);\n        in = new BufferedReader(new InputStreamReader(System.in));\n    }\n\n    Main(String fileIn, String fileOut) throws IOException {\n        super(fileOut);\n        in = new BufferedReader(new FileReader(fileIn));\n    }\n\n    public static void main(String[] args) throws IOException {\n        Main main;\n        if (\"_std\".equals(IO)) {\n            main = new Main();\n        } else if (\"_iotxt\".equals(IO)) {\n            main = new Main(\"input.txt\", \"output.txt\");\n        } else {\n            main = new Main(IO + \".in\", IO + \".out\");\n        }\n        main.solve();\n        main.close();\n    }\n\n    String next() throws IOException {\n        while (stok == null || !stok.hasMoreTokens()) {\n            String s = in.readLine();\n            if (s == null) {\n                return null;\n            }\n            stok = new StringTokenizer(s);\n        }\n        return stok.nextToken();\n    }\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(next());\n    }\n\n    long nextLong() throws IOException {\n        return Long.parseLong(next());\n    }\n\n    double nextDouble() throws IOException {\n        return Double.parseDouble(next());\n    }\n\n    int[] nextIntArray(int len) throws IOException {\n        int[] a = new int[len];\n        for (int i = 0; i < len; i++) {\n            a[i] = nextInt();\n        }\n        return a;\n    }\n\n    int[] nextIntArraySorted(int len) throws IOException {\n        int[] a = nextIntArray(len);\n        shuffle(a);\n        Arrays.sort(a);\n        return a;\n    }\n\n    void shuffle(int[] a) {\n        for (int i = 1; i < a.length; i++) {\n            int x = rand.nextInt(i + 1);\n            int _ = a[i];\n            a[i] = a[x];\n            a[x] = _;\n        }\n    }\n\n    void shuffleAndSort(int[] a) {\n        shuffle(a);\n        Arrays.sort(a);\n    }\n\n    boolean nextPermutation(int[] p) {\n        for (int a = p.length - 2; a >= 0; --a) {\n            if (p[a] < p[a + 1])\n                for (int b = p.length - 1; ; --b)\n                    if (p[b] > p[a]) {\n                        int t = p[a];\n                        p[a] = p[b];\n                        p[b] = t;\n                        for (++a, b = p.length - 1; a < b; ++a, --b) {\n                            t = p[a];\n                            p[a] = p[b];\n                            p[b] = t;\n                        }\n                        return true;\n                    }\n        }\n        return false;\n    }\n\n    <T> List<T>[] createAdjacencyList(int n) {\n        List<T>[] res = new List[n];\n        for (int i = 0; i < n; i++) {\n            res[i] = new ArrayList<>();\n        }\n        return res;\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool isBase(string s1, string s2, int base) {\n  int ans1 = 0, ans2 = 0;\n  for (int i = s1.length() - 1; i >= 0; i--) {\n    if ('A' <= s1[i] && s1[i] <= 'Z')\n      ans1 = ans1 + ((s1[i] - 'A' + 10) * (pow(base, s1.length() - i - 1)));\n    else\n      ans1 = ans1 + ((s1[i] - '0') * (pow(base, s1.length() - i - 1)));\n  }\n  for (int i = s2.length() - 1; i >= 0; i--) {\n    if ('A' <= s2[i] && s2[i] <= 'Z')\n      ans2 = ans2 + ((s2[i] - 'A' + 10) * (pow(base, s2.length() - i - 1)));\n    else\n      ans2 = ans2 + ((s2[i] - '0') * (pow(base, s2.length() - i - 1)));\n  }\n  if ((0 <= ans1 && ans1 <= 23) && (0 <= ans2 && ans2 <= 59))\n    return true;\n  else\n    return false;\n}\nbool zeroExcept(string s1, string s2) {\n  for (int i = 0; i < s1.length() - 1; i++) {\n    if (s1[i] == '0')\n      continue;\n    else\n      return 0;\n  }\n  for (int i = 0; i < s2.length() - 1; i++) {\n    if (s2[i] == '0')\n      continue;\n    else\n      return 0;\n  }\n  if (('0' <= s1[s1.length() - 1] && s1[s1.length() - 1] <= '9') ||\n      ('A' <= s1[s1.length() - 1] && s1[s1.length() - 1] <= 'N'))\n    return 1;\n  else\n    return 0;\n}\nint main() {\n  string s;\n  cin >> s;\n  int i = 0;\n  while (s[i] != ':') i++;\n  string s1, s2;\n  s1 = s.substr(0, i);\n  s2 = s.substr(i + 1, s.length());\n  if (zeroExcept(s1, s2)) {\n    cout << \"-1\" << endl;\n    return 0;\n  }\n  int max_ = -1;\n  for (int i = 0; i < s.length(); i++) {\n    if ('0' <= s[i] && s[i] <= '9') max_ = max(max_, s[i] - '0');\n    if ('A' <= s[i] && s[i] <= 'Z') max_ = max(max_, s[i] - 'A' + 10);\n  }\n  for (int i = max_ + 1; i <= 60; i++) {\n    if (isBase(s1, s2, i))\n      cout << i << \" \";\n    else if (i == max_ + 1) {\n      cout << \"0\" << endl;\n      return 0;\n    } else\n      return 0;\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint dx[] = {-1, 1, 0, 0, 0, 0, 0, 0};\nint dy[] = {0, 0, 1, -1, 0, 0, 0, 0};\nconst long long inf = 100000007;\nconst double eps = 0.000000009;\nlong long mod = 1000000007;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  string s;\n  cin >> s;\n  int p = 0;\n  string s1, s2;\n  while (s[p] == '0') p++;\n  while (s[p] != ':') {\n    s1.push_back(s[p]);\n    p++;\n  }\n  p++;\n  while (s[p] == '0') p++;\n  while (p < s.length()) {\n    s2.push_back(s[p]);\n    p++;\n  }\n  if (s1.length() == 0) s1.push_back('0');\n  if (s2.length() == 0) s2.push_back('0');\n  map<char, int> m;\n  for (int i = 0; i < 10; i++) m[char('0' + i)] = i;\n  for (int i = 0; i < 26; i++) m[char('A' + i)] = 10 + i;\n  int minb = 0;\n  for (int i = 0; i < s1.length(); i++) minb = max(minb, m[s1[i]]);\n  for (int i = 0; i < s2.length(); i++) minb = max(minb, m[s2[i]]);\n  if (s1.length() == 1 && s2.length() == 1 && m[s1[0]] <= 23) {\n    cout << -1 << endl;\n    return 0;\n  }\n  vector<int> sol;\n  for (int i = minb + 1; i < 70; i++) {\n    int x1 = 0, y1 = 0;\n    for (int j = 0; j < s1.length(); j++) {\n      x1 = x1 * i + m[s1[j]];\n    }\n    for (int j = 0; j < s2.length(); j++) {\n      y1 = y1 * i + m[s2[j]];\n    }\n    if (x1 <= 23 && y1 <= 59) {\n      sol.push_back(i);\n    }\n  }\n  if (sol.size()) {\n    for (int i = 0; i < sol.size(); i++) cout << sol[i] << \" \";\n  } else\n    cout << 0 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int inf = 0x3f3f3f3f;\nconst double eps = 1e-6;\ntemplate <typename A, typename B>\nostream& operator<<(ostream& os, const pair<A, B>& p) {\n  return os << p.first << ',' << p.second;\n}\ntemplate <typename T>\nstruct point {\n  T x, y;\n  point(T xx = 0, T yy = 0) : x(xx), y(yy) {}\n  T len2() const { return x * x + y * y; }\n  double len() const { return sqrt(double(len2())); }\n  bool operator==(const point<T>& p) const { return x == p.x && y == p.y; }\n};\ntemplate <typename T>\npoint<T> operator+(const point<T>& a, const point<T>& b) {\n  return point<T>(a.x + b.x, a.y + b.y);\n}\ntemplate <typename T>\npoint<T> operator-(const point<T>& a, const point<T>& b) {\n  return point<T>(a.x - b.x, a.y - b.y);\n}\ntemplate <typename T>\nT scal(const point<T>& a, const point<T>& b) {\n  return a.x * b.x + a.y * b.y;\n}\ntemplate <typename T>\nT vect(const point<T>& a, const point<T>& b) {\n  return a.x * b.y - a.y * b.x;\n}\ntemplate <typename T>\nostream& operator<<(ostream& os, const point<T>& p) {\n  return os << '(' << p.x << ',' << p.y << ')';\n}\nint todigit(char x) {\n  if (isdigit(x)) return x - '0';\n  return x - 'A' + 10;\n}\nint toint(const string& s, int k) {\n  int q = 0;\n  for (int i = 0; i < s.size(); i++) {\n    if (todigit(s[i]) >= k) {\n      return -1;\n    }\n    q = q * k + todigit(s[i]);\n    if (q > 60) return q;\n  }\n  return q;\n}\nint main() {\n  string s;\n  cin >> s;\n  int p = s.find(':');\n  string a(s.substr(0, p));\n  string b(s.substr(p + 1));\n  int res = 0;\n  for (int i = 2; i < 1000; i++) {\n    int h = toint(a, i);\n    int m = toint(b, i);\n    if (h < 0 || m < 0) continue;\n    if (h >= 24 || m >= 60) continue;\n    res++;\n  }\n  if (res > 900) {\n    puts(\"-1\");\n  } else if (!res) {\n    puts(\"0\");\n  } else {\n    for (int i = 2; i < 1000; i++) {\n      int h = toint(a, i);\n      int m = toint(b, i);\n      if (h < 0 || m < 0) continue;\n      if (h >= 24 || m >= 60) continue;\n      printf(\"%d \", i);\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\n\npublic class Main implements Runnable {\n\t\t\n\tpublic void solve() throws IOException {\n\t\tString[] s = nextToken().split(\":\");\n                ArrayList<Integer> al = new ArrayList<>();\n                for(int i = 2; i < 60; i++){\n                    int hrs = convert(s[0], i);\n                    int min = convert(s[1], i);\n                    if(hrs >= 0 && hrs <= 23 && min >= 0 && min <= 59) al.add(i);\n                }\n                \n                int hrs = convert(s[0], 100);\n                int min = convert(s[1], 100);\n                if(hrs >= 0 && hrs <= 23 && min >= 0 && min <= 59){\n                    out.println(-1);\n                    return;\n                }\n                \n                if(al.isEmpty()){\n                    out.println(al.size());\n                    return;\n                }\n                \n                for(int i : al) out.print(i + \" \");\n                out.println();\n\t}\n        \n        public int convert(String s, int base){\n            int result = 0;\n            for(char c : s.toCharArray()){\n                int now = Character.isDigit(c) ? c - '0' : c - 'A' + 10;\n                if(now >= base) return -1;\n                result *= base;\n                result += now;\n            }\n            \n            return result;\n        }\n\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t//-----------------------------------------------------------\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n        public void debug(Object... arr){\n            System.out.println(Arrays.deepToString(arr));\n        }\n\n        public void print1Int(int[] a){\n                for(int i = 0; i < a.length; i++)\n                        System.out.print(a[i] + \" \");\n                System.out.println();\n        }\n        \n        public void print2Int(int[][] a){\n                for(int i = 0; i < a.length; i++){\n                        for(int j = 0; j < a[0].length; j++){\n                                System.out.print(a[i][j] + \" \");\n                        }\n                        System.out.println();\n                }\n        }\n        \n\tpublic void run() {\n\t\ttry {\n\t\t\tin = new BufferedReader(new InputStreamReader(System.in));\n                        out = new PrintWriter(System.out);\n\t\t\ttok = null;\n\t\t\tsolve();\n\t\t\tin.close();\n                        out.close();\n\t\t} catch (IOException e) {\n\t\t\tSystem.exit(0);\n\t\t}\n\t}\n\n\tpublic String nextToken() throws IOException {\n\t\twhile (tok == null || !tok.hasMoreTokens()) {\n\t\t\ttok = new StringTokenizer(in.readLine());\n\t\t}\n\t\treturn tok.nextToken();\n\t}\n\n\tpublic int nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tpublic long nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tpublic double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n        PrintWriter out;\n\tBufferedReader in;\n\tStringTokenizer tok;\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  map<char, int> mp;\n  int k = 0;\n  for (char j = '0'; j <= '9'; j++) {\n    mp[j] = k;\n    k++;\n  }\n  for (char j = 'A'; j <= 'Z'; j++) {\n    mp[j] = k;\n    k++;\n  }\n  string s;\n  cin >> s;\n  string s1 = \"\", s2 = \"\";\n  int flag = 0;\n  int i = 0;\n  int mx = 0;\n  while (s[i] != ':' && flag == 0) {\n    s1 += s[i];\n    if (mp[s[i]] > mx) mx = mp[s[i]];\n    i++;\n  }\n  i++;\n  while (i < s.size()) {\n    s2 += s[i];\n    if (mp[s[i]] > mx) mx = mp[s[i]];\n    i++;\n  }\n  int sz1 = s1.size();\n  int sz2 = s2.size();\n  for (int i = mx + 1; i < 60; i++) {\n    int h = 0, m = 0;\n    for (int j = 0; j < sz1; j++) {\n      int k = mp[s1[sz1 - j - 1]] * pow(i, j);\n      h += k;\n    }\n    for (int j = 0; j < sz2; j++) {\n      m += mp[s2[sz2 - j - 1]] * pow(i, j);\n    }\n    if (i == mx + 1 && (h > 23 || m > 59)) {\n      cout << 0;\n      break;\n    }\n    if (i == mx + 1 &&\n        (h == mp[s1[s1.size() - 1]] && m == mp[s2[s2.size() - 1]])) {\n      cout << -1;\n      break;\n    }\n    if (i > mx + 1 && (h > 23 || m > 59)) {\n      break;\n    }\n    cout << i << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Scanner;\n\n/**\n * Created by IntelliJ IDEA.\n * User: mihai\n * Date: 2/3/12\n * Time: 10:45 PM\n */\npublic class problemB {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        String in = sc.next();\n        String[] desp = in.split(\":\");\n        String a = desp[0]; String b = desp[1];\n\n        int minB = 0;\n        for (int i = 0; i < a.length(); i++) {\n            int x;\n            if (Character.isDigit(a.charAt(i))) {\n                x = Integer.parseInt(a.charAt(i) + \"\");\n                minB = Math.max(minB, x);\n            } else {\n                x = a.charAt(i) - 'A' + 10;\n                minB = Math.max(minB, x);\n            }\n        }\n        for (int i = 0; i < b.length(); i++) {\n            int x;\n            if (Character.isDigit(b.charAt(i))) {\n                x = Integer.parseInt(b.charAt(i) + \"\");\n                minB = Math.max(minB, x);\n            } else {\n                x = b.charAt(i) - 'A' + 10;\n                minB = Math.max(minB, x);\n            }\n        }\n\n\n        minB ++;\n        ArrayList<Integer> ans = new ArrayList<Integer>();\n        while (!a.equals(\"\") && a.charAt(0) == '0') a = a.substring(1);\n        while (!b.equals(\"\") && b.charAt(0) == '0') b = b.substring(1);\n\n\n        for (int i = minB; ; i++) {\n            int arez = 0, brez = 0;\n            for (int j = a.length() - 1; j >= 0; j--) {\n                arez += Math.pow(i, a.length() - j - 1) *  getValue(a.charAt(j));\n            }\n            for (int j = b.length() - 1; j >= 0; j--) {\n                brez += Math.pow(i, b.length() - j - 1) *  getValue(b.charAt(j));\n            }\n            if (arez > 23 || brez > 59) break;\n            ans.add(i);\n            if ( i > 100) {\n                System.out.println(-1);\n                return;\n            }\n        }\n\n        if (ans.size() == 0) {\n            System.out.println(0);\n            return;\n        }\n        \n        for (int i : ans) {\n            System.out.println(i);\n        }\n    }\n    \n    private static int getValue(char c) {\n        if (Character.isDigit(c))\n            return c - '0';\n        else return c - 'A' + 10;\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> resp;\nstring h, m;\nbool sirve(int a) {\n  int hh = 0, mm = 0;\n  int n = 0;\n  int pot = 1;\n  for (int i = h.size() - 1; i >= 0; i--) {\n    if (h[i] <= '9')\n      n = h[i] - '0';\n    else\n      n = h[i] - 'A' + 10;\n    if (n >= a) return false;\n    hh += n * pot;\n    pot *= a;\n  }\n  pot = 1;\n  for (int i = m.size() - 1; i >= 0; i--) {\n    if (m[i] <= '9')\n      n = m[i] - '0';\n    else\n      n = m[i] - 'A' + 10;\n    if (n >= a) return false;\n    mm += n * pot;\n    pot *= a;\n  }\n  if (hh > 23 || mm > 59) return false;\n  return true;\n}\nint main() {\n  string cad;\n  cin >> cad;\n  int i = 0;\n  while (cad[i] != ':') {\n    h += cad[i];\n    i++;\n  }\n  i++;\n  while (i < cad.size()) {\n    m += cad[i];\n    i++;\n  }\n  int base = 2;\n  bool flag = false;\n  while (1) {\n    if (sirve(base)) {\n      resp.push_back(base);\n      flag = true;\n    } else {\n      if (flag) break;\n    }\n    base++;\n    if (base > 60) break;\n  }\n  if (!flag) {\n    cout << \"0\" << endl;\n    return 0;\n  }\n  if (base > 60) {\n    cout << \"-1\" << endl;\n    return 0;\n  }\n  for (int i = 0; i < resp.size(); i++) {\n    cout << resp[i] << \" \";\n  }\n  cout << endl;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.math.BigInteger;\nimport java.util.*;\n\npublic class B {\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader r = new BufferedReader(new InputStreamReader(System.in));\n\t\tString s = r.readLine();\n\t\tString[] sp = s.split(\":\");\n\t\tfor (int i = 0; i < sp.length; i++) {\n\t\t\tint index = 0;\n\t\t\twhile (index < sp[i].length() && sp[i].charAt(index) == '0') {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t\tif (index == sp[i].length())\n\t\t\t\tsp[i] = \"0\";\n\t\t\telse\n\t\t\t\tsp[i] = sp[i].substring(index);\n\t\t}\n\t\tint minRadix = 2;\n\t\tfor (String str : sp) {\n\t\t\tfor (int i = 0; i < str.length(); i++) {\n\t\t\t\tminRadix = Math.max(minRadix, get(str.charAt(i)) + 1);\n\t\t\t}\n\t\t}\n\t\tint h = new BigInteger(sp[0],minRadix).intValue();\n\t\tint m = new BigInteger(sp[1],minRadix).intValue();\n\t\tif(h>=24||m>=60){\n\t\t\tSystem.out.println(0);return;\n\t\t}\n\t\tif(sp[0].length()==1&&sp[1].length()==1){\n\t\t\tSystem.out.println(-1);\n\t\t\treturn;\n\t\t}\n\t\twhile(true){\n\t\t\th =\tconvert(sp[0],minRadix);\n\t\t\tm =convert(sp[1],minRadix);\n\t\t\tif(h>=24||m>=60){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tSystem.out.println(minRadix);\n\t\t\tminRadix++;\n\t\t}\n\t}\n\n\tprivate static int convert(String s, int r) {\n\t\tint pow=1;\n\t\tint res=0;\n\t\tfor(int i=s.length()-1;i>=0;i--){\n\t\t\tres+=pow*get(s.charAt(i));\n\t\t\tpow*=r;\n\t\t}\n\t\treturn res;\n\t}\n\n\tprivate static int get(char c) {\n\t\tif (Character.isDigit(c))\n\t\t\treturn c - '0';\n\t\treturn c - 'A' + 10;\n\t}\n}\n"
        },
        {
            "language": 3,
            "solution": "\n\ndef f(x, k):\n\n    if 1 < k < 37: return int(x, k)\n\n    s = 0\n\n    for i in x:\n\n        s = s * k\n\n        s += int(i, 36)\n\n    return s\n\n\n\na, b = input().split(':')\n\ni = j = k = max(int(max(a), 36), int(max(b), 36)) + 1\n\nx, y = (f(a, k) == f(a, k + 1)), (f(b, k) == f(b, k + 1))\n\nif x and y: print(-1 if a[-1] < 'O' else 0)\n\nelse:\n\n    if x: i = 61\n\n    else:\n\n        while f(a, i) < 24: i += 1\n\n    if y: j = i\n\n    else:\n\n        while j < i and f(b, j) < 60: j += 1\n\n    print(' '.join(map(str, range(k, j))) if k < j else 0)\n\n    \n\n\n\n# Made By Mostafa_Khaled"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.StringTokenizer;\n\npublic class B {\n\tBufferedReader in;\n\tStringTokenizer str;\n\tPrintWriter out;\n\tString SK;\n\n\tString next() throws IOException {\n\t\twhile ((str == null) || (!str.hasMoreTokens())) {\n\t\t\tSK = in.readLine();\n\t\t\tif (SK == null)\n\t\t\t\treturn null;\n\t\t\tstr = new StringTokenizer(SK, \":\");\n\t\t}\n\t\treturn str.nextToken();\n\t};\n\n\tint nextInt() throws IOException {\n\t\treturn Integer.parseInt(next());\n\t};\n\n\tdouble nextDouble() throws IOException {\n\t\treturn Double.parseDouble(next());\n\t};\n\n\tlong nextLong() throws IOException {\n\t\treturn Long.parseLong(next());\n\t};\n\n\tint[] get(String S) {\n\t\tint n = S.length();\n\t\tint[] a = new int[n];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (S.charAt(i) >= 'A')\n\t\t\t\ta[i] = 10 + S.charAt(i) - 'A';\n\t\t\telse\n\t\t\t\ta[i] = S.charAt(i) - '0';\n\t\t}\n\t\treturn a;\n\t}\n\n\tlong count(int[] a, int b) {\n\t\tlong res = 0;\n\t\tint n = a.length;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tif (a[i] >= b)\n\t\t\t\treturn 500;\n\t\t\telse\n\t\t\t\tres = res * b + a[i];\n\t\treturn res;\n\t}\n\n\tvoid solve() throws IOException {\n\t\tint[] a = get(next());\n\t\tint[] b = get(next());\n\t\tboolean fl = true;\n\t\tfor (int i = 0; i < a.length - 1; i++)\n\t\t\tfl = fl && (a[i] == 0);\n\t\tfor (int i = 0; i < b.length - 1; i++)\n\t\t\tfl = fl && (b[i] == 0);\n\t\tif (a[a.length - 1] > 23) {\n\t\t\tout.println(0);\n\t\t\treturn;\n\t\t}\n\t\tif (fl) {\n\t\t\tout.println(\"-1\");\n\t\t\treturn;\n\t\t}\n\t\tint[] can = new int[100];\n\t\tint sum = 0;\n\t\tfor (int i = 0; i < 100; i++) {\n\t\t\tif (count(a, i) < 24 && count(b, i) < 60) {\n\t\t\t\tsum++;\n\t\t\t\tcan[i] = 1;\n\t\t\t}\n\t\t}\n\t\tif (sum == 0)\n\t\t\tout.println(sum);\n\t\telse\n\t\t\tfor (int i = 0; i < 100; i++)\n\t\t\t\tif (can[i] == 1)\n\t\t\t\t\tout.print(i + \" \");\n\t};\n\n\tvoid run() throws IOException {\n\n\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tnew B().run();\n\t}\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint a[5], b[5];\nint mu(int a, int n) {\n  int i, kq = 1;\n  for (i = 0; i < n; i++) {\n    kq *= a;\n  }\n  return kq;\n}\nint tinh(int p[], int n, int base) {\n  int i, sum = 0;\n  for (i = n - 1; i >= 0; i--) {\n    sum += p[i] * mu(base, n - i - 1);\n  }\n  return sum;\n}\nint main() {\n  int i, na, nb, ma = 0, mb = 0, max, check = 0;\n  char c;\n  i = 0;\n  while ((c = getchar()) != EOF) {\n    if (c >= '0' && c < '9') a[i++] = c - '0';\n    if (c >= 'A' && c <= 'Z') a[i++] = c - 'A' + 10;\n    if (a[i - 1] > ma) ma = a[i - 1];\n    if (c == ':') break;\n  }\n  na = i;\n  i = 0;\n  while ((c = getchar()) != EOF) {\n    if (c >= '0' && c < '9') b[i++] = c - '0';\n    if (c >= 'A' && c <= 'Z') b[i++] = c - 'A' + 10;\n    if (b[i - 1] > mb) mb = b[i - 1];\n    if (c == '\\n') break;\n  }\n  nb = i;\n  if (ma > mb)\n    max = ma + 1;\n  else\n    max = mb + 1;\n  if (tinh(a, na, max) > 23 || tinh(b, nb, max) > 59) {\n    printf(\"0\\n\");\n    return 0;\n  }\n  for (i = 0; i < na - 1; i++)\n    if (a[i] != 0) check = 1;\n  for (i = 0; i < nb - 1; i++)\n    if (b[i] != 0) check = 1;\n  if (check == 0) {\n    printf(\"-1\\n\");\n    return 0;\n  }\n  i = max;\n  while (tinh(a, na, i) < 24 && tinh(b, nb, i) < 60) {\n    printf(\"%d \", i);\n    i++;\n  }\n  printf(\"\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.LinkedList;\nimport java.util.Queue;\n\npublic class B {\n\tpublic static void main(String[] args) throws IOException\n\t{\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString[] time = br.readLine().split(\":\");\n\t\tint posH = 0;\n\t\tint posM = 0;\n\t\tString h = time[0];\n\t\tString m = time[1];\n\t\twhile (posH < h.length() - 1 && h.charAt(posH) == '0')\n\t\t\tposH++;\n\t\twhile (posM < m.length() - 1 && m.charAt(posM) == '0')\n\t\t\tposM++;\n\t\th = h.substring(posH);\n\t\tm = m.substring(posM);\n\t\tint ho = parse(h.charAt(0));\n\t\tint mi = parse(m.charAt(0));\n\t\tif (h.length() == 1 && m.length() == 1 && ho < 24 && mi < 60)\n\t\t{\n\t\t\tSystem.out.println(-1);\n\t\t} else\n\t\t{\n\t\t\tint r = 0;\n\t\t\tfor (int i = 0; i < h.length(); i++)\n\t\t\t\tr = Math.max(r, parse(h.charAt(i)));\n\t\t\tfor (int i = 0; i < m.length(); i++)\n\t\t\t\tr = Math.max(r, parse(m.charAt(i)));\n\t\t\tr++;\n\t\t\tlong hour = 0, min = 0;\n\t\t\tQueue<Integer> q = new LinkedList<Integer>();\n\t\t\twhile (hour < 24 && min < 60)\n\t\t\t{\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\thour = value(h, r);\n\t\t\t\t\tmin = value(m,r);\n\t\t\t\t\tif (hour < 24 && min < 60)\n\t\t\t\t\t\tq.add(r);\n\t\t\t\t\tr++;\n\t\t\t\t} catch (Exception e)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (q.isEmpty())\n\t\t\t\tSystem.out.println(0);\n\t\t\telse\n\t\t\t{\n\t\t\t\twhile (q.size() > 1)\n\t\t\t\t\tSystem.out.print(q.poll() + \" \");\n\t\t\t\tSystem.out.println(q.poll());\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static long value(String m, int r)\n\t{\n\t\tlong v = 0;\n\t\tlong pow = 1;\n\t\tfor(int i = m.length()-1;i>=0;i--)\n\t\t{\n\t\t\tv += parse(m.charAt(i))*pow;\n\t\t\tpow *=r;\n\t\t}\n\t\treturn v;\n\t}\n\n\tprivate static int parse(char c)\n\t{\n\t\tint v;\n\t\tif (c >= '0' && c <= '9')\n\t\t\tv = c - '0';\n\t\telse\n\t\t\tv = c - 'A' + 10;\n\t\treturn v;\n\t}\n\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n// Created by @thesupremeone on 07/07/21\npublic class MartianClock {\n\n    int minRadix(String s){\n        for (int i = 2; i <= 36; i++) {\n            int x;\n            try {\n                x = Integer.parseInt(s, i);\n                return i;\n            }catch (Exception ignored){\n\n            }\n        }\n        return -1;\n    }\n\n    boolean isValidTime(String hr, String min, int radix){\n        int h = Integer.parseInt(hr, radix);\n        int m = Integer.parseInt(min, radix);\n        return h<24 && m<60;\n    }\n\n    boolean singleDigit(String s){\n        int i = 0;\n        while (i<s.length() && s.charAt(i)=='0') i++;\n        return i==s.length() || i==s.length()-1;\n    }\n\n    void solve() throws IOException {\n        String s = getLine();\n        String[] parts = s.split(\":\");\n        String hr = parts[0];\n        String min = parts[1];\n        int minRadix = Math.max(minRadix(hr), minRadix(min));\n        if(!isValidTime(hr, min, minRadix)){\n            println(0);\n            return;\n        }\n        if(singleDigit(hr) && singleDigit(min)){\n            print(-1);\n        }else if(singleDigit(hr)){\n            int delta = Integer.parseInt(min, minRadix+1)-Integer.parseInt(min, minRadix);\n            int m = Integer.parseInt(min, minRadix);\n            int radix = minRadix;\n            while (m<60){\n                print(radix+\" \");\n                radix++;\n                m+=delta;\n            }\n        }else {\n            for (int i = minRadix; i <= 36; i++) {\n                if(isValidTime(hr, min, i)){\n                    print(i+\" \");\n                }\n            }\n        }\n        println(\"\");\n    }\n\n    public static void main(String[] args) throws Exception {\n        if (isOnlineJudge()) {\n            in = new BufferedReader(new InputStreamReader(System.in));\n            out = new BufferedWriter(new OutputStreamWriter(System.out));\n            new MartianClock().solve();\n            out.flush();\n        } else {\n            localJudge = new Thread();\n            in = new BufferedReader(new FileReader(\"input.txt\"));\n            out = new BufferedWriter(new FileWriter(\"output.txt\"));\n            localJudge.start();\n            new MartianClock().solve();\n            out.flush();\n            localJudge.suspend();\n        }\n    }\n    static boolean isOnlineJudge(){\n        try {\n            return System.getProperty(\"ONLINE_JUDGE\")!=null\n                    || System.getProperty(\"LOCAL\")==null;\n        }catch (Exception e){\n            return true;\n        }\n    }\n    // Fast Input & Output\n    static Thread localJudge = null;\n    static BufferedReader in;\n    static StringTokenizer st;\n    static BufferedWriter out;\n    static String getLine() throws IOException{\n        return in.readLine();\n    }\n    static String getToken() throws IOException{\n        if(st==null || !st.hasMoreTokens())\n            st = new StringTokenizer(getLine());\n        return st.nextToken();\n    }\n    static int getInt() throws IOException {\n        return Integer.parseInt(getToken());\n    }\n    static long getLong() throws IOException {\n        return Long.parseLong(getToken());\n    }\n    static void print(Object s) throws IOException{\n        out.write(String.valueOf(s));\n    }\n    static void println(Object s) throws IOException{\n        out.write(String.valueOf(s));\n        out.newLine();\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nnamespace patch {\ntemplate <typename T>\nstd::string to_string(const T& n) {\n  std::ostringstream stm;\n  stm << n;\n  return stm.str();\n}\n}  // namespace patch\nusing namespace std;\nint main() {\n  map<char, long long int> mp;\n  for (char i = '0'; i <= '9'; i++) {\n    mp[i] = (i - '0');\n  }\n  for (int i = 'A', j = 10; i <= 'Z'; i++, j++) {\n    mp[i] = j;\n  }\n  string S, a, b;\n  long long int mx = 0;\n  cin >> S;\n  bool flag = false, c = false;\n  for (int i = 0; i < S.size(); i++) {\n    if (S[i] == ':') {\n      c = true;\n      flag = false;\n      continue;\n    }\n    if (S[i] != '0') {\n      flag = true;\n    }\n    if (flag) {\n      if (!c) {\n        a += S[i];\n      } else {\n        b += S[i];\n      }\n    }\n    mx = max(mx, mp[S[i]]);\n  }\n  if (a.size() == 0) {\n    a = \"0\";\n  }\n  if (b.size() == 0) {\n    b = \"0\";\n  }\n  mx++;\n  if (a.size() == 1 && b.size() == 1) {\n    if (mp[a[0]] >= 24) {\n      cout << 0;\n    } else {\n      cout << -1;\n    }\n    return 0;\n  }\n  bool chk = false;\n  while (1) {\n    long long int HH, MM, w8 = 1;\n    HH = MM = 0;\n    for (int i = a.size() - 1; i >= 0; i--) {\n      HH += mp[a[i]] * w8;\n      w8 *= mx;\n    }\n    w8 = 1;\n    for (int i = b.size() - 1; i >= 0; i--) {\n      MM += mp[b[i]] * w8;\n      w8 *= mx;\n    }\n    if (HH < 24 && MM < 60) {\n      cout << mx << \" \";\n      chk = true;\n    } else {\n      break;\n    }\n    mx++;\n  }\n  if (!chk) {\n    cout << 0;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint num(char s) {\n  if (s >= '0' && s <= '9')\n    return s - '0';\n  else\n    return s - 'A' + 10;\n}\nint main() {\n  string input, h, m;\n  vector<int> result;\n  int i, hrs, mts, j;\n  cin >> input;\n  int max = -1;\n  for (i = 0; i < input.size(); i++)\n    if (input[i] == ':') {\n      h = input.substr(0, i);\n      m = input.substr(i + 1);\n    } else if (num(input[i]) > max)\n      max = num(input[i]);\n  int k = 0;\n  for (i = max + 1; i < 60; i++) {\n    hrs = 0;\n    mts = 0;\n    for (j = 0; j < h.length(); j++) hrs = hrs * i + num(h[j]);\n    for (j = 0; j < m.length(); j++) mts = mts * i + num(m[j]);\n    if (hrs < 24 && hrs >= 0 && mts < 60 && mts >= 0) result.push_back(i);\n  }\n  hrs = 0;\n  mts = 0;\n  for (j = 0; j < h.length(); j++) hrs = hrs * 100 + num(h[j]);\n  for (j = 0; j < m.length(); j++) mts = mts * 100 + num(m[j]);\n  if (hrs < 24 && hrs >= 0 && mts < 60 && mts >= 0)\n    cout << -1;\n  else if (result.empty())\n    cout << 0;\n  else\n    for (i = 0; i < result.size(); i++) cout << result[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.awt.Point;\nimport java.io.*;\nimport java.math.BigInteger;\nimport java.security.KeyStore.Builder;\nimport java.util.*;\n\nimport javax.swing.text.html.CSS;\n\nimport static java.lang.Math.*;\n\npublic class Start {\n\n    final boolean ONLINE_JUDGE = System.getProperty(\"ONLINE_JUDGE\") != null;\n    BufferedReader in;\n    PrintWriter out;\n    StringTokenizer tok = new StringTokenizer(\"\");\n\n    void init() throws FileNotFoundException {\n        if (ONLINE_JUDGE) {\n            in = new BufferedReader(new InputStreamReader(System.in));\n            out = new PrintWriter(System.out);\n        } else {\n            in = new BufferedReader(new FileReader(\"input.txt\"));\n            out = new PrintWriter(\"output.txt\");\n        }\n    }\n\n    String readString() throws IOException {\n        while (!tok.hasMoreTokens()) {\n            tok = new StringTokenizer(in.readLine());\n        }\n        return tok.nextToken();\n    }\n\n    int readInt() throws IOException {\n        return Integer.parseInt(readString());\n    }\n\n    long readLong() throws IOException {\n        return Long.parseLong(readString());\n    }\n\n    double readDouble() throws IOException {\n        return Double.parseDouble(readString());\n    }\n\n    public static void main(String[] args) {\n        new Start().run();\n    }\n\n    public void run() {\n        try {\n            long t1 = System.currentTimeMillis();\n            init();\n            solve();\n            out.close();\n            long t2 = System.currentTimeMillis();\n            System.err.println(\"Time = \" + (t2 - t1));\n        } catch (Exception e) {\n            e.printStackTrace(System.err);\n            System.exit(-1);\n        }\n    }\n\n    // solve! good luck :)\n    \n    int convert (char c){\n        if (Character.isDigit(c)){\n            return c -'0';\n        }\n        else {\n            return c - 'A'+10;\n        }\n    }\n        \n    int f (int a,int b, int c, int d, int e, int x){\n        return a*x*x*x*x + b*x*x*x + c*x*x + d*x + e;\n    }\n    \n    public void solve() throws IOException {\n        \n        String s = readString();\n        ArrayDeque<Integer> dq1 = new ArrayDeque<Integer>();\n        ArrayDeque<Integer> dq2 = new ArrayDeque<Integer>();\n        \n        boolean bb = false;\n        int maxi = 0;\n        for (int i = 0; i<s.length(); i++){\n            if (s.charAt(i)==':' || bb==true){\n                bb = true;\n                if (s.charAt(i)==':'){\n                    continue;\n                }\n                if (dq2.size()==0 && s.charAt(i)=='0'){\n                }\n                else {\n                    dq2.add(convert(s.charAt(i)));\n                    maxi = max(maxi,convert(s.charAt(i)));\n                }\n            }\n            \n            else {\n                if (dq1.size()==0 && s.charAt(i)=='0'){\n                    \n                }else{\n                    dq1.add(convert(s.charAt(i)));\n                    maxi = max(maxi,convert(s.charAt(i)));\n\n                }\n            }\n        } \n        if (dq1.size()==0){\n            dq1.add(0);\n        }\n        if (dq2.size()==0){\n            dq2.add(0);\n        }\n        \n        if (dq1.size()==1 &&  dq2.size()==1){\n            if (dq1.poll()<=23){\n                out.print(-1);\n                return;\n            }\n            else {\n                out.print(0);\n                return;\n            }\n        }\n        \n        \n        while (dq1.size()!=5){\n            dq1.addFirst(0);\n        }\n        while (dq2.size()!=5){\n            dq2.addFirst(0);\n        }\n  \n        int a2 = dq2.poll();\n        int b2 = dq2.poll();\n        int c2 = dq2.poll();\n        int d2 = dq2.poll();\n        int e2 = dq2.poll();    \n        \n        int a = dq1.poll();\n        int b = dq1.poll();\n        int c = dq1.poll();\n        int d = dq1.poll();\n        int e = dq1.poll();\n        \n        ArrayList<Integer> list = new ArrayList<Integer>();\n        boolean ololo = false;\n        for (int i = maxi+1; i>-1; i++){\n            if(f(a2, b2, c2, d2, e2, i)<60 &&  f(a, b, c, d, e, i)<24){\n                out.print(i+\" \");\n                ololo = true;\n            }\n            else {if (ololo == false){\n                out.print(0);\n            }\n                 return;\n            }\n        }\n            \n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        InputReader in = new InputReader(inputStream);\n        PrintWriter out = new PrintWriter(outputStream);\n        MartianClock solver = new MartianClock();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class MartianClock {\n        public void solve(int testNumber, InputReader in, PrintWriter out) {\n            String str = in.next();\n            String input[] = str.split(\":\");\n            int low = 0;\n\n\n            for (int i = 0; i < input[0].length(); i++) {\n                low = Math.max(low, getInt(input[0].charAt(i)));\n            }\n\n            for (int i = 0; i < input[1].length(); i++) {\n                low = Math.max(low, getInt(input[1].charAt(i)));\n            }\n\n            low++;\n\n            if (low == 1) {\n                out.println(-1);\n                return;\n            }\n\n\n            int res = -1;\n            for (int i = low; i <= 60; i++) {\n                int a = getVal(input[0], i);\n                int b = getVal(input[1], i);\n\n\n                if (a >= 24 || b >= 60) {\n                    res = i;\n                    break;\n                }\n\n            }\n\n            if (res == low) {\n                out.println(0);\n                return;\n            }\n\n            if (res == -1) {\n                out.println(-1);\n                return;\n            }\n\n            for (int i = low; i < res; i++) {\n                out.print(i + \" \");\n            }\n\n\n        }\n\n        private int getVal(String s, int i) {\n            int res = 0;\n            int b = 0;\n            for (int j = s.length() - 1; j >= 0; j--) {\n                int val = (int) (getInt(s.charAt(j)) * Math.pow(i, b));\n                res += val;\n                b++;\n            }\n\n\n            return res;\n\n        }\n\n        private static int getInt(char c) {\n\n            if (c <= '9' && c >= '0') {\n                return c - '0';\n            }\n\n\n            return c - 'A' + 10;\n\n        }\n\n    }\n\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n        private InputReader.SpaceCharFilter filter;\n\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n\n        public int read() {\n            if (numChars == -1) {\n                throw new InputMismatchException();\n            }\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0) {\n                    return -1;\n                }\n            }\n            return buf[curChar++];\n        }\n\n        public String nextString() {\n            int c = read();\n            while (isSpaceChar(c)) {\n                c = read();\n            }\n            StringBuilder res = new StringBuilder();\n            do {\n                if (Character.isValidCodePoint(c)) {\n                    res.appendCodePoint(c);\n                }\n                c = read();\n            } while (!isSpaceChar(c));\n            return res.toString();\n        }\n\n        public boolean isSpaceChar(int c) {\n            if (filter != null) {\n                return filter.isSpaceChar(c);\n            }\n            return isWhitespace(c);\n        }\n\n        public static boolean isWhitespace(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n\n        public String next() {\n            return nextString();\n        }\n\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n\n        }\n\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid init();\nvoid processIn(string s);\nbool ck_inf();\nint calc(string s, int base);\nint max_base(string s);\nint power(int a, int b);\nstring hr, mn;\nmap<char, int> mp;\nint main() {\n  string s;\n  cin >> s;\n  processIn(s);\n  init();\n  if (ck_inf()) {\n    cout << \"-1\\n\";\n    return 0;\n  }\n  int mx1 = max(2, max_base(hr));\n  int mx2 = max(2, max_base(mn));\n  int maxx = max(mx1, mx2);\n  bool ans = 0;\n  for (int i = maxx; i < 60; i++) {\n    int vh, vm;\n    vh = calc(hr, i);\n    vm = calc(mn, i);\n    if (vh < 24 && vm < 60) {\n      ans = 1;\n      cout << i << \" \";\n    }\n  }\n  if (!ans) cout << \"0\" << endl;\n}\nvoid init() {\n  string s = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  for (int i = 0; i < 36; i++) mp[s[i]] = i;\n}\nvoid processIn(string s) {\n  int n = s.size();\n  int i = 0;\n  while (s[i] != ':') {\n    hr += s[i];\n    i++;\n  }\n  i++;\n  while (i < n) {\n    mn += s[i];\n    i++;\n  }\n}\nbool ck_inf() {\n  int n = hr.size();\n  for (int i = 0; i < n - 1; i++) {\n    if (hr[i] != '0') return 0;\n  }\n  if (mp[hr[n - 1]] > 23) return 0;\n  int m = mn.size();\n  for (int i = 0; i < m - 1; i++) {\n    if (mn[i] != '0') return 0;\n  }\n  return 1;\n}\nint max_base(string s) {\n  int n = s.size();\n  int mx = -1;\n  for (int i = 0; i < n; i++) mx = max(mx, mp[s[i]]);\n  return mx + 1;\n}\nint calc(string s, int base) {\n  int n = s.size();\n  int ans = 0;\n  for (int i = 0; i < n; i++) ans += (mp[s[i]] * power(base, n - i - 1));\n  return ans;\n}\nint power(int a, int b) {\n  int ans = 1;\n  for (int i = 1; i <= b; i++) ans *= a;\n  return ans;\n}\n"
        },
        {
            "language": 1,
            "solution": "import os\nimport sys\nimport traceback\n\ndoprint='DOPRINT' in os.environ\n\nord9 = ord('9')\nord0 = ord('0')\nordA = ord('A')\ndef conv(d):\n  ordd = ord(d)\n  if ordd <= ord9: return ordd - ord0\n  return 10 + ordd - ordA\n\ndef processds( ds):\n  rtn = map( conv, list(ds))\n  while rtn and not rtn[0]:\n    if doprint: print( rtn )\n    rtn.pop(0)\n  return rtn\n\ndef solveone( ds, ub):\n  if doprint: print( (ds,ub) )\n  if len(ds) == 0: return [-1, 2]\n  maxds = max(ds)\n  if maxds > ub: return [0,0]\n  if len(ds) == 1: return [-1,maxds+1]\n  lo = maxds + 1\n  summ = 0\n  for d in ds: summ = summ * lo + d\n  if doprint: print( ('A',lo,summ,ub,summ>ub) )\n  if summ>ub: return [0,0]\n  hi = lo\n  while True:\n    hi += 1\n    summ = 0\n    for d in ds: summ = summ * hi + d\n    if doprint: print( ('B',hi,summ,ub,summ>ub) )\n    if summ>ub: return [lo,hi-1]\n\ndef solve():\n  hs,ms = map( processds, sys.stdin.readline().strip('\\n\\r ').split(':') )\n\n  if doprint: print( (hs,ms) )\n\n  hminmax = solveone( hs, 23 )\n  if hminmax[0]==0: return [0]\n  mminmax = solveone( ms, 59 )\n  if mminmax[0]==0: return [0]\n\n  if doprint: print( (hminmax,mminmax) )\n\n  if hminmax[0]==-1 and mminmax[0]==-1: return [-1]\n  if hminmax[0]==-1:\n    if hminmax[1] > mminmax[1]: return [0]\n    if hminmax[1] > mminmax[0]: return range(hminmax[1],mminmax[1]+1)\n    return range(mminmax[0],mminmax[1]+1)\n  if mminmax[0]==-1:\n    if mminmax[1] > hminmax[1]: return [0]\n    if mminmax[1] > hminmax[0]: return range(mminmax[1],hminmax[1]+1)\n    return range(hminmax[0],hminmax[1]+1)\n  if hminmax[0] > mminmax[1]: return [0]\n  if mminmax[0] > hminmax[1]: return [0]\n  return range(max([hminmax[0],mminmax[0]]), min([hminmax[1],mminmax[1]])+1 )\n\nif __name__==\"__main__\":\n  pfx=''\n  for i in solve():\n    sys.stdout.write( pfx+str(i) )\n    pfx=' '\n  sys.stdout.write( '\\n' )\n"
        },
        {
            "language": 4,
            "solution": "import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Prob149B {\n\tpublic static void main(String[] Args) {\n\t\tScanner in = new Scanner(System.in);\n\t\tString s = in.next();\n\t\tString hours = s.substring(0, s.indexOf(\":\"));\n\t\tString mins = s.substring(s.indexOf(\":\") + 1);\n\n\t\tint num = 0;\n\n\t\tif (convert(hours, 100) <= 23 && convert(mins, 100) <= 59) {\n\t\t\tSystem.out.println(\"-1\");\n\t\t\treturn;\n\t\t}\n\n\t\tfor (int i = 2; i < 100; i++)\n\t\t\tif (convert(hours, i) <= 23 && convert(mins, i) <= 59 && ++num > 0)\n\t\t\t\tSystem.out.print(i + \" \");\n\n\t\tif (num == 0)\n\t\t\tSystem.out.println(0);\n\n\t}\n\n\tpublic static long convert(String s, int i) {\n\t\tHashMap<Character, Integer> hm = new HashMap<Character, Integer>();\n\t\tfor (int j = 0; j < 10; j++)\n\t\t\thm.put((char) ('0' + j), j);\n\t\tfor (int j = 0; j < 26; j++)\n\t\t\thm.put((char) ('A' + j), j + 10);\n\n\t\tfor (int j = 0; j < s.length(); j++)\n\t\t\tif (hm.get(s.charAt(j)) >= i)\n\t\t\t\treturn 60;\n\n\t\tint ans = 0;\n\t\tfor (int j = 0; j < s.length(); j++) {\n\t\t\tans = ans * i + hm.get(s.charAt(j));\n\t\t\tif (ans > 60)\n\t\t\t\treturn 60;\n\t\t}\n\n\t\treturn ans;\n\t}\n}\n"
        },
        {
            "language": 1,
            "solution": "CHARS = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\nvals = dict(zip(CHARS,range(36)))\nNAME = \"P2\"\ntry:\n    inFile = open(NAME+\".txt\")\nexcept:\n    pass\n\ndef read():\n    try:\n        return inFile.readline().strip()\n    except:\n        return raw_input().strip()\n    \ndef Int(exp, base):\n    ans = 0\n    n = len(exp)\n    for i in range(len(exp)):\n        char = exp[n-i-1]\n        val = vals[char]\n        if val >= base:\n            return -1\n        ans += val*base**i\n    return ans\n\na,b = read().split(\":\")\na = a.lstrip(\"0\")\nb = b.lstrip(\"0\")\nif len(a)==0:\n    a = \"0\"\nif len(b)==0:\n    b = \"0\"\n    \nans = []\nbase = 2\nfor base in range(2,100):\n    u = Int(a,base)\n    v = Int(b,base)\n    if 0<=u<=23 and 0<=v<=59:\n        ans.append(base)\n\nif len(ans)==0:\n    print 0\nelif len(a)==1 and len(b)==1 and 59 in ans:\n    print -1\nelse:\n    out = \"\"\n    for i in range(len(ans)):\n        if i: out += \" \"\n        out += str(ans[i])\n    print out"
        },
        {
            "language": 1,
            "solution": "def my_int(s, n):\n    s.lstrip('0')\n    ans = 0\n    for i in s:\n        ans *= n\n        try:\n            if n <= 36:\n                ans += int(i, n)\n            else:\n                ans += int(i, 36)\n        except ValueError:\n            return -1\n    return ans\n\ndef is_time(a, b):\n    return 0 <= a < 24 and 0 <= b < 60\n\ndef main():\n    a, b = raw_input().split(':')\n    ans = []\n    if is_time(my_int(a, 60), my_int(b, 60)):\n        return -1\n    for i in range(2, 60):\n        if is_time(my_int(a, i), my_int(b, i)):\n            ans.append(str(i))\n    if len(ans) > 0:\n        return \" \".join(ans)\n    else:\n        return 0\n\nprint main()\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  map<char, int> ma;\n  for (int i = '0'; i <= '9'; i++) ma[i] = i - '0';\n  for (int i = 'A'; i <= 'Z'; i++) ma[i] = i - 'A' + 10;\n  char s1[10], s2[10];\n  scanf(\"%[^:]\", s1);\n  getchar();\n  scanf(\"%s\", s2);\n  int len1 = strlen(s1);\n  int len2 = strlen(s2);\n  int maxx = 0;\n  for (int i = 0; i < len1; i++) maxx = max(maxx, ma[s1[i]]);\n  for (int i = 0; i < len2; i++) maxx = max(maxx, ma[s2[i]]);\n  int ok1 = 0, ok2 = 0;\n  for (int i = maxx + 1; i < 65; i++) {\n    long long t1 = 0;\n    for (int j = len1 - 1, k = 0; j >= 0; j--, k++) {\n      t1 += (long long)(pow(i, k) + 0.00000001) * ma[s1[j]];\n      if (t1 >= 24) {\n        ok1 = i;\n        break;\n      }\n    }\n    long long t2 = 0;\n    for (int j = len2 - 1, k = 0; j >= 0; j--, k++) {\n      t2 += (long long)(pow(i, k) + 0.00000001) * ma[s2[j]];\n      if (t2 >= 60) {\n        ok2 = i;\n        break;\n      }\n    }\n    if (ok1 || ok2) break;\n  }\n  if (ok1 == 0) ok1 = 0x7fffffff;\n  if (ok2 == 0) ok2 = 0x7fffffff;\n  int temp = min(ok1, ok2);\n  if (temp == 0x7fffffff)\n    puts(\"-1\");\n  else if (temp <= maxx + 1)\n    puts(\"0\");\n  else {\n    for (int i = maxx + 1; i < temp; i++) {\n      printf(\"%d\", i);\n      if (i != temp - 1) printf(\" \");\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string str;\n  int a[5], b[5];\n  while (getline(cin, str)) {\n    memset(a, 0, sizeof(a));\n    memset(b, 0, sizeof(b));\n    int mid[60];\n    memset(mid, 0, sizeof(mid));\n    int len = str.length();\n    int m = 0, n = 0;\n    int i;\n    int flag = 0;\n    for (i = 0; str[i] != ':'; i++) {\n      if (str[i] == '0' && !flag)\n        continue;\n      else {\n        flag = 1;\n        if (str[i] >= '0' && str[i] <= '9')\n          a[m++] = str[i] - '0';\n        else\n          a[m++] = str[i] - 'A' + 10;\n      }\n    }\n    flag = 0;\n    i++;\n    for (; i < len; i++) {\n      if (str[i] == '0' && !flag)\n        continue;\n      else {\n        flag = 1;\n        if (str[i] >= '0' && str[i] <= '9')\n          b[n++] = str[i] - '0';\n        else\n          b[n++] = str[i] - 'A' + 10;\n      }\n    }\n    int ans;\n    ans = a[0];\n    for (i = 0; i < m; i++) {\n      if (a[i] > ans) ans = a[i];\n    }\n    for (i = 0; i < n; i++) {\n      if (b[i] > ans) ans = b[i];\n    }\n    ans += 1;\n    if (n == 0 && m == 0) {\n      cout << -1 << endl;\n      continue;\n    }\n    if (n == 1 && m == 0) {\n      cout << -1 << endl;\n      continue;\n    }\n    if (n == 0 && m == 1) {\n      if (a[0] < 24)\n        cout << -1 << endl;\n      else\n        cout << 0 << endl;\n      continue;\n    }\n    if (n == 1 && m == 1) {\n      if (a[0] < 24)\n        cout << -1 << endl;\n      else\n        cout << 0 << endl;\n      continue;\n    }\n    int k = 0;\n    int temp1, temp2, f1, f2;\n    f1 = f2 = 0;\n    temp1 = temp2 = 0;\n    for (int j = 0; j < m; j++) temp1 = temp1 * ans + a[j];\n    if (temp1 > 23) f1 = 1;\n    for (int j = 0; j < n; j++) temp2 = temp2 * ans + b[j];\n    if (temp2 > 59) f2 = 1;\n    if (!f1 && !f2) mid[k++] = ans;\n    for (i = ans + 1;; i++) {\n      f1 = f2 = 0;\n      temp1 = temp2 = 0;\n      for (int j = 0; j < m; j++) {\n        temp1 = temp1 * i + a[j];\n      }\n      if (temp1 > 23) f1 = 1;\n      for (int j = 0; j < n; j++) temp2 = temp2 * i + b[j];\n      if (temp2 > 59) f2 = 1;\n      if (f1 || f2) break;\n      mid[k++] = i;\n    }\n    cout << mid[0];\n    for (i = 1; i < k; i++) cout << ' ' << mid[i];\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\n\npublic class C_106B {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String s = sc.next();\n        int k1 = 0, k2 = 0;\n        boolean f = false;\n        int [] a = new int[6];\n        int [] b = new int[6];\n        for (int i = 0; i < s.length(); i++) {\n            char x = s.charAt(i);\n            if(x!=':'){\n                if(!f){\n                    a[k1] = check((int)x); \n                    k1++;  \n                }else{\n                    b[k2] = check((int)x); \n                    k2++; \n                }\n            }else{\n                f=true;\n            }\n        }\n        int max = 0;\n        for (int i = 0; i < k1; i++) {\n            if(max<a[i]){\n                max = a[i];\n            }\n        }\n        for (int i = 0; i < k2; i++) {\n            if(max<b[i]){\n                max = b[i];\n            }\n        }\n        int r = sistema(a, k1, max+1);\n        int d = sistema(b, k2, max+1);\n//      System.out.println(r+\" \"+d);\n        if(r>23 || d>59){\n            System.out.println(0);\n            return;\n        }\n        if(r==a[k1-1] && d==b[k2-1]){\n            System.out.println(-1);\n            return;\n        }\n        while(true){\n            r = sistema(a, k1, max+1);\n            d = sistema(b, k2, max+1);\n            if(r<24 && d<60){\n                System.out.print((max+1)+\" \");\n                max++;\n            }else{\n                return;\n            }\n        }\n    }\n    static int check(int x){\n        if(47 < x && x < '9' + 1 ){\n            return x - 48;\n        }else{\n            return x - 'A' + 10;\n        }\n    }\n    static int sistema(int [] a, int k, int z){\n        int res=0;\n        for (int i = 0; i < k; i++) {\n            res+=a[i]*Math.pow(z,k-i-1);\n        }\n        return res;\n    }\n    \n}\n/*\n        System.out.println(k1+\" \"+k2);\n        for (int i = 0; i < k1; i++) {\n            System.out.print(a[i]+\" \");\n        }\n        for (int i = 0; i < k2; i++) {\n            System.out.print(b[i]+\" \");\n        }\n        \n*/"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string s, hours, mins;\n  cin >> s;\n  int a = 1, b = 1, colon, i, radix = 0;\n  for (i = 0; i < s.length(); i++) {\n    if (s[i] == ':') {\n      colon = i;\n      break;\n    }\n  }\n  for (i = 0; i < colon; i++) {\n    if (s[i] != '0') {\n      break;\n    }\n  }\n  hours = s.substr(i, colon - i);\n  for (i = colon + 1; i < s.length(); i++) {\n    if (s[i] != '0') {\n      break;\n    }\n  }\n  mins = s.substr(i);\n  if (hours.length() <= 1 and mins.length() <= 1) {\n    hours.length() == 1 and hours[0] - 'A' + 10 >= 24 ? cout << 0 : cout << -1;\n    return 0;\n  }\n  for (i = 0; i < s.length(); i++) {\n    if (i != colon) {\n      int cur = s[i] >= '0' and s[i] <= '9' ? s[i] - '0' : s[i] - 'A' + 10;\n      radix = max(radix, cur);\n    }\n  }\n  radix++;\n  if (radix == 1) {\n    radix = 2;\n  }\n  for (i = radix;; i++) {\n    int HOURS = 0, MINS = 0;\n    for (int j = 0; j < hours.length(); j++) {\n      HOURS *= i;\n      HOURS += hours[j] >= '0' and hours[j] <= '9' ? hours[j] - '0'\n                                                   : hours[j] - 'A' + 10;\n    }\n    for (int j = 0; j < mins.length(); j++) {\n      MINS *= i;\n      MINS += mins[j] >= '0' and mins[j] <= '9' ? mins[j] - '0'\n                                                : mins[j] - 'A' + 10;\n    }\n    if (HOURS <= 23 and MINS <= 59) {\n      cout << i << \" \";\n    } else {\n      if (i == radix) {\n        cout << 0;\n      }\n      return 0;\n    }\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\npublic class Main1\n{\n    static class Reader \n    { \n        private InputStream mIs;private byte[] buf = new byte[1024];private int curChar,numChars;public Reader() { this(System.in); }public Reader(InputStream is) { mIs = is;} \n        public int read() {if (numChars == -1) throw new InputMismatchException();if (curChar >= numChars) {curChar = 0;try { numChars = mIs.read(buf);} catch (IOException e) { throw new InputMismatchException();}if (numChars <= 0) return -1; }return buf[curChar++];} \n        public String nextLine(){int c = read();while (isSpaceChar(c)) c = read();StringBuilder res = new StringBuilder();do {res.appendCodePoint(c);c = read();}while (!isEndOfLine(c));return res.toString() ;} \n        public String s(){int c = read();while (isSpaceChar(c)) c = read();StringBuilder res = new StringBuilder();do {res.appendCodePoint(c);c = read();}while (!isSpaceChar(c));return res.toString();} \n        public long l(){int c = read();while (isSpaceChar(c)) c = read();int sgn = 1;if (c == '-') { sgn = -1 ; c = read() ; }long res = 0; do{ if (c < '0' || c > '9') throw new InputMismatchException();res *= 10 ; res += c - '0' ; c = read();}while(!isSpaceChar(c));return res * sgn;} \n        public int i(){int c = read() ;while (isSpaceChar(c)) c = read();int sgn = 1;if (c == '-') { sgn = -1 ; c = read() ; }int res = 0;do{if (c < '0' || c > '9') throw new InputMismatchException();res *= 10 ; res += c - '0' ; c = read() ;}while(!isSpaceChar(c));return res * sgn;} \n        public double d() throws IOException {return Double.parseDouble(s()) ;}\n        public boolean isSpaceChar(int c) { return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1; } \n        public boolean isEndOfLine(int c) { return c == '\\n' || c == '\\r' || c == -1; } \n        public int[] arr(int n){int[] ret = new int[n];for (int i = 0; i < n; i++) {ret[i] = i();}return ret;}\n    }\n    \n    \n    ///////////////////////////////////////////////////////////////////////////////////////////\n    //    RRRRRRRRR            AAA             HHH     HHH     IIIIIIIIIIIII   LLL           //\n    //    RR    RRR           AAAAA            HHH     HHH      IIIIIIIIIII    LLL           //\n    //    RR   RRR           AAAAAAA           HHH     HHH          III        LLL           //\n    //    RR  RRR           AAA   AAA          HHHHHHHHHHH          III        LLL           //\n    //    RRRRRR           AAA     AAA         HHHHHHHHHHH          III        LLL           //\n    //    RR  RRR         AAAAAAAAAAAAA        HHH     HHH          III        LLL           //\n    //    RR    RRR      AAA         AAA       HHH     HHH      IIIIIIIIIII    LLLLLLLLLLLL  //\n    //    RR     RRR    AAA           AAA      HHH     HHH     IIIIIIIIIIIII   LLLLLLLLLLLL  //\n    ///////////////////////////////////////////////////////////////////////////////////////////\n   \n    public static void main(String[] args)throws IOException\n    {\n        PrintWriter out= new PrintWriter(System.out);\n        Reader sc=new Reader();\n        String s=sc.s();\n        ArrayList<Integer> al=new ArrayList<>();\n        int max=0;\n        for(int i=0;i<s.length();i++)\n        if(s.charAt(i)==':')\n        continue;\n        else\n        max=Math.max(max,s.charAt(i));\n        \n        if(max>=65)\n        max-=55;\n        else\n        max-=48;\n        for(int j=max+1;j<=10000;j++)\n        {\n            String s1=s.substring(0,s.indexOf(':'));\n            String s2=s.substring(s.indexOf(':')+1);\n            int n1=0;int n2=0;\n            for(int i=0;i<s1.length();i++)\n            {\n                if(s1.charAt(i)>=65)\n                n1+=(s1.charAt(i)-65+10)*Math.pow(j,s1.length()-i-1);\n                else\n                n1+=(s1.charAt(i)-48)*Math.pow(j,s1.length()-i-1);\n            }\n            for(int i=0;i<s2.length();i++)\n            {\n                if(s2.charAt(i)>=65)\n                n2+=(s2.charAt(i)-65+10)*Math.pow(j,s2.length()-i-1);\n                else\n                n2+=(s2.charAt(i)-48)*Math.pow(j,s2.length()-i-1);\n            }\n            if(n1>=0&&n1<=23&&n2>=0&&n2<=59)\n            al.add(j);\n        }\n        if(al.size()>100)\n        out.println(-1);\n        else if(al.size()==0)\n        out.println(0);\n        else\n        for(int i:al)\n        out.print(i+\" \");\n        out.flush();\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma GCC optimize(\"O3\")\nconst long long mod1 = 998244353;\nconst long long mod2 = 1000000007;\nlong long pow(int a, int b) {\n  if (b == 0 || a == 1) return 1;\n  if (b % 2 == 0) {\n    long long k = pow(a, b / 2);\n    return (k * k);\n  } else {\n    long long k = pow(a, b / 2);\n    return k * k * a;\n  }\n}\nlong long powmod(long long a, long long b, long long mod) {\n  if (b == 0 || a == 1) {\n    if (mod == 1)\n      return 0;\n    else\n      return 1;\n  }\n  if (b % 2 == 0) {\n    long long k = powmod(a, b / 2, mod);\n    return (k * k) % mod;\n  } else {\n    long long k = powmod(a, b / 2, mod);\n    return ((k * k) % mod * a) % mod;\n  }\n}\nlong long gcd(long long a, long long b) {\n  if (a == 0) return b;\n  if (b == 0) return a;\n  if (a > b)\n    return gcd(a % b, b);\n  else\n    return gcd(b % a, a);\n}\nint prime(int p) {\n  for (int i = 2; i * i <= p; i++) {\n    if (p % i == 0 && i < p) return 0;\n  }\n  return 1;\n}\nlong long sqr(long long i) { return i * i; }\nusing namespace std;\nsigned main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  string s1, s2, s;\n  cin >> s;\n  s1 = \"\";\n  s2 = \"\";\n  int qq = 0;\n  for (int i = 0; i < s.size(); i++) {\n    if (s[i] != ':' && qq == 0) s1 += s[i];\n    if (s[i] != ':' && qq == 1) s2 += s[i];\n    if (s[i] == ':') qq = 1;\n  }\n  int q = 0;\n  while (s1.size() != 0 && s1[0] == '0') s1.erase(0, 1);\n  while (s2.size() != 0 && s2[0] == '0') s2.erase(0, 1);\n  int max1 = 0;\n  for (int i = 0; i < s1.size(); i++) {\n    if (s1[i] >= '0' && s1[i] <= '9')\n      max1 = max(int(max1), s1[i] - '0');\n    else\n      max1 = max(max1, s1[i] - 'A' + 10);\n  }\n  if (max1 >= 24) {\n    cout << \"0\";\n    return 0;\n  }\n  for (int i = 0; i < s2.size(); i++) {\n    if (s2[i] >= '0' && s2[i] <= '9')\n      max1 = max(int(max1), s2[i] - '0');\n    else\n      max1 = max(max1, s2[i] - 'A' + 10);\n  }\n  if (s1.size() <= 1 && s2.size() <= 1) {\n    cout << -1;\n    return 0;\n  }\n  max1++;\n  for (int i = max1; i <= 59; i++) {\n    int a = 0;\n    int cur = 1;\n    for (int j = s1.size() - 1; j >= 0; j--) {\n      if (s1[j] >= '0' && s1[j] <= '9')\n        a += cur * (s1[j] - '0');\n      else\n        a += cur * (s1[j] - 'A' + 10);\n      cur *= i;\n    }\n    int b = 0;\n    cur = 1;\n    for (int j = s2.size() - 1; j >= 0; j--) {\n      if (s2[j] >= '0' && s2[j] <= '9')\n        b += cur * (s2[j] - '0');\n      else\n        b += cur * (s2[j] - 'A' + 10);\n      cur *= i;\n    }\n    if (a <= 23 && b <= 59) {\n      cout << i << \" \";\n      q++;\n    }\n  }\n  if (q == 0) cout << \"0\";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class two \n{\n\n    public static void main(String[] args) \n    {\n        Scanner in = new Scanner(System.in);\n        String data = in.next();\n        String data_[] = data.split(\":\");\n        char ch[][] = new char[2][];\n        ch[0] = data_[0].toCharArray();\n        ch[1] = data_[1].toCharArray();\n        String one_ = \"\";\n        String two_ = \"\";\n        int iter = 0;\n        while(iter < ch[0].length)\n        {\n            if(ch[0][iter]=='0')\n            {\n                iter++;\n            }\n            else\n            {\n                while(iter < ch[0].length)\n                {\n                    one_+=ch[0][iter];\n                    iter++;\n                }\n                break;\n            }\n        }\n        iter = 0;\n        while(iter < ch[1].length)\n        {\n            if(ch[1][iter]=='0')\n            {\n                iter++;\n            }\n            else\n            {\n                while(iter < ch[1].length)\n                {\n                    two_+=ch[1][iter];\n                    iter++;\n                }\n                break;\n            }\n        }\n        if(one_==\"\")\n            one_+=0;\n        if(two_==\"\")\n            two_+=0;\n        \n        int max = border(one_, two_);\n        if(max < 2)\n        {\n            max = 1;\n        }\n        ArrayList<Integer> result = new ArrayList<Integer>();\n\n            for (int i = max+1; i < 1000; i++) \n            {\n                int d0 = perevod(one_, i);\n                int last = perevod(two_, i);\n                if(d0 >= 0 && d0 < 24 )\n                {\n                    if(last >= 0 && last < 60 )\n                    {\n                        result.add(i);\n                    }\n                }\n                else\n                {\n                    break;\n                }\n            }\n            if(result.size()>950)\n            {\n                System.out.println(\"-1\");\n                return;\n            }\n            if(result.size() == 0)\n            {\n                System.out.println(\"0\");\n                return;\n            }\n            for(int i = 0; i < result.size(); i++)\n            {\n                System.out.print(result.get(i)+\" \");\n            }\n        \n        \n    }\n    public static int perevod(String data,int sch)\n    {\n        char data_[] = data.toCharArray();\n        int result = 0;\n        int time = data_.length -1;\n        for (int i = 0; i < data_.length; i++)\n        {\n            if((int)data_[i] > (int)'9')\n            {\n                result += (((int)data_[i])-55)*Math.pow(sch, time);\n            }\n            else\n            {\n                result += Integer.parseInt(Character.toString(data_[i]))*Math.pow(sch, time);\n            }\n            time --; \n        }\n        return result;\n    }\n    public static int border(String one, String two)\n    {\n        int max = 0;\n        char[]one_ = one.toCharArray();\n        char[]two_ = two.toCharArray();\n        for (int i = 0; i < one_.length; i++) \n        {\n            if((int)one_[i] > (int)'9')\n            {\n                if(max < (int)one_[i]-55)\n                max = (int)one_[i] - 55;\n            }\n            else \n            {\n                if(max < Integer.parseInt(Character.toString(one_[i])))\n                {\n                    max = Integer.parseInt(Character.toString(one_[i]));\n                }\n            }\n        \n        }\n        for (int i = 0; i < two_.length; i++) \n        {\n            if((int)two_[i] > (int)'9')\n            {\n                if(max < (int)two_[i]-55)\n                max = (int)two_[i] - 55;\n            }\n            else \n            {\n                if(max < Integer.parseInt(Character.toString(two_[i])))\n                {\n                    max = Integer.parseInt(Character.toString(two_[i]));\n                }\n            }\n        \n        }\n        return max;\n    }\n\n}"
        },
        {
            "language": 1,
            "solution": "def ltn(c):\n    if '0'<=c<='9':\n        return ord(c)-ord('0')\n    else:\n        return ord(c)-ord('A')+10\ndef stn(s,rad):\n    retv=0\n    for i in s:\n        retv=retv*rad+ltn(i)\n    return retv\n\ns1,s2=raw_input().split(':')\nmnum=ltn(max(s1+s2))+1\nif (stn(s1,mnum)>=24 or stn(s2,mnum)>=60):\n    print 0\nelse:\n    if s1[-2::-1]=='0'*(len(s1)-1) and s2[-2::-1]=='0'*(len(s2)-1):\n        print -1\n    else:\n        while stn(s1,mnum)<24 and stn(s2,mnum)<60:\n            print mnum,\n            mnum+=1"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar hour[10], minu[10];\nint lenh, lenm;\nint ok(int h, int m, int base) {\n  int i;\n  for (i = h; i < lenh; i++) {\n    if ('0' <= hour[i] && hour[i] <= '9') {\n      if (hour[i] - '0' >= base) return 0;\n    } else {\n      if (hour[i] - 'A' + 10 >= base) return 0;\n    }\n  }\n  for (i = m; i < lenm; i++) {\n    if ('0' <= minu[i] && minu[i] <= '9') {\n      if (minu[i] - '0' >= base) return 0;\n    } else {\n      if (minu[i] - 'A' + 10 >= base) return 0;\n    }\n  }\n  return 1;\n}\nint to_num(int p, char* str, int base) {\n  int count = 0, tmp = 1, i, t, len;\n  len = strlen(str);\n  for (i = len - 1; i >= p; i--) {\n    if ('0' <= str[i] && str[i] <= '9')\n      t = str[i] - '0';\n    else\n      t = str[i] - 'A' + 10;\n    count += t * tmp;\n    tmp *= base;\n  }\n  return count;\n}\nvoid input() {\n  char tmp;\n  lenh = 0, lenm = 0;\n  while (1) {\n    scanf(\"%c\", &tmp);\n    if (('0' <= tmp && tmp <= '9') || ('A' <= tmp && tmp <= 'Z'))\n      hour[lenh++] = tmp;\n    if (tmp == ':') break;\n  }\n  while (scanf(\"%c\", &tmp) != EOF) {\n    if (('0' <= tmp && tmp <= '9') || ('A' <= tmp && tmp <= 'Z'))\n      minu[lenm++] = tmp;\n    if (tmp == ':') break;\n  }\n}\nint main() {\n  int ph, pm, base, flag;\n  int nh, nm, i;\n  input();\n  ph = 0;\n  flag = 0;\n  lenh = strlen(hour);\n  for (i = 0; i < lenh; i++)\n    if (hour[i] != '0') break;\n  ph = i;\n  lenm = strlen(minu);\n  for (i = 0; i < lenm; i++)\n    if (minu[i] != '0') break;\n  pm = i;\n  if (lenh - ph <= 1 && lenm - pm <= 1) {\n    if (hour[ph] >= 'O' && hour[ph] <= 'Z') {\n      printf(\"0\\n\");\n      return 0;\n    }\n    printf(\"-1\\n\");\n    return 0;\n  }\n  for (base = 2;; base++) {\n    if (ok(ph, pm, base)) {\n      nh = to_num(ph, hour, base);\n      nm = to_num(pm, minu, base);\n      if (nh < 24 && nm < 60) {\n        if (flag)\n          printf(\" %d\", base);\n        else\n          printf(\"%d\", base);\n        flag = 1;\n      } else\n        break;\n    }\n  }\n  if (!flag) printf(\"0\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Scanner;\n\npublic class C {\n    \n    String a,b;\n    public int read(String s,int base){\n        int res = 0;\n        int b = 1;\n        for (int i = s.length()-1; i > -1; i--) {\n            if (s.charAt(i) >= '0' && s.charAt(i) <= '9')\n                res += b * (s.charAt(i) - '0');\n            else\n                res += b * (s.charAt(i) - 'A'+10);\n            b*=base;\n        }\n        return res;\n    }\n    public void run() throws IOException{\n        //Scanner s = new Scanner(new InputStreamReader(System.in));\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String str = br.readLine();\n        a = str.split(\":\")[0];\n        b = str.split(\":\")[1];\n        \n        int count = 0;\n        int n1=0,n2=0;\n        String result =\"\";\n        boolean inf = false;\n        for (int i = 2; i <= 36; i++) {\n            try{\n                n1 = Integer.parseInt(a,i);\n                n2 = Integer.parseInt(b,i);\n                if (n1 < 24 && n2 < 60){\n                    if (n1 < i && n2 < i)\n                        inf = true;\n                    count++;\n                    result += i + \" \";\n                }\n            }catch(Exception e){\n                continue;\n            }\n        }\n        for (int i = 37; i < 60; i++) {\n            n1 = read(a, i);\n            n2 = read(b, i);\n            if (n1 < 24 && n2 < 60){\n                if (n1 < i && n2 < i)\n                    inf = true;\n                count++;\n                result += i + \" \";\n            }\n        }\n        if (inf == false){\n            if (count == 0)\n                result = \"0\";\n            else\n                result = result.substring(0,result.length()-1);\n            System.out.println(result);\n        }else{\n            System.out.println(-1);\n        }\n        \n    }\n    \n    public static void main(String[] args) throws IOException {\n        (new C()).run();\n    }\n\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.InputMismatchException;\nimport java.util.LinkedList;\nimport java.util.Map.Entry;\nimport java.util.Queue;\nimport java.util.Set;\nimport java.util.SortedSet;\nimport java.util.Stack;\nimport java.util.TreeMap;\nimport java.util.TreeSet;\n\npublic class Main\n{\n\tpublic int strToNum(char[] a, int radix)\n\t{\n\t\tint ans = 0;\n\t\tfor(int i = 0;i < a.length;++i)\n\t\t{\n\t\t\tans = ans * radix + (a[i] >= '0' && a[i] <= '9' ? a[i] - '0' : a[i] - 'A' + 10);\n\t\t}\n\t\treturn ans;\n\t}\n\t\n\tpublic int maxNum(char[] a)\n\t{\n\t\tint ans = 0;\n\t\tfor(int i = 0;i < a.length;++i)\n\t\t{\n\t\t\tint x = a[i] >= '0' && a[i] <= '9' ? a[i] - '0' : a[i] - 'A' + 10;\n\t\t\tans = Math.max(ans, x);\n\t\t}\n\t\treturn ans;\n\t}\n\t\n\tpublic void foo()\n\t{\n\t\tMyScanner scan = new MyScanner();\n\t\tString s = scan.next();\n\t\tint index = s.indexOf(':');\n\t\tint i1 = 0, i2 = 0;\n\t\tfor(i1 = 0;i1 < index;++i1)\n\t\t{\n\t\t\tif(s.charAt(i1) != '0')\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor(i2 = index + 1;i2 < s.length();++i2)\n\t\t{\n\t\t\tif(s.charAt(i2) != '0')\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(i1 == index)\n\t\t{\n\t\t\t--i1;\n\t\t}\n\t\tif(i2 == s.length())\n\t\t{\n\t\t\t--i2;\n\t\t}\n\t\tchar[] hour = s.substring(i1, index).toCharArray();\n\t\tchar[] min = s.substring(i2).toCharArray();\n\t\tif(1 == hour.length && 1 == min.length && strToNum(hour, 10) < 24 && strToNum(min, 10) < 60)\n\t\t{\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tint radix = 1;\n\t\t\tradix = Math.max(radix, maxNum(hour) + 1);\n\t\t\tradix = Math.max(radix, maxNum(min) + 1);\n\t\t\tint i = 0;\n\t\t\tfor(i = radix; ;++i)\n\t\t\t{\n\t\t\t\tif(strToNum(hour, i) >= 24 || strToNum(min, i) >= 60)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tSystem.out.print(i + \" \");\n\t\t\t}\n\t\t\tif(i == radix)\n\t\t\t{\n\t\t\t\tSystem.out.println(0);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tSystem.out.println();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static void main(String[] args)\n\t{\n\t\tnew Main().foo();\n\t}\n\t\n\tclass MyScanner\n\t{\n\t    private byte[] buf = new byte[1024];\n\t    private int curChar;\n\t    private int numChars;\n\t    BufferedInputStream bis = new BufferedInputStream(System.in);\n\n\t    public int read() \n\t    {\n\t        if (-1 == numChars)\n\t        {\n\t        \tthrow new InputMismatchException();\n\t        }\n\t        if (curChar >= numChars)\n\t        {\n\t            curChar = 0;\n\t            try \n\t            {\n\t                numChars = bis.read(buf);\n\t            }\n\t            catch (IOException e)\n\t            {\n\t                throw new InputMismatchException();\n\t            }\n\t            if (numChars <= 0)\n\t            {\n\t            \treturn -1;\n\t            }\n\t        }\n\t        return buf[curChar++];\n\t    }\n\n\t    public int nextInt() \n\t    {\n\t        int c = read();\n\t        while (isSpaceChar(c))\n\t        {\n\t        \tc = read();\n\t        }\n\t        int sgn = 1;\n\t        if (c == '-') \n\t        {\n\t            sgn = -1;\n\t            c = read();\n\t        }\n\t        int res = 0;\n\t        do \n\t        {\n\t            if (c < '0' || c > '9')\n\t            {\n\t            \tthrow new InputMismatchException();\n\t            }\n\t            res *= 10;\n\t            res += c - '0';\n\t            c = read();\n\t        } while (!isSpaceChar(c));\n\t        return res * sgn;\n\t    }\n\t    \n\t    public long nextLong() \n\t    {\n\t    \tint c = read();\n\t    \twhile (isSpaceChar(c))\n\t    \t{\n\t    \t\tc = read();\n\t    \t}\n\t    \tint sgn = 1;\n\t    \tif (c == '-') \n\t    \t{\n\t    \t\tsgn = -1;\n\t    \t\tc = read();\n\t    \t}\n\t    \tlong res = 0;\n\t    \tdo \n\t    \t{\n\t    \t\tif (c < '0' || c > '9')\n\t    \t\t{\n\t    \t\t\tthrow new InputMismatchException();\n\t    \t\t}\n\t    \t\tres *= 10;\n\t    \t\tres += c - '0';\n\t    \t\tc = read();\n\t    \t} while (!isSpaceChar(c));\n\t    \treturn res * sgn;\n\t    }\n\t    \n\t    public String next()\n\t    {\n\t        int c = read();\n\t        while (isSpaceChar(c))\n\t        {\n\t        \tc = read();\n\t        }\n\t        StringBuilder res = new StringBuilder();\n\t        do \n\t        {\n\t            res.appendCodePoint(c);\n\t            c = read();\n\t        } while (!isSpaceChar(c));\n\t        return res.toString();\n\t    }\n\n\t    private boolean isSpaceChar(int c) \n\t    {\n\t        return ' ' == c || '\\n' == c || '\\r' == c || '\\t' == c || -1 == c;\n\t    }\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string s;\n  cin >> s;\n  int i, st = 0;\n  for (i = 0; i < s.length(); i++) {\n    if (s[i] == ':') continue;\n    if (s[i] >= 'A' && s[i] <= 'Z') {\n      st = max(st, s[i] - 'A' + 10);\n    } else\n      st = max(st, s[i] - '0');\n  }\n  for (i = 0; i < s.length(); i++)\n    if (s[i] == ':') break;\n  string h, m;\n  h = s.substr(0, i);\n  m = s.substr(i + 1, s.length() - i);\n  for (i = 0; i < h.length(); i++)\n    if (h[i] != '0') break;\n  h = h.substr(i, h.length() - i);\n  for (i = 0; i < m.length(); i++)\n    if (m[i] != '0') break;\n  m = m.substr(i, m.length() - i);\n  if (h.length() <= 1 && m.length() <= 1) {\n    if (h.length() == 1 && h[0] >= 'O')\n      cout << 0;\n    else\n      cout << -1;\n  } else {\n    vector<int> ans, ans1;\n    for (int i = st + 1; i <= 59; i++) {\n      int t = 0;\n      for (int j = 0; j < h.length(); j++) {\n        if (h[j] >= 'A' && h[j] <= 'Z')\n          t += (h[j] - 'A' + 10) * pow(i, h.length() - j - 1);\n        else\n          t += (h[j] - '0') * pow(i, h.length() - j - 1);\n      }\n      if (t <= 23) ans.push_back(i);\n    }\n    for (int i = 0; i < ans.size(); i++) {\n      int t = 0;\n      for (int j = 0; j < m.length(); j++) {\n        if (m[j] >= 'A' && m[j] <= 'Z')\n          t += (m[j] - 'A' + 10) * pow(ans[i], m.length() - j - 1);\n        else\n          t += (m[j] - '0') * pow(ans[i], m.length() - j - 1);\n      }\n      if (t <= 59) ans1.push_back(ans[i]);\n    }\n    if (ans1.size() == 0) {\n      cout << 0;\n      return 0;\n    }\n    for (i = 0; i < ans1.size(); i++) cout << ans1[i] << \" \";\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "from sys import *\nf = stdin\ndef to_int(a):\n    if (ord(a) >= ord('0')) and (ord(a) <= ord('9')):\n        return(int(a))\n    else:\n        return(int(ord(a)-ord('A')+10))\nh, mi = f.readline().strip().split(':')\nflag = 0\nflag2 = 0\nmins = -1\nfor i in range(len(mi)):\n    mins = max(to_int(mi[i]), mins)\n    if i<len(mi)-1:\n        if to_int(mi[i]) > 0:\n            flag=1\nfor i in range(len(h)):\n    mins = max(to_int(h[i]), mins)\n    if i<len(h)-1:\n        if to_int(h[i]) > 0:\n            flag=1\n    else:\n        if to_int(h[i]) > 23:\n            flag=1\n\nif flag:        \n    for i in range(mins+1, 1000):\n        add=0\n        for j in range(1, len(h)+1):\n            add += to_int(h[len(h)-j])*(i**(j-1))\n        if add > 23:\n            continue\n        add=0\n        for j in range(1, len(mi)+1):\n            add += to_int(mi[len(mi)-j])*(i**(j-1)) \n        if add > 59:\n            continue\n        if i == mins+1:\n            flag2=1\n        print i,\n    if not flag2:\n        print 0\nelse:\n    print -1\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\n\npublic class Main{\n\n    BufferedReader in;\n    StringTokenizer str = null;\n    PrintWriter out;\n\n    private String next() throws Exception{\n    \twhile (str == null || !str.hasMoreElements())\n    \t    str = new StringTokenizer(in.readLine(), \":\");\n    \treturn str.nextToken();\n    }\n    \n    private int nextInt() throws Exception{\n\t   return Integer.parseInt(next());\n    }\n    \n    public void run() throws Exception{\n    \tin = new BufferedReader(new InputStreamReader(System.in));\n    \tout = new PrintWriter(System.out);\n        char[] h = next().toCharArray(), m = next().toCharArray();\n        int max = 0;\n        for(int i = 0; i < h.length; ++i) {\n            if (Character.isDigit(h[i])) {\n                max = Math.max(max, h[i] - '0');\n            }else {\n                max = Math.max(max, h[i] - 'A' + 10);\n            }\n        }\n\n        for(int i = 0; i < m.length; ++i) {\n            if (Character.isDigit(m[i])) {\n                max = Math.max(max, m[i] - '0');\n            }else {\n                max = Math.max(max, m[i] - 'A' + 10);\n            }\n        }\n\n        List<Integer> r = new ArrayList<Integer>();\n        int ph = -1, pm = -1;\n        for(int i = max + 1;;++i) {\n            int []a = convert(i, h, m);\n            if (ph == a[0] && pm == a[1]) {\n                out.println(-1);\n                out.close();\n                return;\n            }\n            if (a[0] <= 23 && a[1] <= 59) {\n                r.add(i);\n            }else {\n                break;\n            }\n            // System.out.println(Arrays.toString(a));\n            ph = a[0];\n            pm = a[1];\n        }\n\n        if (r.size() == 0) {\n            out.println(0);\n        }else {\n            for(int i : r) {\n                out.print(i + \" \");\n            }\n            out.println();\n        }\n        \n        out.close();\n    }\n\n    private int[] convert(int base, char []h, char []m) {\n        int min = 0;\n        for(int i = 0; i < m.length; ++i) {\n            min = base * min;\n            if (Character.isDigit(m[i])) {\n                min += m[i] - '0';\n            }else {\n                min += m[i] - 'A' + 10;\n            }\n        }\n        int hour = 0;\n        for(int i = 0; i < h.length; ++i) {\n            hour = base * hour;\n            if (Character.isDigit(h[i])) {\n                hour += h[i] - '0';\n            }else {\n                hour += h[i] - 'A' + 10;\n            }\n        }\n\n        return new int[]{hour, min};\n    }\n\n    public static void main(String args[]) throws Exception{\n\t   new Main().run();\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar num[] = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nint conv[128];\nbool ret(char *a, int b, int lim) {\n  int ret = 0;\n  for (int i = 0; a[i]; i++) {\n    if (conv[a[i]] >= b) return false;\n    ret = ret * b + conv[a[i]];\n  }\n  return ret < lim;\n}\nint main() {\n  for (int i = 0; num[i]; i++) conv[num[i]] = i;\n  char a[10], b[10];\n  cin.getline(a, 10, ':');\n  cin.getline(b, 10);\n  if (ret(a, 60, 24) && ret(b, 60, 60)) {\n    printf(\"-1\\n\");\n    return 0;\n  }\n  int cnt = 0;\n  for (int i = 2; i < 60; i++) {\n    if (ret(a, i, 24) && ret(b, i, 60)) {\n      printf(\"%d \", i);\n      cnt++;\n    }\n  }\n  if (cnt == 0) printf(\"0\");\n  printf(\"\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint convertStringToNumberBase(string number, int base) {\n  int r = 1;\n  int val = 0;\n  for (int i = number.size() - 1; i >= 0; i--) {\n    int charVal = number[i] - '0';\n    if (number[i] >= 'A') {\n      charVal = number[i] - 'A' + 10;\n    }\n    if (charVal >= base) return 61;\n    val += r * (charVal);\n    r *= base;\n  }\n  return val;\n}\nint main() {\n  string time;\n  string a, b;\n  cin >> time;\n  int delimiterPos = time.find(':');\n  a = time.substr(0, delimiterPos);\n  b = time.substr(delimiterPos + 1);\n  cerr << a << \" \" << b << endl;\n  bool checked = false;\n  vector<int> validBases;\n  for (int i = 2; i < 61; i++) {\n    int ab10 = convertStringToNumberBase(a, i);\n    int bB10 = convertStringToNumberBase(b, i);\n    if (ab10 < 24 && bB10 < 60) {\n      validBases.push_back(i);\n    }\n  }\n  int ab10 = convertStringToNumberBase(a, 61);\n  int bB10 = convertStringToNumberBase(b, 61);\n  if (ab10 < 24 && bB10 < 60) {\n    cout << -1 << endl;\n    return 0;\n  }\n  if (validBases.size() == 0) {\n    cout << 0 << endl;\n    return 0;\n  }\n  for (int j = 0; j < validBases.size(); ++j) {\n    cout << validBases[j] << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar s[105];\nint d[99][99], p[99], h[99], m[99];\nint main() {\n  scanf(\"%s\", s);\n  int col = 0, sl = strlen(s);\n  for (int i = 0; i <= sl - 1; ++i)\n    if (s[i] == ':') {\n      col = i;\n      break;\n    }\n  for (int i = 2; i <= 60; ++i) {\n    d[i][0] = 1;\n    for (int j = 1; j <= 5; ++j) d[i][j] = d[i][j - 1] * i;\n  }\n  int ans = 0;\n  for (int i = 2; i <= 60; ++i) {\n    int hour = 0, minute = 0;\n    bool foul = 0;\n    for (int j = 0; j <= col - 1; ++j) {\n      if ('0' <= s[j] && s[j] <= '9') {\n        if (s[j] - '0' > i - 1) {\n          foul = 1;\n          break;\n        } else\n          hour += d[i][col - 1 - j] * (s[j] - '0');\n      } else {\n        if (s[j] - 'A' + 10 > i - 1) {\n          foul = 1;\n          break;\n        } else\n          hour += d[i][col - 1 - j] * (s[j] - 'A' + 10);\n      }\n    }\n    if (foul) continue;\n    for (int j = col + 1; j <= sl - 1; ++j) {\n      if ('0' <= s[j] && s[j] <= '9') {\n        if (s[j] - '0' > i - 1) {\n          foul = 1;\n          break;\n        } else\n          minute += d[i][sl - j - 1] * (s[j] - '0');\n      } else {\n        if (s[j] - 'A' + 10 > i - 1) {\n          foul = 1;\n          break;\n        } else\n          minute += d[i][sl - j - 1] * (s[j] - 'A' + 10);\n      }\n    }\n    if (foul)\n      continue;\n    else if (0 <= hour && hour <= 23 && 0 <= minute && minute <= 59) {\n      p[++ans] = i;\n      h[ans] = hour;\n      m[ans] = minute;\n      if (ans > 1 && h[ans - 1] == h[ans] && m[ans - 1] == m[ans]) {\n        printf(\"-1\\n\");\n        return 0;\n      }\n    }\n  }\n  if (ans == 0)\n    printf(\"0\\n\");\n  else {\n    for (int i = 1; i <= ans; ++i)\n      if (i < ans)\n        printf(\"%d \", p[i]);\n      else\n        printf(\"%d\\n\", p[i]);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class B {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        \n        List<Integer> lst = new ArrayList<Integer>();\n        \n        String str = sc.next();\n        \n        int[] a = getArray(str.split(\":\")[0]);\n        int[] b = getArray(str.split(\":\")[1]);\n        \n        int max  = Math.max(max(a), max(b))+1;\n\n        for (int i=max; i<=61; i++) \n            if (parse(a,i)<=23 && parse(b,i)<=59)\n                lst.add(i);\n        \n        if (lst.size()==0)\n            System.out.println(0);\n        else if (lst.get(lst.size()-1)==61)\n            System.out.println(-1);\n        else \n            for (int x : lst)\n                System.out.println(x + \" \");\n        \n    }\n\n    static int parse(int mas[], int base) {\n        int res = 0;\n        for(int i=0; i<mas.length; i++) {\n            res *= base;\n            res += mas[i];\n        }\n        return res;\n    }\n    \n    static int[] getArray(String str) {\n        int[] mas = new int[str.length()];\n        for (int i=0; i<mas.length; i++) {\n            char c = str.charAt(i);\n            mas[i] = c>='A' ? c-'A'+10 : c-'0';\n        }\n        return mas;\n    }\n    \n    static int max(int[] mas) {\n        int max=0;\n        for (int i=0; i<mas.length; i++) {\n            if (max<mas[i])\n                max = mas[i];\n        }\n        return max;\n    }\n\n}"
        },
        {
            "language": 1,
            "solution": "import sys\ntime=sys.stdin.readline()\ntime=time[0:len(time)-1]\np=0\nfor i in range(len(time)):\n\tif (time[i]==':'):\n\t\tp=i\n\t\tbreak;\nhour=time[0:p]\nminute=time[p+1:len(time)]\ndef val(a):\n\tif (ord(a)>=ord('0') and ord(a)<=ord('9')):\n\t\treturn ord(a)-ord('0')\n\treturn ord(a)-ord('A')+10\ndef av(a):\n\thnow,mnow=0,0\n\tfor i in range(len(hour)):\n\t\tt=val(hour[i])\n\t\tif (t>=a):\n\t\t\treturn 0\n\t\thnow=hnow*a+t\n\tfor i in range(len(minute)):\n\t\tt=val(minute[i])\n\t\tif (t>=a):\n\t\t\treturn 0\n\t\tmnow=mnow*a+t\n\tif (hnow>=24 or mnow>=60):\n\t\treturn 0\n\treturn 1\nif (av(1000)):\n\tprint(-1)\nelse:\n\tpr=0\n\tfor i in range(2,400):\n\t\tif (av(i)):\n\t\t\tprint(i),\n\t\t\tpr=1\n\tif (pr==0):\n\t\tprint(0)\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.StringTokenizer;\n\npublic class ProblemB {\n\tpublic static void main(String[] args) {\n\t\tInputReader in = new InputReader();\n\t\tPrintWriter out = new PrintWriter(System.out);\n\n\t\tnew ProblemB().solve(in, out);\n\n\t\tout.close();\n\t}\n\n\tpublic void solve(InputReader in, PrintWriter out) {\n\t\tString[] tokens = in.nextLine().split(\":\");\n\n\t\tString a = tokens[0];\n\t\tString b = tokens[1];\n\n\t\twhile (a.startsWith(\"0\")) {\n\t\t\ta = a.substring(1);\n\t\t}\n\n\t\twhile (b.startsWith(\"0\")) {\n\t\t\tb = b.substring(1);\n\t\t}\n\n\t\tif (b.length() == 0 || b.length() == 1) {\n\n\t\t\tif (a.length() == 0) {\n\t\t\t\tout.println(-1);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (a.length() == 1) {\n\t\t\t\tchar c = a.charAt(0);\n\n\t\t\t\tint v;\n\t\t\t\tif (Character.isDigit(c)) {\n\t\t\t\t\tv = c - '0';\n\t\t\t\t} else {\n\t\t\t\t\tv = c - 'A' + 10;\n\t\t\t\t}\n\n\t\t\t\tif (v <= 23) {\n\t\t\t\t\tout.println(-1);\n\t\t\t\t} else {\n\t\t\t\t\tout.println(0);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tList<Integer> res = new ArrayList<Integer>();\n\t\tfor (int i = 2; i <= 60; i++) {\n\t\t\tboolean ok = true;\n\n\t\t\tint h = 0;\n\t\t\tint d = 1;\n\t\t\tfor (int j = a.length() - 1; j >= 0; j--) {\n\t\t\t\tchar c = a.charAt(j);\n\n\t\t\t\tint v;\n\n\t\t\t\tif (Character.isDigit(c)) {\n\t\t\t\t\tv = Integer.parseInt(c + \"\");\n\t\t\t\t} else {\n\t\t\t\t\tv = c - 'A' + 10;\n\t\t\t\t}\n\n\t\t\t\tif (v >= i) {\n\t\t\t\t\tok = false;\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\th += v * d;\n\t\t\t\td *= i;\n\t\t\t}\n\n\t\t\tint m = 0;\n\t\t\td = 1;\n\t\t\tfor (int j = b.length() - 1; j >= 0; j--) {\n\t\t\t\tchar c = b.charAt(j);\n\n\t\t\t\tint v;\n\n\t\t\t\tif (Character.isDigit(c)) {\n\t\t\t\t\tv = Integer.parseInt(c + \"\");\n\t\t\t\t} else {\n\t\t\t\t\tv = c - 'A' + 10;\n\t\t\t\t}\n\n\t\t\t\tif (v >= i) {\n\t\t\t\t\tok = false;\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tm += v * d;\n\t\t\t\td *= i;\n\t\t\t}\n\n\t\t\tif (ok && h <= 23 && m <= 59) {\n\t\t\t\tres.add(i);\n\t\t\t}\n\t\t}\n\n\t\tif (res.size() == 0) {\n\t\t\tout.println(0);\n\t\t} else {\n\t\t\tfor (int v : res) {\n\t\t\t\tout.print(v + \" \");\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic class InputReader {\n\t\tpublic BufferedReader br;\n\t\tpublic StringTokenizer st;\n\n\t\tpublic InputReader() {\n\t\t\tbr = new BufferedReader(new InputStreamReader(System.in));\n\t\t}\n\n\t\tpublic String next() {\n\t\t\twhile (st == null || !st.hasMoreTokens()) {\n\t\t\t\ttry {\n\t\t\t\t\tst = new StringTokenizer(br.readLine());\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new RuntimeException(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tString str = \"\";\n\t\t\ttry {\n\t\t\t\tstr = br.readLine();\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\treturn str;\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst string dig = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nstring a, b;\nbool was;\nint minSys(const string &s) {\n  int mx = 2;\n  for (int i = 0; i < s.length(); i++) mx = max(mx, int(dig.find(s[i])) + 1);\n  return mx;\n}\nbool Pos(int rad) {\n  int sum = 0;\n  for (int i = 0; i < a.length() && sum < 24; i++)\n    sum = sum * rad + dig.find(a[i]);\n  if (sum >= 24) return false;\n  sum = 0;\n  for (int i = 0; i < b.length() && sum < 60; i++)\n    sum = sum * rad + dig.find(b[i]);\n  return sum < 60;\n}\nint main() {\n  getline(cin, a, ':');\n  getline(cin, b);\n  if (Pos(60))\n    cout << \"-1\\n\";\n  else {\n    for (int i = max(minSys(a), minSys(b)); i < 60; i++)\n      if (Pos(i)) {\n        if (was) cout << \" \";\n        was = true;\n        cout << i;\n      }\n    if (!was) cout << \"0\";\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring a, b;\npair<int, int> converter(int k) {\n  int pow = 1, let;\n  pair<int, int> sum = {0, 0};\n  for (int i = a.size() - 1; i >= 0; i--) {\n    if (a[i] >= 'A' && a[i] <= 'Z')\n      let = a[i] - 'A' + 10;\n    else\n      let = a[i] - '0';\n    sum.first += pow * let;\n    pow *= k;\n  }\n  pow = 1;\n  for (int i = b.size() - 1; i >= 0; i--) {\n    if (b[i] >= 'A' && b[i] <= 'Z')\n      let = b[i] - 'A' + 10;\n    else\n      let = b[i] - '0';\n    sum.second += pow * let;\n    pow *= k;\n  }\n  return sum;\n}\nint main() {\n  string s;\n  cin >> s;\n  char c = '0';\n  bool check = false;\n  for (int i = 0; i < s.size(); i++) {\n    if (s[i] == ':') {\n      check = true;\n      continue;\n    }\n    if (!check)\n      a += s[i];\n    else\n      b += s[i];\n    c = max(c, s[i]);\n  }\n  int k;\n  if (c >= 'A' && c <= 'Z')\n    k = c - 'A' + 11;\n  else\n    k = c - '0' + 1;\n  pair<int, int> test1 = converter(k), test2 = converter(k + 1);\n  if (test1 == test2 && test1.first < 24 && test1.second < 60) {\n    cout << -1;\n    return 0;\n  }\n  vector<int> ans;\n  while (test1.first < 24 && test1.second < 60) {\n    ans.push_back(k++);\n    test1 = converter(k);\n  }\n  if (!ans.size())\n    cout << 0;\n  else {\n    for (int i = 0; i < ans.size(); i++) cout << ans[i] << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n \npublic class two {\n    public static void main(String[] args) throws IOException {\n        BufferedReader buf = new BufferedReader(\n                new InputStreamReader(System.in));\n        String line = buf.readLine();\n        String[] in = line.split(\":\");\n        boolean check = true;\n        boolean found = false;\n        StringBuilder ans = new StringBuilder(\"\");\n        for (int i = 2; i < 61; i++) {\n \n            int h = 0;\n            int m = 0;\n            check = true;\n \n            for (int j = 0; j < in[0].length(); j++) {\n                char c = in[0].charAt(j);\n                int v = 0;\n                if (c >= 'A' && c <= 'Z') {\n                    v = 10 + c - 'A';\n                } else\n                    v = c - '0';\n                if (v >= i) {\n                    check = false;\n                    break;\n                } else {\n                    h += v * Math.pow(i, in[0].length() - j - 1);\n                }\n            }\n            for (int j = 0; j < in[1].length(); j++) {\n                char c = in[1].charAt(j);\n                int v = 0;\n                if (c >= 'A' && c <= 'Z') {\n                    v = 10 + c - 'A';\n                } else\n                    v = c - '0';\n                if (v >= i) {\n                    check = false;\n                    break;\n                } else {\n                    m += v * Math.pow(i, in[1].length() - j - 1);\n                }\n            }\n            if (check) {\n                if (h >= 0 && h <= 23 && m >= 0 && m <= 59) {\n                    ans.append(\" \" + i);\n                    found = true;\n                }\n            }\n \n        }\n        boolean check1 = true;\n        for (int i = 0; i < in[0].length() - 1 && check1; i++)\n            if (in[0].charAt(i) != '0')\n                check1 = false;\n        for (int i = 0; i < in[1].length() - 1 && check1; i++)\n            if (in[1].charAt(i) != '0')\n                check1 = false;\n \n        if (!check1) {\n \n            if (!found)\n                System.out.println(0);\n            else\n                System.out.println(ans.substring(1));\n \n        } else {\n            check = false;\n            char c1 = in[0].charAt(in[0].length() - 1);\n            if (c1 >= 'A' && c1 <= 'Z') {\n                if (c1 >= 'O')\n                    check = true;\n            }\n             \n            if (!check)\n                System.out.println(-1);\n            else\n                System.out.println(0);\n        }\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint64_t power(int64_t a, int64_t b) {\n  int64_t r = 1;\n  while (b--) r = r * a;\n  return r;\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  string stra, strb, str;\n  getline(cin, str);\n  int64_t i;\n  for (i = 0; i < str.length(); i++)\n    if (str[i] == ':') break;\n  stra = str.substr(0, i);\n  strb = str.substr(i + 1, str.length() - i - 1);\n  int64_t flag1 = 1, flag2 = 1;\n  for (i = 0; i < stra.length() - 1; i++)\n    if (stra[i] != '0') flag1 = 0;\n  for (i = 0; i < strb.length() - 1; i++)\n    if (strb[i] != '0') flag2 = 0;\n  if (flag1 && flag2 && stra[stra.length() - 1] <= 'N') {\n    cout << \"-1\";\n    return 0;\n  }\n  vector<int> vec;\n  int64_t min = 0;\n  for (i = 0; i < stra.length(); i++)\n    if (stra[i] > min) min = stra[i];\n  for (i = 0; i < strb.length(); i++)\n    if (strb[i] > min) min = strb[i];\n  if (min >= 65)\n    min -= 54;\n  else\n    min -= 47;\n  int64_t sum1, sum2, j, k;\n  for (i = min;; i++) {\n    sum1 = 0;\n    sum2 = 0;\n    for (j = stra.length() - 1, k = 0; j >= 0; j--, k++) {\n      if (stra[j] >= 65)\n        sum1 += power(i, k) * (stra[j] - 55);\n      else\n        sum1 += power(i, k) * (stra[j] - 48);\n    }\n    for (j = strb.length() - 1, k = 0; j >= 0; j--, k++) {\n      if (strb[j] >= 65)\n        sum2 += power(i, k) * (strb[j] - 55);\n      else\n        sum2 += power(i, k) * (strb[j] - 48);\n    }\n    if (sum1 <= 23 && sum2 <= 59)\n      cout << i << ' ';\n    else\n      break;\n  }\n  if (i == min) {\n    cout << '0';\n    return 0;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar a[22];\nchar b[22];\nset<int> ans;\nint upper[26];\nint transtlate(char tar[], int i) {\n  int len = strlen(tar);\n  int temp = 1;\n  int res = 0;\n  for (int j = len - 1; j >= 0; j--) {\n    if (isdigit(tar[j])) {\n      if (tar[j] - '0' >= i) return -1;\n      res += (tar[j] - '0') * temp;\n    } else {\n      int x = upper[tar[j] - 'A'];\n      if (x >= i) return -1;\n      res += x * temp;\n    }\n    temp *= i;\n  }\n  return res;\n}\nbool check(char x[], int flag) {\n  int len = strlen(x);\n  bool zero = true;\n  if (len > 1)\n    for (int i = len - 2; i >= 0; i--)\n      if (x[i] != '0') {\n        zero = false;\n        break;\n      }\n  if (len == 1) {\n    if (isdigit(x[len - 1]))\n      return true;\n    else if (flag == 0) {\n      if (upper[x[len - 1] - 'A'] < 24)\n        return true;\n      else\n        return false;\n    } else\n      return true;\n  }\n  if (zero) {\n    if (isdigit(x[len - 1]))\n      return true;\n    else if (flag == 0 && upper[x[len - 1] - 'A'] < 24)\n      return true;\n    else if (flag == 1)\n      return true;\n    else\n      return false;\n  } else\n    return false;\n}\nint main() {\n  for (char i = 'A'; i <= 'Z'; i++) upper[i - 'A'] = i - 'A' + 10;\n  scanf(\"%s\", a);\n  int cut;\n  for (int i = 0; i < strlen(a); i++)\n    if (a[i] == ':') {\n      cut = i + 1;\n      a[i] = '\\0';\n    }\n  strcpy(b, a + cut);\n  if (check(a, 0) && check(b, 1)) {\n    cout << -1 << endl;\n    return 0;\n  }\n  for (int i = 2; i <= 80; i++) {\n    int a_10 = transtlate(a, i);\n    int b_10 = transtlate(b, i);\n    if (a_10 != -1 && b_10 != -1 && a_10 < 24 && b_10 < 60) ans.insert(i);\n  }\n  if (ans.size() == 0)\n    cout << 0 << endl;\n  else {\n    set<int>::iterator it = ans.begin();\n    for (it = ans.begin(); it != ans.end();) {\n      cout << *it;\n      it++;\n      if (it != ans.end())\n        cout << \" \";\n      else\n        cout << endl;\n    }\n  }\n  ans.clear();\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def f(a,b):\n\tans = 0\n\tfor i in a:\n\t\tans = ans*b\n\t\tans += i\n\treturn ans\n\ndef solve ():\n\ta = raw_input().split(':')\n\tb = []\n\tc = []\n\t\n\tfor i in a[0]:\n\t\tif i >= '0' and i <= '9':\n\t\t\tb.append(ord(i) - ord('0'))\n\t\telse:\n\t\t\tb.append(ord(i) - ord('A') + 10)\n\tfor i in a[1]:\n\t\tif i >= '0' and i <= '9':\n\t\t\tc.append(ord(i) - ord('0'))\n\t\telse:\n\t\t\tc.append(ord(i) - ord('A') + 10)\n\tstart = 0\n\tfor i in b:\n\t\tif i>start:\n\t\t\tstart = i\n\tfor i in c:\n\t\tif i>start:\n\t\t\tstart = i\n\tret = ''\n\t\n\twhile start < 100:\n\t\tstart += 1\n\t\tbb = f(b,start)\n\t\tcc = f(c,start)\n\t\tif bb>23 or cc > 59:\n\t\t\tbreak\n\t\tret +=str(start)+' '\n\t\n\tif start == 100:\n\t\tprint -1\n\telse:\n\t\tif len(ret) > 0:\n\t\t\tprint ret\n\t\telse:\n\t\t\tprint 0\n\t\n\nsolve()"
        },
        {
            "language": 4,
            "solution": "//package codeforces;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.StreamTokenizer;\nimport java.util.Scanner;\n\npublic class CodeForces {\n\n    private static Scanner sc;\n    private static MyPrinter out;\n\n    public static void solve() throws IOException {\n        String s = sc.next();\n        int[] a = new int[1];\n        int[] b;\n        int num = 0;\n        for (int i = 0; i < s.length(); i++) {\n            if (s.charAt(i) == ':') {\n                a = new int[num];\n                num = 0;\n            } else {\n                num++;\n            }\n        }\n        b = new int[num];\n        for (int i = 0; i < s.length(); i++) {\n            int now;\n            if (s.charAt(i) >= '0' && s.charAt(i) <= '9') {\n                now = s.charAt(i) - '0';\n            } else {\n                now = s.charAt(i) - 'A' + 10;\n            }\n            if (i > a.length) {\n                b[i - a.length - 1] = now;\n            } else {\n                if (i != a.length) {\n                    a[i] = now;\n                }\n            }\n        }\n        boolean inf = true;\n        int max = 0;\n        for (int i = 0; i < a.length; i++) {\n            if (i < a.length - 1 && a[i] != 0 || a[i] > 23) {\n                inf = false;\n            }\n            max = Math.max(max, a[i]);\n        }\n        for (int i = 0; i < b.length; i++) {\n            if (i < b.length - 1 && b[i] != 0 || b[i] > 59) {\n                inf = false;\n            }\n            max = Math.max(max, b[i]);\n        }\n        if (inf) {\n            out.println(-1);\n            return;\n        }\n        boolean found = false;\n        boolean done = false;\n        int sys = max + 1;\n        while (!done) {\n            int h = 0;\n            for (int i = 0; i < a.length; i++) {\n                h += a[i] * Math.pow(sys, a.length - i - 1);\n            }\n            if (h >= 0 && h < 24) {\n                int m = 0;\n                for (int i = 0; i < b.length; i++) {\n                    m += b[i] * Math.pow(sys, b.length - i - 1);\n                }\n                if (m >= 0 && m < 60) {\n                    out.print(sys + \" \");\n                    found = true;\n                } else {\n                    done = true;\n                }\n            } else {\n                done = true;\n            }\n            sys++;\n        }\n        if (!found) {\n            out.println(0);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        sc = new Scanner(System.in);\n        out = new MyPrinter(System.out);\n        solve();\n        out.close();\n\n\n    }\n}\n\nclass MyScanner {\n\n    private StreamTokenizer st;\n    private Scanner sc;\n\n    public MyScanner(InputStream is) {\n        st = new StreamTokenizer(new BufferedReader(new InputStreamReader(is)));\n        sc = new Scanner(is);\n    }\n\n    public MyScanner(String s) throws FileNotFoundException {\n        st = new StreamTokenizer(new BufferedReader(new FileReader(new File(s))));\n        sc = new Scanner(new File(s));\n    }\n\n    public int nextInt() throws IOException {\n        st.nextToken();\n        return ((int) st.nval);\n    }\n\n    public double nextDouble() throws IOException {\n        st.nextToken();\n        return (st.nval);\n    }\n\n    public long nextLong() throws IOException {\n        st.nextToken();\n        return ((long) st.nval);\n    }\n\n    public String next() {\n        return (sc.next());\n    }\n\n    public String nextLine() {\n        return (sc.nextLine());\n    }\n}\n\nclass MyPrinter {\n\n    private BufferedWriter out;\n\n    public MyPrinter(OutputStream os) {\n        out = new BufferedWriter(new PrintWriter(os));\n    }\n\n    public MyPrinter(String s) throws IOException {\n        out = new BufferedWriter(new FileWriter(new File(s)));\n    }\n\n    public void print(Object... args) throws IOException {\n        for (int i = 0; i < args.length; i++) {\n            out.write(args[i].toString());\n        }\n    }\n\n    public void println(Object... args) throws IOException {\n        for (int i = 0; i < args.length; i++) {\n            out.write(args[i].toString());\n        }\n        out.newLine();\n    }\n\n    public void close() throws IOException {\n        out.flush();\n        out.close();\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint calc(string t, int n) {\n  int ans;\n  if (t[t.length() - 1] >= 'A' && t[t.length() - 1] <= 'Z')\n    ans = t[t.length() - 1] - 'A' + 10;\n  else\n    ans = t[t.length() - 1] - '0';\n  int mul = n;\n  for (int i = t.length() - 2; i >= 0; i--) {\n    if (t[i] >= 'A' && t[i] <= 'Z')\n      ans += (t[i] - 'A' + 10) * mul;\n    else\n      ans += (t[i] - '0') * mul;\n    mul *= n;\n  }\n  return ans;\n}\nint main() {\n  string h, m, s;\n  cin >> s;\n  h = s.substr(0, s.find(\":\"));\n  m = s.substr(s.find(\":\") + 1, s.length() - s.find(\":\") - 1);\n  for (int i = 0; i < h.length() - 1; i++) {\n    if (h[i] == '0') {\n      h = h.substr(1, h.length() - 1);\n      i--;\n    } else\n      break;\n  }\n  for (int i = 0; i < m.length() - 1; i++) {\n    if (m[i] == '0') {\n      m = m.substr(1, m.length() - 1);\n      i--;\n    } else\n      break;\n  }\n  bool flag = true;\n  vector<int> v;\n  if (h.length() <= 1 && m.length() <= 1) {\n    if ((h.length() == 1 &&\n         ((h[0] >= '0' && h[0] <= '9') || (h[0] - 'A' + 10) < 24)) &&\n        (m.length() == 1 &&\n         ((m[0] >= '0' && m[0] <= '9') || (m[0] - 'A' + 10) < 60)))\n      flag = false;\n  } else {\n    int st = 0;\n    for (int i = 0; i < h.length(); i++)\n      if (h[i] >= 'A' && h[i] <= 'Z')\n        st = st > (h[i] - 'A' + 10) ? st : (h[i] - 'A' + 10);\n      else\n        st = st > (h[i] - '0') ? st : (h[i] - '0');\n    for (int i = 0; i < m.length(); i++)\n      if (m[i] >= 'A' && m[i] <= 'Z')\n        st = st > (m[i] - 'A' + 10) ? st : (m[i] - 'A' + 10);\n      else\n        st = st > (m[i] - '0') ? st : (m[i] - '0');\n    st += 1;\n    for (int i = st;; i++) {\n      if (calc(h, i) < 24 && calc(m, i) < 60)\n        v.push_back(i);\n      else\n        break;\n    }\n  }\n  if (!flag)\n    cout << \"-1\" << endl;\n  else {\n    if (v.size() == 0)\n      cout << \"0\" << endl;\n    else\n      for (int i = 0; i < v.size(); i++) printf(\"%d \", v[i]);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def f(x):\n    if ord('0')<=ord(x)<=ord('9'):\n        return ord(x)-ord('0')\n    else:\n        return ord(x)-ord('A')+10\ndef g(x):\n    x=list(x)\n    i=0\n    while x[0]=='0' and len(x)>1:\n        del x[0]\n    return x\ndef h(s,m):\n    c=1\n    t=0\n    for x in s[::-1]:\n        t+=f(x)*c\n        c*=m\n    return t\ndef z(l,m):\n    if h(l[0],m)<24 and h(l[1],m)<60:\n        return True\n    return False\nA=raw_input().split(':')\nA[0]=g(A[0])\nA[1]=g(A[1])\ne=max(map(f,list(A[0]))+map(f,list(A[1])))+1\nif not z(A,e):\n    print 0\n    exit()\nif z(A,60):\n    print -1\n    exit()\nfor i in range(e,60):\n    if z(A,i):\n        print i,\n    \n    \n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint convert(string s, int b) {\n  int l = s.size();\n  int val = 0;\n  int mul = 1;\n  for (int i = l - 1; i >= 0; i--) {\n    if (s[i] >= 'A' && s[i] <= 'Z') {\n      val = val + ((int)(s[i]) - 'A' + 10) * mul;\n    } else\n      val = val + ((int)(s[i]) - '0') * mul;\n    mul = mul * b;\n  }\n  return val;\n}\nint main() {\n  string s;\n  cin >> s;\n  string s1 = \"\";\n  string s2 = \"\";\n  int l = s.size();\n  int i = 0;\n  int mx = -1;\n  while (s[i] != ':') {\n    if (s[i] >= 'A' && s[i] <= 'Z')\n      mx = max(mx, (int)(s[i]) - 'A' + 10);\n    else {\n      mx = max(mx, (int)(s[i]) - '0');\n    }\n    s1 = s1 + s[i];\n    i++;\n  }\n  i++;\n  while (i < l) {\n    if (s[i] >= 'A' && s[i] <= 'Z')\n      mx = max(mx, (int)(s[i]) - 'A' + 10);\n    else {\n      mx = max(mx, (int)(s[i]) - '0');\n    }\n    s2 = s2 + s[i];\n    i++;\n  }\n  vector<int> ans;\n  for (i = mx + 1; i <= 100000; i++) {\n    int val1 = convert(s1, i);\n    int val2 = convert(s2, i);\n    if (val1 >= 24 || val2 >= 60) {\n      int ll = ans.size();\n      if (ll == 0) {\n        cout << 0 << endl;\n        return 0;\n      } else {\n        for (int i = 0; i < ll; i++) cout << ans[i] << \" \";\n        cout << endl;\n        return 0;\n      }\n    } else\n      ans.push_back(i);\n  }\n  cout << \"-1\" << endl;\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "#------------------------------warmup----------------------------\nimport os\nimport sys\nimport math\nfrom io import BytesIO, IOBase\n \nBUFSIZE = 8192\n \n \nclass FastIO(IOBase):\n    newlines = 0\n \n    def __init__(self, file):\n        self._fd = file.fileno()\n        self.buffer = BytesIO()\n        self.writable = \"x\" in file.mode or \"r\" not in file.mode\n        self.write = self.buffer.write if self.writable else None\n \n    def read(self):\n        while True:\n            b = os.read(self._fd, max(os.fstat(self._fd).st_size, BUFSIZE))\n            if not b:\n                break\n            ptr = self.buffer.tell()\n            self.buffer.seek(0, 2), self.buffer.write(b), self.buffer.seek(ptr)\n        self.newlines = 0\n        return self.buffer.read()\n \n    def readline(self):\n        while self.newlines == 0:\n            b = os.read(self._fd, max(os.fstat(self._fd).st_size, BUFSIZE))\n            self.newlines = b.count(b\"\\n\") + (not b)\n            ptr = self.buffer.tell()\n            self.buffer.seek(0, 2), self.buffer.write(b), self.buffer.seek(ptr)\n        self.newlines -= 1\n        return self.buffer.readline()\n \n    def flush(self):\n        if self.writable:\n            os.write(self._fd, self.buffer.getvalue())\n            self.buffer.truncate(0), self.buffer.seek(0)\n \n \nclass IOWrapper(IOBase):\n    def __init__(self, file):\n        self.buffer = FastIO(file)\n        self.flush = self.buffer.flush\n        self.writable = self.buffer.writable\n        self.write = lambda s: self.buffer.write(s.encode(\"ascii\"))\n        self.read = lambda: self.buffer.read().decode(\"ascii\")\n        self.readline = lambda: self.buffer.readline().decode(\"ascii\")\n \n \nsys.stdin, sys.stdout = IOWrapper(sys.stdin), IOWrapper(sys.stdout)\ninput = lambda: sys.stdin.readline().rstrip(\"\\r\\n\")\n \n#-------------------game starts now----------------------------------------------------\na, b = input().split(':')\na = list(a)\nb = list(b)\nc = 10\nfor i in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ':\n    for j in range(len(a)):\n        if a[j] == i:\n            a[j] = c\n    for j in range(len(b)):\n        if b[j] == i:\n            b[j] = c\n    c += 1\na = list(map(int, a))\nb = list(map(int, b))\nans = []\nfor c in range(2, 200):\n    x1 = 0\n    x2 = 0\n    for p in range(len(a)):\n        x1 += a[p] * c ** (len(a) - p - 1)\n    for p in range(len(b)):\n        x2 += b[p] * c ** (len(b) - p - 1)\n    if 0 <= x1 <= 23 and 0 <= x2 <= 59 and max(a) < c and max(b) < c:\n        ans.append(c)\nif len(ans) > 100:\n    print(-1)\nelif ans:\n    print(*ans)\nelse:\n    print(0)"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma GCC optimize(\"O3\")\nusing namespace std;\nconst long long MAX = 1e3 + 5;\nconst long long MAX2 = 11;\nconst int MOD = 1000000000 + 7;\nconst long long INF = 20000;\nconst int nr[] = {1, 0, -1, 0, 1, 1, -1, -1};\nconst int nc[] = {0, 1, 0, -1, 1, -1, 1, -1};\nlong long sz, ans, id[65], tmp, pos, rel[128], dg;\nstring s, a, b;\nchar c;\nbool st;\nint main() {\n  cout << fixed << setprecision(10);\n  for (int i = 0; i <= 9; i++) {\n    c = '0' + i;\n    rel[c] = i;\n  }\n  for (int i = 0; i <= 25; i++) {\n    c = 'A' + i;\n    rel[c] = i + 10;\n  }\n  cin >> s;\n  sz = s.size() - 1;\n  for (int i = 0; i <= sz; i++) {\n    if (s[i] == ':') {\n      pos = i + 1;\n      break;\n    }\n    a += s[i];\n  }\n  for (int i = pos; i <= sz; i++) b += s[i];\n  reverse(a.begin(), a.end());\n  reverse(b.begin(), b.end());\n  for (int i = 2; i <= 60; i++) {\n    st = 1;\n    tmp = 0;\n    dg = 1;\n    for (auto j : a) {\n      if (rel[j] >= i) {\n        st = 0;\n        break;\n      }\n      dg *= i;\n      tmp += rel[j] * dg;\n    }\n    tmp /= i;\n    if (tmp > 23) st = 0;\n    tmp = 0;\n    dg = 1;\n    for (auto j : b) {\n      if (rel[j] >= i) {\n        st = 0;\n        break;\n      }\n      dg *= i;\n      tmp += rel[j] * dg;\n    }\n    tmp /= i;\n    if (tmp > 59) st = 0;\n    id[i] = st;\n  }\n  if (id[60]) return cout << -1, 0;\n  for (int i = 2; i <= 60; i++) ans += id[i];\n  if (!ans)\n    cout << 0;\n  else {\n    for (int i = 2; i <= 60; i++)\n      if (id[i]) cout << i << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar s[50000];\nchar s1[50000], s2[50000];\nint d(char c) {\n  if (c >= '0' && c <= '9') return c - '0';\n  if (c >= 'a' && c <= 'z') c = c - 'a' + 'A';\n  return c - 'A' + 10;\n}\nbool judge(int base) {\n  int a = 0, b = 0;\n  for (int i = 0; i < strlen(s1); i++) {\n    int temp = d(s1[i]);\n    if (temp >= base) return false;\n    a = a * base + temp;\n  }\n  for (int i = 0; i < strlen(s2); i++) {\n    int temp = d(s2[i]);\n    if (temp >= base) return false;\n    b = b * base + temp;\n  }\n  if (a >= 0 && a < 24 && b >= 0 && b < 60) return true;\n  return false;\n}\nvoid creat() {\n  int n = strlen(s);\n  int top = 0;\n  int i;\n  for (i = 0; i < n; i++) {\n    if (s[i] == ':') break;\n    if (s[i] == '0' && top == 0) continue;\n    s1[top++] = s[i];\n  }\n  i++;\n  if (top == 0) s1[top++] = '0';\n  s1[top] = '\\0';\n  top = 0;\n  for (; i < n; i++) {\n    if (s[i] == '0' && top == 0) continue;\n    s2[top++] = s[i];\n  }\n  if (top == 0) s2[top++] = '0';\n  s2[top] = '\\0';\n}\nvoid solve() {\n  creat();\n  if (strlen(s1) == 1 && strlen(s2) == 1) {\n    if (d(s1[0]) < 24 && d(s1[0]) >= 0 && d(s2[0]) >= 0 && d(s2[0]) < 60)\n      printf(\"-1\\n\");\n    else\n      printf(\"0\\n\");\n    return;\n  }\n  bool first = false;\n  for (int i = 1; i < 60; i++) {\n    if (judge(i)) {\n      if (!first) {\n        first = true;\n        printf(\"%d\", i);\n      } else\n        printf(\" %d\", i);\n    }\n  }\n  if (!first) printf(\"0\");\n  printf(\"\\n\");\n}\nint main() {\n  while (gets(s)) {\n    solve();\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "import re\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c)- ord('A') + 10)\n\ndef convert(n, system):\n      ans, pow = 0, 1\n      for i in range(1, len(n) + 1):\n            if get(n[-i]) >= system: return 100500\n            ans, pow = ans + get(n[-i]) * pow, pow * system\n      return ans\n\ndef good(s, system):\n      return convert(s[0], system) < 24 and convert(s[1], system) < 60\n\ns = map(lambda x: re.sub('^0*', '', x), raw_input().split(':'))\ns = map(lambda x: x if x else '0', s)\nany = False\nif good(s, 60): print '-1'\nelse:\n      for i in range(2, 60):\n            if good(s, i):\n                  any = True\n                  print i,\n      if not any: print '0'\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, m;\nint ans, sum, tmp;\nint MAX, MIN;\nchar a[20];\nint b[20], nb = 0, c[20], nc = 0, d[100], nd = 0;\nint main() {\n  scanf(\"%s\", a);\n  int l = strlen(a), now = 0;\n  MAX = 0;\n  while (a[now] != ':') {\n    if ('0' <= a[now] && a[now] <= '9')\n      b[nb++] = a[now] - '0';\n    else\n      b[nb++] = a[now] - 'A' + 10;\n    MAX = max(MAX, b[nb - 1]);\n    now++;\n  }\n  now++;\n  while (a[now] != '\\0') {\n    if ('0' <= a[now] && a[now] <= '9')\n      c[nc++] = a[now] - '0';\n    else\n      c[nc++] = a[now] - 'A' + 10;\n    MAX = max(MAX, c[nc - 1]);\n    now++;\n  }\n  MAX++;\n  int SUM1, SUM2, chk = 0;\n  for (int k = MAX; k <= 60; k++) {\n    SUM1 = SUM2 = 0;\n    for (int i = nb - 1, j = 1; i >= 0; i--, j *= k) SUM1 += (b[i] * j);\n    for (int i = nc - 1, j = 1; i >= 0; i--, j *= k) SUM2 += (c[i] * j);\n    if (SUM1 <= 23 && SUM2 <= 59) d[nd++] = k;\n  }\n  if (nd == 0)\n    printf(\"0\");\n  else if (d[nd - 1] == 60)\n    printf(\"-1\");\n  else\n    for (int i = 0; i < nd; i++) printf(\"%d \", d[i]);\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class B149 {\n\tpublic static void main(String[] args) throws IOException{\n\t\tBufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\n\t\tString[] ns = bf.readLine().split(\":\");\n\t\tint[] hours = new int[5];\n\t\tint max = 0;\n\t\tfor(int i = 0;i<ns[0].length();i++)\n\t\t{\n\t\t\tif(Character.isDigit(ns[0].charAt(ns[0].length()-i-1)))\n\t\t\t\thours[5-i-1] = Integer.parseInt(\"\"+ns[0].charAt(ns[0].length()-i-1));\n\t\t\telse\n\t\t\t\thours[5-i-1] = (Character.toLowerCase(ns[0].charAt(ns[0].length()-i-1))-87);\n\t\t\tmax = Math.max(hours[5-i-1], max);\n\t\t}\n\t\tint[] minutes = new int[5];\n\t\tfor(int i = 0;i<ns[1].length();i++)\n\t\t{\n\t\t\tif(Character.isDigit(ns[1].charAt(ns[1].length()-i-1)))\n\t\t\t\tminutes[5-i-1] = Integer.parseInt(\"\"+ns[1].charAt(ns[1].length()-i-1));\n\t\t\telse\n\t\t\t\tminutes[5-i-1] = (Character.toLowerCase(ns[1].charAt(ns[1].length()-i-1))-87);\n\t\t\tmax = Math.max(minutes[5-i-1], max);\n\t\t}\n\t\tint minRad = max+1;\n\t\tint hour = 0;\n\t\tfor(int i = 0;i<5;i++)\n\t\t\thour += hours[5-i-1]*Math.pow(minRad,i);\n\t\tint minute = 0;\n\t\tfor(int i = 0;i<5;i++)\n\t\t\tminute += minutes[5-i-1]*Math.pow(minRad,i);\n\t\tif(hour>23)\n\t\t\tSystem.out.println(0);\n\t\telse\n\t\t\tif(minute>59)\n\t\t\t\tSystem.out.println(0);\n\t\t\telse\n\t\t\t\tif(hours[0]+hours[1]+hours[2]+hours[3]+hours[4]==hours[4]&&minutes[0]+minutes[1]+minutes[2]+minutes[3]+minutes[4]==minutes[4])\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\telse\n\t\t\t\t\tfor(int i = minRad+1;hour<24&minute<60;i++)\n\t\t\t\t\t{\n\t\t\t\t\t\thour = 0;\n\t\t\t\t\t\tfor(int j = 0;j<5;j++)\n\t\t\t\t\t\t\thour += hours[5-j-1]*Math.pow(i, j);\n\t\t\t\t\t\t\n\t\t\t\t\t\tminute = 0;\n\t\t\t\t\t\tfor(int j = 0;j<5;j++)\n\t\t\t\t\t\t\tminute += minutes[5-j-1]*Math.pow(i, j);\n\t\t\t\t\t\t\n\t\t\t\t\t\tSystem.out.print((i-1)+\" \");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\ninline void checkmin(T &a, T b) {\n  if (a > b) a = b;\n}\nint to(char c) {\n  int res = 0;\n  if (c >= '0' && c <= '9')\n    res = c - '0';\n  else\n    res = c - 'A' + 10;\n  return res;\n}\nint convert(string s, int base) {\n  int res = 0;\n  int len = s.length();\n  for (int i = 0; i < len; i++) {\n    if (to(s[i]) >= base) return -1;\n    res = res * base + to(s[i]);\n  }\n  return res;\n}\nvoid solve() {\n  string s, a, b;\n  cin >> s;\n  int len = s.length();\n  for (int i = 0; i < len; i++) {\n    if (s[i] == ':') {\n      a = s.substr(0, i);\n      b = s.substr(i + 1);\n    }\n  }\n  vector<int> vb;\n  for (int i = 2; i <= 60; i++) {\n    int x = convert(a, i);\n    int y = convert(b, i);\n    if (x != -1 && y != -1) {\n      if (x >= 0 && x <= 23 && y >= 0 && y <= 59) vb.push_back(i);\n    }\n  }\n  int sz = vb.size();\n  if (sz == 0)\n    cout << sz << endl;\n  else if (vb[sz - 1] == 60)\n    cout << -1 << endl;\n  else {\n    for (int i = 0; i < sz; i++) {\n      cout << vb[i];\n      if (i < sz - 1) cout << \" \";\n    }\n    cout << endl;\n  }\n}\nint main() {\n  solve();\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "\n    \na=raw_input().split(':')\nb=[]\nc=[]\nfor i in a[0]:\n    if i>='0' and i<='9':\n        b.append(ord(i)-ord('0'))\n    else:\n        b.append(ord(i)-ord('A')+10)\nfor i in a[1]:\n    if i>='0' and i<='9':\n        c.append(ord(i)-ord('0'))\n    else:\n        c.append(ord(i)-ord('A')+10)\nstart=0\nfor i in b:\n    if i>start:\n        start=i\nfor i in c:\n    if i>start:\n        start=i\n\n\n\ndef f(a,b):\n    ans=0\n    for i in a:\n        ans=ans*b\n        ans+=i\n    return ans\n\nret=''\n\nwhile start < 100:\n    start+=1\n    bb=f(b,start)\n    cc=f(c,start)\n    if bb>23 or cc>59:\n        break\n    ret+=str(start)+' '\n\nif start==100:\n    print -1\nelse:\n    if len(ret)>0:\n        print ret\n    else:\n        print 0\n"
        },
        {
            "language": 1,
            "solution": "def good(b, num, basa):\n    sum = 0\n    maxbasB = 0\n    if b != '0':\n        if len(b) > 1:\n            while sum < num:\n                sum = 0\n                j = len(b) - 1\n                for i in b:\n                    sum += basic[i]*(basa**j)\n                    j -= 1\n                    if sum > num:\n                        break\n                if sum < num:\n                    maxbasB = basa \n                    basa += 1   \n                else:\n                    break\n        else:\n            if num / basic[b] > 0:\n                maxbasB = 83 - num         \n            else:\n                maxbasB = 0\n    return maxbasB                \ndef conv(b):\n    j = 0\n    for i in b:\n        if i == '0':\n            j += 1\n        else:\n            break   \n    b = b[j:len(b)]\n    if len(b) == 0:\n        b = '0'\n    return b    \na ,b =  raw_input().split(':')\nj  = 0\nbasic = {}\nfor i in range(10):\n    basic[str(i)] = i\nfor i in range(65,91):\n    basic[ chr(i) ] = len(basic)   \na = conv(a)\nb = conv(b)\nif (len(a) <= 1 and len(b) <= 1):\n    if (len(a) == 1 and basic[a] > 23):\n        print 0\n    else:    \n        print -1\nelse:\n    minbas = max(basic[max(a)],basic[max(b)]) + 1\n    maxbasA = good(a, 24, minbas)            \n    maxbasB = good(b, 60, minbas)                             \n    if a == '0':\n        c = maxbasB\n    else:\n        if b == '0':\n            c = maxbasA\n        else:                    \n            c = min(maxbasA, maxbasB)    \n    if c < minbas:\n        print 0\n    else:\n        for i in range(minbas, c + 1):\n            print i, "
        },
        {
            "language": 1,
            "solution": "def cost(s):\n    if '0' <= s <= '9':\n        return ord(s) - ord('0')\n    return ord(s) - ord('A') + 10\n\ndef val(s, x):\n    res = 0\n    for i in s:\n        if cost(i) >= x:\n            return 10**10\n        res = res * x + cost(i)\n    return res\n\nif __name__ == \"__main__\":\n    s = raw_input().strip().split(\":\")\n    res = []\n    for i in range(2,1000):\n        if val(s[0], i) < 24 and val(s[1], i) < 60:\n            res += [i]\n    if len(res) == 0:\n        print (0)\n    elif 999 in res:\n        print (-1)\n    else:\n        for i in res:\n            print i,\n\n    \n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring a, b, st;\nint cx, dx, c[500], d[500], maxd, tmp, i;\nbool f[1000];\nvoid read_data() {\n  cin >> st;\n  for (i = 0; st[i] != ':'; i++) a = a + st[i];\n  for (i = i + 1; i < st.size(); i++) b = b + st[i];\n}\nbool can(int i) {\n  cx = 0;\n  for (int k = 0; k < a.size(); k++) {\n    cx = cx * i + c[k];\n    if (cx > 23) return false;\n  }\n  dx = 0;\n  for (int k = 0; k < b.size(); k++) {\n    dx = dx * i + d[k];\n    if (dx > 59) return false;\n  }\n  return true;\n}\nvoid work() {\n  maxd = 0;\n  for (i = a.size() - 1; i >= 0; i--) {\n    if (isalpha(a[i]))\n      tmp = a[i] - 'A' + 10;\n    else\n      tmp = a[i] - '0';\n    c[i] = tmp;\n    maxd = max(maxd, tmp);\n  }\n  for (i = b.size() - 1; i >= 0; i--) {\n    if (isalpha(b[i]))\n      tmp = b[i] - 'A' + 10;\n    else\n      tmp = b[i] - '0';\n    d[i] = tmp;\n    maxd = max(maxd, tmp);\n  }\n  int cnter = 0;\n  for (i = maxd + 1; i <= 500; i++)\n    if (can(i)) {\n      f[i] = true;\n      cnter++;\n    };\n  if (cnter == 0)\n    cout << \"0\" << endl;\n  else if (f[500] == true)\n    cout << \"-1\" << endl;\n  else {\n    for (i = 2; i <= 500; i++)\n      if (f[i]) cout << i << endl;\n  };\n}\nint main() {\n  read_data();\n  work();\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.awt.*;\nimport java.awt.geom.*;\nimport java.io.*;\nimport java.math.*;\nimport java.text.*;\nimport java.util.*;\n\n/*\nbr = new BufferedReader(new FileReader(\"input.txt\"));\npw = new PrintWriter(new BufferedWriter(new FileWriter(\"output.txt\")));\nbr = new BufferedReader(new InputStreamReader(System.in));\npw = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)));\n */\n\npublic class Main {\n\tprivate static BufferedReader br;\n\tprivate static StringTokenizer st;\n\tprivate static PrintWriter pw;\n\n\tstatic String base = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\t\n\tpublic static void main(String[] args) throws IOException\t{\n\t\tbr = new BufferedReader(new InputStreamReader(System.in));\n\t\tpw = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)));\n\t\tString str = nextToken();\n\t\tString hour = str.substring(0, str.indexOf(\":\"));\n\t\tString min = str.substring(str.indexOf(\":\")+1);\n\t\tTreeSet<Integer> set = new TreeSet<Integer>();\n\t\tfor(int base = 2; base <= 1000; base++)\t{\n\t\t\tif(valid(hour,min,base))\t{\n\t\t\t\tset.add(base);\n\t\t\t}\n\t\t}\n\t\tif(set.size() > 100)\t{\n\t\t\tpw.println(-1);\n\t\t}\n\t\telse if(set.isEmpty())\t{\n\t\t\tpw.println(0);\n\t\t}\n\t\telse\t{\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor(int out: set)\n\t\t\t\tsb.append(out + \" \");\n\t\t\tpw.println(sb.toString().trim());\n\t\t}\n\t\tpw.close(); \n\t}\n\n\tpublic static boolean valid(String h, String m, int b)\t{\n\t\treturn is(h,b,24) && is(m,b,60);\n\t}\n\t\n\tpublic static boolean is(String s, int b, int max)\t{\n\t\tint curr = 0;\n\t\tfor(int i = 0; i < s.length(); i++)\t{\n\t\t\tcurr *= b;\n\t\t\tif(curr >= max)\n\t\t\t\treturn false;\n\t\t\tint next = base.indexOf(String.valueOf(s.charAt(i)));\n\t\t\tif(next >= b)\n\t\t\t\treturn false;\n\t\t\tcurr += next;\n\t\t}\n\t\treturn curr < max;\n\t}\n\t\n\t/* NOTEBOOK CODE */\n\n\tpublic static void loadArray(int[][] grid) throws IOException {\n\t\tfor(int[] a: grid)\n\t\t\tloadArray(a);\n\t}\n\n\tpublic static void loadArray(int[] in) throws IOException {\n\t\tfor(int i = 0; i < in.length; i++)\n\t\t\tin[i] = readInt();\n\t}\n\n\tpublic static void loadArray(long[] in) throws IOException {\n\t\tfor(int i = 0; i < in.length; i++)\n\t\t\tin[i] = readLong();\n\t}\n\n\n\tprivate static long readLong() throws IOException\t{\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tprivate static double readDouble() throws IOException\t{\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\n\tprivate static int readInt() throws IOException\t{\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tprivate static String nextToken() throws IOException\t{\n\t\twhile(st == null || !st.hasMoreTokens())\t{\n\t\t\tif(!br.ready())\t{\n\t\t\t\tpw.close();\n\t\t\t\tSystem.exit(0);\n\t\t\t}\n\t\t\tst = new StringTokenizer(br.readLine().trim());\n\t\t}\n\t\treturn st.nextToken();\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MAX_N = 8;\nconst int MAX_H = 24;\nconst int MAX_M = 60;\nchar s[16];\nint hds[MAX_N], mds[MAX_N], bs[MAX_M];\nint parse(char *(&cpt), int ds[]) {\n  int n = 0;\n  while (*cpt == ':') cpt++;\n  while (*cpt == '0') cpt++;\n  for (; *cpt && *cpt != ':'; cpt++)\n    ds[n++] = (*cpt >= '0' && *cpt <= '9') ? *cpt - '0' : *cpt - 'A' + 10;\n  return n;\n}\nint calc(int ds[], int n, int b) {\n  int sum = 0;\n  for (int i = 0; i < n; i++) {\n    if (ds[i] >= b) return -1;\n    sum = sum * b + ds[i];\n  }\n  return sum;\n}\nvoid printds(int ds[], int n) {\n  for (int i = 0; i < n; i++) {\n    if (i) putchar(' ');\n    printf(\"%d\", ds[i]);\n  }\n  putchar('\\n');\n}\nint main() {\n  scanf(\"%s\", s);\n  char *cpt = s;\n  int hn = parse(cpt, hds);\n  int mn = parse(cpt, mds);\n  if (hn <= 1 && mn <= 1 && calc(hds, hn, MAX_M) < MAX_H &&\n      calc(mds, mn, MAX_M) < MAX_M) {\n    puts(\"-1\");\n    return 0;\n  }\n  int bn = 0;\n  for (int b = 2; b <= MAX_M; b++) {\n    int h = calc(hds, hn, b);\n    int m = calc(mds, mn, b);\n    if (h < 0 || m < 0) continue;\n    if (h >= MAX_H || m >= MAX_M) break;\n    bs[bn++] = b;\n  }\n  if (bn > 0)\n    printds(bs, bn);\n  else\n    puts(\"0\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int modN = 1e9 + 7;\nconst double PI = 3.1415926535897932384626433832795028841;\nint base[100];\nvoid init() {\n  memset(base, -1, sizeof(base));\n  int i;\n  for (i = 48; i < 58; i++) base[i] = i - 47;\n  for (i = 65; i < 100; i++) base[i] = i - 54;\n}\nbool verifica(int bas, string nro) {\n  int i, j, hora, minu, x, pos;\n  string a, b;\n  for (i = 0; i < nro.size(); i++) {\n    if (nro[i] == ':') break;\n  }\n  a = nro.substr(0, i);\n  b = nro.substr(i + 1, nro.size() - i - 1);\n  pos = 0, j = 0;\n  for (i = a.size() - 1; i >= 0; i--) {\n    pos += (pow(bas, j) * (base[a[i]] - 1));\n    j++;\n  }\n  hora = pos;\n  pos = 0, j = 0;\n  for (i = b.size() - 1; i >= 0; i--) {\n    pos += (pow(bas, j) * (base[b[i]] - 1));\n    j++;\n  }\n  minu = pos;\n  return ((0 <= hora && hora <= 23) && (0 <= minu && minu <= 59));\n}\nint main() {\n  string x;\n  init();\n  while (cin >> x) {\n    int i;\n    char may = '0';\n    for (i = 0; i < x.size(); i++) {\n      if (x[i] == ':') continue;\n      may = max(may, x[i]);\n    }\n    vector<int> vec;\n    vec.clear();\n    bool sw = 1;\n    for (i = base[may]; i < 100; i++) {\n      if (verifica(i, x))\n        vec.push_back(i);\n      else\n        break;\n    }\n    if (vec.size() == 0) {\n      printf(\"0\\n\");\n      continue;\n    } else if (vec.back() == 99) {\n      printf(\"-1\\n\");\n      continue;\n    } else\n      for (i = 0; i < vec.size() - 1; i++) printf(\"%d \", vec[i]);\n    printf(\"%d\\n\", vec[i]);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\n\npublic class MainLuckConstr {\n\n    public static long getInBase(String numb,int base){\n        long res=0;\n        long pow=1L;\n        for(int i=numb.length()-1;i>=0;i--){\n            if(Character.isDigit(numb.charAt(i))){\n                long n=numb.charAt(i)-'0';\n                if(n>=base){\n                    return 10000;\n                }\n                res+=pow*n;\n            }else {\n                long n=numb.charAt(i)-'A'+10;\n                if(n>=base){\n                    return 10000;\n                }\n                res+=pow*n;\n            }\n            pow*=base;\n        }\n        return res;\n    }\n    \n    \n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String str = s.next();\n        String p[] = str.split(\":\");\n        String a = p[0];\n        String b = p[1];\n        ArrayList<Integer> ar = new ArrayList<Integer>();\n        for (int i = 2; i < 70; i++) {\n            try{\n                int aa = (int)getInBase(a,i);\n                int bb = (int)getInBase(b,i);\n                \n                if(aa<24 && bb<60){\n                    if(!ar.contains(i))\n                        ar.add(i);\n                }\n            }\n            catch(Exception ex){\n                continue;\n            };\n            \n        }\n        if(ar.size()==0){\n            System.out.println(\"0\");\n            return ;\n        }\n        if(ar.get(ar.size()-1)>60){\n            System.out.println(\"-1\");\n            return ;\n        }\n        for (int i = 0; i < ar.size(); i++) {\n            if(i==0)System.out.print(ar.get(i));\n            else System.out.print(\" \"+ar.get(i));\n        }\n//      System.out.println(ar.size()+\" \"+ar.toString());\n    }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint get(char c) {\n  if (c <= '9' && c >= '0') return c - '0';\n  return c - 'A' + 10;\n}\nint c1 = 0, c2 = 0, M = 0;\nint a[10], b[10];\nbool check(int m) {\n  long long t = 0;\n  for (int i = 1; i <= c1; i++) {\n    t = t * m + a[i];\n    if (t >= 24) return false;\n  }\n  t = 0;\n  for (int i = 1; i <= c2; i++) {\n    t = t * m + b[i];\n    if (t >= 60) return false;\n  }\n  return true;\n}\nbool solve() {\n  int t1 = c1, t2 = c2;\n  for (int i = 1; i <= c1 && a[i] == 0; i++) t1--;\n  for (int i = 1; i <= c2 && b[i] == 0; i++) t2--;\n  if (t1 <= 1 && t2 <= 1) return true;\n  return false;\n}\nint main() {\n  string s;\n  int i = 0;\n  cin >> s;\n  for (i = 0; s[i] != ':'; i++) {\n    a[++c1] = get(s[i]);\n    M = max(a[c1], M);\n  }\n  for (i++; s[i] != '\\0'; i++) {\n    b[++c2] = get(s[i]);\n    M = max(b[c2], M);\n  }\n  if (M == 0 || check(M + 1) && solve())\n    cout << -1;\n  else {\n    if (check(M + 1) == false)\n      cout << 0;\n    else {\n      cout << M + 1 << \" \";\n      for (int i = M + 2;; i++)\n        if (check(i))\n          cout << i << \" \";\n        else\n          break;\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "# B r106\nalphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\ntb = dict(zip(alphabet, range(0,36)))\n\ninp = raw_input().strip().split(':')\nfor item in inp:\n    item = item.lstrip('0')\n\ndef func(s,b):\n    res = 0\n    for ch in s:\n        if tb[ch] >= b: return -1\n        res = res*b+tb[ch]\n    return res\n\nans = []\nfor b in range(2, 200):\n    h = func(inp[0], b)\n    m = func(inp[1], b)\n    if 0 <= h < 24 and 0 <= m < 60:\n        ans.append(b)\n# no base satisfied\nif not ans: print 0\nelif len(ans) > 100: print -1\nelse:\n    for a in ans:\n        print a,\n        "
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class con106_B {\n\n    public static void main( final String[] args ) throws IOException {\n        //System.out.println( Integer.valueOf( \"B\", 35 ) );\n        //System.out.println( Integer.valueOf( \"Z\", 36 ) );\n        //System.out.println( Integer.valueOf( \"z\", 36 ) );\n\n        final BufferedReader br = new BufferedReader( new InputStreamReader( System.in ) );\n        final String time = br.readLine();\n        System.out.println( print( solve( time ) ) );\n    }\n\n    private static int[] solve( final String time ) {\n        final String[] parts = time.split( \":\" );\n        final String h = parts[ 0 ];\n        final String m = parts[ 1 ];\n        if ( parseInt( h, 60 ) <= 23 && parseInt( m, 60 ) < 60 ) {\n            return new int[] { -1 };\n        }\n        final ArrayList<Integer> list = new ArrayList<Integer>();\n        for ( int i = 2; i < 60; ++i ) {\n            try {\n                final int hi = parseInt( h, i );\n                final int mi = parseInt( m, i );\n                if ( hi <= 23 && mi < 60 ) {\n                    list.add( i );\n                }\n            } catch ( final NumberFormatException nfe ) {\n                // do nothing\n            }\n        }\n        if ( list.isEmpty() ) list.add( 0 );\n        final int[] res = new int[list.size()];\n        int i = 0;\n        for ( final int x : list ) {\n            res[ i++ ] = x;\n        }\n        return res;\n    }\n\n    private static String print( final int[] a ) {\n        final StringBuilder buff = new StringBuilder();\n        if ( a.length > 0 ) buff.append( a[ 0 ] );\n        for ( int i = 1; i < a.length; ++i ) {\n            buff.append( ' ' ).append( a[ i ] );\n        }\n        return buff.toString();\n    }\n\n    private static int parseInt( final String val, final int radix ) {\n        int res = 0;\n        for ( int i = 0; i < val.length(); ++i ) {\n            final int v = val( val.charAt( i ) );\n            if ( v >= radix ) throw new NumberFormatException( \"val=\" + v + \", radix=\" + radix );\n            res *= radix;\n            res += v;\n        }\n        return res;\n    }\n\n    private static int val( final char c ) {\n        if ( '0' <= c && c <= '9' )\n            return c - '0';\n        else\n            return c - 'A' + 10;\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint d[70], e[70];\nint valid(string a, int base, int lim) {\n  int p = 1, x = 0;\n  for (int i = int(a.size()) - 1; i >= 0; i--) {\n    int digit = (a[i] <= '9' ? a[i] - '0' : a[i] - 'A' + 10);\n    if (digit >= base) return 0;\n    x += digit * p;\n    p *= base;\n    if (x >= lim) return 0;\n  }\n  return 1;\n}\nint infinity(string a, int d[], int lim) {\n  if (int(a.size()) == 1) {\n    for (int i = 1; i <= 60; i++) d[i] = valid(a, i, lim);\n    return valid(a, lim, lim);\n  } else {\n    for (int i = 1; i <= lim; i++) d[i] = valid(a, i, lim);\n    return 0;\n  }\n}\nint main() {\n  string a, b;\n  cin >> a;\n  for (int i = 0; i < int(a.size()); i++)\n    if (a[i] == ':') {\n      b = a.substr(i + 1, int(a.size()) - i);\n      a.erase(i, int(a.size()) - i + 1);\n    }\n  while (int(a.size()) > 1 && a[0] == '0') a.erase(0, 1);\n  while (int(b.size()) > 1 && b[0] == '0') b.erase(0, 1);\n  if (infinity(a, d, 24) + infinity(b, e, 60) == 2) {\n    puts(\"-1\");\n    return 0;\n  }\n  int haveAns = 0;\n  for (int i = 1; i <= 60; i++)\n    if (d[i] && e[i]) cout << i << ' ', haveAns = 1;\n  if (!haveAns) puts(\"0\");\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar arr[12], arr1[6], arr2[6];\nvoid getstring() {\n  int i = 0, j = 0, l1, l2, l, s;\n  l = strlen(arr);\n  while (arr[i] != ':') i++;\n  s = i;\n  i = 0;\n  while (arr[i] == '0') {\n    i++;\n  }\n  if (arr[i] == ':') {\n    strcpy(arr1, \"0\");\n  } else {\n    while (arr[i] != ':') {\n      arr1[j] = arr[i];\n      i++;\n      j++;\n    }\n    arr1[j] = '\\0';\n  }\n  i = s + 1;\n  while (arr[i] == '0' && i < l) {\n    i++;\n  }\n  if (i == l) {\n    strcpy(arr2, \"0\");\n  } else {\n    j = 0;\n    while (i < l) {\n      arr2[j] = arr[i];\n      i++;\n      j++;\n    }\n    arr2[j] = '\\0';\n  }\n}\nint getsum(char *arr, int Radix) {\n  int l = strlen(arr);\n  int j;\n  double sum;\n  j = 0;\n  sum = 0;\n  for (j = l - 1; j > -1; j--) {\n    if (isdigit(arr[j])) {\n      sum += (arr[j] - 48) * pow(Radix, l - 1 - j);\n    } else if (isalpha(arr[j])) {\n      sum += (arr[j] - 55) * pow(Radix, l - 1 - j);\n    }\n  }\n  return sum;\n}\nint main() {\n  int i, k, count, flag1, flag2, flag;\n  gets(arr);\n  i = 0;\n  int Radix = 0;\n  while (arr[i] != '\\0') {\n    if (isdigit(arr[i])) {\n      if ((arr[i] - 48) > Radix) Radix = arr[i] - 48;\n    } else if (isalpha(arr[i])) {\n      if ((arr[i] - 55) > Radix) Radix = arr[i] - 55;\n    }\n    i++;\n  }\n  Radix++;\n  getstring();\n  flag = 0;\n  if (strlen(arr1) == 1 && strlen(arr2) == 1) {\n    if (isalpha(arr1[0])) {\n      if (((arr1[0] - 55) > 24) || (((arr1[0] - 55) == 24) && arr2[0] != '0'))\n        printf(\"0\");\n      else\n        printf(\"-1\");\n    } else\n      printf(\"-1\");\n  } else {\n    while (1) {\n      flag1 = getsum(arr1, Radix);\n      flag2 = getsum(arr2, Radix);\n      if (((flag1 <= 23) && (flag2 < 60))) {\n        flag = 1;\n        printf(\"%d \", Radix);\n        Radix++;\n      } else\n        break;\n    }\n    if (flag == 0) printf(\"0\");\n  }\n}\n"
        },
        {
            "language": 1,
            "solution": "#!/bin/python\n\ntime = raw_input()\nh, m = time.split(':')\nh = h.lstrip('0')\nm = m.lstrip('0')\n\n#print h,m\nif (h=='' and m=='') or (h=='' and len(m)==1):\n\tprint -1\n#hallelujah\nelif len(h)==1 and len(m)==1:\n\tif( 'A'<=h[0] and h[0]<='Z' and (ord(h[0])-ord('A')+10) > 24 ):\n\t\tprint 0\n\telse:\n\t\tprint -1\n\nelse:\n\tans = []\n\tfor base in xrange(1,61):\n\t\t#print \"base :\", base\n\t\tinvalid = 0\n\n\t\ttemp = 1\n\t\tdec_h = 0\n\t\tfor i in reversed(h):\n\t\t\tif '0' <= i and i <= '9':\n\t\t\t\tif ord(i)-ord('0') >= base:\n\t\t\t\t\tinvalid = 1\n\t\t\t#\t\tprint \"hour_digit\", base\n\t\t\t\t\tbreak\n\t\t\t\tdec_h += temp*(ord(i) - ord('0'))\n\t\t\n\t\t\telse:\n\t\t\t\tif ord(i)-ord('A')+10 >= base:\n\t\t\t\t\tinvalid=1\n\t\t\t#\t\tprint \"hour_alpha\"\n\t\t\t\t\tbreak\n\t\t\t\tdec_h += temp*(ord(i) - ord('A') + 10)\n\t\t\n\t\t\ttemp *= base\n\t\t\n\n\t\tif dec_h > 23:\n\t\t\tinvalid = 1\n\n\t\tif invalid == 1:\t\n\t\t\tcontinue\n\n\t\ttemp = 1\n\t\tdec_m = 0\n\t\tfor i in reversed(m):\n\t\t\tif '0'<= i and i <= '9':\n\t\t\t\tif ord(i)-ord('0') >= base:\n\t\t#\t\t\tprint \"min_digit\"\n\t\t\t\t\tinvalid = 1\n\t\t\t\t\tbreak\n\t\t\t\tdec_m += temp*( ord(i) - ord('0') )\n\t\t\telse:\n\t\t\t\tif ord(i)-ord('A')+10 >= base:\n\t\t\t\t\tinvalid = 1\n\t\t#\t\t\tprint \"min_alpha\"\n\t\t\t\t\tbreak\n\t\t\t\tdec_m += temp*(ord(i) - ord('A') + 10)\n\t\t\t\n\t\t\ttemp *= base\n\t\t\n\n\t\tif dec_m > 59:\n\t\t\tinvalid = 1\n\t\t\n\t\tif invalid == 1:\t\n\t\t\tcontinue\n\n\t\tans.append(base)\n\n\tle = len(ans)\n\n\tif le == 0:\n\t\tprint le\n\telse:\t\n\t\tfor i in xrange(le-1):\n\t\t\tprint ans[i],\n\t\tprint ans[le-1]"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\n\n\n\n\npublic class B {\n\tString line = null;\n\t\n\tpublic void run() throws Exception{\n\n\t\tBufferedReader br = null;\n\t\tFile file = new File(\"input.txt\");\n\t\tif(file.exists()){\n\t\t\tbr = new BufferedReader(new FileReader(\"input.txt\"));\n\t\t}\n\t\telse{\n\t\t\tbr = new BufferedReader(new InputStreamReader(System.in));\n\t\t}\n\t\n\t\tString in = br.readLine();\n\t\tString[] ins = in.split(\":\");\n\t\t\n\t\tString h = ins[0];\n\t\tString m = ins[1];\n\t\t\n\t\twhile(h.startsWith(\"0\")){\n\t\t\th = h.substring(1);\n\t\t}\n\t\twhile(m.startsWith(\"0\")){\n\t\t\tm = m.substring(1);\n\t\t}\n\t\t\n\t\tif(h.length() <= 1 && m.length() <= 1){\n\t\t\tint hour = 0;\n\t\t\tint min = 0;\n\t\t\t\n\t\t\tif(h.length() > 0){\n\t\t\t\n\t\t\t\tif(h.charAt(0) >= '0' && h.charAt(0) <= '9'){\n\t\t\t\t\thour = h.charAt(0) - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\thour = h.charAt(0) - 'A' + 10;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(hour <= 23){\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t}\n\t\t\telse{\n\t\t\t\tSystem.out.println(\"0\");\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tint start = 1;\n\t\t\n\t\tfor(int i = 0; i < h.length(); i++){\n\t\t\tint n = 0;\n\t\t\tif(h.charAt(i) >= '0' && h.charAt(i) <= '9'){\n\t\t\t\tn = h.charAt(i) - '0';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tn = h.charAt(i) - 'A' + 10;\n\t\t\t}\n\t\t\tstart = Math.max(start, n+1);\n\t\t}\n\t\tfor(int i = 0; i < m.length(); i++){\n\t\t\tint n = 0;\n\t\t\tif(m.charAt(i) >= '0' && m.charAt(i) <= '9'){\n\t\t\t\tn = m.charAt(i) - '0';\n\t\t\t}\n\t\t\telse{\n\t\t\t\tn = m.charAt(i) - 'A' + 10;\n\t\t\t}\n\t\t\tstart = Math.max(start, n+1);\n\t\t}\n\t\t\n\t\t\n\t\tString ans = \"\";\n\t\twhile(start <= 59){\n\t\t\tint hour = 0;\n\t\t\tfor(int i = 0; i < h.length(); i++){\n\t\t\t\tchar c = h.charAt(h.length() - i - 1);\n\t\t\t\tint n = 0;\n\t\t\t\tif(c  >= '0' && c <= '9'){\n\t\t\t\t\tn = c - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tn = c - 'A' + 10;\n\t\t\t\t}\n\t\t\t\tint base = (int)Math.pow(start, i);\n\t\t\t\thour += base * n;\n\t\t\t}\n\t\t\tif(hour > 23){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint min = 0;\n\t\t\tfor(int i = 0; i < m.length(); i++){\n\t\t\t\tchar c = m.charAt(m.length() - i - 1);\n\t\t\t\tint n = 0;\n\t\t\t\tif(c  >= '0' && c <= '9'){\n\t\t\t\t\tn = c - '0';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tn = c - 'A' + 10;\n\t\t\t\t}\n\t\t\t\tint base = (int)Math.pow(start, i);\n\t\t\t\tmin += base * n;\n\t\t\t}\n\t\t\tif(min > 59){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(ans.length() > 0){\n\t\t\t\tans += \" \";\n\t\t\t}\n\t\t\tans += start;\n\t\t\t\n\t\t\tstart++;\n\t\t}\n\t\tif(ans.length() > 0){\n\t\tSystem.out.println(ans);\n\t\t}\n\t\telse{\n\t\t\t\n\t\t\tSystem.out.println(\"0\");\n\t\t}\n\t}\n\t\n\t\n\t\n\t/**\n\t * @param args\n\t */\n\tpublic static void main(String[] args) throws Exception{\n\t\tB t = new B();\n\t\tt.run();\n\n\t}\n\t\n\t\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner cin = new Scanner(System.in);\n        while (cin.hasNext()) {\n            String s = cin.next();\n            String[] split = s.split(\":\");\n            String a = split[0], b = split[1];\n            a = trim(a);\n            b = trim(b);\n            int aa[] = getArray(a);\n            int bb[] = getArray(b);\n            if (a.length() <= 1 && b.length() <= 1) {\n                System.out.println(aa[0] >= 24 ? \"0\" : \"-1\");\n                continue;\n            }\n            boolean hasAnswer = false;\n            int max = Math.max(max(aa), max(bb));\n            for (int ans = max + 1;; ++ans) {\n                int aaa = parseInt(aa, ans), bbb = parseInt(bb, ans);\n                if (aaa >= 24 || bbb >= 60) break;\n                if (hasAnswer) System.out.print(\" \");\n                hasAnswer = true;\n                System.out.print(ans);\n            }\n            if (!hasAnswer) System.out.print(\"0\");\n            System.out.println();\n        }\n    }\n\n    private static String trim(String a) {\n        if (a == null) return a;\n        int i = 0;\n        while (i + 1 < a.length() && (a.charAt(i) == ' ' || a.charAt(i) == '0')) ++i;\n        if (i != 0) a = a.substring(i);\n        return a;\n    }\n\n    private static int[] getArray(String a) {\n        int aa[] = new int[a.length()];\n        for (int i = 0; i < a.length(); ++i) {\n            aa[i] = Character.digit(a.charAt(i), 36);\n        }\n        return aa;\n    }\n\n    private static int max(int[] aa) {\n        int a = aa[0];\n        for (int i = 0; i < aa.length; ++i) {\n            if (a < aa[i]) a = aa[i];\n        }\n        return a;\n    }\n\n    private static int parseInt(int a[], int radix) {\n        int ans = 0;\n        for (int i = 0; i < a.length; ++i) {\n            ans = ans * radix + a[i];\n        }\n        return ans;\n    }\n}\n\n\t\t \t \t \t\t\t\t  \t\t\t   \t \t\t   \t"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <class T>\nT sqr(T a) {\n  return (a) * (a);\n}\ntemplate <class T>\nT abs(T a) {\n  return (a < 0) ? -(a) : (a);\n}\nconst double Pi = acos(-1.0);\nconst double eps = 1e-20;\nconst int INF = 101e7;\nconst double phi = 0.5 + sqrt(5.0) / 2;\nint digit(char a) {\n  return (a - 48) * (a >= '0' && a <= '9') +\n         (a - 65 + 10) * (a >= 'A' && a <= 'Z');\n}\nint power(int a, int n) {\n  int ret = 1;\n  for (int i = 0, _n = (n)-1; i <= _n; ++i) ret *= a;\n  return ret;\n}\nint num(string s, int p) {\n  int ret = 0;\n  for (int i = 0, _n = (s.size()) - 1; i <= _n; ++i)\n    ret += power(p, s.size() - i - 1) * digit(s[i]);\n  return ret;\n}\nint nd(string s) {\n  int i = -1;\n  for (int j = (s.size()) - 1; j >= 0; --j)\n    if (s[j] != '0') i = j;\n  return i;\n}\nint main() {\n  char ftp[210];\n  scanf(\"%s\", &ftp);\n  string str = string(ftp);\n  string s = str.substr(0, str.find(':'));\n  string g = str.substr(str.find(':') + 1, str.size() - str.find(':'));\n  int p = 0;\n  for (int i = 0, _n = (s.size()) - 1; i <= _n; ++i) p = max(digit(s[i]), p);\n  for (int i = 0, _n = (g.size()) - 1; i <= _n; ++i) p = max(digit(g[i]), p);\n  if (p == 0) {\n    printf(\"-1\");\n    return 0;\n  }\n  p += 1;\n  if (num(s, p) >= 24 || num(g, p) >= 60) {\n    printf(\"0\");\n    return 0;\n  }\n  if (nd(s) == s.size() - 1 && nd(g) == g.size() - 1 ||\n      (nd(s) == -1 && nd(g) == g.size() - 1) ||\n      (nd(s) == s.size() - 1 && nd(g) == -1)) {\n    printf(\"-1\");\n    return 0;\n  }\n  int ans = 0;\n  while (num(s, p) < 24 && num(g, p) < 60) {\n    if (ans) printf(\" \");\n    printf(\"%d\", p);\n    ans++;\n    p++;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint x[256];\nchar a[10], b[10], tem[20];\nint flag = 0;\nbool check(int k) {\n  for (int i = 0; i < strlen(tem); i++)\n    if (tem[i] != ':' && k <= x[tem[i]]) return false;\n  int ia = 0, ib = 0, ab = 1, bb = 1;\n  int j = 0;\n  while (x[a[j]] == 0 && j < strlen(a)) j++;\n  for (int i = strlen(a) - 1; i >= j; i--) {\n    ia += ab * x[a[i]];\n    ab *= k;\n  }\n  if (ia > 23) return false;\n  j = 0;\n  while (x[b[j]] == 0 && j < strlen(b)) j++;\n  for (int i = strlen(b) - 1; i >= j; i--) {\n    ib += bb * x[b[i]];\n    bb *= k;\n  }\n  if (ib > 59) return false;\n  return true;\n}\nbool check2() {\n  int j = 0;\n  while (x[a[j]] == 0 && j < strlen(a)) j++;\n  int i = 0;\n  while (x[b[i]] == 0 && i < strlen(b)) i++;\n  if (j >= strlen(a) - 1 && i >= strlen(b) - 1 && x[a[j]] < 24)\n    return true;\n  else\n    return false;\n}\nint main() {\n  for (int i = 0; i < 10; i++) x['0' + i] = i;\n  for (int i = 10; i < 36; i++) x['A' + i - 10] = i;\n  scanf(\"%s\", tem);\n  int ii;\n  for (ii = 0; ii < strlen(tem); ii++) {\n    if (tem[ii] != ':')\n      a[ii] = tem[ii];\n    else\n      break;\n  }\n  for (int i = ii + 1; i < strlen(tem); i++) b[i - ii - 1] = tem[i];\n  if (check2()) flag = 2;\n  for (int i = 2; i < 70 && flag != 2; i++) {\n    if (check(i)) {\n      if (flag == 0)\n        printf(\"%d\", i);\n      else\n        printf(\" %d\", i);\n      flag = 1;\n    }\n  }\n  switch (flag) {\n    case 1:\n      printf(\"\\n\");\n      break;\n    case 2:\n      printf(\"-1\\n\");\n      break;\n    case 0:\n      printf(\"0\\n\");\n      break;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "#########\na= raw_input().split(\":\")\n\nmin1=0\nfor x in range(0,len(a[0])):\n\tif(ord(a[0][x])> 64):\n\t\tif (min1< ord(a[0][x])-55):\n\t\t\tmin1=ord(a[0][x])-55\n\telse:\n\t\tif (min1<int(a[0][x])):\n\t\t\tmin1=int(a[0][x])\n\t\t\t\nmin2=0\nfor x in range(0,len(a[1])):\n\tif(ord(a[1][x])>64):\n\t\tif (min2< ord(a[1][x])-55):\n\t\t\tmin2=ord(a[1][x])-55\n\telse:\n\t\tif (min2<int(a[1][x])):\n\t\t\tmin2=int(a[1][x])\nmini = max(min1,min2)+1\ndef radixes(val):\n\thours=0\n\tmins=0\n\tfor x in range(0,len(a[0])):\n\t\tif (ord(a[0][x])>64):\n\t\t\tp=ord(a[0][x])-55\n\t\telse:\n\t\t\tp=int(a[0][x])\n\t\thours=hours+p*pow(val,len(a[0])-(x+1))\n\tif (hours>23):\n\t\treturn False\n\tfor x in range(0,len(a[1])):\n\t\tif (ord(a[1][x])>64):\n\t\t\t\tp=ord(a[1][x])-55\n\t\telse:\n\t\t\tp=int(a[1][x])\n\t\tmins=mins+p*pow(val,len(a[1])-(x+1))\n\tif (mins>59):\n\t\treturn False\n\t#print (hours,mins)\n\treturn True\n\nb=[]\nk=0\nfor x in range(mini,1000):\n\tif(radixes(x)):\n\t\tb.append(x)\n\t\tk=1\n\t\n\telse:\n\t\tif(k==1):\n\t\t\tbreak\nif (len(b)>60):\n\tprint -1\n\nelif (len(b)==0):\n\tprint 0\n\t\nelse :\n\tfor x in b:\n\t\tprint x "
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class CF149B {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String str = sc.next().toLowerCase();\n        Matcher m = Pattern.compile(\"^0*([^:]+):0*(.+)$\").matcher(str);\n        m.find();\n        String a = m.group(1);\n        String b = m.group(2);\n        String ab = a + b;\n        char amax = getMaxChar(a);\n        char bmax = getMaxChar(a);\n        int minRadix = toInt(getMaxChar(a + b)) + 1;\n        boolean aIsInf = a.length() == 1 && toInt(amax) < 24;\n        boolean bIsInf = b.length() == 1;\n        if (aIsInf && bIsInf) {\n            System.out.println(-1);\n            return;\n        }\n        List<Integer> ans = new ArrayList<Integer>();\n        for (int i = minRadix;; i++) {\n            int av = 0;\n            for (int j = 0; j < a.length(); j++) {\n                av *= i;\n                av += toInt(a.charAt(j));\n            }\n            int bv = 0;\n            for (int j = 0; j < b.length(); j++) {\n                bv *= i;\n                bv += toInt(b.charAt(j));\n            }\n            if (av >= 24 || bv >= 60) {\n                break;\n            }\n            ans.add(i);\n        }\n        if (ans.isEmpty()) {\n            System.out.println(0);\n            return;\n        }\n        \n        StringBuilder sb = new StringBuilder(Integer.toString(ans.get(0)));\n        for (int i = 1; i < ans.size(); i++) {\n            sb.append(' ').append(ans.get(i));\n        }\n//        System.out.println(a + \",\" + b + \",\" + minRadix);\n        System.out.println(sb);\n    }\n\n    static char getMaxChar(String s) {\n        char max = '0';\n        for (int i = 0; i < s.length(); i++) {\n            max = (char) Math.max(max, s.charAt(i));\n        }\n        return max;\n    }\n\n    static int toInt(char c) {\n        return Character.digit(c, Character.MAX_RADIX);\n    }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 1e5 + 50;\nconst int inf = 0x3f3f3f3f;\nconst int MOD = 1e9 + 7;\nstring s;\nint a[10], b[10];\nint maxa, maxb;\nbool check(int id) {\n  int num1 = 0, num2 = 0;\n  for (int i = 0; i < maxa; i++) {\n    if (a[i] >= id) return 0;\n    num1 = num1 * id + a[i];\n  }\n  for (int i = 0; i < maxb; i++) {\n    if (b[i] >= id) return 0;\n    num2 = num2 * id + b[i];\n  }\n  return num1 <= 23 && num2 <= 59;\n}\nint main() {\n  cin >> s;\n  int i = 0;\n  i = 0;\n  int flag = 0;\n  for (int j = 0; s[j]; j++) {\n    if (s[j] == ':') {\n      flag = 1;\n      maxa = i;\n      i = 0;\n      continue;\n    }\n    if (isdigit(s[j])) {\n      if (flag)\n        b[i++] = s[j] - '0';\n      else\n        a[i++] = s[j] - '0';\n    } else {\n      if (flag)\n        b[i++] = s[j] - 'A' + 10;\n      else\n        a[i++] = s[j] - 'A' + 10;\n    }\n  }\n  maxb = i;\n  flag = 0;\n  if (check(61)) {\n    cout << \"-1\\n\";\n    return 0;\n  }\n  for (int i = 2; i <= 60; i++) {\n    if (check(i)) {\n      if (flag) printf(\" \");\n      printf(\"%d\", i);\n      flag = 1;\n    }\n  }\n  if (!flag) cout << 0;\n  puts(\"\");\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import string\nimport math\n\nl = raw_input().split(\":\")\n\nfirst = l[0].lstrip(\"0\")\nsecond = l[1].lstrip(\"0\")\n\n\nif len(first) == 0:\n  first = \"0\"\n \nif len(second) == 0:\n  second = \"0\" \n\ndef convert(s):\n  l = list(string.uppercase[:26])\n  \n  if not s in l:\n    return s\n    \n  return l.index(s) + 10\n    \n\ndef convertToDecimal(n, base):\n  accum = 0\n\n  for i in range(len(n)):\n    accum += int(convert(n[i])) * (base ** (len(n) - 1 - i))\n\n  return accum\n  \n    \nstart_base = max([int(convert(x)) for x in list(first) + list(second)]) + 1\n\nif len(first) == len(second) == 1 and int(convert(first)) < 24 and int(convert(second)) < 60:\n  print -1\nelse:\n  if convertToDecimal(first, start_base) > 23 or convertToDecimal(second, start_base) > 59:\n    print 0\n  else: \n    base = start_base  \n    while True:  \n      first_dec = convertToDecimal(first, base)\n      second_dec = convertToDecimal(second, base)\n      if first_dec < 24 and second_dec < 60:\n        print base,\n      else:\n        break     \n      base += 1   \n  \n"
        },
        {
            "language": 4,
            "solution": "/*******************************************************************\nMy love has gone away,\nquietly after a hundered days.\nThis is what's she has always said she won't stay\nfor more than what she can repay.\n\nI can still hear her say there\nthat I'm not hearing tender play\nThe day she let me kiss her was a display,\nof love to those who she betray.\n\nHow can I put someone to the test,\nwhen I thought I got the best.\nUntill the taste of bitterness then I regret\nbut still that I won't detest,\nthe love I can't forget,\nlike someone who has left.\n\nHow can i leave someone for the rest\nwhen i'm alone facing the best\nUntill they take some try to reason i regret\nBut still that i won't detest\nwho i can never forget\nlike someone i once met .. \n ******************************************************************/\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\n\npublic class B149 {\n\tpublic static void main(String[] args) {\n\t\tinput();\n\t\tsolve();\n\t}\n\n\tstatic void solve() {\n\t\tStringBuilder res = new StringBuilder();\n\t\tint count = 0;\n\t\tfor (int i = 2; i < 100; i++) {\n\t\t\tint hh = val(h, i);\n\t\t\tint mm = val(m, i);\n\t\t\tif (hh >= 0 && hh < 24 && mm >= 0 && mm < 60) {\n\t\t\t\tcount++;\n\t\t\t\tres.append(i + \" \");\n\t\t\t}\n\t\t}\n\t\tif (count == 0) {\n\t\t\tSystem.out.println(0);\n\t\t\treturn;\n\t\t}\n\t\tif (count > 58) {\n\t\t\tSystem.out.println(-1);\n\t\t\treturn;\n\t\t}\n\t\tSystem.out.println(res);\n\t}\n\n\tstatic int convertCharToInt(char a) {\n\t\tif (a >= '0' && a <= '9') {\n\t\t\treturn a - '0';\n\t\t}\n\t\treturn a - 'A' + 10;\n\t}\n\n\tstatic int val(char[] numb, int radix) {\n\t\tint n = numb.length;\n\t\tint res = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint temp = convertCharToInt(numb[i]);\n\t\t\tif (temp >= radix) {\n\t\t\t\treturn Integer.MIN_VALUE;\n\t\t\t}\n\t\t\tres = res * radix + temp;\n\t\t}\n\t\treturn res;\n\t}\n\n\t/************************************************************************************/\n\tstatic char[] h;\n\tstatic char[] m;\n\n\tstatic void input() {\n\t\tString s = nextString();\n\t\th = s.substring(0, s.indexOf(\":\")).toCharArray();\n\t\tm = s.substring(s.indexOf(\":\") + 1, s.length()).toCharArray();\n\t}\n\n\t/************************************************************************************/\n\tstatic InputStream is = System.in;\n\tstatic private byte[] buffer = new byte[1024];\n\tstatic private int lenbuf = 0, ptrbuf = 0;\n\n\tstatic private int readByte() {\n\t\tif (lenbuf == -1)\n\t\t\tthrow new InputMismatchException();\n\t\tif (ptrbuf >= lenbuf) {\n\t\t\tptrbuf = 0;\n\t\t\ttry {\n\t\t\t\tlenbuf = is.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t\tif (lenbuf <= 0)\n\t\t\t\treturn -1;\n\t\t}\n\t\treturn buffer[ptrbuf++];\n\t}\n\n\tstatic private boolean isSpace(int c) {\n\t\treturn !(c >= 33 && c <= 126);\n\t}\n\n\tstatic private int read() {\n\t\tint b;\n\t\twhile ((b = readByte()) != -1 && isSpace(b))\n\t\t\t;\n\t\treturn b;\n\t}\n\n\tstatic private double nextDouble() {\n\t\treturn Double.parseDouble(nextString());\n\t}\n\n\tstatic private char nextChar() {\n\t\treturn (char) read();\n\t}\n\n\tstatic private String nextString() {\n\t\tint b = read();\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (!(isSpace(b))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tstatic private char[] nextString(int n) {\n\t\tchar[] buf = new char[n];\n\t\tint b = read(), p = 0;\n\t\twhile (p < n && !(isSpace(b))) {\n\t\t\tbuf[p++] = (char) b;\n\t\t\tb = readByte();\n\t\t}\n\t\treturn n == p ? buf : Arrays.copyOf(buf, p);\n\t}\n\n\tstatic private int nextInt() {\n\t\tint num = 0, b;\n\t\tboolean minus = false;\n\t\twhile ((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'))\n\t\t\t;\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\n\t\twhile (true) {\n\t\t\tif (b >= '0' && b <= '9') {\n\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t} else {\n\t\t\t\treturn minus ? -num : num;\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\n\tprivate long nextLong() {\n\t\tlong num = 0;\n\t\tint b;\n\t\tboolean minus = false;\n\t\twhile ((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'))\n\t\t\t;\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\n\t\twhile (true) {\n\t\t\tif (b >= '0' && b <= '9') {\n\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t} else {\n\t\t\t\treturn minus ? -num : num;\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\n\tstatic private int[] nextAi(int n) {\n\t\tint[] a = new int[n];\n\t\tfor (int i = 0; i < n; i++)\n\t\t\ta[i] = nextInt();\n\t\treturn a;\n\t}\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nmap<char, int> mp;\nvector<int> ans;\nint power(int n, int i) {\n  if (i == 0) return 1;\n  if (i % 2 == 0) return power(n, i / 2) * power(n, i / 2);\n  return n * power(n, i / 2) * power(n, i / 2);\n}\nvoid solve(string x, string y, int n) {\n  int sumx = 0;\n  int sumy = 0;\n  reverse(x.begin(), x.end());\n  reverse(y.begin(), y.end());\n  for (int i = 0; i < x.length(); i++) {\n    sumx = sumx + (mp[x[i]]) * (power(n, i));\n  }\n  for (int i = 0; i < y.length(); i++) {\n    sumy = sumy + (mp[y[i]]) * (power(n, i));\n  }\n  if (sumx >= 0 && sumx <= 23 && sumy >= 0 && sumy <= 59) ans.push_back(n);\n}\nint main() {\n  string s, x, y;\n  cin >> s;\n  x = s.substr(0, s.find(':'));\n  y = s.substr(s.find(':') + 1, s.length() - 1);\n  char a = 'A';\n  int maxx = 0;\n  for (int i = 10; i <= 35; i++) {\n    mp[a] = i;\n    a++;\n  }\n  a = '0';\n  for (int i = 0; i < 10; i++) {\n    mp[a] = i;\n    a++;\n  }\n  for (int i = 0; i < x.length(); i++) {\n    if (mp[x[i]] > maxx) maxx = mp[x[i]];\n  }\n  for (int i = 0; i < y.length(); i++) {\n    if (mp[y[i]] > maxx) maxx = mp[y[i]];\n  }\n  for (int i = maxx + 1; i < 150; i++) {\n    solve(x, y, i);\n  }\n  if (ans.size() > 60) return cout << -1, 0;\n  if (ans.size() == 0) return cout << 0, 0;\n  for (int i = 0; i < ans.size(); i++) {\n    cout << ans[i] << \" \";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "s = raw_input()\n\nj  = 0\nbasic = {}\nfor i in range(10):\n    basic[str(i)] = i\nfor i in range(65,91):\n    basic[ chr(i) ] = len(basic)   \na = ''\nfor i in s:\n    if i != ':':\n        if (len(a) == 0 and i == '0') == 0:\n            a = a + i\n        j += 1\n    else:\n        break\n\nb = s[j + 1:len(s)]\nj = 0\nfor i in b:\n    if i == '0':\n        j += 1\n    else:\n        break   \n\nb = b[j:len(b)]\nif len(a) == 0:\n    a = '0'\nif len(b) == 0:\n    b = '0'    \n\n\nif (len(a) <= 1 and len(b) <= 1):\n    if (len(a) == 1 and basic[a] > 23):\n        print 0\n    else:    \n        print -1\nelse:\n    minbas = max(basic[max(a)],basic[max(b)]) + 1\n    maxbasA = 0\n    basa = minbas\n    sum = 0\n    if a != '0':\n        if len(a) > 1:\n            while sum < 24:\n                sum = 0\n                j = len(a) - 1\n                for i in a:\n                    sum += basic[i]*(basa**j)\n                    j -= 1\n                    if sum > 24:\n                        break\n                if sum < 24:\n                    maxbasA = basa \n                    basa += 1   \n                else:\n                    break    \n        else:\n            if 24 / basic[a] > 0:\n                maxbasA = 59\n            else:\n                maxbasA = 0                \n    basa = minbas\n    sum = 0\n    maxbasB = 0\n    if b != '0':\n        if len(b) > 1:\n            while sum < 60:\n                sum = 0\n                j = len(b) - 1\n                for i in b:\n                    sum += basic[i]*(basa**j)\n                    j -= 1\n                    if sum > 60:\n                        break\n                if sum < 60:\n                    maxbasB = basa \n                    basa += 1   \n                else:\n                    break\n        else:\n            if 60 / basic[b] > 0:\n                maxbasB = 23         \n            else:\n                maxbasB = 0                   \n    if a == '0':\n        c = maxbasB\n    else:\n        if b == '0':\n            c = maxbasA\n        else:                    \n            c = min(maxbasA, maxbasB)    \n    if c < minbas:\n        print 0\n    else:\n        for i in range(minbas, c + 1):\n            print i, "
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\npublic class mar\n{\n    void arrange(String a,int p[],int g[],int m)\n{\n    int y=0;\nfor(int x=m-1;x>=0;x--)\n{\nchar c=a.charAt(x);\nif(c>=65 && c<=90)\n{\np[y]=c-55;\ng[y]=c-55;\ny++;\n}\nelse\n{\np[y]=c-48;\ng[y]=c-48;\ny++;\n}\n}}\n    int mart(int p[],int k,int m)\n{\nint w=1,sum=0,x;\nfor(x=0;x<m;x++)\n{\nsum=sum+p[x]*w;\nw=w*k;\n}\nreturn sum;\n}\n\nvoid sort(int g[],int m)\n{\nfor(int x=0;x<m;x++)\n{\nfor(int y=x+1;y<m;y++)\n{\nif(g[x]<g[y])\n{\nint t=g[x];\ng[x]=g[y];\ng[y]=t;\n}}}\n}\n    \npublic static void main(String args[])throws IOException\n    {   \n        int x,max,y,z,k,y1,min,w,t=1,sum;\n        BufferedReader xyz=new BufferedReader(new InputStreamReader(System.in));\n        String s=xyz.readLine();\n        for(x=0;s.charAt(x)!=':';x++);\n       \n        String a=s.substring(0,x);\n        String b=s.substring(x+1);\n        int m=a.length();\n        int n=b.length();\n        int p[]=new int[m];\n        int g[]=new int[m];\n        int q[]=new int[n];\n        int h[]=new int[n];\n        mar obj=new mar();\n        obj.arrange(a,p,g,m);\n        obj.arrange(b,q,h,n);\n        obj.sort(g,m);\n        obj.sort(h,n);\n        if(g[0]>h[0])\n        max=g[0];\n        else\n        max=h[0];\n        k=max+1;\n        int u=obj.mart(p,k,m);\n        int v=obj.mart(q,k,n);\n        if(g[0]>23|| u>23 ||v>59)\n        System.out.println(0);\n        else if(m==1 && n==1)\n         System.out.println(-1);\n        else if(m==1)\n        {\n           for(y1=k;t==1;y1++)\n         {\n             if(q[0]==h[0] && h[1]==0)\n             {System.out.println(-1);System.exit(0);}\n             sum=0;w=1;\n             for(z=0;z<n;z++)\n             {\n                 sum=sum+q[z]*w;\n                 w=w*y1;\n             }\n             \n             if(sum>59)\n                 break;\n         } \n            for(x=k;x<y1;x++)\n                System.out.print(x+\" \");\n        }\n        else if(n==1)\n        {\n\n             if(p[0]==g[0] && g[1]==0)\n             {System.out.println(-1);System.exit(0);}\n            for(y=k;t==1;y++)\n         {   sum=0;\n             w=1;\n             for(z=0;z<m;z++)\n             {\n                 sum=sum+p[z]*w;\n                 w=w*y;\n             }\n            if(sum>23)\n                break;\n         }\n            for(x=k;x<y;x++)\n                System.out.print(x+\" \");\n        }\n        else if((g[1]==0 && h[1]==0 && p[0]!=0 && q[0]!=0) || (g[0]==0 && h[0]==0))\n        System.out.println(-1);\n        else\n        {\n            y=-2;y1=-2;\n         if((g[1]!=0 || p[0]==0) && g[0]!=0 )\n         {\n         for(y=k;t==1;y++)\n         {   sum=0;\n             w=1;\n             for(z=0;z<m;z++)\n             {\n                 sum=sum+p[z]*w;\n                 w=w*y;\n             }\n            \n            if(sum>23)\n                break;\n         }}\n        \n          if((h[1]!=0 || q[0]==0) && h[0]!=0 )\n          {\n         for(y1=k;t==1;y1++)\n         {\n             sum=0;w=1;\n             for(z=0;z<n;z++)\n             {\n                 sum=sum+q[z]*w;\n                 w=w*y1;\n             }\n            \n             if(sum>59)\n                 break;\n         }}\n          if(y==-2)\n              min=y1;\n          else if(y1==-2)\n               min =y;\n           else if(y<y1)\n                min=y;\n            else\n                min=y1;\n            for(x=k;x<min;x++)\n                System.out.print(x+\" \");\n        \n        \n        \n        }\n}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar buf[1024];\nvector<int> viHour, viMin;\nvoid parse() {\n  vector<int>* viTarget = &viHour;\n  char* pc = buf;\n  while (*pc) {\n    char c = *pc;\n    if (c == ':') {\n      viTarget = &viMin;\n    } else if (c == '0' && (viTarget->empty())) {\n    } else if (c >= '0' && c <= '9') {\n      viTarget->push_back(c - '0');\n    } else if (c >= 'A' && c <= 'Z') {\n      viTarget->push_back(c - 'A' + 10);\n    } else {\n      assert(false);\n    }\n    ++pc;\n  }\n  if (viHour.empty()) viHour.push_back(0);\n  if (viMin.empty()) viMin.push_back(0);\n}\nvoid calc(vector<int>& vi, int& mini, int& maxi, int limit) {\n  mini = 0;\n  for (int i = int(0); i < int(vi.size()); ++i) {\n    int v = vi[i];\n    mini = max(mini, v + 1);\n  }\n  if (vi.size() <= 1) {\n    maxi = 0x7fffff;\n    return;\n  }\n  for (maxi = mini;; ++maxi) {\n    int val = 0;\n    for (int i = int(0); i < int(vi.size()); ++i) {\n      val *= maxi;\n      val += vi[i];\n    }\n    if (val >= limit) break;\n  }\n  --maxi;\n}\nint main() {\n  cin >> buf;\n  parse();\n  if (0) {\n    for (int i = int(0); i < int(viHour.size()); ++i) printf(\"%2d\", viHour[i]);\n    printf(\"\\n##\\n\");\n    for (int i = int(0); i < int(viMin.size()); ++i) printf(\"%2d\", viMin[i]);\n    printf(\"\\n\");\n  }\n  if (viHour.size() <= 1 && viMin.size() <= 1) {\n    if (viHour[0] >= 24) {\n      cout << \"0\" << endl;\n    } else {\n      cout << \"-1\" << endl;\n    }\n    return 0;\n  }\n  int hMini, hMaxi, mMini, mMaxi;\n  calc(viHour, hMini, hMaxi, 24);\n  calc(viMin, mMini, mMaxi, 60);\n  vector<int> answers;\n  for (int i = max(hMini, mMini); i <= min(hMaxi, mMaxi); ++i) {\n    answers.push_back(i);\n  }\n  if (answers.empty()) {\n    cout << \"0\\n\";\n  } else {\n    for (int i = int(0); i < int(answers.size()); ++i) {\n      cout << answers[i] << endl;\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.io.*;\nimport java.util.*;\npublic class MartianClock {\n\tpublic static void main(String[]args)throws Throwable{\n\t\tBufferedReader bf=new BufferedReader(new InputStreamReader(System.in));\n\t\tString s=bf.readLine();\n\t\tString[]sa=s.split(\":\");\n\t\tint[]h=new int[5];\n\t\tint[]m=new int[5];\n\t\tint maxH=0,maxM=0;\n\t\tint p=0;\n\t\tfor(int i=sa[0].length()-1;i>=0;i--){\n\t\t\tchar c=sa[0].charAt(i);\n\t\t\tif(Character.isDigit(c))\n\t\t\t\th[p]=Integer.parseInt(c+\"\");\n\t\t\telse\n\t\t\t\th[p]=c-55;\n\t\t\tif(h[p]>maxH)\n\t\t\t\tmaxH=h[p];\n\t\t\tp++;\n\t\t}\n\t\tp=0;\n\t\tfor(int i=sa[1].length()-1;i>=0;i--){\n\t\t\tchar c=sa[1].charAt(i);\n\t\t\tif(Character.isDigit(c))\n\t\t\t\tm[p]=Integer.parseInt(c+\"\");\n\t\t\telse\n\t\t\t\tm[p]=c-55;\n\t\t\tif(m[p]>maxM)\n\t\t\t\tmaxM=m[p];\n\t\t\tp++;\n\t\t}\n\t\tif(h[1]+h[2]+h[3]+h[4]+m[1]+m[2]+m[3]+m[4]==0 && h[0]<24 && m[0]<60)\n\t\t\tSystem.out.println(-1);\n\t\telse{\n\t\t\tArrayList<Integer> a=new ArrayList<Integer>();\n\t\t\tint x=2;\n\t\t\twhile(true){\n\t\t\t\tint hour=h[0]+h[1]*x+h[2]*x*x+h[3]*x*x*x+h[4]*x*x*x*x;\n\t\t\t\tint minute=m[0]+m[1]*x+m[2]*x*x+m[3]*x*x*x+m[4]*x*x*x*x;\n\t\t\t\tif(hour>23 || minute>59)\n\t\t\t\t\tbreak;\n\t\t\t\tif(x>maxH && x>maxM)\n\t\t\t\t\ta.add(x);\n\t\t\t\tx++;\n\t\t\t}\n\t\t\tif(a.size()==0)\n\t\t\t\tSystem.out.println(0);\n\t\t\telse{\n\t\t\t\tfor(int i=0;i<a.size();i++){\n\t\t\t\t\tSystem.out.print(a.get(i)+\" \");\n\t\t\t\t}\n\t\t\t\tSystem.out.println();\n\t\t\t}\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 1,
            "solution": "'''                      \n   \t\n   \t\t\t ||Sri:||                 \n\n                      __|\n ______________|_________________________\n      |    |   ___|    |    |    ___|      |      |    |___\n /\\  /\\    |   |___    |    |   |___|      |      |    |___|\n/  \\/  \\   |   ___|    |    |         |_/    |___|    |___\n\nI am a beginner. Feel free to send tutorials/help to srinivasan1995@gmail.com.\n\nCodeforces, SPOJ handle: desikachariar.\nHackerrank, Codechef handle: Prof_Calculus.\n\nAdvices/Help are welcome. You will definitely get a thanks in return. Comments to be avoided.\n\nCollege: International Institute of Information Technology, Bangalore.\n\n'''\n\nimport math\n\ndef fn(t, b):\n\tnum = 0\n\tr = 1\n\ts = 0\n\ti = len(t)-1\n\twhile i >= 0:\n\t\tif(t[i].isdigit()):\n\t\t\ts = int(t[i])\n\t\telse:\n\t\t\ts = ord(t[i])-55\n\t\tif s >= b:\n\t\t\treturn -1\n\t\tnum += s*r\n\t\tr *= b\n\t\ti -= 1\n\treturn num\n\nif __name__ == '__main__':\n\ta,b = [pp for pp in raw_input().split(':')]\n\twhile a != '' and a[0] == '0':\n\t\ta = a[1:]\n\tif a == '':\n\t\ta = '0'\n\twhile b != '' and b[0] == '0':\n\t\tb = b[1:]\n\tif b== '':\n\t\tb = '0'\n\tls = []\n\tfor i in range(1, 100):\n\t\ttry:\n\t\t\tif fn(a, i) <= 23 and fn(a, i) >= 0 and fn(b, i) >= 0 and fn(b, i) <= 59:\n\t\t\t\tif len(a) == 1 and len(b) == 1:\n\t\t\t\t\tls = [-1]\n\t\t\t\t\tbreak\n\t\t\t\telse:\n\t\t\t\t\tls += [i]\n\t\texcept:\n\t\t\tpass\n\tif ls == []:\n\t\tprint 0\n\telif len(ls) == [-1]:\n\t\tprint -1\n\telse:\n\t\tfor i in ls:\n\t\t\tprint i, \n"
        },
        {
            "language": 1,
            "solution": "import re\nimport itertools\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c) - ord('A') + 10)\n\ndef con(n, s):\n      if n is '': return 0\n      if get(n[-1]) >= s: return 100\n      return get(n[-1]) + con(n[:-1], s) * s\n\ndef good(m, s):\n      return con(m[0], s) < 24 and con(m[1], s) < 60\n\ns = map(lambda x: max('0', re.sub('^0*', '', x)), raw_input().split(':'))\nx = range(2, 100)\nans = list(itertools.compress(x, [good(s, i) for i in x]))\nif len(ans) == 0: print '0'\nelif len(ans) > 60: print '-1'\nelse: print ' '.join(str(x) for x in ans)\n"
        },
        {
            "language": 1,
            "solution": "def base(t, b):\n\tnum = 0\n\tp = 1\n\ti = len(t)-1\n\tv = 0\n\twhile i >= 0:\n\t\n\t\tif(t[i].isdigit()):\n\t\t\tv = int(t[i])\n\t\telse:\n\t\t\tv = (ord(t[i])-55\t)\n\t\t\t\n\t\t#print t[i], v\n\t\n\t\tif v >= b:\n\t\t\treturn -1\n\t\tnum += v*p\n\t\tp *= b\n\t\t\n\t\ti -= 1\n\treturn num\n\ndef remove_zeroes(t):\n\tres = \"\"\n\ti = 0\n\twhile i < len(t) and t[i] == \"0\":\n\t\ti += 1\n\twhile i < len(t):\n\t\tres += t[i]\n\t\ti += 1\n\tif res == \"\":\n\t\tres = \"0\"\n\treturn res\ns = raw_input().split(\":\")\n\nnum = []\n\nfor i in xrange(2):\n\ts[i] = remove_zeroes(s[i])\n\nfor i in xrange(2, 61\t):\n\ta = base(s[0],i)\n\tb = base(s[1],i)\n\t\n\t#print a, b, i\n\t\n\tif a >= 0 and a <= 23 and b >= 0 and b <= 59:\n\t\tnum.append(i)\n\t\t\n#print num\n\nif len(num) == 0:\n\tprint 0\nelif 60 in num:\n\tprint -1\nelse:\n\tfor x in num:\n\t\tprint x,\n"
        },
        {
            "language": 1,
            "solution": "def val(s):\n    if '0' <= s <= '9':\n        return ord(s) - ord('0')\n    return ord(s) - ord('A') + 10\n\ndef num(s, x):\n    res = 0\n    for i in s:\n        if val(i) >= x:\n            return 10**10\n        res = res * x + val(i)\n    return res\n\ns = raw_input().strip().split(':')\nres = []\nfor i in range(2, 1000):\n    if 0 <= num(s[0], i) < 24 and 0 <= num(s[1], i) < 60:\n        res += [i]\nif len(res) == 0:\n    print (0)\nelif 999 in res:\n    print (-1)\nelse:\n    for i in res:\n        print i,\n    print \"\""
        },
        {
            "language": 4,
            "solution": "\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\nimport java.util.TreeSet;\n\n/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\n/**\n *\n * @author pttrung\n */\npublic class B {\n\n    public static int x = 0, y = 0;\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Scanner in = new Scanner();\n        PrintWriter out = new PrintWriter(System.out);\n        //     PrintWriter out = new PrintWriter(new FileOutputStream(new File(\"output.txt\")));\n        String[] temp = in.next().split(\":\");\n        int min = Math.max(min(temp[0]), min(temp[1]));\n\n        if (cal(temp[0], 60) < 24 && cal(temp[1], 60) < 60) {\n            out.println(-1);\n        } else {\n\n            boolean found = false;\n            while (cal(temp[0], min) < 24 && cal(temp[1], min) < 60) {\n                found = true;\n                out.print(min++ + \" \");\n            }\n            if (!found) {\n                out.print(0);\n            }\n        }\n        out.close();\n    }\n\n    public static int cal(String val, int base) {\n        int start = 1;\n        int result = 0;\n        for (int i = val.length() - 1; i >= 0; i--) {\n            char c = val.charAt(i);\n            if (c >= '0' && c <= '9') {\n                result += start * (c - '0');\n            } else {\n                result += start * (c - 'A' + 10);\n            }\n            start *= base;\n        }\n        return result;\n    }\n\n    public static int min(String val) {\n        int min = 2;\n        for (int i = 0; i < val.length(); i++) {\n            char c = val.charAt(i);\n            if (c >= '0' && c <= '9') {\n                min = Math.max(min, (c - '0' + 1));\n            } else {\n                min = Math.max(min, (c - 'A' + 11));\n            }\n        }\n        return min;\n    }\n\n    static class FT {\n\n        int[] data;\n\n        FT(int n) {\n            data = new int[n];\n        }\n\n        void update(int index, int val) {\n            // System.out.println(\"UPDATE INDEX \" + index);\n            while (index < data.length) {\n                data[index] += val;\n                index += index & (-index);\n\n                //    System.out.println(\"NEXT \" +index);\n            }\n        }\n\n        int get(int index) {\n            //  System.out.println(\"GET INDEX \" + index);\n            int result = 0;\n            while (index > 0) {\n                result += data[index];\n                index -= index & (-index);\n                // System.out.println(\"BACK \" + index);\n            }\n            return result;\n        }\n    }\n\n    public static double dist(Point a, Point b) {\n        double val = (a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y);\n        return Math.sqrt(val);\n    }\n\n    public static class Point {\n\n        int x, y;\n\n        public Point(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n    }\n\n    public static boolean nextPer(int[] data) {\n        int i = data.length - 1;\n        while (i > 0 && data[i] < data[i - 1]) {\n            i--;\n        }\n        if (i == 0) {\n            return false;\n        }\n        int j = data.length - 1;\n        while (data[j] < data[i - 1]) {\n            j--;\n        }\n        int temp = data[i - 1];\n        data[i - 1] = data[j];\n        data[j] = temp;\n        Arrays.sort(data, i, data.length);\n        return true;\n    }\n\n    public double pow(double a, int b) {\n        if (b == 0) {\n            return 1;\n        }\n        if (b == 1) {\n            return a;\n        }\n        double val = pow(a, b / 2);\n        if (b % 2 == 0) {\n            return val * val;\n        } else {\n            return val * val * a;\n        }\n    }\n\n    public static long gcd(long a, long b) {\n        if (b == 0) {\n            return a;\n        }\n        return gcd(b, a % b);\n    }\n\n    public static long lcm(long a, long b) {\n        return a * b / gcd(a, b);\n    }\n\n    static class Scanner {\n\n        BufferedReader br;\n        StringTokenizer st;\n\n        public Scanner() throws FileNotFoundException {\n            // System.setOut(new PrintStream(new BufferedOutputStream(System.out), true));\n            br = new BufferedReader(new InputStreamReader(System.in));\n            //br = new BufferedReader(new FileReader(new File(\"input.txt\")));\n        }\n\n        public String next() {\n\n            while (st == null || !st.hasMoreTokens()) {\n                try {\n                    st = new StringTokenizer(br.readLine());\n                } catch (Exception e) {\n                    throw new RuntimeException();\n                }\n            }\n            return st.nextToken();\n        }\n\n        public long nextLong() {\n            return Long.parseLong(next());\n        }\n\n        public int nextInt() {\n            return Integer.parseInt(next());\n        }\n\n        public double nextDouble() {\n            return Double.parseDouble(next());\n        }\n\n        public String nextLine() {\n            st = null;\n            try {\n                return br.readLine();\n            } catch (Exception e) {\n                throw new RuntimeException();\n            }\n        }\n\n        public boolean endLine() {\n            try {\n                String next = br.readLine();\n                while (next != null && next.trim().isEmpty()) {\n                    next = br.readLine();\n                }\n                if (next == null) {\n                    return true;\n                }\n                st = new StringTokenizer(next);\n                return st.hasMoreTokens();\n            } catch (Exception e) {\n                throw new RuntimeException();\n            }\n        }\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.StringTokenizer;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport static java.lang.System.*;\n\npublic class Mars {\n\n    static BufferedReader br;\n\n    public static void init() {\n        br = new BufferedReader(new InputStreamReader(System.in));\n    }\n\n    public static String getString() {\n        try {\n            if (br == null) {\n                init();\n            }\n            return br.readLine();\n        } catch (Exception e) {\n        }\n        return \"\";\n    }\n\n    public static Integer getInt() {\n        try {\n            if (br == null) {\n                init();\n            }\n            return Integer.parseInt(br.readLine());\n        } catch (Exception e) {\n        }\n        return 0;\n    }\n\n    public static Integer[] getIntArr() {\n        try {\n            if (br == null) {\n                init();\n            }\n            String temp[] = br.readLine().split(\" \");\n            Integer temp2[] = new Integer[temp.length];\n            for (int i = 0; i < temp.length; i++) {\n                temp2[i] = Integer.parseInt(temp[i]);\n            }\n            return temp2;\n        } catch (Exception e) {\n        }\n        return null;\n    }\n\n    public static void main(String[] ar) {\n        String inp[] = getString().split(\":\");\n        List s = new ArrayList();\n        int max = 0;\n        for (int a = 0; a < inp.length; a++) {\n            for (int b = 0; b < inp[a].length(); b++) {\n                int temp = getVal(inp[a].charAt(b) + \"\");\n                max = max < temp ? temp : max;\n            }\n        }\n        int radix = max + 1;\n\n        boolean run = true, found = false;\n        try {\n            while (run) {\n                int a = Integer.parseInt(inp[0], radix);\n                int b = Integer.parseInt(inp[1], radix);\n                s.add(radix);\n                found = true;\n                radix++;\n                if (a > 23 || b > 59) {\n                    s.remove(s.size() - 1);\n                    break;\n                }\n            }\n            String outp = s.size() > 0 ? s.toString().replace(\"[\", \"\").replace(\"]\", \"\").replace(\",\", \"\") : \"0\";\n            out.println(outp);\n        } catch (Exception e) {\n            //System.out.println(Character.MAX_RADIX);\n            if (found) {\n                run = false;\n            }\n            if (radix > 36 || radix < 2) {\n                if (radix > 36 && inp[1].matches(\"0*1[0-9A-N]\")) {\n                    err2(max, inp);\n                    return;\n                }\n                System.out.println(\"-1\");\n            } else {\n                System.out.println(s.toString().replace(\"[\", \"\").replace(\"]\", \"\").replace(\",\", \"\"));\n            }\n        }\n    }\n\n    static int getVal(String s) {\n        int output = 0;\n        try {\n            output = Integer.parseInt(s);\n        } catch (Exception e) {\n            output = ((int) s.charAt(0) - 'A' + 10);\n            //System.out.println(output);\n        }\n        return output;\n    }\n\n    static void err2(int max, String[] inp) {\n        List s = new ArrayList();\n        try {\n            int temp = Integer.parseInt(inp[1]) - 10;\n            for (int i = max + 1; i < 60 - temp; i++) {\n                s.add(i);\n            }\n\n        } catch (Exception e2) {\n            int temp = getVal(inp[1].charAt(inp[1].length()-1)+\"\");\n            for (int i = max + 1; i < 60 - temp; i++) {\n                s.add(i);\n            }\n\n        }\n        System.out.println(s.toString().replace(\"[\", \"\").replace(\"]\", \"\").replace(\",\", \"\"));\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\n\n\npublic class CodeC \n{\n\tstatic class Scanner {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tStringTokenizer st = new StringTokenizer(\"\");\n\n\t\tpublic String nextLine() {\n\t\t\ttry {\n\t\t\t\treturn br.readLine();\n\t\t\t} catch (Exception e) {\n\t\t\t\tthrow (new RuntimeException());\n\t\t\t}\n\t\t}\n\n\t\tpublic String next() {\n\t\t\twhile (!st.hasMoreTokens()) {\n\t\t\t\tString l = nextLine();\n\t\t\t\tif (l == null)\n\t\t\t\t\treturn null;\n\t\t\t\tst = new StringTokenizer(l);\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] res = new int[n];\n\t\t\tfor (int i = 0; i < res.length; i++)\n\t\t\t\tres[i] = nextInt();\n\t\t\treturn res;\n\t\t}\n\n\t\tpublic long[] nextLongArray(int n) {\n\t\t\tlong[] res = new long[n];\n\t\t\tfor (int i = 0; i < res.length; i++)\n\t\t\t\tres[i] = nextLong();\n\t\t\treturn res;\n\t\t}\n\n\t\tpublic double[] nextDoubleArray(int n) {\n\t\t\tdouble[] res = new double[n];\n\t\t\tfor (int i = 0; i < res.length; i++)\n\t\t\t\tres[i] = nextLong();\n\t\t\treturn res;\n\t\t}\n\n\t\tpublic void sortIntArray(int[] array) {\n\t\t\tInteger[] vals = new Integer[array.length];\n\t\t\tfor (int i = 0; i < array.length; i++)\n\t\t\t\tvals[i] = array[i];\n\t\t\tArrays.sort(vals);\n\t\t\tfor (int i = 0; i < array.length; i++)\n\t\t\t\tarray[i] = vals[i];\n\t\t}\n\n\t\tpublic void sortLongArray(long[] array) {\n\t\t\tLong[] vals = new Long[array.length];\n\t\t\tfor (int i = 0; i < array.length; i++)\n\t\t\t\tvals[i] = array[i];\n\t\t\tArrays.sort(vals);\n\t\t\tfor (int i = 0; i < array.length; i++)\n\t\t\t\tarray[i] = vals[i];\n\t\t}\n\n\t\tpublic void sortDoubleArray(double[] array) {\n\t\t\tDouble[] vals = new Double[array.length];\n\t\t\tfor (int i = 0; i < array.length; i++)\n\t\t\t\tvals[i] = array[i];\n\t\t\tArrays.sort(vals);\n\t\t\tfor (int i = 0; i < array.length; i++)\n\t\t\t\tarray[i] = vals[i];\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner();\n\t\tString[] e = sc.next().split(\":\");\n\t\tString hora = convertir(e[0]);\n\t\tString minuto = convertir(e[1]);\n\t\tboolean empezo = false;\n\t\tString res = \"\";\n\t\tfor(int i = 2; i <= 60; i++)\n\t\t{\n\t\t\tboolean bien = false;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tint val = parseInt(hora, i);\n\t\t\t\tif(val >= 0 && val <= 23)\n\t\t\t\t\tbien = true;\n\t\t\t\telse\n\t\t\t\t\tbien = false;\n\t\t\t}\n\t\t\tcatch(Exception e1)\n\t\t\t{\n\t\t\t\tbien = false;\n\t\t\t}\n\t\t\tif(bien)\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tint val = parseInt(minuto, i);\n\t\t\t\t\tif(val >= 0 && val <= 59)\n\t\t\t\t\t\tbien = true;\n\t\t\t\t\telse\n\t\t\t\t\t\tbien = false;\n\t\t\t\t}\n\t\t\t\tcatch(Exception e1)\n\t\t\t\t{\n\t\t\t\t\tbien = false;\n\t\t\t\t}\n\t\t\tif(bien)\n\t\t\t{\n\t\t\t\tres += (empezo ? \" \" : \"\") + i;\n\t\t\t\tempezo = true;\n\t\t\t}\n\t\t}\n\t\tif(res.contains(\"60\"))\n\t\t\tSystem.out.println(\"-1\");\n\t\telse\n\t\t\tSystem.out.println(res.isEmpty() ? \"0\" : res);\n\t}\n\n\tprivate static int parseInt(String hora, int base) \n\t{\n\t\tint exponente = 1;\n\t\tint result = 0;\n\t\tfor(char c : new StringBuilder(hora).reverse().toString().toCharArray())\n\t\t{\n\t\t\tint val;\n\t\t\tif(c >= '0' && c <= '9')\n\t\t\t\tval = c - '0';\n\t\t\telse\n\t\t\t\tval = (c - 'A') + 10;\n\t\t\tif(val >= base)\n\t\t\t\treturn 1000;\n\t\t\tresult += exponente * val;\n\t\t\texponente *= base;\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate static String convertir(String s) \n\t{\n\t\twhile(s.length() > 1 && s.charAt(0) == '0')\n\t\t\ts = s.substring(1);\n\t\treturn s;\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma comment(linker, \"/STACK:16777216\")\nusing namespace std;\nint main() {\n  char a[10] = {0};\n  char b[10] = {0};\n  char bb = 1;\n  int hj = 0;\n  scanf(\"%c\", &bb);\n  do {\n    a[hj] = bb;\n    hj++;\n    scanf(\"%c\", &bb);\n  } while (bb != ':');\n  a[hj] = 0;\n  scanf(\"%s\", &b);\n  int begA = -1;\n  int begB = -1;\n  for (int i = 0; a[i] && a[i] == '0'; i++) begA++;\n  for (int i = 0; b[i] && b[i] == '0'; i++) begB++;\n  int la = strlen(a);\n  int lb = strlen(b);\n  char v[37] = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  int ma = -1;\n  int mb = -1;\n  if ((begA >= (la - 2)) && (begB >= (lb - 2))) {\n    if (a[la - 1] <= 'O') {\n      printf(\"-1\");\n      return 0;\n    }\n  }\n  for (int i = 0; a[i]; i++) {\n    for (int j = 0; v[j]; j++) {\n      if (v[j] == a[i]) ma = max(ma, j);\n    }\n  }\n  for (int i = 0; b[i]; i++) {\n    for (int j = 0; v[j]; j++) {\n      if (v[j] == b[i]) mb = max(mb, j);\n    }\n  }\n  int beg = max(ma, mb) + 1;\n  bool f = false;\n  for (int i = beg; true; i++) {\n    int ca = 0;\n    int cb = 0;\n    int p = 0;\n    for (int j = la - 1; j > begA; j--) {\n      int mest = 0;\n      for (int k = 0; v[k]; k++) {\n        if (v[k] == a[j]) {\n          mest = k;\n          break;\n        }\n      }\n      int buf = (int)pow((double)i, (double)p) * mest;\n      ca += buf;\n      p++;\n    }\n    p = 0;\n    for (int j = lb - 1; j > begB; j--) {\n      int mest = 0;\n      for (int k = 0; v[k]; k++) {\n        if (v[k] == b[j]) {\n          mest = k;\n          break;\n        }\n      }\n      int buf = (int)pow((double)i, (double)p) * mest;\n      cb += buf;\n      p++;\n    }\n    if ((ca > 23) || (cb > 59)) break;\n    f = true;\n    printf(\"%d \", i);\n  }\n  if (!f) printf(\"0\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint deg[160];\nvector<int> vec;\nstring s1, s2;\nint mn = 0;\nbool isNum(char t) { return (t - '0' >= 0 && t - '0' <= 9); }\nbool isAlpha(char t) { return (t >= 'A' && t <= 'Z'); }\nint cevir(int a) {\n  int k = 0;\n  while (a) {\n    k = (10 * k) + a % 10;\n    a /= 10;\n  }\n  return k;\n}\nvoid read() {\n  for (int i = '0'; i <= '9'; i++) deg[i] = i - '0';\n  for (int i = 'A'; i <= 'Z'; i++) deg[i] = i - 55;\n  string s3;\n  cin >> s3;\n  bool k = 0;\n  for (int i = 0; i < s3.size(); i++) {\n    mn = max(mn, deg[s3[i]]);\n    if (!k) {\n      if (s3[i] == ':')\n        k = 1;\n      else\n        s1 += s3[i];\n    } else if (k) {\n      s2 += s3[i];\n    }\n  }\n  mn++;\n}\nbool knt() {\n  int k = 1;\n  int tp1 = 0, tp2 = 0;\n  for (int i = s1.size() - 1; i >= 0; i--) {\n    tp1 += k * deg[s1[i]];\n    k *= mn;\n  }\n  k = 1;\n  for (int i = s2.size() - 1; i >= 0; i--) {\n    tp2 += k * deg[s2[i]];\n    k *= mn;\n  }\n  if (tp1 >= 24 || tp2 >= 60) return 0;\n  return 1;\n}\nint main() {\n  read();\n  while (knt()) {\n    vec.push_back(mn);\n    mn++;\n    if (mn > 100) {\n      cout << -1 << endl;\n      return 0;\n    }\n  }\n  if (vec.size() == 0) {\n    cout << 0 << endl;\n    return 0;\n  }\n  for (int i = 0; i < vec.size(); i++) cout << vec[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def good(b, num, basa):\n    sum = int(b, basa)\n    maxbasB = 0\n    if b != '0':\n        if len(b) > 1:\n            while sum < num:\n                basa += 1\n                maxbasB = basa\n                if basa <= 36:\n                    sum = int(b, basa) \n                else:\n                    maxbasB = (num - 1 - int(b[1], 36))\n                    break\n                if sum >= num:\n                    maxbasB -= 1    \n        else:\n            if num / basic[b] > 0:\n                maxbasB = 83 - num         \n            else:\n                maxbasB = 0\n    else:\n        maxbasB = 100\n    return maxbasB                \ndef conv(b):\n    j = 0\n    for i in b:\n        if i == '0':\n            j += 1\n        else:\n            break   \n    b = b[j:len(b)]\n    if len(b) == 0:\n        b = '0'\n    return b    \na ,b =  raw_input().split(':')\nbasic = {}\nfor i in range(10):\n    basic[str(i)] = i\nfor i in range(65,91):\n    basic[ chr(i) ] = len(basic)   \na = conv(a)\nb = conv(b)\nif (len(a) <= 1 and len(b) <= 1):\n    if (len(a) == 1 and basic[a] > 23):\n        print 0\n    else:    \n        print -1\nelse:\n    minbas = max(basic[max(a)],basic[max(b)]) + 1\n    maxbasA = good(a, 24, minbas)     \n    maxbasB = good(b, 60, minbas)         \n    c = min(maxbasA, maxbasB)    \n    if c < minbas:\n        print 0\n    else:\n        for i in range(minbas, c + 1):\n            print i, "
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint main() {\n  char s[20];\n  bool jizz = false;\n  int value1[61] = {0}, value2[61] = {0}, k, max = 0;\n  int m, n, a, b;\n  scanf(\"%s\", &s);\n  for (m = 0; m < strlen(s); m++) {\n    if (s[m] == ':') break;\n    for (a = 2; a < 61; a++) {\n      if (s[m] <= 'Z' && s[m] >= 'A')\n        k = s[m] - 'A' + 10;\n      else\n        k = s[m] - '0';\n      if (k > max) max = k;\n      value1[a] = value1[a] * a + k;\n    }\n  }\n  for (n = m + 1; n < strlen(s); n++) {\n    for (a = 2; a < 61; a++) {\n      if (s[n] <= 'Z' && s[n] >= 'A')\n        k = s[n] - 'A' + 10;\n      else\n        k = s[n] - '0';\n      if (k > max) max = k;\n      value2[a] = value2[a] * a + k;\n    }\n  }\n  if (value1[60] <= 23 && value2[60] <= 59)\n    printf(\"-1\\n\");\n  else {\n    for (a = max + 1; a < 60; a++) {\n      if (value1[a] <= 23 && value2[a] <= 59) {\n        jizz = true;\n        break;\n      }\n    }\n    if (jizz == false) printf(\"0\\n\");\n    for (a = max + 1; a < 60; a++) {\n      if (value1[a] <= 23 && value2[a] <= 59) {\n        printf(\"%d \", a);\n      }\n    }\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string a, b;\n  getline(cin, a, ':');\n  getline(cin, b);\n  int max1 = -1;\n  for (int i = 0; i < a.length(); i++)\n    if (a[i] >= 'A') {\n      if (a[i] - 'A' + 10 > max1) max1 = a[i] - 'A' + 10;\n    } else if (a[i] - '0' > max1)\n      max1 = a[i] - '0';\n  int r1 = 0;\n  while (r1 < a.length() && a[r1] == '0') r1++;\n  int r2 = 0;\n  while (r2 < b.length() && b[r2] == '0') r2++;\n  if (((r1 == a.length() - 1 && a[r1] <= 'N') || r1 > a.length() - 1) &&\n      r2 >= b.length() - 1) {\n    cout << \"-1\";\n    return 0;\n  } else if (r1 >= a.length() - 1 && r2 >= b.length() - 1) {\n    cout << '0';\n    return 0;\n  }\n  for (int i = 0; i < b.length(); i++)\n    if (b[i] >= 'A') {\n      if (b[i] - 'A' + 10 > max1) max1 = b[i] - 'A' + 10;\n    } else if (b[i] - '0' > max1)\n      max1 = b[i] - '0';\n  vector<int> c;\n  for (int i = max1 + 1; i <= 1000; i++) {\n    int p = 1;\n    int s = 0;\n    for (int j = a.length() - 1; j >= 0; j--) {\n      if (a[j] >= 'A')\n        s += (a[j] - 'A' + 10) * p;\n      else\n        s += (a[j] - '0') * p;\n      p *= i;\n    }\n    p = 1;\n    int s1 = 0;\n    for (int j = b.length() - 1; j >= 0; j--) {\n      if (b[j] >= 'A')\n        s1 += (b[j] - 'A' + 10) * p;\n      else\n        s1 += (b[j] - '0') * p;\n      p *= i;\n    }\n    if (s < 24 && s >= 0 && s1 < 60 && s1 >= 0)\n      c.push_back(i);\n    else\n      break;\n  }\n  if (c.size() == 0)\n    cout << '0';\n  else\n    for (int i = 0; i < c.size(); i++) cout << c[i] << ' ';\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\n\n\npublic class Problem2 {\n\n\tpublic static void main(String[] args) {\n\t\tString ans = \"\";\n\t\tScanner scanner = new Scanner(System.in);\n\t\tString input = scanner.next();\n\t\tString[] time = input.split(\":\");\n\t\ttime[0] = trimZero(time[0]);\n\t\ttime[1] = trimZero(time[1]);\n\t\tif (time[0].length() == 1 && time[1].length() == 1) {\n\t\t\tif (getInt(time[0].charAt(0)) <= 23) {\n\t\t\t\tSystem.out.print(\"-1\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 2; ; i++) {\n\t\t\tint hour = calcTime(time[0], i);\n\t\t\tif (hour > 23) break;\n\t\t\tif (hour != -1) {\n\t\t\t\tint min = calcTime(time[1], i);\n\t\t\t\tif (min > 59) break;\n\t\t\t\tif (min != -1) {\n\t\t\t\t\tans += i + \" \";\t\t\t\t\t\n\t\t\t\t}\n\t\t\t} \n\t\t}\n\t\tif (ans.length() == 0) ans = \"0\";\n\t\tSystem.out.print(ans);\n\t}\n\t\n\tprivate static String trimZero(String time) {\n\t\twhile (time.length() > 1) {\n\t\t\tif (time.startsWith(\"0\")) time = time.replaceFirst(\"0\", \"\");\n\t\t\telse break;\n\t\t}\n\t\tSystem.err.println(\"trimZero \"+ time);\n\t\treturn time;\n\t}\n\n\tprivate static int calcTime(String time, int r) {\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < time.length(); i++) {\n\t\t\tint tmp = getInt(time.charAt(i));\n\t\t\tif (tmp >= r) {\n\t\t\t\tans = -1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tans = ans * r + tmp;\n\t\t}\n\t\tSystem.err.println(\"calcTime \"+ ans);\n\t\treturn ans;\n\t}\n\t\n\tprivate static int getInt(char c) {\n\t\tif (c >= '0' && c <= '9') return c - '0';\n\t\telse return c - 'A' + 10;\n\t}\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.io.IOException;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n *\n * @author Toni Rajkovski\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        FastReader in = new FastReader(inputStream);\n        PrintWriter out = new PrintWriter(outputStream);\n        TaskB solver = new TaskB();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class TaskB {\n        public void solve(int testNumber, FastReader in, PrintWriter out) {\n            String s = in.next();\n            String[] temp = s.split(\":\");\n            int[] hour = parseVal(temp[0]);\n            int[] minute = parseVal(temp[1]);\n            ArrayList<Integer> list = new ArrayList<>();\n            for (int radix = 2; radix < 1000; radix++) {\n                int hVal = convert(hour, radix);\n                int mVal = convert(minute, radix);\n                if (hVal >= 0 && hVal < 24 && mVal >= 0 && mVal < 60)\n                    list.add(radix);\n            }\n            if (list.size() == 0) out.println(0);\n            else if (list.size() > 900) out.println(-1);\n            else {\n                for (int i = 0; i < list.size(); i++) {\n                    out.print(list.get(i) + \" \");\n                }\n                out.println();\n            }\n        }\n\n        private int[] parseVal(String s) {\n            char[] arr = s.toCharArray();\n            ArrayList<Integer> vals = new ArrayList<>();\n            for (int i = 0; i < arr.length; i++) {\n                char c = arr[i];\n                if (Character.isAlphabetic(c)) {\n                    vals.add(c - 'A' + 10);\n                } else vals.add(c - '0');\n            }\n            while (vals.size() > 0 && vals.get(0) == 0) vals.remove(0);\n            if (vals.size() == 0) vals.add(0);\n            int[] ret = new int[vals.size()];\n            for (int i = 0; i < vals.size(); i++) {\n                ret[i] = vals.get(i);\n            }\n            return ret;\n        }\n\n        private int convert(int[] vals, int radix) {\n            int mul = 1, res = 0;\n            for (int i = vals.length - 1; i >= 0; i--) {\n                if (vals[i] >= radix) return -1;\n                if (res > 100 || mul > 100) return -1;\n                res += vals[i] * mul;\n                mul *= radix;\n            }\n            return res;\n        }\n\n    }\n\n    static class FastReader {\n        BufferedReader br;\n        StringTokenizer st;\n\n        public FastReader() {\n            br = new BufferedReader(new\n                    InputStreamReader(System.in));\n        }\n\n        public FastReader(InputStream is) {\n            br = new BufferedReader(new\n                    InputStreamReader(is));\n        }\n\n        public String next() {\n            while (st == null || !st.hasMoreElements()) {\n                try {\n                    st = new StringTokenizer(br.readLine());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            return st.nextToken();\n        }\n\n    }\n}\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.InputMismatchException;\n\npublic class R106_B {\n\n    public static int get(char c) {\n        if (Character.isDigit(c))\n            return c - '0';\n        return c - 'A' + 10;\n    }\n\n    public static int parse(String a, int b) {\n        int res = 0;\n        int l = 1;\n        for (int i = a.length() - 1; i >= 0; i--) {\n            if (get(a.charAt(i)) >= b)\n                return -1;\n            res += get(a.charAt(i)) * l;\n            l *= b;\n        }\n        return res;\n    }\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        String[] s = in.readLine().split(\":\");\n        String a = \"\";\n        boolean flag = true;\n        for (int i = 0; i < s[0].length(); i++) {\n            if (flag && s[0].charAt(i) == '0')\n                continue;\n            if (!flag) {\n                a += s[0].charAt(i);\n            } else if (flag && s[0].charAt(i) != '0') {\n                flag = false;\n                a += s[0].charAt(i);\n            }\n        }\n        String b = \"\";\n        flag = true;\n        for (int i = 0; i < s[1].length(); i++) {\n            if (flag && s[1].charAt(i) == '0')\n                continue;\n            if (!flag) {\n                b += s[1].charAt(i);\n            } else if (flag && s[1].charAt(i) != '0') {\n                flag = false;\n                b += s[1].charAt(i);\n            }\n        }\n        boolean canA[] = new boolean[70];\n        boolean canB[] = new boolean[70];\n        for (int i = 2; i < 70; i++) {\n            int k = parse(a, i);\n            if (k <= 23 && k >= 0)\n                canA[i] = true;\n        }\n        for (int i = 2; i < 70; i++) {\n            int k = parse(b, i);\n            if (k <= 59 && k >= 0)\n                canB[i] = true;\n        }\n        if (canA[64] && canB[64]) {\n            System.out.println(-1);\n            return;\n        }\n        flag = false;\n        String o = \"\";\n        for (int i = 0; i < canB.length; i++) {\n            if (canA[i] && canB[i]) {\n                flag = true;\n                o += i + \" \";\n            }\n        }\n\n        if (!flag)\n            System.out.println(0);\n        else\n            System.out.println(o.trim());\n\n    }\n}\n"
        },
        {
            "language": 1,
            "solution": "def number(x, l):\n    l = list(reversed(l))\n    res = 0\n    for i in range(len(l)):\n        res += l[i]*(x**i)\n    return res\n\n\ntime = raw_input()\ns = list(time.replace(\":\",\"\"))\n[a,b] = time.split(\":\")\na, b = list(a), list(b)\ni = 0\nwhile i < len(s):\n    try:\n        s[i] = int(s[i])\n    except ValueError:\n        s[i] = ord(s[i])-55\n    i+=1\na = s[:len(a)]\nb = s[len(a):]\n\nx = max(s)+1\n\n\nres = []\nif (number(x,a)==number(x+1,a) < 24) and number(x, b) == number(x+1, b) < 60:\n    res = -1\nelse:\n    while number(x, a) < 24 and number(x, b) < 60:\n        res.append(x)\n        x += 1\n\nif res == -1:\n    print res\n\nelif res:\n    for i in res:\n        print i,\nelse:\n    print 0\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class Main {\n//\tstatic Scanner in; static int next() throws Exception {return in.nextInt();};\n//\tstatic StreamTokenizer in; static int next() throws Exception {in.nextToken(); return (int) in.nval;}\n\tstatic BufferedReader in;\n\tstatic PrintWriter out;\n\n\tstatic int number(char c) {\n\t\tif ('0' <= c && c <= '9') return c - '0';\n\t\telse return 10 + c - 'A';\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n//\t\tin = new Scanner(System.in);\n//\t\tin = new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in)));\n\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\tout = new PrintWriter(System.out);\n\n\t\tString time = in.readLine();\n\t\t\n\t\tif (time.replaceAll(\"0\", \"\").length() == 1) {\n\t\t\tout.println(-1);\n\t\t\tout.close();\n\t\t\treturn;\n\t\t}\n\n\t\tString tm[] = time.split(\":\");\n\t\t\n\t\tArrayList<Integer> h = new ArrayList<Integer>();\n\t\tArrayList<Integer> m = new ArrayList<Integer>();\n\n\t\tint ind = 0;\n\t\twhile (ind < tm[0].length()) h.add(number(tm[0].charAt(ind++)));\n\t\tind = 0;\n\t\twhile (ind < tm[1].length()) m.add(number(tm[1].charAt(ind++)));\n\t\t\n\t\tint max = 0;\n\t\tfor (int i = 0; i < h.size() - 1; i++) max = Math.max(max, h.get(i));\n\t\tfor (int i = 0; i < m.size() - 1; i++) max = Math.max(max, m.get(i));\n\n\t\tif (max == 0) {\n\t\t\tif (h.size() > 0 && h.get(h.size() - 1) < 24) {\n\t\t\t\tout.println(-1);\n\t\t\t\tout.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tint count = 0;\n\n\t\tint min = 2;\n\t\tfor (int x : h) min = Math.max(min, x + 1);\n\t\tfor (int x : m) min = Math.max(min, x + 1);\n\n\n\t\tfor (int i = min; i < 60; i++) {\n\t\t\tint hh = 0;\n\t\t\tfor (int x : h) hh = hh * i + x;\n\t\t\tint mm = 0;\n\t\t\tfor (int x : m) mm = mm * i + x;\n\n\t\t\tif (hh < 24 && mm < 60) {\n\t\t\t\tout.print(i + \" \");\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\n\t\tif (count == 0) out.println(0);\n\t\telse out.println();\n\t\n\t\tout.close();\n\t}\n}"
        },
        {
            "language": 1,
            "solution": "hs, ms = raw_input().split(\":\")\n\nhs = hs.lstrip('0')\nms = ms.lstrip('0')\n\nif hs == '':\n    hs = '0'\nif ms == '':\n    ms = '0'\n\nif len(hs) == 1 and len(ms) == 1 and int(hs, 36) <= 23:\n    print -1\n    exit()\n\nif int(max(hs), 36) > 23:\n    print 0\n    exit()\n\n\nfound = False\nfor i in range(2, 36):\n    try:\n        h = int(hs, i)\n        m = int(ms, i)\n        if h <= 23 and m <= 59:\n            found = True\n            print i, \n    except ValueError:\n        pass\n\nif len(hs) == 1 and len(ms) == 2 and ms[0] == '1':\n    for i in range(36, 60):\n        if i + int(ms[1], 36) <= 59:\n            print i,\n\nif not found:\n    print 0\n"
        },
        {
            "language": 4,
            "solution": "'use strict';\n\n/*let input = `00000:00000`.split('\\n');\nfunction print(output) {\n\tconsole.log(output);\n}\nfunction readline() {\n\treturn input.shift();\n}*/\n\n//code\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar digits = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"];\n\nvar _readline$split = readline().split(':');\n\nvar _readline$split2 = _slicedToArray(_readline$split, 2);\n\nvar hours = _readline$split2[0];\nvar min = _readline$split2[1];\n\nvar minRadix = [hours, min].join('').split('').reduce(function (acc, curr) {\n\tif (digits.indexOf(curr) > acc) {\n\t\treturn digits.indexOf(curr);\n\t} else {\n\t\treturn acc;\n\t}\n}, 0);\nminRadix++;\nvar radix = minRadix,\n    infinite = false,\n    lastRadixVal = void 0;\nwhile (true) {\n\t/*\n let hoursVal = hours.split('').reduce((acc, curr) => {\n return acc*radix + digits.indexOf(curr);\n }, 0);*/\n\n\tvar _map = [hours, min].map(function (time) {\n\t\treturn time.split('').reduce(function (acc, curr) {\n\t\t\treturn acc * radix + digits.indexOf(curr);\n\t\t}, 0);\n\t});\n\n\tvar _map2 = _slicedToArray(_map, 2);\n\n\tvar hoursVal = _map2[0];\n\tvar minVal = _map2[1];\n\n\tif (hoursVal >= 24 || minVal >= 60) {\n\t\tbreak;\n\t}\n\tif (lastRadixVal !== undefined && lastRadixVal === hoursVal * 60 + minVal) {\n\t\tinfinite = true;\n\t\tbreak;\n\t}\n\tlastRadixVal = hoursVal * 60 + minVal;\n\tradix++;\n}\nvar maxRadix = radix;\nif (minRadix === maxRadix) {\n\tprint(\"0\");\n} else if (infinite) {\n\tprint(\"-1\");\n} else {\n\tvar result = [];\n\tfor (var i = minRadix; i < maxRadix; i++) {\n\t\tresult.push(i);\n\t}\n\tprint(result.join(' '));\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long MOD = 1000000007;\nlong long pw(long long a, long long b) {\n  long long r = 1;\n  while (b > 0) {\n    if (b & 1) {\n      r = (r * a) % MOD;\n    }\n    b = b >> 1;\n    a = (a * a) % MOD;\n  }\n  return r;\n}\nint main() {\n  string in, h = \"\", m = \"\";\n  int mx = 0;\n  cin >> in;\n  int f = 0;\n  for (int i = 0; i < in.length(); i++) {\n    if (in[i] == ':') {\n      f = 1;\n      continue;\n    }\n    if (in[i] >= '0' && in[i] <= '9')\n      in[i] -= '0';\n    else\n      in[i] = in[i] - 'A' + 10;\n    if (!f)\n      h += in[i];\n    else\n      m += in[i];\n    mx = max(mx, (int)in[i]);\n  }\n  f = 0;\n  int ph, ch, pm, cm;\n  vector<int> ans;\n  int i = mx;\n  while (1) {\n    i++;\n    ch = 0;\n    cm = 0;\n    int base = 1;\n    for (int j = h.length() - 1; j > -1; j--) {\n      ch += (base * h[j]);\n      base *= i;\n    }\n    base = 1;\n    for (int j = m.length() - 1; j > -1; j--) {\n      cm += (base * m[j]);\n      base *= i;\n    }\n    if (ch < 24 && cm < 60) {\n      if (i == mx + 1)\n        ph = ch, pm = cm;\n      else if (ph == ch && pm == cm) {\n        f = -1;\n        break;\n      }\n      ans.push_back(i);\n    } else\n      break;\n  }\n  if (f == -1)\n    printf(\"%d\", f), printf(\"\\n\");\n  else if (!ans.size())\n    printf(\"%d\", 0), printf(\"\\n\");\n  else {\n    for (int j = 0; j < ans.size(); j++) {\n      printf(\"%d \", ans[j]);\n    }\n    printf(\"\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar str[20];\nint la, lb, a[8], b[8], v[100], c[200], z;\nint minr = 1;\nint main() {\n  for (int i = '0'; i <= '9'; i++) c[i] = i - '0';\n  for (int i = 'A'; i <= 'Z'; i++) c[i] = i - 'A' + 10;\n  scanf(\"%s\", str + 1);\n  for (int i = 1; str[i]; i++) {\n    if (str[i] != ':') {\n      a[++la] = c[str[i]];\n      minr = max(a[la], minr);\n    } else if (str[i] == ':') {\n      int j = 0;\n      for (int j = i + 1; str[j]; j++)\n        b[++lb] = c[str[j]], minr = max(minr, b[lb]);\n      break;\n    }\n  }\n  for (int i = minr + 1; i <= 70; i++) {\n    int t1 = 0, t2 = 0;\n    for (int j = la, k = 1; j; j--, k *= i) t1 += a[j] * k;\n    for (int j = lb, k = 1; j; j--, k *= i) t2 += b[j] * k;\n    if (0 <= t1 && t1 <= 23 && 0 <= t2 && t2 <= 59) v[i] = 1;\n  }\n  for (int i = 1; i <= 70; i++)\n    if (v[i]) z++;\n  if (z == 70 - minr)\n    cout << -1;\n  else if (!z)\n    cout << 0;\n  else\n    for (int i = 1; i <= 59; i++)\n      if (v[i]) cout << i << ' ';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long INF = 1e9;\nint toint(char c) {\n  if (c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nlong long conv(string s, int b) {\n  long long ret = 0;\n  for (int i = 0; i < (int)s.length(); ++i) {\n    if (toint(s[i]) >= b) return INF;\n    ret = ret * b + toint(s[i]);\n  }\n  return ret;\n}\nint main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  string s, m = \"\", h = \"\";\n  cin >> s;\n  for (int i = 0; i < (int)s.length(); ++i) {\n    if (s[i] == ':') {\n      for (int j = 0; j < i; ++j) h += s[j];\n      for (int k = i + 1; k < (int)s.length(); ++k) m += s[k];\n    }\n  }\n  vector<int> v;\n  for (int i = 2; i <= 100; ++i) {\n    if (conv(h, i) < 24 and conv(m, i) < 60) v.push_back(i);\n  }\n  if (!v.size())\n    cout << \"0\";\n  else if (v.back() == 100)\n    cout << \"-1\";\n  else\n    for (auto it : v) cout << it << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStreamWriter;\nimport java.io.BufferedWriter;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.util.List;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\nimport java.util.ArrayList;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author Alex\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tOutputWriter out = new OutputWriter(outputStream);\n\t\tTaskB solver = new TaskB();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskB {\n    public void solve(int testNumber, InputReader in, OutputWriter out){\n\t    String[] input = in.next().split(\":\");\n\t    ArrayList<Integer> ans = new ArrayList<>();\n\t    for(int base = 1; base <= 60; base++) {\n\t\t    if(val(input[0], base) < 24 && val(input[1], base) < 60){\n\t\t\t    ans.add(base);\n\t\t    }\n\t    }\n\t    if (ans.size() == 0) out.printLine(0);\n\t    if (ans.contains(60)) out.printLine(-1);\n\t    else for(int b : ans) out.print(b + \" \");\n    }\n\tlong val(String s, int base){\n\t\tlong ans = 0;\n\t\tfor(int i = 0; i < s.length(); i++) {\n\t\t\tint digitval = Character.digit(s.charAt(i), 36);\n\t\t\tif (digitval >= base) return 100;\n\t\t\tlong multiplier = IntegerUtils.power(base, s.length() - i - 1);\n\t\t\tlong temp = digitval * multiplier;\n\t\t\tans += temp;\n\t\t}\n\t\treturn ans;\n\t}\n}\n\nclass InputReader {\n\tprivate InputStream stream;\n\tprivate byte[] buf = new byte[1024];\n\tprivate int curChar;\n\tprivate int numChars;\n\tprivate SpaceCharFilter filter;\n\n\tpublic InputReader(InputStream stream) {\n\t\tthis.stream = stream;\n\t}\n\n\tpublic int read() {\n\t\tif (numChars == -1)\n\t\t\tthrow new InputMismatchException();\n\t\tif (curChar >= numChars) {\n\t\t\tcurChar = 0;\n\t\t\ttry {\n\t\t\t\tnumChars = stream.read(buf);\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t\tif (numChars <= 0)\n\t\t\t\treturn -1;\n\t\t}\n\t\treturn buf[curChar++];\n\t}\n\tpublic String readString() {\n\t\tint c = read();\n\t\twhile (isSpaceChar(c))\n\t\t\tc = read();\n\t\tStringBuilder res = new StringBuilder();\n\t\tdo {\n\t\t\tif (Character.isValidCodePoint(c))\n\t\t\t\tres.appendCodePoint(c);\n\t\t\tc = read();\n\t\t} while (!isSpaceChar(c));\n\t\treturn res.toString();\n\t}\n\n\tpublic boolean isSpaceChar(int c) {\n\t\tif (filter != null)\n\t\t\treturn filter.isSpaceChar(c);\n\t\treturn isWhitespace(c);\n\t}\n\n\tpublic static boolean isWhitespace(int c) {\n\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t}\n\tpublic String next() {\n\t\treturn readString();\n\t}\n\tpublic interface SpaceCharFilter {\n\t\tpublic boolean isSpaceChar(int ch);\n\t}\n}\n\nclass OutputWriter {\n\tprivate final PrintWriter writer;\n\n\tpublic OutputWriter(OutputStream outputStream) {\n\t\twriter = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));\n\t}\n\tpublic void print(Object...objects) {\n\t\tfor (int i = 0; i < objects.length; i++) {\n\t\t\tif (i != 0)\n\t\t\t\twriter.print(' ');\n\t\t\twriter.print(objects[i]);\n\t\t}\n\t}\n\tpublic void close() {\n\t\twriter.close();\n\t}\n\tpublic void printLine(int i) {\n\t\twriter.println(i);\n\t}\n\n}\n\nclass IntegerUtils {\n\tpublic static long power(long base, long exponent) {\n\t\tif (exponent == 0)\n\t\t\treturn 1;\n\t\tlong result = power(base, exponent >> 1);\n\t\tresult = result * result;\n\t\tif ((exponent & 1) != 0)\n\t\t\tresult = result * base;\n\t\treturn result;\n\t}\n}\n\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.io.*;\nimport java.util.*;\n\npublic class B106{      \n        \n        private BufferedReader in;  \n        private StringTokenizer st;\n        \n        int convert(String x , int base){\n            int ret = 0;\n            int pow = 0;\n            for (int i = x.length()-1; i >=0; i--) {\n                int d = Character.isUpperCase(x.charAt(i)) ? (x.charAt(i)-'A'+10) :(x.charAt(i)-'0');\n                ret += d*Math.pow(base, pow++);\n            }\n            return ret;\n        }\n        void solve() throws IOException{\n        \n            String x = next();\n            String h = x.split(\":\")[0];\n            String m = x.split(\":\")[1];\n            int i = 0;\n            while(h.charAt(i)=='0' && i < h.length()-1)i++;\n            h = h.substring(i);\n            i = 0;\n            while(m.charAt(i)=='0' && i < m.length() -1)i++;\n            m = m.substring(i);\n            if(h.length() == 1 && m.length() == 1){\n                if(h.charAt(0) >= 'O') System.out.println(0);\n                else System.out.println(-1);\n                return;\n            }\n            int minradix = 0;\n            for(char c : h.toCharArray()){\n                int d = Character.isUpperCase(c)?(c-'A'+10) : (c-'0');\n                minradix = Math.max(d+1, minradix);\n            }\n            for(char c : m.toCharArray()){\n                int d = Character.isUpperCase(c)?(c-'A'+10) : (c-'0');\n                minradix = Math.max(d+1, minradix);\n            }\n            minradix = Math.max(minradix, 2);\n            int ans = 0;\n            boolean valid = false;\n            do{\n                valid = false;\n                int hh = convert(h,minradix);\n                int mm = convert(m,minradix);\n                if(hh >=0 && hh <24 && mm>=0 && mm <60){\n                    valid = true;\n                    System.out.print(minradix+\" \");\n                    ans++;\n                    minradix++;\n                }\n            }while(valid);\n            if(ans == 0) System.out.println(0);\n            else System.out.println();\n        }\n            \n\n        B106() throws IOException {\n            in = new BufferedReader(new InputStreamReader(System.in));          \n            eat(\"\");\n            solve();            \n        }\n\n        private void eat(String str) {\n            st = new StringTokenizer(str);\n        }\n\n        String next() throws IOException {\n            while (!st.hasMoreTokens()) {\n                String line = in.readLine();\n                if (line == null) {\n                    return null;\n                }\n                eat(line);\n            }\n            return st.nextToken();\n        }\n\n        int nextInt() throws IOException {\n            return Integer.parseInt(next());\n        }\n\n        long nextLong() throws IOException {\n            return Long.parseLong(next());\n        }\n\n        double nextDouble() throws IOException {\n            return Double.parseDouble(next());\n        }\n\n        public static void main(String[] args) throws IOException {\n            new B106();\n        }\n\n        int gcd(int a,int b){\n            if(b>a) return gcd(b,a);\n            if(b==0) return a;\n            return gcd(b,a%b);\n        }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring h, m;\nint tem, i, w;\nbool check(int oo) {\n  int i;\n  long long temm = 0;\n  long long temh = 0;\n  for (i = 0; i < h.size(); ++i) {\n    if (h[i] >= 'A' && h[i] <= 'Z') {\n      temh = temh * oo + h[i] - 'A' + 10;\n    } else {\n      temh = temh * oo + h[i] - '0';\n    }\n  }\n  for (i = 0; i < m.size(); ++i) {\n    if (m[i] >= 'A') {\n      temm = temm * oo + m[i] - 'A' + 10;\n    } else {\n      temm = temm * oo + m[i] - '0';\n    }\n  }\n  return (temh < 24 && temm < 60);\n}\nint main() {\n  cin >> h;\n  tem = h.find(':');\n  m = h.substr(tem + 1);\n  h = h.substr(0, tem);\n  if (check(10000)) {\n    printf(\"-1\");\n    return 0;\n  }\n  w = 0;\n  for (i = 0; i < h.size(); ++i) {\n    if (h[i] >= 'A') {\n      w = max(w, h[i] - 'A' + 11);\n    } else {\n      w = max(w, h[i] - '0' + 1);\n    }\n  }\n  for (i = 0; i < m.size(); ++i) {\n    if (m[i] >= 'A') {\n      w = max(w, m[i] - 'A' + 11);\n    } else {\n      w = max(w, m[i] - '0' + 1);\n    }\n  }\n  if (check(w)) {\n    printf(\"%d\", w);\n  } else {\n    printf(\"0\");\n    return 0;\n  }\n  while (1) {\n    if (check(++w)) {\n      printf(\" %d\", w);\n    } else {\n      return 0;\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\n/**\n * User: Aphrodite\n * Date: 12-2-18\n * Time: PM3:43\n */\npublic class P149B {\n  public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    String[] s = in.next().split(\":\");\n    if (allZero(s[0], s[1])) {\n//      System.out.println(\"ff\");\n\n      System.out.println(-1);\n    } else {\n//      System.out.println(\"ff\");\n      boolean found = false;\n      int base;\n      for (base = 2; base < 100; base++) {\n//        System.out.println(\"fff: \" + base);\n        if (check(base, s[0], s[1])) {\n          System.out.println(base);\n          found = true;\n        } else {\n          if (found) {\n            break;\n          }\n        }\n      }\n//      if (!found) {\n//        System.out.println(0);\n//      }\n      if (base == 100) {\n        if (!found) {\n          System.out.println(0);\n        } else {\n          System.out.println(-1);\n        }\n      }\n    }\n  }\n\n  static boolean check(int base, String hour, String minitue) {\n    long x = 1, h = 0, m = 0;\n    for (int i = hour.length() - 1; i >= 0; i--) {\n      char c = hour.charAt(i);\n      int k;\n      if (Character.isDigit(c)) {\n        k = (c - '0');\n      } else {\n        k = (c - 'A' + 10);\n      }\n      if (k >= base) {\n        return false;\n      }\n      h += k * x;\n      x *= base;\n    }\n//    System.out.println(base + \" \" + h);\n    if (h > 23) {\n      return false;\n    }\n    x = 1;\n    for (int i = minitue.length() - 1; i >= 0; i--) {\n      char c = minitue.charAt(i);\n      int k;\n      if (Character.isDigit(c)) {\n        k = (c - '0');\n      } else {\n        k = (c - 'A' + 10);\n      }\n      if (k >= base) {\n        return false;\n      }\n      m += k * x;\n      x *= base;\n    }\n//    System.out.println(base + \" \" + m);\n    if (m > 59) {\n      return false;\n    }\n    return true;\n  }\n\n  static boolean allZero(String s, String t) {\n    while (s.length() > 1 && s.charAt(0) == '0') {\n      s = s.substring(1);\n    }\n//    System.out.println(s);\n\n    while (t.length() > 1 && t.charAt(0) == '0') {\n      t = t.substring(1);\n    }\n    if (s.length() > 1 || t.length() > 1) {\n//      System.out.println(\"xx\");\n      return false;\n    }\n//    System.out.println(\"yy\");\n    int p = Character.isDigit(s.charAt(0)) ? s.charAt(0) - '0' : s.charAt(0) - 'A' + 10;\n    int q = Character.isDigit(t.charAt(0)) ? t.charAt(0) - '0' : t.charAt(0) - 'A' + 10;\n    if (p <= 23 && q <= 59) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.math.BigInteger;\nimport java.util.Locale;\nimport java.util.StringTokenizer;\n\npublic class b {\n    void do_solve() throws NumberFormatException, IOException {\n        String a = _token();\n        String b = _token();\n        a = a.toUpperCase();\n        b = b.toUpperCase();\n\n        int ans = 0;\n        String ret = \"\";\n        for (int i = 2; i <= 36; i++) {\n            try {\n                long A = Long.parseLong(a, i);\n                long B = Long.parseLong(b, i);\n\n            //  out.println(i+\" \"+A +\" \"+B);\n                if (A < 24 && B < 60) {\n                    ans++;\n                    ret += i;\n                    ret += \" \";\n                }\n            } catch (Exception e) {\n            }\n\n        }\n        long A = Long.parseLong(a, 36);\n        long B = Long.parseLong(b, 36);\n        if (Long.toString(A, 36).length() <= 1\n                && Long.toString(B, 36).length() <= 1 && A < 24 && B < 60)\n            ans = -1;\n        if (ans >= 0 && A < 24 && B < 60)\n        {\n            b = Long.toString(B, 36);\n            if (b.length() == 2 && b.charAt(0) == '1')\n            {\n                for(int i=37;i<=60;i++)\n                {\n                    if (i + Integer.parseInt(b.charAt(1)+\"\",36) < 60)\n                    {\n                        ans++;\n                        ret += i;\n                        ret += \" \";\n                    }\n                }\n            }\n        }\n        if (ans <= 0)\n            out.println(ans);\n        else\n            out.println(ret);\n    }\n\n    void mainProgram() throws NumberFormatException, IOException {\n        /*\n         * test(\"b.in\");\n         */\n        init(false, \"b\");\n        boolean multy = false;\n\n    //  if (!multy) {\n        //  while (in.ready() || st.hasMoreTokens()) {\n                do_solve();\n            //}\n//      } else {\n//          for (int T = _int(); T > 0; --T) {\n    //          do_solve();\n    //      }\n    //  }\n        out.close();\n    }\n\n    void init(boolean FILE, String name) throws NumberFormatException,\n            IOException {\n        Locale.setDefault(Locale.US);\n        if (FILE) {\n            in = new BufferedReader(new FileReader(name + \".in\"));\n            out = new PrintWriter(name + \".out\");\n        } else {\n            in = new BufferedReader(new InputStreamReader(System.in));\n            out = new PrintWriter(System.out);\n        }\n        st = new StringTokenizer(\"\");\n    }\n\n    void test(String name) throws IOException {\n        out = new PrintWriter(new File(name));\n\n        out.close();\n    }\n\n    public static void main(String[] args) throws NumberFormatException,\n            IOException {\n        long T = System.currentTimeMillis();\n        new b().mainProgram();\n        System.err.println(\"Time of working: \"\n                + (System.currentTimeMillis() - T) + \" ms\");\n    }\n\n    int rand(int x) {\n        return (int) (Math.random() * x);\n    }\n\n    String _token() throws IOException {\n        while (in.ready() && !st.hasMoreTokens()) {\n            st = new StringTokenizer(in.readLine(), \": \");\n        }\n        if (st.hasMoreTokens())\n            return st.nextToken();\n        return \"\";\n    }\n\n    void deb(String s) {\n        System.err.println(s);\n    }\n\n    void deb(Object a) {\n        System.err.println(a.toString());\n    }\n\n    BigInteger add(BigInteger A, BigInteger B) {\n        return A.add(B);\n    }\n\n    BigInteger mult(BigInteger A, BigInteger B) {\n        return A.multiply(B);\n    }\n\n    BigInteger sub(BigInteger A, BigInteger B) {\n        return A.subtract(B);\n    }\n\n    BigInteger div(BigInteger A, BigInteger B) {\n        return A.divide(B);\n    }\n\n    BigInteger mi(BigInteger A) {\n        return (BigInteger.ZERO).subtract(A);\n    }\n\n    BigInteger sq(BigInteger A) {\n        return A.multiply(A);\n    }\n\n    BigInteger val(long a) {\n        return BigInteger.valueOf(a);\n    }\n\n    int cmp(BigInteger a, BigInteger b) {\n        return a.compareTo(b);\n    }\n\n    BufferedReader in;\n    StringTokenizer st;\n    PrintWriter out;\n\n    int _int() throws NumberFormatException, IOException {\n        return Integer.parseInt(_token());\n    }\n\n    long _long() throws NumberFormatException, IOException {\n        return Long.parseLong(_token());\n    }\n\n    double _double() throws NumberFormatException, IOException {\n        return Double.parseDouble(_token());\n    }\n\n    int gcd(int a, int b) {\n        if (a < 0)\n            a = -a;\n        if (b < 0)\n            b = -b;\n        if (b == 0)\n            return a;\n        return gcd(b, a % b);\n    }\n\n    long gcd(long a, long b) {\n        if (a < 0)\n            a = -a;\n        if (b < 0)\n            b = -b;\n        if (b == 0)\n            return a;\n        return gcd(b, a % b);\n    }\n\n    BigInteger gcd(BigInteger a, BigInteger b) {\n        if (cmp(a, val(0)) < 0)\n            a = mi(a);\n        if (cmp(b, val(0)) < 0)\n            b = mi(b);\n        return a.gcd(b);\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\npublic class code {\n    public static void main(String[]args){\n        Scanner sc=new Scanner(System.in);\n        String s=sc.next();\n        String [] mas=new String[2];\n        mas=s.split(\":\");\n        String s1=mas[0];\n        String s2=mas[1];\n        int [] mas1 =new int [s1.length()];\n        int [] mas2 =new int [s2.length()];\n        for(int i=0;i<mas1.length;i++){\n            if(s1.charAt(i)-'A'>=0 && s1.charAt(i)-'A'<26){\n                mas1[i]=s1.charAt(i)-'A'+10;\n            }\n            else mas1[i]=s1.charAt(i)-'0';\n        }\n        \n        \n        for(int i=0;i<mas2.length;i++){\n            if(s2.charAt(i)-'A'>=0 && s2.charAt(i)-'A'<26){\n                mas2[i]=s2.charAt(i)-'A'+10;\n            }\n            else mas2[i]=s2.charAt(i)-'0';\n        }\n        \n        \n        int [] ans=new int [63];\n        boolean exist=false;\n        int max=0;\n        \n        \n        for(int i=2;i<=62;i++){\n            \n            int t1=0; int t2=0;\n            \n            boolean w=true;\n            \n            \n            for(int j=0; j<mas1.length;j++){\n                if(mas1[j]>=i) { w=false; break;}\n                t1+=mas1[j]*pow(i,mas1.length-1-j);\n            }\n            \n            \n            if(t1>23) w=false;\n            \n            \n            if(w!=false){\n                for(int j=0; j<mas2.length;j++){\n                    if(mas2[j]>=i) { w=false; break;}\n                    t2+=mas2[j]*pow(i,mas2.length-1-j);\n                }\n            }\n            \n            \n            if(t2>59) w=false;\n\n            \n            if(w){ ans[i]=1; exist=true; max=i;} \n        }\n        \n        \n        \n        \n        if(!exist){ System.out.println(0); return;}\n        \n        \n        if(ans[60]==1){ System.out.println(-1); return;}\n        \n        \n        for(int i=2;i<=max;i++){\n            if(ans[i]==1){\n                System.out.print(i);\n                if(i!=max) System.out.print(\" \");\n            }\n        }       \n        \n    }\n    \n    \n    static int pow (int a, int m){\n        int t=1;\n        for(int i=0;i<m;i++){\n            t*=a;\n            if(t>60) return 62;\n        }\n        return t;\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        InputStream inputStream = System.in;\n//        InputStream inputStream = new FileInputStream(\"sum.in\");\n        OutputStream outputStream = System.out;\n//        OutputStream outputStream = new FileOutputStream(\"sum.out\");\n\n\n//        Path path = Paths.get(URI.create(\"file:///foo/bar/Main.java\"));\n//        System.out.print(path.getName(200));\n\n//        Path p = Paths.get(\"/foo/bar/Main.java\");\n//        for (Path e : p) {\n//            System.out.println(e);\n//        }\n\n        InputReader in = new InputReader(inputStream);\n        PrintWriter out = new PrintWriter(outputStream);\n        Answer solver = new Answer();\n        solver.solve(in, out);\n        out.close();\n    }\n}\n\nclass Answer {\n    private final int INF = (int) (1e9 + 7);\n    private final int MOD = (int) (1e9 + 7);\n    private final int MOD1 = (int) (1e6 + 3);\n    private final long INF_LONG = (long) (1e18 + 1);\n    private final double EPS = 1e-9;\n\n    private String trimLeftZero(String a) {\n        int i = 0;\n        while (i < a.length() && a.charAt(i) == '0') {\n            i++;\n        }\n\n        a = a.substring(i);\n        if (a.equals(\"\")) {\n            a = \"0\";\n        }\n        return a;\n    }\n\n\n    private int getValue(String x, int a) {\n        int v = 0;\n        for (int i = 0; i < x.length(); i++) {\n            int t = x.charAt(i) - '0';\n            if (x.charAt(i) >= 'A') {\n                t = x.charAt(i) - 'A' + 10;\n            }\n            if (t >= a) {\n                return -1;\n            }\n            v = v * a + t;\n        }\n        return v;\n    }\n\n    public void solve(InputReader in, PrintWriter out) throws IOException {\n\n        String s = in.next();\n\n        String a = s.split(\":\")[0];\n        String b = s.split(\":\")[1];\n\n        a = trimLeftZero(a);\n        b = trimLeftZero(b);\n\n        if (a.length() == 1 && b.length() == 1) {\n            int ch = 'A' + 14;\n\n            if (ch <= a.charAt(0)) {\n                out.print(\"0\");\n            } else {\n                out.print(\"-1\");\n            }\n            return;\n        }\n\n        int x = 2;\n        while (getValue(a, x) == -1 || getValue(b, x) == -1) {\n            x++;\n        }\n\n        int kol = 0;\n        while (getValue(a, x) < 24 && getValue(b, x) < 60) {\n            out.print(x + \" \");\n            x++;\n            kol++;\n        }\n\n        if (kol == 0) {\n            out.print(\"0\");\n        }\n    }\n}\n\nclass InputReader {\n    private BufferedReader reader;\n    private StringTokenizer tokenizer;\n\n    InputReader(InputStream stream) {\n        reader = new BufferedReader(new InputStreamReader(stream), 32768);\n        tokenizer = null;\n    }\n\n    public String next() {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            try {\n                tokenizer = new StringTokenizer(reader.readLine());\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        return tokenizer.nextToken();\n    }\n\n    public int nextInt() {\n        return Integer.parseInt(next());\n    }\n\n    public long nextLong() {\n        return Long.parseLong(next());\n    }\n\n    public int[] nextArrayInt(int count) {\n        int[] a = new int[count];\n        for (int i = 0; i < count; i++) {\n            a[i] = nextInt();\n        }\n        return a;\n    }\n\n    public long[] nextArrayLong(int count) {\n        long[] a = new long[count];\n        for (int i = 0; i < count; i++) {\n            a[i] = nextLong();\n        }\n        return a;\n    }\n}\n"
        },
        {
            "language": 3,
            "solution": "\ndef f(x, k):\n    if 1 < k < 37: return int(x, k)\n    s = 0\n    for i in x:\n        s = s * k\n        s += int(i, 36)\n    return s\n\na, b = input().split(':')\ni = j = k = max(int(max(a), 36), int(max(b), 36)) + 1\nx, y = (f(a, k) == f(a, k + 1)), (f(b, k) == f(b, k + 1))\nif x and y: print(-1 if a[-1] < 'O' else 0)\nelse:\n    if x: i = 61\n    else:\n        while f(a, i) < 24: i += 1\n    if y: j = i\n    else:\n        while j < i and f(b, j) < 60: j += 1\n    print(' '.join(map(str, range(k, j))) if k < j else 0)\n    "
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring s, a, b;\nint n, m, A[9], B[9];\nbool check(int v) {\n  int s = 0, second = 0, t = 1;\n  for (int i = n - 1; i >= 0; i--) {\n    s += A[i] * t;\n    t *= v;\n    if (A[i] >= v) return 0;\n  }\n  t = 1;\n  for (int i = m - 1; i >= 0; i--) {\n    second += B[i] * t;\n    t *= v;\n    if (B[i] >= v) return 0;\n  }\n  if (s < 24 && second < 60) return 1;\n  return 0;\n}\nbool ok;\nint main() {\n  ios::sync_with_stdio(0);\n  cin >> s;\n  for (int i = 0; i < s.size();) {\n    while (s[i] != ':') a += s[i++];\n    i++;\n    for (int j = i; j < s.size(); j++) b += s[j];\n    break;\n  }\n  n = a.size();\n  m = b.size();\n  for (int i = 0; i < n; i++) {\n    if (a[i] >= '0' && a[i] <= '9')\n      A[i] = a[i] - '0';\n    else\n      A[i] = a[i] - 'A' + 10;\n    if (i < n - 1 && A[i]) ok = 1;\n  }\n  for (int i = 0; i < m; i++) {\n    if (b[i] >= '0' && b[i] <= '9')\n      B[i] = b[i] - '0';\n    else\n      B[i] = b[i] - 'A' + 10;\n    if (i < m - 1 && B[i]) ok = 1;\n  }\n  if (!ok && A[n - 1] < 24) {\n    cout << \"-1\";\n    return 0;\n  }\n  ok = 0;\n  for (int i = 2; i < 60; i++)\n    if (check(i)) cout << i << \" \", ok = 1;\n  if (!ok) cout << \"0\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint value(char x) {\n  if (isdigit(x)) return x - '0';\n  return (x - 'A') + 10;\n}\nlong long shifting(string x, int b) {\n  long long sum = 0, temp = 1;\n  for (int i = x.size() - 1; i >= 0; i--) {\n    sum += temp * value(x[i]);\n    temp *= b;\n  }\n  return sum;\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  cout.tie(NULL);\n  cin.tie(NULL);\n  ;\n  string h, m;\n  cin >> h;\n  m = h.substr(h.find(\":\") + 1);\n  h = h.substr(0, h.find(\":\"));\n  while (h.size() > 1 and h[0] == '0') h.erase(0, 1);\n  while (m.size() > 1 and m[0] == '0') m.erase(0, 1);\n  if (h.size() == 1 and m.size() == 1 and value(h[0]) < 24 and value(m[0]) < 60)\n    return cout << -1, 0;\n  int maxb = 0;\n  for (int i = h.size() - 1; i >= 0; i--) maxb = max(maxb, value(h[i]));\n  for (int i = m.size() - 1; i >= 0; i--) maxb = max(maxb, value(m[i]));\n  bool is = 0;\n  for (int i = maxb + 1; i < 61; i++) {\n    long long hh, mm;\n    hh = shifting(h, i);\n    mm = shifting(m, i);\n    if (hh < 24 and mm < 60) is = 1, cout << i << \" \";\n  }\n  if (!is) cout << 0;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.*;\n\npublic class MartianClock {\n\tpublic static void main(String[] args) {\n\t\tScanner scan = new Scanner(System.in);\n\t\tString str = scan.nextLine();\n\t\tString hour = new String();\n\t\tString minute = new String();\n\t\tint i = 0;\n\t\twhile (str.charAt(i) == '0') {\n\n\t\t\ti++;\n\t\t}\n\t\tfor (; str.charAt(i) != ':'; i++) {\n\t\t\thour += str.charAt(i);\n\t\t}\n\t\ti++;\n\t\twhile (str.charAt(i) == '0') {\n\t\t\t\n\t\t\ti++;\n\t\t\tif (i == str.length() ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t//System.out.println(i);\n\t\tfor (; i < str.length(); i++) {\n\t\t\t//System.out.println(\"kk\");\n\t\t\tminute += str.charAt(i);\n\t\t}\n\t\tif (hour.length() == 0 && minute.length() == 0) {\n\t\t\tSystem.out.println(-1);\n\t\t} else {\n\t\t\tif (hour.length() == 1 && minute.length() == 0) {\n\t\t\t\tif (((hour.charAt(0) >= '0' && hour.charAt(0) <= '9')\n\t\t\t\t\t\t|| (hour.charAt(0) >= 'A' && hour.charAt(0) <= 'N'))) {\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t}\n\t\t\t}else if(hour.length() == 0 && minute.length() == 1){\n\t\t\t\tif (((minute.charAt(0) >= '0' && minute.charAt(0) <= '9')\n\t\t\t\t\t\t|| (minute.charAt(0) >= 'A' && minute.charAt(0) <= 'Z'))) {\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t}\n\t\t\t} else if(hour.length() == 1 && minute.length() == 1){\n\t\t\t\tif (((minute.charAt(0) >= '0' && minute.charAt(0) <= '9')\n\t\t\t\t\t\t|| (minute.charAt(0) >= 'A' && minute.charAt(0) <= 'Z'))\n\t\t\t\t\t\t\t&& ((hour.charAt(0) >= '0' && hour.charAt(0) <= '9')\n\t\t\t\t\t\t\t\t\t|| (hour.charAt(0) >= 'A' && hour.charAt(0) <= 'N'))) {\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tint max = 0;\n\t\t\t\tint arr[] = new int[36];\n\t\t\t\tfor (int j = 0; j < 36; j++) {\n\t\t\t\t\tarr[j] = j;\n\t\t\t\t}\n\t\t\t\tfor (int j = str.length() - 1; j >= 0; j--) {\n\t\t\t\t\tif (str.charAt(j) == ':') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (str.charAt(j) >= '0' && str.charAt(j) <= '9') {\n\t\t\t\t\t\tif (max < arr[Integer.parseInt(str.charAt(j) + \"\")]) {\n\t\t\t\t\t\t\tmax = arr[Integer.parseInt(str.charAt(j) + \"\")];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tint idx = str.charAt(j) - 65 + 10;\n\t\t\t\t\t\tif (max < arr[idx]) {\n\t\t\t\t\t\t\tmax = arr[idx];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmax = max + 1;\n\t\t\t\t// System.out.println(max);\n\t\t\t\t// System.out.println(hour);\n\t\t\t\t// System.out.println(minute);\n\t\t\t\tint h_flag = 0;\n\t\t\t\tint m_flag = 0;\n\t\t\t\tint tmp = max;\n\t\t\t\tint prev_max = max;\n\t\t\t\twhile (true) {\n\t\t\t\t\t //System.out.println(\"kunal\");\n\t\t\t\t\tint h_sum = 0;\n\t\t\t\n\t\t\t\t\tfor (int j = hour.length() - 1; j >= 0; j--) {\n\t\t\t\t\t\tint add = 0;\n\t\t\t\t\t\t// if(h_sum >= 24){\n\t\t\t\t\t\t// h_flag = 1;\n\t\t\t\t\t\t// break;\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tif (hour.charAt(j) >= '0' && hour.charAt(j) <= '9') {\n\t\t\t\t\t\t\tadd = Integer.parseInt(hour.charAt(j) + \"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadd = hour.charAt(j) - 65 + 10;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (h_sum + add * Math.pow(max, hour.length() - 1 - j) >= 24) {\n\t\t\t\t\t\t\th_flag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\th_sum += add * Math.pow(max, hour.length() - 1 - j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// System.out.println(\"h_sum \"+h_sum);\n\t\t\t\t\tint m_sum = 0;\n\n\t\t\t\t\tfor (int j = minute.length() - 1; j >= 0; j--) {\n\t\t\t\t\t\tint add = 0;\n\t\t\t\t\t\tif (minute.charAt(j) >= '0' && minute.charAt(j) <= '9') {\n\t\t\t\t\t\t\tadd = Integer.parseInt(minute.charAt(j) + \"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadd = minute.charAt(j) - 65 + 10;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (m_sum + add * Math.pow(max, minute.length() - 1 - j) >= 60) {\n\t\t\t\t\t\t\tm_flag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tm_sum += add * Math.pow(max, minute.length() - 1 - j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// System.out.println(\"m_sum \"+m_sum);\n\t\t\t\t\t//\n\t\t\t\t\tif (h_flag == 0 && m_flag == 0) {\n\t\t\t\t\t\tSystem.out.print(max + \" \");\n\t\t\t\t\t\tmax++;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (prev_max == max) {\n\t\t\t\t\t\t\tSystem.out.println(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\nstd::vector<std::vector<std::vector<T>>> make_3d_vector(long long z,\n                                                        long long y,\n                                                        long long x,\n                                                        T value = T{}) {\n  return std::vector<std::vector<std::vector<T>>>(\n      z, std::vector<std::vector<T>>(y, std::vector<T>(x, value)));\n}\ntemplate <typename T>\nstd::vector<std::vector<T>> make_2d_vector(long long z, long long y,\n                                           T value = T{}) {\n  return std::vector<std::vector<T>>(z, std::vector<T>(y, value));\n}\ntemplate <typename T>\nstd::vector<T> make_1d_vector(long long z, T value = T{}) {\n  return std::vector<T>(z, value);\n}\nlong long value(char last_char) {\n  if (last_char >= '0' && last_char <= '9')\n    return last_char - '0';\n  else\n    return last_char - 'A' + 10;\n}\nlong long power(long long a, long long b) {\n  if (b == 0) return 1;\n  if (b == 1) return a;\n  if (b % 2 == 1) return (power(a, b - 1) * a);\n  long long q = power(a, b / 2);\n  return (q * q);\n}\nbool convert(long long n, string s1, string s2) {\n  long long sum = 0;\n  for (long long i = 0; i < s1.size(); i++) {\n    long long x = value(s1[i]);\n    sum += (power(n, i) * x);\n  }\n  if (sum >= 24) {\n    return false;\n  }\n  sum = 0;\n  for (long long i = 0; i < s2.size(); i++) {\n    long long x = value(s2[i]);\n    sum += pow(n, i) * x;\n  }\n  return sum <= 59;\n}\nvoid solve() {\n  string s;\n  cin >> s;\n  string s1 = \"\", s2 = \"\";\n  bool found = false;\n  long long mx = 1;\n  for (long long i = 0; i < s.size(); i++) {\n    if (s[i] != ':') {\n      mx = max(value(s[i]), mx);\n    }\n  }\n  for (auto i : s) {\n    if (i == ':') {\n      found = true;\n    } else if (found) {\n      s2.push_back(i);\n    } else {\n      s1.push_back(i);\n    }\n  }\n  reverse(s1.begin(), s1.end());\n  reverse(s2.begin(), s2.end());\n  long long ct = 0;\n  while (s1.size() != 1 && s1[s1.size() - 1] == '0') {\n    s1.pop_back();\n  }\n  while (s2.size() != 1 && s2[s2.size() - 1] == '0') {\n    s2.pop_back();\n  }\n  if (s1.size() == 1 && s2.size() == 1) {\n    if (s1[0] < 'P') {\n      cout << -1;\n      return;\n    }\n  }\n  for (long long i = mx + 1; i <= 59; i++) {\n    if (convert(i, s1, s2)) {\n      cout << i << \" \";\n      ct++;\n    }\n  }\n  if (!ct) {\n    cout << 0;\n  }\n}\nint32_t main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  cout.tie(NULL);\n  solve();\n  cerr << \"time taken : \" << (float)clock() / CLOCKS_PER_SEC << \" secs\" << endl;\n}\n"
        },
        {
            "language": 1,
            "solution": "\ndef val(c):\n   if c >= '0' and c <= '9':\n      return ord(c) - ord('0')\n   else:\n      return ord(c) - ord('A') + 10\n\ndef value(a, R):\n   return sum([x * R**i for i, x in enumerate(a)])\n\nh, m = raw_input().split(':')\nH = [val(c) for c in reversed(h)]\nM = [val(c) for c in reversed(m)]\nmx = max(H + M)\nif sum(H[1:]) == 0 and sum(M[1:]) == 0:\n   print (-1, 0)[H[0] >= 24]\nelse:\n   i = max(H + M) + 1\n   L = []\n   while value(H, i) < 24 and value(M, i) < 60:\n      L.append(str(i))\n      i += 1\n   print (0, ' '.join(L))[len(L) > 0]\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint dx[] = {0, 1, -1, 0};\nint dy[] = {1, 0, 0, -1};\nlong double PI = 3.14159265358979323846264338327950;\nlong long pw(long long b, long long p) {\n  if (!p) return 1;\n  long long sq = pw(b, p / 2);\n  sq *= sq;\n  if (p % 2) sq *= b;\n  return sq;\n}\nconst int N = 1e5, M = (N << 1);\nint convert(char c) {\n  if (isdigit(c)) return c - '0';\n  return c - 'A' + 10;\n}\nint solve(string s, int x) {\n  int res = 0;\n  for (int i = 0; i < (int)s.size(); i++) {\n    res += convert(s[i]) * pw(x, i);\n  }\n  return res;\n}\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(NULL);\n  string s, h, m;\n  cin >> s;\n  h = s.substr(0, s.find(\":\"));\n  m = s.substr(s.find(\":\") + 1);\n  reverse(h.begin(), h.end()), reverse(m.begin(), m.end());\n  int mx = 0;\n  bool sd1 = 1, sd2 = 1, found = 0;\n  for (int i = 0; i < (int)h.size(); i++) {\n    mx = max(mx, convert(h[i]) + 1);\n    if (i && h[i] != '0') sd1 = 0;\n  }\n  for (int i = 0; i < (int)m.size(); i++) {\n    mx = max(mx, convert(m[i]) + 1);\n    if (i && m[i] != '0') sd2 = 0;\n  }\n  if (sd1 && sd2 && solve(h, mx) < 24 && solve(m, mx) < 60) {\n    cout << -1;\n    return 0;\n  }\n  for (int i = mx; i <= 60; i++) {\n    if (solve(h, i) < 24 && solve(m, i) < 60) {\n      cout << i << \" \";\n      found = 1;\n    }\n  }\n  if (!found) cout << 0;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.StringTokenizer;\n\n\npublic class Main {\n\t\n\tScanner in;\n\tPrintWriter out;\n\t\n\tpublic static void main(String[] args) throws IOException,FileNotFoundException {\n\t\tnew Main().run();\n\t}\n\tvoid run() throws IOException, FileNotFoundException {\n\t\t//in = new Scanner(new File(\"input.txt\"));\n\t\t//out = new PrintWriter(new File(\"output.txt\"));\n\t\tdouble st = System.nanoTime();\n\t\tin = new Scanner(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tin.close();\n\t\t//System.out.print((System.nanoTime()-st)/1e9);\n\t\tout.close();\n\t}\n\tvoid solve() {\n\t\tString s = in.nextLine();\n\t\tStringTokenizer st = new StringTokenizer(s, \":\");\n\t\tString hours = st.nextToken();\n\t\tString mins = st.nextToken();\n\t\thours = Integer.toString(Integer.parseInt(hours,36),36);\n\t\t//out.print(\"time:\"+Integer.toString(Integer.parseInt(hours,36),36));\n\t\tmins = Integer.toString(Integer.parseInt(mins,36),36);\n\t\tif (hours.length()==1 && mins.length()==1 && hours.toUpperCase().compareTo(\"O\")<0) {\n\t\t\tout.print(-1);\n\t\t\treturn;\n\t\t}\n\t\tint radix = 2;\n\t\tboolean endSearch = false;\n\t\tboolean found = false;\n\t\tString th = \"\";\n\t\tString tm = \"\";\n\t\twhile (!endSearch) {\n\t\t\ttry {\n\t\t\t\tif (radix>36) {\n\t\t\t\t\tth = \"0\";\n\t\t\t\t\ttm = Integer.toString(radix+Integer.parseInt(mins.substring(1),36));\n\t\t\t\t} else {\n\t\t\t\t\tth = Integer.toString(Integer.parseInt(hours, radix));\n\t\t\t\t\ttm = Integer.toString(Integer.parseInt(mins, radix));\n\t\t\t\t}\n\t\t\t\tif (Integer.parseInt(th)<24 && Integer.parseInt(tm)<60) {\n\t\t\t\t\tout.print(radix+\" \");\n\t\t\t\t\tfound = true;\n\t\t\t\t} else endSearch = true;\n\t\t\t\t\n\t\t\t} catch (NumberFormatException e) {\n\t\t\t\t//++radix;\n\t\t\t\t//continue;\n\t\t\t}\n\t\t\t++radix;\n\t\t}\n\t\tif (!found) out.print(0);\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint conv(deque<int> seq, int base) {\n  int prod = 1;\n  int ans = 0;\n  while (!seq.empty()) {\n    ans += seq.back() * prod;\n    prod *= base;\n    seq.pop_back();\n  }\n  return ans;\n}\nint main() {\n  ios ::sync_with_stdio(false);\n  string str;\n  cin >> str;\n  bool flag = 0;\n  deque<int> hr, min;\n  int digit = 0, st = 1;\n  for (int i = 0; i < str.length(); i++) {\n    char d = str[i];\n    if (d == ':') {\n      flag = true;\n      continue;\n    }\n    if ('0' <= d && d <= '9')\n      digit = d - '0';\n    else if ('A' <= d && d <= 'Z')\n      digit = d - 'A' + 10;\n    if (!flag)\n      hr.push_back(digit);\n    else\n      min.push_back(digit);\n    st = max(st, digit);\n  }\n  int a = 0, b = 0;\n  for (int i = st + 1; i <= 60; i++) {\n    if (conv(hr, i) < 24 && conv(min, i) < 60) b = i;\n    if (a == 0 && b != 0) a = b;\n  }\n  if (a == 0)\n    cout << \"0\";\n  else if (conv(hr, st) == conv(hr, st + 1) &&\n           conv(min, st) == conv(min, st + 1))\n    cout << \"-1\";\n  else\n    for (int i = a; i <= b; i++) cout << i << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedInputStream;\nimport java.util.Scanner;\n\n/**\n * Created by jizhe on 2016/1/7.\n */\npublic class MartianClock {\n    private static int getValue(char c)\n    {\n        if( c >= '0' && c <= '9' )\n        {\n            return c-'0';\n        }\n        if( c >= 'A' && c <= 'Z' )\n        {\n            return c-'A'+10;\n        }\n\n        return -1;\n    }\n    public static void main(String[] args) {\n        Scanner in = new Scanner(new BufferedInputStream(System.in));\n\n        String s = in.next();\n        StringBuilder hour = new StringBuilder();\n        StringBuilder minute = new StringBuilder();\n        StringBuilder cur = hour;\n        boolean leadingZeros = true;\n        char maxDigit = '0';\n        for( int i = 0; i < s.length(); i++ )\n        {\n            if( s.charAt(i) == ':' )\n            {\n                leadingZeros = true;\n                cur = minute;\n            }\n            else\n            {\n                if( s.charAt(i) > maxDigit )\n                {\n                    maxDigit = s.charAt(i);\n                }\n                if( s.charAt(i) != '0' )\n                {\n                    cur.append(s.charAt(i));\n                    leadingZeros = false;\n                }\n                else if( s.charAt(i) == '0' && !leadingZeros )\n                {\n                    cur.append(s.charAt(i));\n                }\n            }\n        }\n\n        int minRadix = getValue(maxDigit)+1;\n        //System.out.printf(\"hour: %s, minute: %s, maxDigit: %c, minRadix: %d\\n\", hour, minute, maxDigit, minRadix);\n\n        int h = 0;\n        for( int i = 0; i < hour.length(); i++ )\n        {\n            h = h*minRadix+getValue(hour.charAt(i));\n        }\n        if( h > 23 )\n        {\n            System.out.printf(\"0\\n\");\n            return;\n        }\n\n        if( hour.length() <= 1 && minute.length() <= 1 )\n        {\n            System.out.printf(\"-1\\n\");\n            return;\n        }\n\n        int m = 0;\n        for( int i = 0; i < minute.length(); i++ )\n        {\n            m = m*minRadix+getValue(minute.charAt(i));\n        }\n        if( m > 59 )\n        {\n            System.out.printf(\"0\\n\");\n            return;\n        }\n\n        for( int i = minRadix; ; i++ )\n        {\n            h = 0;\n            for( int j = 0; j < hour.length(); j++ )\n            {\n                h = h*i+getValue(hour.charAt(j));\n            }\n            //System.out.printf(\"h: %d, i: %d\\n\", h, i);\n            if( h > 23 )\n            {\n                break;\n            }\n\n            m = 0;\n            for( int j = 0; j < minute.length(); j++ )\n            {\n                m = m*i+getValue(minute.charAt(j));\n            }\n            //System.out.printf(\"m: %d, i: %d\\n\", m, i);\n            if( m > 59 )\n            {\n                break;\n            }\n            System.out.printf(\"%d \", i);\n        }\n\n        System.out.printf(\"\\n\");\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst double pi = acos(-1);\nint k, l;\nint A[10], B[10];\nchar c[30];\nbool C[1111], D[1111];\nint calc(int a[], int t) {\n  int ret = 0;\n  for (int i = 0; i < k; i++) {\n    ret *= t;\n    ret += a[i];\n  }\n  return ret;\n}\nint calc1(int a[], int t) {\n  int ret = 0;\n  for (int i = 0; i < l - k - 1; i++) {\n    ret *= t;\n    ret += a[i];\n  }\n  return ret;\n}\nint main(int argc, char *argv[]) {\n  scanf(\"%s\", c);\n  l = strlen(c);\n  int t = 0;\n  for (int i = 0; i < l; i++) {\n    if (c[i] >= 'A' && c[i] <= 'Z') {\n      t = max(t, c[i] - 'A' + 11);\n    }\n    if (c[i] >= '0' && c[i] <= '9') {\n      t = max(t, 1 + c[i] - '0');\n    }\n  }\n  for (int i = 0; i < l; i++) {\n    if (c[i] >= 'A' && c[i] <= 'Z') {\n      A[i] = 10 + c[i] - 'A';\n    }\n    if (c[i] >= '0' && c[i] <= '9') {\n      A[i] = c[i] - '0';\n    }\n    if (c[i] == ':') {\n      k = i;\n      break;\n    }\n  }\n  for (int i = k + 1; i < l; i++) {\n    if (c[i] >= 'A' && c[i] <= 'Z') {\n      B[i - k - 1] = 10 + c[i] - 'A';\n    }\n    if (c[i] >= '0' && c[i] <= '9') {\n      B[i - k - 1] = c[i] - '0';\n    }\n  }\n  for (int i = t; i <= 1000; i++) {\n    int x = calc(A, i);\n    if (x > 23) {\n      break;\n    }\n    C[i] = 1;\n  }\n  for (int i = t; i <= 1000; i++) {\n    int x = calc1(B, i);\n    if (x > 59) {\n      break;\n    }\n    D[i] = 1;\n  }\n  int x = -1, y = -1;\n  if (C[t] && D[t]) {\n    x = t;\n  }\n  if (x == -1) {\n    printf(\"0\\n\");\n  } else {\n    for (int i = t; C[i] && D[i]; i++) {\n      y = i;\n    }\n    if (y == 1000) {\n      printf(\"-1\\n\");\n      return 0;\n    }\n    for (int i = x; i <= y; i++) {\n      printf(\"%d\", i);\n      if (i == y) {\n        printf(\"\\n\");\n      } else {\n        printf(\" \");\n      }\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int oo = (int)1e9;\nchar r1[6], r2[6];\nint pwr(int n, int b) {\n  long long res = 1;\n  for (int i = 1; i <= b; ++i) res *= n;\n  return res;\n}\nint main() {\n  string a, b;\n  scanf(\" %[^:]:%s\", r1, r2);\n  a = r1, b = r2;\n  reverse(a.begin(), a.end());\n  reverse(b.begin(), b.end());\n  vector<int> res;\n  for (int i = 60; i >= 2; --i) {\n    long long h = 0, m = 0;\n    for (int j = 0; j < (int)a.size(); ++j) {\n      int f = 0;\n      if (a[j] >= 'A' && a[j] <= 'Z')\n        f = (a[j] - 'A') + 10;\n      else\n        f = (a[j] - '0');\n      if (f >= i) {\n        h = 100, m = 100;\n        goto next;\n      }\n      h += 1ll * pwr(i, j) * f;\n    }\n    for (int j = 0; j < (int)b.size(); ++j) {\n      int f = 0;\n      if (b[j] >= 'A' && b[j] <= 'Z')\n        f = (b[j] - 'A') + 10;\n      else\n        f = (b[j] - '0');\n      if (f >= i) {\n        h = 100, m = 100;\n        goto next;\n      }\n      m += 1ll * pwr(i, j) * f;\n    }\n  next:\n    if (h > 23 || m > 59) continue;\n    if (i == 60) {\n      puts(\"-1\");\n      return 0;\n    }\n    res.push_back(i);\n  }\n  if (!res.size())\n    puts(\"0\");\n  else {\n    for (int i = res.size() - 1; i >= 0; --i) printf(\"%d \", res[i]);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import re\n\ndef good(n, system):\n      try:\n            return int(n[0], system) <= 23 and int(n[1], system) <= 59\n      except:\n            return False\n\ndef get(c):\n       return (ord(c) - ord('0') if '0' <= c <= '9' else ord(c)- ord('A') + 10)\n\ndef gr36(n, system):\n      if len(n[0]) > 1 or len(n[1]) > 2: return False\n      if get(n[0][0]) >= 24: return False\n      if len(n[1]) == 1: return True\n      return n[1][0] == '1' and system + get(n[1][1]) <= 59\n\ns = map(lambda x: re.sub('^0*', '', x), raw_input().split(':'))\ns = map(lambda x: x if x else '0', s)\nany = False\nif gr36(s, 60): print '-1'\nelse:\n      for i in range(2, 60):\n            if good(s, i) or (i > 35 and gr36(s, i)):\n                  any = True\n                  print i,\n      if not any: print '0'\n"
        },
        {
            "language": 1,
            "solution": "a, b = raw_input().strip().split(\":\")\n\ndigits = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n\ndef check(s, radix) :\n    global digits\n    x = 0\n    for ch in s:\n        x = x * radix + digits.index(ch)\n        if digits.index(ch) >= radix:\n            return 99999\n    return x\n    \nres = []\nfor radix in xrange(1, 61):\n    if check(a, radix) < 24 and check(b, radix) < 60:\n        res.append(radix)\n\nif len(res) == 0:\n    print 0\nelif res[-1] == 60 :\n    print -1\nelse:\n    print \" \".join( [ str(x) for x in res ] )\n    "
        },
        {
            "language": 1,
            "solution": "a, b = raw_input().split(':')\n\ndef decode(s, base):\n    nums = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n    result = 0\n    for c in s:\n        i = nums.index(c)\n        if i >= base:\n            raise ValueError\n        result = result * base + i\n    return result\n\ndef check(a, b, n):\n    try:\n        a = decode(a, n)\n        b = decode(b, n)\n    except ValueError:\n        return False\n    return a < 24 and b < 60\n\ndef is_inf(a, b):\n    return all(d == '0' for d in a[:-1] + b[:-1]) and decode(a[-1], 36) < 24\n\nif is_inf(a, b):\n    print -1\nelse:\n    result = ' '.join(str(i) for i in xrange(2, 60) if check(a, b, i))\n    print result if result else 0\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint f(string s, int b) {\n  int res = 0, x, p = 1;\n  reverse(s.begin(), s.end());\n  for (int i = 0; i < s.size(); i++) {\n    x = s[i] - '0';\n    if (s[i] >= 'A') x = s[i] - 'A' + 10;\n    if (x) res += p * x;\n    if (res > 60) return 61;\n    p *= b;\n  }\n  return res;\n}\nbool ok(string s, int b) {\n  int x;\n  for (int i = 0; i < s.size(); i++) {\n    x = s[i] - '0';\n    if (s[i] >= 'A') x = s[i] - 'A' + 10;\n    if (x >= b) return 0;\n  }\n  return 1;\n}\nint x, y, a, b, q = 0, base;\nstring s, t;\nchar c;\nint main() {\n  for (;;) {\n    c = getchar();\n    if (c == ':') break;\n    s += c;\n  }\n  cin >> t;\n  a = b = -1;\n  for (base = 2;; base++) {\n    if (!ok(s, base) || !ok(t, base)) continue;\n    if (!q) q = base;\n    x = f(s, base);\n    y = f(t, base);\n    if (x == a && y == b) {\n      cout << -1;\n      return 0;\n    }\n    a = x;\n    b = y;\n    if (x > 23 || y > 59) break;\n  }\n  cerr << endl << q << \" \" << base;\n  for (int i = q; i < base; i++) printf(\"%d \", i);\n  if (q == base) cout << 0;\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "import sys\nfrom functools import lru_cache, cmp_to_key\nfrom heapq import merge, heapify, heappop, heappush\nfrom math import ceil, floor, gcd, fabs, factorial, fmod, sqrt, inf, log, pi, sin\nfrom collections import defaultdict as dd, deque, Counter as C\nfrom itertools import combinations as comb, permutations as perm\nfrom bisect import bisect_left as bl, bisect_right as br, bisect\nfrom time import perf_counter\nfrom fractions import Fraction\n# sys.setrecursionlimit(pow(10, 6))\n# sys.stdin = open(\"input.txt\", \"r\")\n# sys.stdout = open(\"output.txt\", \"w\")\nmod = pow(10, 9) + 7\nmod2 = 998244353\ndef data(): return sys.stdin.readline().strip()\ndef out(*var, end=\"\\n\"): sys.stdout.write(' '.join(map(str, var))+end)\ndef l(): return list(sp())\ndef sl(): return list(ssp())\ndef sp(): return map(int, data().split())\ndef ssp(): return map(str, data().split())\ndef l1d(n, val=0): return [val for i in range(n)]\ndef l2d(n, m, val=0): return [l1d(n, val) for j in range(m)]\n\n\ns = data()\na, b = s.split(':')\nstart = 1\nfor i in a:\n    if i.isalpha():\n        temp = (ord(i) - 65) + 10\n    else:\n        temp = int(i)\n    start = max(temp, start)\nfor i in b:\n    if i.isalpha():\n        temp = (ord(i) - 65) + 10\n    else:\n        temp = int(i)\n    start = max(temp, start)\ntime = set()\nanswer = []\nfor base in range(start + 1, 1001):\n    hour = 0\n    for i in range(len(a)-1, -1, -1):\n        if a[i].isalpha():\n            temp = (ord(a[i])-65) + 10\n        else:\n            temp = int(a[i])\n        hour += temp * pow(base, len(a)-i-1)\n    if hour > 23:\n        continue\n    minute = 0\n    for i in range(len(b)-1, -1, -1):\n        if b[i].isalpha():\n            temp = (ord(b[i])-65) + 10\n        else:\n            temp = int(b[i])\n        minute += temp * pow(base, len(b)-i-1)\n    if minute > 59:\n        continue\n    temp = str(hour) + \":\" + str(minute)\n    if temp in time:\n        out(-1)\n        exit()\n    answer.append(base)\n    time.add(temp)\nif not answer:\n    out(0)\n    exit()\nout(*answer)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint power(int a, int b) {\n  int ans = 1, i;\n  for (i = 0; i < b; i++) ans *= a;\n  return ans;\n}\nint main() {\n  int b, i, j, k, z, max, f, ff, s, c, ans[1000];\n  char a[1000];\n  i = 0;\n  scanf(\"%c\", &a[i]);\n  max = 0;\n  if (a[i] - 55 > max) {\n    max = a[i] - 55;\n  } else if (a[i] <= '9' && a[i] - '0' > max) {\n    max = a[i] - '0';\n  }\n  f = 0;\n  while (a[i] != '\\n') {\n    i++;\n    scanf(\"%c\", &a[i]);\n    if (a[i] == ':')\n      c = i;\n    else if (a[i] - '0' > max) {\n      if (a[i] - 55 > max) {\n        max = a[i] - 55;\n      } else if (a[i] <= '9' && a[i] - '0' > max) {\n        max = a[i] - '0';\n      }\n    }\n  }\n  for (j = 0; j < c - 1; j++)\n    if (a[j] != '0') f = 1;\n  if (a[j] > 'N') {\n    f = 1;\n  }\n  for (j = c + 1; j < i - 1; j++)\n    if (a[j] != '0') f = 1;\n  ff = z = 0;\n  if (f == 0)\n    printf(\"-1\\n\");\n  else {\n    for (j = max + 1; j < 60; j++) {\n      s = 0;\n      for (k = 0; k < c; k++) {\n        if (a[k] <= '9')\n          s += power(j, c - 1 - k) * (a[k] - '0');\n        else\n          s += power(j, c - 1 - k) * (a[k] - 55);\n        if (s > 23) {\n          ff = 1;\n          break;\n        }\n      }\n      s = 0;\n      for (k = c + 1; k < i; k++) {\n        if (a[k] <= '9')\n          s += power(j, i - 1 - k) * (a[k] - '0');\n        else\n          s += power(j, i - 1 - k) * (a[k] - 55);\n        if (s > 59) {\n          ff = 1;\n          break;\n        }\n      }\n      if (ff == 1) {\n        break;\n      } else\n        ans[z++] = j;\n    }\n    for (j = 0; j < z - 1; j++) printf(\"%d \", ans[j]);\n    printf(\"%d\\n\", ans[j]);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "import sys\ns1,s2 = input().split(\":\")\ndef convert(n,base):\n    ans = 0\n    for i in range(len(n)):\n        x = 0\n        if n[i].isalpha():\n            x = int(ord(n[i]) - ord('A')+10)\n        else:\n            x = int(n[i])\n        ans += x*pow(base,len(n)-i-1)\n    return ans\nwork = []\nminm = 0\nfor c in s1+s2:\n    if c.isalpha():\n        minm = max(minm, ord(c) - ord('A')+10)\n    else:\n        minm = max(minm,int(c))\n\nfor base in range(max(minm+1,2),60):\n    if convert(s1,base) < 24 and convert(s2,base) < 60:\n        work.append(base)\n    else:\n        break\nif len(work) == 0:\n    print(0)\nelif (len(s1) == 1 or s1[:len(s1)-1] == '0'*(len(s1) -1)) and (len(s2) == 1 or s2[:len(s2)-1] == '0'*(len(s2) -1)):\n    print(-1)\nelse:\n    print(\" \".join(map(str,work)))"
        },
        {
            "language": 1,
            "solution": "h,m=raw_input().split(':')\ndigits ='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nt = []\n\ndef val(x,r):\n  res=0\n  for i in range(len(x)):\n    res *= r\n    res += digits.find(x[i])\n  return res\n  \nfor radix in range(1,100):\n  ok = True\n  for d in h+m:\n    ok &= d in digits[:radix]\n  if ok:\n    if val(h,radix)<24 and val(m,radix)<60:\n      t.append(radix)\nif len(t)==0:\n  print 0\nelif 99 in t:\n  print -1\nelse:\n  for r in t:\n    print r,\n  print\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <class T>\nvoid pp(T v) {\n  for (__typeof((v).begin()) it = (v).begin(); it != (v).end(); ++it)\n    cout << *it << ' ';\n  cout << endl;\n}\ntemplate <class T>\nvoid pp(T v, int n) {\n  for (int i = 0; i < (int)n; i++) cout << v[i] << ' ';\n  cout << endl;\n}\nconst int INF = 1 << 28;\nconst double EPS = 1.0e-9;\nstatic const int dx[] = {1, 0, -1, 0}, dy[] = {0, -1, 0, 1};\nint g(const char c) {\n  if (isdigit(c)) return c - '0';\n  if (isupper(c)) return c - 'A' + 10;\n  if (islower(c)) return c - 'a' + 10;\n  return -1;\n}\nint f(const string s, const int b) {\n  int base = 1, num = 0;\n  for (int i = s.size() - 1; i >= 0; i--) {\n    int v = g(s[i]);\n    if (v >= b) return -1;\n    num += base * v;\n    base *= b;\n    if (num > 100) return -2;\n  }\n  return num;\n}\nint main(void) {\n  string line;\n  cin >> line;\n  replace((line).begin(), (line).end(), ':', ' ');\n  stringstream ss(line);\n  string a, b;\n  ss >> a >> b;\n  vector<int> ans;\n  for (int n = 2; n <= 102; n++) {\n    int av = f(a, n);\n    int bv = f(b, n);\n    if (av >= 0 && av <= 23) {\n      if (bv >= 0 && bv <= 59) {\n        if (n >= 100) {\n          cout << -1 << endl;\n          return 0;\n        }\n        ans.push_back(n);\n      }\n    }\n  }\n  if (ans.empty()) {\n    cout << 0 << endl;\n  } else {\n    pp(ans);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "a, b = map(str, raw_input().split(':'))\nstra = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nd = {};\nfor i in range(len(stra)):\n\td[stra[i: i + 1]] = i\nh = []\nm = []\nans = []\ncnt = 0\nfor i in range(2, 1000):\n\thh = 0\n\tmm = 0\n\tfor j in a:\n\t\thh = hh * i + d[j]\n\tfor j in b:\n\t\tmm = mm * i + d[j]\n\tjh = [d[j] < i for j in a]\n\tjm = [d[j] < i for j in b]\n\tif all(jh) and all(jm) and hh < 24 and mm < 60:\n\t\th.append(hh)\n\t\tm.append(mm)\n\t\tans.append(i)\nif len(h) > 100:\n\tprint -1\nelif len(h) == 0:\n\tprint 0\nelse:\n\tprint ' '.join(map(str, ans))\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.StringTokenizer;\n\n\npublic class E {\n\n    static int val(char c){\n        \n        if( c > '9') return c - 'A' + 10;\n        \n        return c - '0';\n    }\n    \n    static int eval(String s, int base){\n        \n        int r = 0;\n        \n        for( int i = 0; i < s.length(); i ++)\n            \n            r = r * base + val(s.charAt(i));\n        \n        return r;\n    }\n    public static void main(String[] args) throws IOException {\n        \n       BufferedReader buf = new BufferedReader( new InputStreamReader(System.in));\n       \n       String  h = \"\", m = \"\";\n       \n       StringTokenizer cin = new StringTokenizer(buf.readLine());\n       \n       h = cin.nextToken(\": \\n\");\n       \n       int p = 0;\n       \n       while( p < h.length() - 1 && h.charAt(p) == '0') p++;\n       \n       h = h.substring(p);       \n       \n       m = cin.nextToken(\": \\n\");\n       \n       p = 0;\n       \n       while( p < m.length() - 1 && m.charAt(p) == '0') p++;\n       \n       m = m.substring(p); \n       \n       if( h .length() == 1 && val(h.charAt(0)) < 24 && m.length() == 1 && val(m.charAt(0)) < 59){\n           \n           System.out.println(\"-1\");\n           return;\n       }\n       \n       int b = 0;\n       \n       for( int i = 0; i < h.length() ; i ++)\n       \n           b = Math.max ( b, val( h.charAt(i)));\n       \n       for( int i = 0; i < m.length() ; i ++)\n       \n           b = Math.max ( b, val( m.charAt(i)));\n       \n       if( !(eval(h, b + 1) < 24 && eval(m, b + 1) < 60) ) {\n           \n            System.out.println(\"0\");\n            \n            return ;\n       }\n       \n       for( int i = b + 1; eval(h, i) < 24 && eval(m, i) < 60; i++){\n           \n           System.out.print(i + \" \");\n       }\n              \n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 1000000, inf = 1000000000, mod = 1000003;\nvector<int> v;\nbool ch(string s, int a, bool k) {\n  long long p = 1, n = 0;\n  reverse(s.begin(), s.end());\n  for (int i = 0; i < s.length(); i++) {\n    if (s[i] >= 'A' && s[i] <= 'Z') {\n      if (int(s[i] - 'A') + 10 >= a) return false;\n      n += p * (int(s[i] - 'A') + 10);\n    } else if (int(s[i] - '0') >= a)\n      return false;\n    else\n      n += p * int(s[i] - '0');\n    p *= a;\n  }\n  if (k)\n    if (n <= 59 && n >= 0) {\n      return true;\n    } else\n      return false;\n  else if (n <= 23 && n >= 0) {\n    return true;\n  } else\n    return false;\n}\nint main() {\n  string s, a, b;\n  cin >> s;\n  int w = 0;\n  while (s[w] != ':') a += s[w++];\n  w++;\n  while (w < s.length()) b += s[w++];\n  for (int i = 2; i < 300; i++)\n    if (ch(a, i, false) && ch(b, i, true)) {\n      v.push_back(i);\n    }\n  if (v.size() > 150)\n    cout << -1 << endl;\n  else if (v.size() == 0)\n    cout << 0 << endl;\n  else\n    for (int i = 0; i < v.size(); i++) cout << v[i] << ' ';\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "a,b=input().split(':')\nz='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nc=[z.find(i) for i in a]\nd=[z.find(i) for i in b]\nfor i in range(len(c)):\n    if c[i]>0:\n        break\nc=c[i:]\nfor i in range(len(d)):\n    if d[i]>0:\n        break\nd=d[i:]\nif int(a,base=max(*c+[1])+1)>23 or int(b,base=max(*d+[1])+1)>59:\n    print(0)\nelif len(c)==len(d)==1:\n    print(-1)\nelse:\n    for i in range(max(*d+c)+1,61):\n        e=0\n        for j in range(len(c)):\n            e+=i**j*c[-1-j]\n        f=0\n        for j in range(len(d)):\n            f+=i**j*d[-1-j]\n        if 0<=e<=23 and 0<=f<=59:\n            print(i,end=' ')"
        },
        {
            "language": 1,
            "solution": "import sys\n\ndef parse(s, rad):\n    if len(s) == 0:\n        return 0\n    else:\n        s, t = s[:-1], s[-1:]\n\n        if '0' <= t <= '9':\n            t = ord(t) - ord('0')\n        elif 'A' <= t <= 'Z':\n            t = 10 + ord(t) - ord('A')\n\n        if t >= rad:\n            return 5000000\n\n        return rad * parse(s, rad) + t\n\nh, m = sys.stdin.readline().rstrip('\\n').split(':')\n\nph = [r for r in range(1, 65) if parse(h, r) < 24]\npm = [r for r in range(1, 65) if parse(m, r) < 60]\n\npp = sorted(set(ph) & set(pm))\n\nif 64 in pp:\n    print -1\nelif len(pp) == 0:\n    print 0\nelse:\n    print ' '.join(str(p) for p in pp)\n\n\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\n/**\n * User: Aphrodite\n * Date: 12-2-19\n * Time: PM3:14\n */\n\npublic class P149B {\n  public static void main(String[] args) {\n    new Solver().solve();\n  }\n}\n\nclass Solver {\n  public void solve() {\n    Scanner in = new Scanner(System.in);\n    String[] s = in.next().split(\":\");\n    if (check(s[0], 60, 24) && check(s[1], 60, 60)) {\n      System.out.println(-1);\n    } else {\n      List<Integer> list = new ArrayList<Integer>();\n      for (int i = 0; i < 60; i++) {\n        if (check(s[0], i, 24) && check(s[1], i, 60)) {\n          list.add(i);\n        }\n      }\n      if (list.isEmpty()) {\n        System.out.println(0);\n      } else {\n        for (Integer x : list) {\n          System.out.println(x);\n        }\n      }\n    }\n  }\n\n  boolean check(String s, int base, int max) {\n    int sum = 0;\n    for (int i = 0; i < s.length(); i++) {\n      int x = Character.isDigit(s.charAt(i)) ? s.charAt(i) - '0' : s.charAt(i) - 'A' + 10;\n      if (x >= base) {\n        return false;\n      }\n      sum = sum * base + x;\n      if (sum >= max) {\n        return false;\n      }\n    }\n    return true;\n  }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 0x3f3f3f3f;\nstring s;\nint n;\nint colon;\ninline int get_digit(char ch) {\n  if ('0' <= ch && ch <= '9') return ch - '0';\n  return ch - 'A' + 10;\n}\nint transform(string s, int base) {\n  int ans = 0;\n  for (int i = 0; i < (int)s.size(); ++i) {\n    int digit = get_digit(s[i]);\n    if (digit >= base) return INF;\n    ans = ans * base + digit;\n  }\n  return ans;\n}\nint main() {\n  cin >> s;\n  n = s.size();\n  for (int i = 0; i < n; ++i)\n    if (s[i] == ':') colon = i;\n  vector<int> sol;\n  for (int base = 2; base <= 60; ++base)\n    if (transform(s.substr(0, colon), base) < 24 &&\n        transform(s.substr(colon + 1, n - colon), base) < 60)\n      sol.push_back(base);\n  if (sol.size() == 0) {\n    cout << \"0\\n\";\n    return 0;\n  }\n  if (sol.back() == 60) {\n    cout << \"-1\\n\";\n    return 0;\n  }\n  for (size_t i = 0; i < sol.size(); ++i) cout << sol[i] << \" \";\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint main() {\n  int i, j, t, b[20] = {0}, c[20] = {0}, max, lenb, lenc, sumb, sumc, flog = 0;\n  char a[20];\n  scanf(\"%s\", a);\n  i = 0;\n  j = 0;\n  while (a[i] == '0') {\n    i++;\n  }\n  while (1) {\n    if (a[i] == ':' || a[i] == 0) break;\n    if (a[i] >= '0' && a[i] <= '9')\n      b[j] = a[i] - '0';\n    else\n      b[j] = a[i] - 'A' + 10;\n    j++;\n    i++;\n  }\n  lenb = j;\n  j = 0;\n  i++;\n  while (a[i] == '0') {\n    i++;\n  }\n  while (a[i] != 0) {\n    if (a[i] >= '0' && a[i] <= '9')\n      c[j++] = a[i] - '0';\n    else\n      c[j++] = a[i] - 'A' + 10;\n    i++;\n  }\n  lenc = j;\n  max = b[0];\n  for (i = 1; i < lenb; i++)\n    if (b[i] > max) max = b[i];\n  for (i = 0; i < lenc; i++)\n    if (c[i] > max) max = c[i];\n  if (lenb <= 1 && lenc <= 1 && b[0] < 24 && c[0] < 60)\n    printf(\"-1\\n\");\n  else {\n    while (1) {\n      sumb = sumc = 0;\n      t = 1;\n      max++;\n      for (i = lenb - 1; i >= 0; i--) {\n        sumb += t * b[i];\n        t *= max;\n      }\n      t = 1;\n      for (i = lenc - 1; i >= 0; i--) {\n        sumc += t * c[i];\n        t *= max;\n      }\n      if (sumb < 24 && sumc < 60) {\n        flog = 1;\n        printf(\"%d \", max);\n      } else {\n        if (flog == 1) printf(\"\\n\");\n        break;\n      }\n    }\n    if (flog == 0) printf(\"0\\n\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "prime = {}\nprimes = set()\nfor i in range(2,10000):\n\tif i not in prime:\n\t\tprime[i] = True\n\t\tprimes.add(i)\n\t\tfor j in range(i*i,10000,i):\n\t\t\tprime[j] = False\n\t\t\nprimes = sorted(primes)\ndef gcd(a,b):\n\tif not b:\treturn a\n\treturn gcd(b,a%b)\n\t\nc_memo = {}\ndef choose(n,r):\n\tif r == 0 or r == n:\treturn 1\n\tif r > n:\treturn 0\n\tif (n,r) in c_memo:\treturn c_memo[(n,r)]\n\tc_memo[(n,r)] = choose(n-1,r-1)+choose(n-1,r)\n\treturn c_memo[(n,r)]\n\t\nf_memo = {}\ndef fact(n):\n\tif n == 0 or n == 1:\treturn 1\n\tif n in f_memo:\treturn f_memo[n]\n\tf_memo[n] = n*fact(n-1)\n\treturn f_memo[n]\n\nimport time,collections,math,heapq,decimal,random,operator\nstart = time.clock()\n\ndef convert(s,r):\n\tsum = 0\n\tfor c in s:\n\t\tsum = sum * r + int(c,min(r,36))\n\treturn sum\n\t\na,b = raw_input().split(':')\nsols = []\ntimes = set()\ninf = False\nfor r in range(2,61):\n\ttry:\n\t\tc = convert(a,r)\n\t\td = convert(b,r)\n\texcept ValueError:\n\t\tcontinue\n\tif c < 24 and d < 60:\n\t\tif (c,d) in times:\n\t\t\tprint -1\n\t\t\tinf = True\n\t\t\tbreak\n\t\tsols.append(r)\n\t\ttimes.add((c,d))\n\nif not inf:\n\tif not sols:\tprint 0\n\telse:\n\t\tfor s in sols:\n\t\t\tprint s,\n\nend = time.clock()\n# print end-start\n\n'''\n\t2:\t1/16\n\t3:  2/16\n\t4:  3/16\n\t5:  4/16\n\t6:  3/16\n\t7:  2/16\n\t8:  1/16\n\t\n\t\n\tx+y+z = L\n\tx^2+y^2 = z^2\n\tx = u^2-v^2\n\ty = 2uv\n\tz = U^2+v^2\n\t\n\tx+y+z= u^2-v^2+2uv+u^2+v^2=2u^2+2uv = L\n\t2: 11\n\t3: 3 37\n\t4: 11 101\n\t5: 41 271\n\t6: 3 7 11 13 37\n\t7: 239 4649\n\t8: 11 73 101 137\n\t9: 3 3 37 333667\n\t10: 11 41 271 9091\n\t11: 21649 513239\n\t12: 3 7 11 13 37 101 9907\n\t14: 11 239 4649 909091\n\t16: 11 17 73 101 137 5882353\n\t18: 3 3 7 11 13 19 37 52579\n\t20: 11 41 101 271 3541 9091 27961\n\t22: 11 11 23 4093 8779 21649 513239\n\t25: 41 271 21401 25601 182521213001\n\t32: 11 17 73 101 137 353 449 641 1409 69857 5882353\n\tno spade: 3*13C\n\tno club:\n\tno heart:\n\tno diamond:\n\t11 17 41 73 101 137 271 353 449 641 1409 3541 9091 21401 27961 69857 5882353 182521213001\n'''\n'''\nS = set()\ndef create(curr):\n\tif len(curr) == 8:\n\t\trank_counts = collections.defaultdict(int)\n\t\tsuit_counts = collections.defaultdict(int)\n\t\tfor i in range(len(curr)/2):\n\t\t\trank_counts[curr[2*i]] += 1\n\t\t\tsuit_counts[curr[2*i+1]] += 1\n\t\t\n\t\tif suit_counts['S'] > 0:\n\t\t\treturn\n\t\t\n\t\tS.add(curr)\n\t\treturn\n\t\t\t\n\tranks = 'A23456789TJQK'\n\tsuits = 'SHCD'\n\t\n\tfor i in ranks:\n\t\tfor j in suits:\n\t\t\tcreate(curr+i+j)\n'''\t\t\n\t"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 20;\nint imax = 0;\nchar str[N];\nvoid fun(char *temp) {\n  memset(str, 0, sizeof(str));\n  int len = strlen(temp), cnt = 0;\n  bool flag = 0;\n  for (int i = 0; i < len; i++) {\n    if (flag)\n      str[cnt++] = temp[i];\n    else if (temp[i] != '0') {\n      flag = 1;\n      str[cnt++] = temp[i];\n    }\n  }\n  if (!flag) str[0] = '0';\n}\nbool judge(int base, char *str1, char *str2) {\n  int len1 = strlen(str1), len2 = strlen(str2), hour = 0;\n  for (int i = 0; i < len1; i++) {\n    if (isdigit(str1[i]))\n      hour = hour * base + str1[i] - '0';\n    else\n      hour = hour * base + str1[i] - 'A' + 10;\n  }\n  if (hour >= 24) return 0;\n  int min = 0;\n  for (int i = 0; i < len2; i++) {\n    if (isdigit(str2[i]))\n      min = min * base + str2[i] - '0';\n    else\n      min = min * base + str2[i] - 'A' + 10;\n  }\n  if (min >= 60) return 0;\n  return 1;\n}\nint prejudge(char *str1, char *str2) {\n  int len1 = strlen(str1), len2 = strlen(str2);\n  if (len1 == 1 && len2 == 1) {\n    if (str1[0] >= 'O')\n      return 0;\n    else\n      return -1;\n  } else {\n    bool flag = judge(imax, str1, str2);\n    if (flag == 0)\n      return 0;\n    else\n      return 1;\n  }\n}\nint main() {\n  char sstr[N];\n  while (scanf(\"%s\", sstr) != EOF) {\n    imax = 0;\n    int len = strlen(sstr);\n    for (int i = 0; i < len; i++) {\n      if (isdigit(sstr[i]))\n        imax = max(imax, sstr[i] - '0');\n      else if (isalpha(sstr[i]))\n        imax = max(imax, sstr[i] - 'A' + 10);\n    }\n    imax++;\n    char temp1[N], temp2[N], str1[N] = {0}, str2[N] = {0};\n    sscanf(sstr, \"%[^:]:%s\", temp1, temp2);\n    fun(temp1);\n    strcpy(str1, str);\n    fun(temp2);\n    strcpy(str2, str);\n    int flag = prejudge(str1, str2);\n    if (flag <= 0) {\n      printf(\"%d\\n\", flag);\n      continue;\n    }\n    for (int i = imax; i <= 60; i++) {\n      if (judge(i, str1, str2)) {\n        flag = 1;\n        printf(\"%d \", i);\n      }\n    }\n    puts(\"\");\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Scanner;\nimport java.util.Vector;\n\npublic class B {\n    public static int solve(String s, int b) {\n        int result = 0;\n        int digit = 0;\n        for (int i = 0; i < s.length(); i++) {\n            char c = s.charAt(i);\n            if (c >= '0' && c <= '9')\n                digit = c - '0';\n            else if (c >= 'A' && c <= 'Z')\n                digit = 10 + c - 'A';\n\n            if (digit < b)\n                result = b * result + digit;\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        Scanner myScanner = new Scanner(System.in);\n        String s = myScanner.next().toUpperCase();\n        String s2[] = s.split(\":\");\n        int start;\n        for (int k = 0; k < 2; k++) {\n            start = 0;\n            for (int i = 0; i < s2[k].length() - 1; i++) {\n                if (s2[k].charAt(i) != '0')\n                    break;\n                else\n                    start++;\n            }\n            s2[k] = s2[k].substring(start);\n        }\n        if (s2[0].length() == s2[1].length() && s2[1].length() == 1) {\n            if (Integer.parseInt(s2[0], 36) < 24)\n                System.out.println(-1);\n            else\n                System.out.println(0);\n        } else {\n            boolean ok = false;\n            start = 2;\n            while (!ok) {\n                try {\n                    Integer.parseInt(s2[0], start);\n                    Integer.parseInt(s2[1], start);\n                    ok = true;\n                } catch (Exception e) {\n                    start++;\n                }\n            }\n            Vector<Integer> res = new Vector<Integer>();\n            int hr, min;\n            for (int i = start; i < 1000; i++) {\n                hr = solve(s2[0], i);\n                min = solve(s2[1], i);\n                if (hr > 23 || min > 59)\n                    break;\n                res.add(i);\n            }\n            if (!res.isEmpty()) {\n                System.out.print(res.get(0));\n                for (int i = 1; i < res.size(); i++) {\n                    System.out.print(\" \" + res.get(i));\n                }\n                System.out.println();\n            } else\n                System.out.println(0);\n        }\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool ckeck(int s, string h, string m) {\n  int hn = 0, mn = 0;\n  int step = 1;\n  for (int i = h.length() - 1; i >= 0; i--) {\n    if (isalpha(h[i]))\n      hn += (h[i] - 'A' + 10) * step;\n    else\n      hn += (h[i] - '0') * step;\n    step *= s;\n  }\n  step = 1;\n  for (int i = m.length() - 1; i >= 0; i--) {\n    if (isalpha(m[i]))\n      mn += (m[i] - 'A' + 10) * step;\n    else\n      mn += (m[i] - '0') * step;\n    step *= s;\n  }\n  if (hn <= 23 && mn <= 59) return true;\n  return false;\n}\nint main() {\n  string s, s1, s2;\n  string h, m;\n  cin >> s;\n  int p = s.find(':');\n  s1 = s.substr(0, p);\n  s2 = s.substr(p + 1);\n  int i = 0;\n  while (s1[i] == '0') i++;\n  h = s1.substr(i);\n  i = 0;\n  while (s2[i] == '0') i++;\n  m = s2.substr(i);\n  if (h.length() == 0) h.push_back(0);\n  if (m.length() == 0) m.push_back(0);\n  if (h.length() == 1 && m.length() == 1) {\n    if ((isalpha(h[0]) && h[0] > 'N')) {\n      cout << 0;\n      return 0;\n    } else {\n      cout << -1;\n      return 0;\n    }\n  }\n  int minsystem = 2;\n  for (int i = 0; i < h.length(); i++)\n    if (isalpha(h[i]))\n      minsystem = max(minsystem, h[i] - 'A' + 11);\n    else\n      minsystem = max(minsystem, h[i] - '0' + 1);\n  for (int i = 0; i < m.length(); i++)\n    if (isalpha(m[i]))\n      minsystem = max(minsystem, m[i] - 'A' + 11);\n    else\n      minsystem = max(minsystem, m[i] - '0' + 1);\n  vector<int> answ;\n  int k = minsystem;\n  while (ckeck(k, h, m)) {\n    answ.push_back(k);\n    k++;\n  }\n  if (answ.size() == 0)\n    cout << 0;\n  else\n    for (int i = 0; i < answ.size(); i++) cout << answ[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int OO = 0x3f3f3f3f;\nint main() {\n  string in, b, a;\n  vector<int> res;\n  cin >> in;\n  int Max = -1;\n  for (long long i = 0; i < in.size(); ++i) {\n    if (in[i] >= '0' && in[i] <= '9') {\n      Max = max(Max, in[i] - '0');\n    } else if (in[i] >= 'A' && in[i] <= 'Z') {\n      Max = max(Max, in[i] - 'A' + 10);\n    }\n  }\n  bool inf = true;\n  int ares1 = -1, ares2 = -1, bres1 = 0, bres2 = 0;\n  while (ares1 != bres1 || ares2 != bres2) {\n    ares1 = bres1;\n    ares2 = bres2;\n    bres1 = 0;\n    bres2 = 0;\n    Max++;\n    bool f = true;\n    int c = 0;\n    for (long long i = in.size() - 1; i > -1; --i) {\n      if (in[i] == ':') {\n        f = false;\n        c = 0;\n        continue;\n      }\n      if (f) {\n        bres2 += in[i] >= '0' && in[i] <= '9'\n                     ? (in[i] - '0') * pow(Max, c++)\n                     : (in[i] - 'A' + 10) * pow(Max, c++);\n      } else {\n        bres1 += in[i] >= '0' && in[i] <= '9'\n                     ? (in[i] - '0') * pow(Max, c++)\n                     : (in[i] - 'A' + 10) * pow(Max, c++);\n      }\n    }\n    if (bres1 > 23 || bres2 > 59) {\n      inf = false;\n      break;\n    } else {\n      res.push_back(Max);\n    }\n  }\n  if (inf) {\n    cout << -1;\n    return 0;\n  }\n  if (res.empty()) {\n    cout << 0;\n    return 0;\n  }\n  for (long long i = 0; i < res.size(); ++i) cout << res[i] << \" \";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar s[100];\nint i, j, S, l, k, Min, b[10], f[100], c[200];\nint main() {\n  gets(s);\n  l = strlen(s);\n  for (i = '0'; i <= '9'; i++) c[i] = i - '0';\n  for (i = 'A'; i <= 'Z'; i++) c[i] = i - 'A' + 10;\n  Min = 2;\n  for (i = 0; i < l; i++)\n    if (s[j] != ':' && c[s[i]] + 1 > Min) Min = c[s[i]] + 1;\n  for (i = Min; i <= 60; i++) {\n    b[0] = b[1] = 0, k = 0;\n    for (j = 0; j < l; j++) {\n      if (s[j] == ':')\n        k++;\n      else\n        b[k] = b[k] * i + c[s[j]];\n    }\n    if (b[0] < 24 && b[1] < 60) S++, f[i] = 1;\n  }\n  if (S == 0)\n    printf(\"0\\n\");\n  else if (S == 61 - Min)\n    printf(\"-1\\n\");\n  else {\n    for (i = 2; i <= 60; i++)\n      if (f[i]) {\n        S--;\n        if (S)\n          printf(\"%d \", i);\n        else\n          printf(\"%d\\n\", i);\n      }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class CF106D2B {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String time = sc.next();\n        String hour = time.split(\":\")[0].replaceFirst(\"^0+\", \"\");\n        if (hour.isEmpty()) {\n            hour = \"0\";\n        }\n        String minute = time.split(\":\")[1].replaceFirst(\"^0+\", \"\");\n        if (minute.isEmpty()) {\n            minute = \"0\";\n        }\n        // Infinite\n        if (hour.length() == 1 && minute.length() == 1 &&\n                Integer.parseInt(hour, 36) <= 23) {\n            System.out.println(\"-1\");\n            return;\n        }\n\n        List<Integer> list = new ArrayList<Integer>();\n        for (int i = 2; i <= 36; i++) {\n            try {\n                int parsedHour = Integer.parseInt(hour, i);\n                int parsedMinute = Integer.parseInt(minute, i);\n                if (parsedHour <= 23 && parsedMinute <= 59) {\n                    list.add(i);\n                }\n            } catch (Exception e) {\n\n            }\n        }\n        for (int i = 37; i <= 100; i++) {\n            int parsedHour = extendParseInt(hour, i);\n            int parsedMinute = extendParseInt(minute, i);\n            if (parsedHour <= 23 && parsedMinute <= 59) {\n                list.add(i);\n            }\n        }\n        if (list.isEmpty()) {\n            System.out.println(\"0\");\n            return;\n        }\n        System.out.println(list.toString().replaceAll(\"[,\\\\[\\\\]]\", \"\"));\n    }\n\n    // radix >= 37\n    private static int extendParseInt(String string, int radix) {\n        if (string.length() >= 3) {\n            return 999;\n        }\n        if (string.length() == 1) {\n            return Integer.parseInt(string, 36);\n        }\n        if (string.charAt(0) != '1') {\n            return 999;\n        }\n        return Integer.parseInt(string, 36) + (radix - 36);\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class template {\n\tstatic HashMap<Character, Integer> HM;\n\tpublic static void main(String[] args) throws Exception {\n\t\tFastScanner sc = new FastScanner(System.in);\n\t\tHM = new HashMap<Character,Integer>();\n\t\tfor(int a=0;a<=9;a++){\n\t\t\tHM.put((char)('0'+a),a);\n\t\t}\n\t\tfor(int a=10;a<=36;a++){\n\t\t\tHM.put((char)('A'+a-10),a);\n\t\t}\n\t\tString in = sc.next();\n\t\tString[] two = in.split(\":\");\n\t\tStringBuilder SB = new StringBuilder();\n\t\tboolean flag = false;\n\t\tfor(int a=1;a<=60;a++){\n\t\t\t\ttry{\n\t\t\t\t\tint h = parseInt(two[0],a);\n\t\t\t\t\tint m = parseInt(two[1],a);\n\t\t\t\t\tif(h<24&&m<60){\n\t\t\t\t\t\tSB.append(a+\" \");\n\t\t\t\t\t\tif(a==60)flag=true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch(NumberFormatException e){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t}\n\t\tif(flag)System.out.println(-1);\n\t\telse if(SB.length()==0)System.out.println(0);\n\t\telse System.out.println(SB);\n\t}\n\t\n\t\n\tprivate static int parseInt(String string, int a) throws NumberFormatException {\n\t\tint total = 0;\n\t\tfor(int b=0;b<string.length();b++){\n\t\t\ttotal*=a;\n\t\t\tif(HM.get(string.charAt(b))>=a)Integer.parseInt(\"A\",2);\n\t\t\ttotal+=HM.get(string.charAt(b));\n\t\t}\n\t\treturn total;\n\t}\n\n\n\tstatic class FastScanner {\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n\n\t\tpublic FastScanner(InputStream in) throws Exception {\n\t\t\tbr = new BufferedReader(new InputStreamReader(in));\n\t\t\tst = new StringTokenizer(br.readLine().trim());\n\t\t}\n\n\t\tpublic int numTokens() throws Exception {\n\t\t\tif (!st.hasMoreTokens()) {\n\t\t\t\tst = new StringTokenizer(br.readLine().trim());\n\t\t\t\treturn numTokens();\n\t\t\t}\n\t\t\treturn st.countTokens();\n\t\t}\n\n\t\tpublic String next() throws Exception {\n\t\t\tif (!st.hasMoreTokens()) {\n\t\t\t\tst = new StringTokenizer(br.readLine().trim());\n\t\t\t\treturn next();\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic double nextDouble() throws Exception {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic float nextFloat() throws Exception {\n\t\t\treturn Float.parseFloat(next());\n\t\t}\n\n\t\tpublic long nextLong() throws Exception {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tpublic int nextInt() throws Exception {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tpublic String nextLine() throws Exception {\n\t\t\treturn br.readLine().trim();\n\t\t}\n\t}\n\n}\n"
        },
        {
            "language": 3,
            "solution": "a, b = input().split(':')\na = list(a)\nb = list(b)\nc = 10\nfor i in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ':\n    for j in range(len(a)):\n        if a[j] == i:\n            a[j] = c\n    for j in range(len(b)):\n        if b[j] == i:\n            b[j] = c\n    c += 1\na = list(map(int, a))\nb = list(map(int, b))\nans = []\nfor c in range(2, 200):\n    x1 = 0\n    x2 = 0\n    for p in range(len(a)):\n        x1 += a[p] * c ** (len(a) - p - 1)\n    for p in range(len(b)):\n        x2 += b[p] * c ** (len(b) - p - 1)\n    if 0 <= x1 <= 23 and 0 <= x2 <= 59 and max(a) < c and max(b) < c:\n        ans.append(c)\nif len(ans) > 100:\n    print(-1)\nelif ans:\n    print(*ans)\nelse:\n    print(0)\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long INF = 1e9 + 7;\nconst int N = 1e3 + 10;\nint a[N];\nvoid init() {\n  for (int i = 0; i < 10; i++) a[i + '0'] = i;\n  for (int i = 0; i < 26; i++) a[i + 'A'] = i + 10;\n}\nlong long check(string &s, int b) {\n  long long ret = 0;\n  for (auto &c : s) {\n    ret *= b;\n    ret += a[c];\n    if (a[c] >= b) return -1;\n  }\n  return ret;\n}\nint main() {\n  init();\n  string str;\n  cin >> str;\n  int o = str.find(':');\n  string s1 = str.substr(0, o);\n  string s2 = str.substr(o + 1);\n  vector<int> ans;\n  for (int i = 1; i <= 1000; i++) {\n    long long h = check(s1, i);\n    long long m = check(s2, i);\n    if (h >= 24) break;\n    if (m >= 60) break;\n    if (h >= 0 && m >= 0) ans.push_back(i);\n  }\n  if (ans.empty())\n    cout << 0 << endl;\n  else if (ans.back() == 1000)\n    cout << -1 << endl;\n  else\n    for (auto &x : ans) cout << x << ' ';\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.StringTokenizer;\n\n\npublic class Main {\n\tstatic BufferedReader reader;\n\tstatic StringTokenizer tokenizer;\n\tstatic PrintWriter writer;\n\n\tstatic int nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tstatic long nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tstatic double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\n\tstatic String nextToken() throws IOException {\n\t\twhile (tokenizer == null || !tokenizer.hasMoreTokens()) {\n\t\t\ttokenizer = new StringTokenizer(reader.readLine());\n\t\t}\n\t\treturn tokenizer.nextToken();\n\t}\n\n\tpublic static void main(String[] args) throws IOException {\n\t\treader = new BufferedReader(new InputStreamReader(System.in));\n\t\ttokenizer = null;\n\t\twriter = new PrintWriter(System.out);\n\t\tsolve();\n\t\treader.close();\n\t\twriter.close();\n\t}\n\n\tpublic static void solve() throws IOException {\n\tchar[] ch={'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q',\n\t\t'R','S','T','U','V','W','X','Y','Z'};\n\tString s=nextToken();// writer.println(ch.length);\n\tint t=s.indexOf(':'); int i=0;\n\twhile (i<t && s.charAt(i)=='0') i++;\n\tint j=t+1;\n\tArrayList<Integer> res=new ArrayList<Integer>();\n\twhile (j<s.length() && s.charAt(j)=='0') j++;\n\tString s1=s.substring(i,t);\n\tString s2=s.substring(j,s.length()); //writer.println(s1); writer.println(s2);\n\tfor (int k=2; k<1000; k++)\n\t{\n\t\tboolean f=true;\n\t\tlong b=1, h=0,m=0,e;\n\t\tfor (int l=s1.length()-1; l>=0; l--)\n\t\t{\n\t\t\tfor (e=0; e<36; e++)\n\t\t\t{\n\t\t\t\tif (ch[(int) e]==s1.charAt(l)) break;\n\t\t\t}\n\t\t\tif (e>=k) { f=false; break; }\n\t\t\th+=b*e;\n\t\t\tb*=k;\n\t\t}\n\t\tb=1; \n\t\tfor (int l=s2.length()-1; l>=0; l--)\n\t\t{\n\t\t\tfor (e=0; e<36; e++)\n\t\t\t{\n\t\t\t\tif (ch[(int) e]==s2.charAt(l)) break;\n\t\t\t}\n\t\t\tif (e>=k) { f=false; break; }\n\t\t\tm+=b*e;\n\t\t\tb*=k;\t\t\n\t\t}\n\t\t//writer.println(m);\n\t\tif (!f) continue;\n\t\tif (h<24 && m<60) res.add(k);\n\t}\n\tif (res.size()==0) writer.println(0);\n\tif (res.size()>100) writer.println(-1);\n\tif (res.size()>0 && res.size()<=100) {\n\t\tfor (i=0; i<res.size(); i++)\n\t\t\twriter.print(res.get(i)+\" \");\n\t\twriter.println();\n\t}\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstring s, a, b;\nint maxv;\nbool check(int x) {\n  int h = 0, m = 0, t;\n  for (int i = 0; i < a.size(); i++) {\n    if (isdigit(a[i]))\n      t = a[i] - '0';\n    else\n      t = a[i] - 'A' + 10;\n    h = h * x + t;\n    maxv = max(maxv, t);\n  }\n  for (int i = 0; i < b.size(); i++) {\n    if (isdigit(b[i]))\n      t = b[i] - '0';\n    else\n      t = b[i] - 'A' + 10;\n    m = m * x + t;\n    maxv = max(maxv, t);\n  }\n  return h <= 23 && m <= 59;\n}\nint main() {\n  cin >> s;\n  int i;\n  for (i = 0; s[i] != ':'; i++) a.push_back(s[i]);\n  for (i++; i < s.size(); i++) b.push_back(s[i]);\n  int L = 0, R = 70, mid;\n  while (L + 1 < R) {\n    mid = (L + R) / 2;\n    if (check(mid))\n      L = mid;\n    else\n      R = mid;\n  }\n  if (L >= 60)\n    puts(\"-1\");\n  else if (L <= maxv)\n    puts(\"0\");\n  else\n    for (int i = maxv + 1; i <= L; i++) printf(\"%d%c\", i, i == L ? '\\n' : ' ');\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "time = input()\nhour = time.split(':')[0]\nminute = time.split(':')[1]\nminBase = 0\ndef charToVal(x):\n  if ord(x) < 58:\n    return ord(x) - 48\n  else:\n    return ord(x) - 55\nfor x in hour:\n    if ord(x) < 58:\n        minBase = max(minBase, ord(x) - 47)\n    else:\n        minBase = max(minBase, ord(x) - 54)\nfor x in minute:\n    if ord(x) < 58:\n        minBase = max(minBase, ord(x) - 47)\n    else:\n        minBase = max(minBase, ord(x) - 54)\nsolutions = []\nfor base in range(minBase, 62):\n  multiple = 1\n  converted_hour = 0\n  for x in range(len(hour) - 1, -1, -1):\n    converted_hour += multiple*(charToVal(hour[x]))\n    multiple *= base\n  if converted_hour >= 24:\n    break\n  multiple = 1\n  converted_minute = 0\n  for x in range(len(minute) - 1, -1, -1):\n    converted_minute += multiple*(charToVal(minute[x]))\n    multiple *= base\n  if converted_minute >= 60:\n    break\n  solutions.append(base)\nif 61 in solutions:\n  print(-1)\nelif len(solutions) == 0:\n  print(0)\nelse:\n  for x in solutions:\n    print(x, end=' ')"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid sprint(string s) {\n  for (int i = 0; i < s.size(); ++i) printf(\"%c\", s[i]);\n  printf(\"\\n\");\n}\nint f(vector<int> x, vector<int> y, int t) {\n  int a = 0, b = 0;\n  reverse(x.begin(), x.end());\n  reverse(y.begin(), y.end());\n  int temp = 1;\n  for (int i = 0; i < x.size(); ++i) {\n    if (x[i] >= t) return 0;\n    a += x[i] * temp;\n    temp *= t;\n  }\n  temp = 1;\n  for (int i = 0; i < y.size(); ++i) {\n    if (y[i] >= t) return 0;\n    b += y[i] * temp;\n    temp *= t;\n  }\n  if (a <= 23 and b <= 59)\n    return 1;\n  else\n    return -1;\n}\nint main() {\n  string s;\n  cin >> s;\n  int x = s.find(\":\");\n  string a = s.substr(0, x);\n  string b = s.substr(x + 1, s.size() - x - 1);\n  bool t = 0;\n  for (int i = 0; i < a.size() - 1; ++i) {\n    if (a[i] != '0') t = 1;\n  }\n  if (!t) {\n    for (int i = 0; i < b.size() - 1; ++i) {\n      if (b[i] != '0') t = 1;\n    }\n    char c = a[a.size() - 1];\n    if (!t) {\n      if ((c - '0' >= 0 and c - '9' <= 0) or (c - 'A' >= 0 and c - 'N' <= 0)) {\n        printf(\"-1\\n\");\n        return 0;\n      }\n    }\n  }\n  vector<int> xx, y;\n  for (int i = 0; i < a.size(); ++i) {\n    if (a[i] - '0' >= 0 and a[i] - '9' <= 0)\n      xx.push_back(a[i] - '0');\n    else\n      xx.push_back(a[i] - 'A' + 10);\n  }\n  for (int i = 0; i < b.size(); ++i) {\n    if (b[i] - '0' >= 0 and b[i] - '9' <= 0)\n      y.push_back(b[i] - '0');\n    else\n      y.push_back(b[i] - 'A' + 10);\n  }\n  int tt = 2;\n  int tot = 0;\n  while (1) {\n    int temp = f(xx, y, tt);\n    if (temp == -1) break;\n    if (temp == 1) tot++, printf(\"%d \", tt);\n    tt++;\n  }\n  if (tot == 0) printf(\"0\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint num[255];\nint nbase(string s, int b) {\n  int i = 0, m = 1, ret = 0;\n  while (i < s.size()) {\n    if (num[s[s.size() - i - 1]] >= b) return 1000000;\n    ret += num[s[s.size() - i - 1]] * m;\n    i++;\n    m *= b;\n  }\n  return ret;\n}\nint main() {\n  for (int i = '0'; i <= '9'; i++) num[i] = i - '0';\n  for (int i = 'A'; i <= 'Z'; i++) num[i] = i - 'A' + 10;\n  string s, h, m;\n  cin >> s;\n  int p = 0;\n  while (s[p] != ':') p++;\n  h = s.substr(0, p);\n  m = s.substr(p + 1, s.size() - p - 1);\n  vector<int> cor;\n  for (int i = 2; i < 60; i++) {\n    if (nbase(h, i) < 24 && nbase(m, i) < 60) cor.push_back(i);\n  }\n  if (nbase(h, 70) < 24 && nbase(m, 70) < 60)\n    cout << -1 << endl;\n  else if (cor.size() == 0)\n    cout << 0 << endl;\n  else {\n    cout << cor[0];\n    for (int i = 1; i < cor.size(); i++) cout << ' ' << cor[i];\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport java.math.*;\nimport java.awt.geom.*;\n\nimport javax.management.RuntimeErrorException;\n\nimport static java.lang.Math.*;\n\npublic class Main implements Runnable {\n    \n    static String filename = \"\";\n    \n    void solve() throws Exception {\n        char[] seq = sc.nextToken().toCharArray();\n        int n = seq.length;\n        int h[] = new int[n];\n        int m[] = new int[n];\n        boolean flag = true;\n        int index = 0;\n        int a = 0, b = 0;\n        int max = 0;\n        for (int i = 0;i < n; ++ i) {\n            if (seq[i] == ':') {\n                a = index;\n                index = 0;\n                flag = false;\n                continue;\n            }\n            if (flag) {\n                if (seq[i] >= 'A' && seq[i] <= 'Z') {\n                    h[index] = seq[i] - 'A' + 10;\n                } else {\n                    h[index] = seq[i] - '0';\n                }\n                max = Math.max(max, h[index]);\n                ++ index;\n            } else {\n                if (seq[i] >= 'A' && seq[i] <= 'Z') {\n                    m[index] = seq[i] - 'A' + 10;\n                } else {\n                    m[index] = seq[i] - '0';\n                }\n                max = Math.max(max, m[index]);\n                ++ index;\n                b = index;\n            }\n        }\n        \n        ArrayList<Integer> ans = new ArrayList<Integer>();\n        boolean win = false;\n        \n        for (int i = max + 1;i <= 1000; ++ i) {\n            \n            if (i == 1000) {\n                out.println(-1);\n                return;\n            }\n            \n            int hh = 0;\n            int mm = 0;\n            \n            boolean x = true;\n            \n            for (int j = 0;j < a; ++ j) {\n                hh = hh * i + h[j];\n                if (hh > 23) {\n                    x = false;\n                    break;\n                }\n            }\n            \n            if (!x)\n                break;\n            \n            x = true;\n            for (int j = 0;j < b; ++ j) {\n                mm = mm * i + m[j];\n                if (mm > 59) {\n                    x = false;\n                    break;\n                }\n            }\n            \n            if (!x)\n                break;\n            \n            win = true;\n            \n            if (hh == 0 && mm == 0) {\n                out.println(-1);\n                return;\n            }\n            \n            ans.add(i);\n        }\n        \n        if (!win) {\n            out.println(0);\n        } else {\n            for (int i : ans) {\n                out.print(i + \" \");\n            }\n        }\n    }\n    \n    BufferedReader in;\n    PrintWriter out;\n    FastScanner sc;\n    \n    \n    public static void main(String[] args) {\n        new Thread(null, new Main(), \"\", 1 << 25).start();\n    }\n    \n    @Override\n    public void run() {\n        try {\n            init();\n            solve();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        } finally {\n            out.close();\n        }\n    }\n    \n    void init() throws Exception {\n        //in = new BufferedReader(new FileReader(\"input.txt\"));\n        //out = new PrintWriter(new FileWriter(\"output.txt\"));\n        in = new BufferedReader(new InputStreamReader(System.in));\n        out = new PrintWriter(System.out);\n        sc = new FastScanner(in);\n    }\n    \n    \n\n}\n\nclass FastScanner {\n    \n    BufferedReader reader;\n    StringTokenizer strTok;\n    \n    public FastScanner(BufferedReader reader) {\n        this.reader = reader;\n    }\n    \n    public String nextToken() throws IOException {\n        while (strTok == null || !strTok.hasMoreTokens()) {\n            strTok = new StringTokenizer(reader.readLine());\n        }\n        \n        return strTok.nextToken();\n    }\n    \n    public int nextInt() throws IOException {\n        return Integer.parseInt(nextToken());\n    }\n    \n    public long nextLong() throws IOException {\n        return Long.parseLong(nextToken());\n    }\n    \n    public double nextDouble() throws IOException {\n        return Double.parseDouble(nextToken());\n    }\n    \n    public BigInteger nextBigInteger() throws IOException {\n        return new BigInteger(nextToken());\n    }\n    \n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar s[100100];\nint a[100], b[100], al, bl, ax, bx;\nint main() {\n  int i, j, k, max = 1;\n  gets(s);\n  for (i = 0; s[i] != ':'; i++)\n    ;\n  j = 0;\n  for (i--; i >= 0; i--, j++) {\n    if ('0' <= s[i] && s[i] <= '9') a[j] = s[i] - 48;\n    if ('A' <= s[i] && s[i] <= 'Z') a[j] = s[i] - 65 + 10;\n    if (a[j] > max) max = a[j];\n  }\n  al = j;\n  for (; al > 1 && !a[al - 1]; al--)\n    ;\n  for (i = 0; s[i]; i++)\n    ;\n  j = 0;\n  for (i--; s[i] != ':'; i--, j++) {\n    if ('0' <= s[i] && s[i] <= '9') b[j] = s[i] - 48;\n    if ('A' <= s[i] && s[i] <= 'Z') b[j] = s[i] - 65 + 10;\n    if (b[j] > max) max = b[j];\n  }\n  bl = j;\n  for (; bl > 1 && !b[bl - 1]; bl--)\n    ;\n  max++;\n  ax = 0;\n  for (i = al - 1; i >= 0; i--) ax = ax * max + a[i];\n  bx = 0;\n  for (i = bl - 1; i >= 0; i--) bx = bx * max + b[i];\n  if (ax > 23 || bx > 59) {\n    printf(\"0\\n\");\n  } else if (al == 1 && bl == 1) {\n    printf(\"-1\\n\");\n  } else {\n    printf(\"%d\", max);\n    for (k = max + 1;; k++) {\n      ax = 0;\n      for (i = al - 1; i >= 0; i--) ax = ax * k + a[i];\n      bx = 0;\n      for (i = bl - 1; i >= 0; i--) bx = bx * k + b[i];\n      if (ax <= 23 && bx <= 59) {\n        printf(\" %d\", k);\n      } else\n        break;\n    }\n    putchar(10);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def get_digit(digit):\n    if digit.isdigit():\n        return ord(digit) - ord('0')\n    else:\n        return ord(digit) - ord('A') + 10\n\ndef to_int(word, base):\n    pow = 1\n    res = 0\n    for digit in reversed(word):\n        res += get_digit(digit) * pow\n        pow *= base\n    return res\n\nhours, minutes = raw_input().split(':')\nmin_radix = max(max(hours), max(minutes))\nmin_radix = get_digit(min_radix) + 1\nwhile hours.startswith('0'):\n    hours = hours[1:]\nwhile minutes.startswith('0'):\n    minutes = minutes[1:]\n\nif len(hours) < 1 and len(minutes) <= 1:\n    print -1\nelif len(hours) == 1 and len(minutes) <= 1 and get_digit(hours) <= 23:\n    print -1\nelse:\n    max_radix = min_radix\n    while True:\n        h, m = to_int(hours, max_radix), to_int(minutes, max_radix)\n        if h > 23 or m > 59:\n            break\n        max_radix += 1\n    if max_radix > min_radix:\n        for rad in xrange(min_radix, max_radix):\n            print rad,\n    else:\n        print 0\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1e5 + 10, INF = 0x3f3f3f3f, MOD = 1e9 + 7;\nlong long to_dec(string s, long long base) {\n  long long re = 0;\n  for (int a = 0; a < s.size(); ++a)\n    if ('0' <= s[a] && s[a] <= '9')\n      re = re * base + (long long)(s[a] - '0');\n    else if ('A' <= s[a] && s[a] <= 'Z')\n      re = re * base + (long long)(s[a] - 'A' + 10);\n  return re;\n}\nstring to_to(long long num, long long base) {\n  string re;\n  while (num > 0) {\n    long long rem = num % base;\n    if (rem <= 9)\n      re = string(1, '0' + rem) + re;\n    else\n      re = string(1, 'A' + rem - 10) + re;\n    num /= base;\n  }\n  if (re == \"\") re = \"0\";\n  return re;\n}\nint main() {\n  string s, t;\n  while (cin >> s) {\n    int maxv = 0;\n    for (int i = 0; i < s.size(); ++i) {\n      if (s[i] == ':') continue;\n      if (isupper(s[i]))\n        maxv = max(maxv, s[i] - 'A' + 10);\n      else\n        maxv = max(maxv, s[i] - '0');\n    }\n    maxv = max(2, maxv + 1);\n    int p = s.find(':');\n    t = s.substr(p + 1);\n    s = s.erase(p);\n    int h = to_dec(s, maxv);\n    int m = to_dec(t, maxv);\n    if (h)\n      while (s[0] == '0') s.erase(0, 1);\n    else\n      s = \"0\";\n    if (m)\n      while (t[0] == '0') t.erase(0, 1);\n    else\n      t = \"0\";\n    if (s.size() == 1 && h < 24 && t.size() == 1 && m < 60) {\n      cout << \"-1\\n\";\n      continue;\n    }\n    if (h > 23 || m > 59) {\n      cout << \"0\\n\";\n      continue;\n    }\n    cout << maxv;\n    for (int i = maxv + 1;; ++i) {\n      h = to_dec(s, i);\n      m = to_dec(t, i);\n      if (h > 23 || m > 59) break;\n      cout << ' ' << i;\n    }\n    cout << '\\n';\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.StringTokenizer;\n\n\npublic class Main {\n\n\tstatic Map<Character, Integer> map = new HashMap<>();\n\t\n\tstatic {\n\t\tfor(int i = 0;i<=9;i++) {\n\t\t\tmap.put((char)(i+'0'), i);\n\t\t}\n\t\tfor(int i=0;i<=25;i++) {\n\t\t\tmap.put((char)(i+'A'), i+10);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\n\t\tFastReader in = new FastReader();\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\t\n\t\tString str = in.next();\n\t\tString hours = str.substring(0, str.indexOf(':'));\n\t\tString minuts = str.substring(str.indexOf(':')+1, str.length());\n\t\t\n\t\tlong hh = getValue(hours, 100);\n\t\tlong mm = getValue(minuts, 100);\n\t\tif(hh<24&&mm<60) {\n        \tout.println(-1);\n        \tout.close();\n        \treturn;\n        }\n\t\t\n\t\tStringBuilder sb = new StringBuilder();\n        for(int i=2;i<=60;i++) {\n        \tint h = (int)getValue(hours, i);\n        \tint m = (int)getValue(minuts, i);\n            if(isPoss(hours, i)&&isPoss(minuts, i)&&h<24&&m<60) {\n            \tsb.append(i+\" \");\n            }\n        }\n\t\t\n        if(sb.length()==0) {\n        \tout.println(0);\n        }\n        else out.println(sb);\n\t\tout.close();\n\t}\n\tstatic long getValue(String str, int base) {\n\t\tlong res = 0, p = str.length()-1;\n\t\tfor(char ch: str.toCharArray()) {\n\t\t\tres+=(long)Math.pow(base, p) * map.get(ch); \n\t\t\tp--;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic boolean isPoss(String str, int v) {\n\t\tfor(char ch: str.toCharArray()) {\n\t\t\tif(map.get(ch)>=v)return false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic class FastReader {\n\t\t\t\n        BufferedReader br;\n        StringTokenizer st;\n \n        public FastReader() {\n        \t\n            br = new BufferedReader(new\n                    InputStreamReader(System.in));\n        }\n        \n        public FastReader(File file) throws FileNotFoundException {\n        \t\n        \tbr = new BufferedReader(\n        \t\t\tnew FileReader(file));\n        }\n \n        String next() {\n            while (st == null || !st.hasMoreElements()) {\n                try {\n                    st = new StringTokenizer(br.readLine());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            return st.nextToken();\n        }\n \n        int nextInt() {\n            return Integer.parseInt(next());\n        }\n \n        long nextLong() {\n            return Long.parseLong(next());\n        }\n \n        double nextDouble() {\n            return Double.parseDouble(next());\n        }\n \n        String nextLine() {\n            String str = \"\";\n            try {\n                str = br.readLine();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return str;\n        }\n\t        \n\t }\n\n}\n"
        },
        {
            "language": 3,
            "solution": "from sys import setrecursionlimit, exit, stdin\nfrom math import ceil, floor, acos, pi\nfrom string import ascii_lowercase, ascii_uppercase, digits\nfrom fractions import gcd\nfrom functools import reduce\nimport itertools\nsetrecursionlimit(10**7)\nRI=lambda x=' ': list(map(int,input().split(x)))\nRS=lambda x=' ': input().rstrip().split(x)\ndX= [-1, 1, 0, 0,-1, 1,-1, 1]\ndY= [ 0, 0,-1, 1, 1,-1,-1, 1]\nmod=int(1e9+7)\neps=1e-6\nMAX=1000\n#################################################\ndef to_base(s, b):\n    if not s:\n        return 0\n    v=int(s[-1], 36)\n    if v>=b:\n        return MAX\n    return v+to_base(s[:-1], b) *b\nh, m = RS(':')\nans=[]\nfor b in range(100):\n    if to_base(h, b) < 24 and to_base(m, b) <60:\n        ans.append(b)\nif not ans:\n    print(0)\nelif ans[-1]==99:\n    print(-1)\nelse:\n    print(*ans)\n\n    \n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint hour[10];\nint mini[10];\nint main() {\n  memset(hour, 0, sizeof(hour));\n  memset(mini, 0, sizeof(mini));\n  string s;\n  cin >> s;\n  string s1 = \"\";\n  string s2 = \"\";\n  int i = 0;\n  for (i = 0; i < s.size(); i++) {\n    if (s[i] != ':') {\n      s1 += s[i];\n    } else {\n      i++;\n      break;\n    }\n  }\n  for (i = i; i < s.size(); i++) {\n    s2 += s[i];\n  }\n  while (s1.size() < 5) {\n    string tmps = '0' + s1;\n    s1 = tmps;\n  }\n  while (s2.size() < 5) {\n    string tmps = '0' + s2;\n    s2 = tmps;\n  }\n  int count = 4;\n  for (int i = 0; i < s1.size(); i++) {\n    if (int(s1[i]) >= 48 && int(s1[i]) <= 57) {\n      hour[count] = int(s1[i]) - 48;\n    } else\n      hour[count] = int(s1[i]) - 55;\n    count--;\n  }\n  count = 4;\n  for (int i = 0; i < s2.size(); i++) {\n    if (int(s2[i]) >= 48 && int(s2[i]) <= 57) {\n      mini[count] = int(s2[i]) - 48;\n    } else\n      mini[count] = int(s2[i]) - 55;\n    count--;\n  }\n  if (hour[0] < 24 && hour[1] == 0 && hour[2] == 0 && hour[3] == 0 &&\n      hour[4] == 0 && mini[0] < 60 && mini[1] == 0 && mini[2] == 0 &&\n      mini[3] == 0 && mini[4] == 0) {\n    cout << \"-1\";\n    return 0;\n  }\n  int max = 0;\n  for (int i = 0; i < 5; i++) {\n    if (hour[i] > max) max = hour[i];\n    if (mini[i] > max) max = mini[i];\n  }\n  int start = max + 1;\n  while (1) {\n    int sum1 = 0;\n    int sum2 = 0;\n    for (int i = 0; i < 5; i++) {\n      sum1 += hour[i] * pow(start, i);\n      sum2 += mini[i] * pow(start, i);\n    }\n    if (sum1 > 23 || sum2 > 59) {\n      if (start == max + 1) cout << \"0\";\n      break;\n    } else {\n      cout << start << \" \";\n      start++;\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "#Algorithm :\n#   1) Split into strings , remove zeros\n#   2) Start checking for every integer in a range of(2 to 61) \n#   3) check the numbers and respetively add them !\n    \n################################    \n    \n#Function to calculate the value \n#This function is approximately called 60 times by 2 strings ! And it still works\ndef base(t,b):\n    num = 0\n    p = 1\n    i = len(t) - 1\n    v = 0\n    while i >=0 :\n        if(t[i].isdigit()):\n            v = int(t[i])  \n        else:\n            #Important to convert alphabets to numbers \n            v = ord(t[i]) - 55\n        #If a value in string is greater than the numeral , then there can't exist such a numeral system \n        if v >= b:\n            return -1\n        num = num + (v*p)\n        p=p*b\n        i=i-1\n    return num\n        \n###################################\n\n#Function to remove leading zeros    \ndef remove_zeros(s):\n    i=0\n    res=\"\"\n    while i < len(s) and s[i] == \"0\":\n        i=i+1\n    while i < len(s):\n        res = res + s[i]\n        i=i+1\n    if res == \"\":\n        res = \"0\"\n    return res\n\n#####################################\n    \ns = input().split(\":\")\nnum = []\nfor i in range(2):\n    s[i]=remove_zeros(s[i]) \n\n#Important range used for checking \nfor i in range(2,61):\n    a = base(s[0],i)\n    b = base(s[1],i)\n    \n    if a >= 0 and a <= 23 and b >=0 and b <= 59:\n        num.append(i)\n    \nif len(num) == 0:\n    print(0)\nelif 60 in num :\n    # As 60 cannot come it is possible only when there are only numbers at the 0th place \n    print(-1)\nelse:\n    for x in num:\n        print(x)"
        },
        {
            "language": 3,
            "solution": "s=input()\ns=s.split(\":\")\nh=s[0]\nm=s[1]\nh=h[::-1]\nm=m[::-1]\nmi=0\ndef eval(s,x):\n  su=0\n  j=0\n  for  i in s:  \n    if ord(i)>=ord('0') and ord(i)<=ord('9'):\n      su=su+(x**j)*(ord(i)-48)\n    else:\n        su=su+(x**j)*(ord(i)-55)\n    j+=1      \n  return su\n\nfor i in (h+m):\n    if ord(i)>=ord('0') and ord(i)<=ord('9'):\n       mi=max(mi,ord(i)-48)\n    else:\n        mi=max(mi,ord(i)-55)\n\nmi+=1\nmi=max(2,mi)\nx=mi\nif(eval(h,x)>23 or eval(m,x)>59): print(0)\nelif(eval(h,x)==eval(h,x+1) and eval(m,x)==eval(m,x+1)): print(-1)\nelse: \n    while 1:\n        if eval(h,x)<=23 and eval(m,x)<=59:\n            x+=1\n        else: break\n    if(mi==x):print(0)         \n    for i in range(mi,x):\n     print(i,end=\" \")\n    print(\"\")  "
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid fun(int b, int d) {\n  int u = 1;\n  int v = 0;\n  if ((b < 0 && d > 0) || (b > 0 && d < 0)) v = 1;\n  b = abs(b);\n  d = abs(d);\n  if (b < d) {\n    swap(b, d);\n    u = 0;\n  }\n  int b1 = b, d1 = d;\n  int x = b % d;\n  while (x) {\n    b = d;\n    d = x;\n    x = b % d;\n  }\n  if (u == 0) {\n    if (v) d1 *= -1;\n    cout << d1 / d << \"/\" << b1 / d;\n  } else {\n    if (v) b1 *= -1;\n    cout << b1 / d << \"/\" << d1 / d;\n  }\n}\nint po(int m, int i) {\n  int r = 1;\n  while (i--) {\n    r *= m;\n  }\n  return r;\n}\nlong long num7(long long x) {\n  long long v = 0;\n  while (x) {\n    if (x % 10 == 7) v++;\n    x /= 10;\n  }\n  return v;\n}\nlong long num4(long long x) {\n  long long v = 0;\n  while (x) {\n    if (x % 10 == 4) v++;\n    x /= 10;\n  }\n  return v;\n}\nint arr[101];\nint main() {\n  string s;\n  cin >> s;\n  vector<int> v1, v2;\n  int u = 1;\n  for (int i = s.size() - 1; i >= 0; i--) {\n    int a;\n    if (s[i] == ':') {\n      u = 0;\n      continue;\n    }\n    if (isalpha(s[i])) {\n      a = s[i] - 'A' + 10;\n    } else\n      a = s[i] - '0';\n    if (u)\n      v2.push_back(a);\n    else\n      v1.push_back(a);\n  }\n  while (!v1.empty()) {\n    if (v1.back() != 0)\n      break;\n    else\n      v1.pop_back();\n  }\n  while (!v2.empty()) {\n    if (v2.back())\n      break;\n    else\n      v2.pop_back();\n  }\n  int m = 0;\n  for (unsigned int i = 0; i < v1.size(); i++) {\n    if (v1[i] > m) m = v1[i];\n  }\n  for (unsigned int i = 0; i < v2.size(); i++) {\n    if (v2[i] > m) m = v2[i];\n  }\n  int l = 0;\n  while (1) {\n    m++;\n    int sumh = 0, summ = 0;\n    for (unsigned int i = 0; i < v1.size(); i++) {\n      sumh += po(m, i) * v1[i];\n    }\n    for (unsigned int i = 0; i < v2.size(); i++) {\n      summ += po(m, i) * v2[i];\n    }\n    if (sumh < 24 && summ < 60) {\n      l = 1;\n      if (v1.size() < 2 && v2.size() < 2) {\n        cout << \"-1\";\n        break;\n      } else\n        cout << m << \" \";\n    } else {\n      if (l)\n        break;\n      else {\n        cout << \"0\";\n        break;\n      }\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\nimport static java.util.Collections.*;\npublic class Main{\n    public static void main(String[]args){\n        InputStream in = System.in;\n        PrintWriter out = new PrintWriter(new BufferedOutputStream(System.out));\n        try{\n//          in = new BufferedInputStream(new FileInputStream(new File(\"input.txt\")));\n//          out = new PrintWriter(new BufferedOutputStream(new FileOutputStream(\"output.txt\")));\n        }catch (Exception e) {\n        }\n        new Main().run(in,out);\n        out.flush();\n    }\n    private void debug(Object...os){\n        System.err.println(deepToString(os));\n    }\n\n    private void run(InputStream in,PrintWriter out){\n        String[] ss = next(in).split(\":\");\n        String res = \"\";\n        int i;\n        for (i = 2; i < 70; i++) {\n            boolean ok=true;\n            for (int j = 0; j < ss.length; j++) {\n                int val = func(ss[j],i);\n                if(val==-1)ok=false;\n                if(val>(j==0?23:59))ok=false;\n            }\n            if(ok){\n                if(res.length()>0)res+=' ';\n                res += i;\n            }\n        }\n        if(res.contains(\"69\"))res = \"-1\";\n        if(res.length()==0)res=\"0\";\n        out.println(res);\n    }\n\n    private int func(String s, int i) {\n        int res=0;\n        for (int j = 0; j < s.length(); j++) {\n            res *= i;\n            int cur = toi(s.charAt(j));\n            if(cur>=i)return -1;\n            res += cur;\n        }\n        return res;\n    }\n    private int toi(char c) {\n        if(Character.isDigit(c))return c-'0';\n        return c-'A'+10;\n    }\n    private String nextLine(InputStream in) {\n        try {\n            StringBuilder res = new StringBuilder(\"\");\n            int c = in.read();\n            if(c==-1)return null;\n            while (c=='\\n' || c=='\\r'){\n                c = in.read();\n                if(c==-1)return null;\n            }\n            do {\n                res.append((char) c);\n                c=in.read();\n            } while (c!='\\n' && c!='\\r');\n            return res.toString();\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    private String next(InputStream in) {\n        try {\n            StringBuilder res = new StringBuilder(\"\");\n            int c = in.read();\n            if(c==-1)return null;\n            while (Character.isWhitespace(c)){\n                c = in.read();\n                if(c==-1)return null;\n            }\n            do {\n                res.append((char) c);\n            } while (!Character.isWhitespace(c = in.read()));\n            return res.toString();\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    private int nextInt(InputStream in){\n        try{\n            int c=in.read();\n            if(c==-1) return c;\n            while(c!='-'&&(c<'0'||'9'<c)){\n                c=in.read();\n                if(c==-1) return c;\n            }\n            if(c=='-') return -nextInt(in);\n            int res=0;\n            do{\n                res*=10;\n                res+=c-'0';\n                c=in.read();\n            }while('0'<=c&&c<='9');\n            return res;\n        }catch(Exception e){\n            return -1;\n        }\n    }\n\n    private long nextLong(InputStream in){\n        try{\n            int c=in.read();\n            if(c==-1) return c;\n            while(c!='-'&&(c<'0'||'9'<c)){\n                c=in.read();\n                if(c==-1) return c;\n            }\n            if(c=='-') return -nextLong(in);\n            long res=0;\n            do{\n                res*=10;\n                res+=c-'0';\n                c=in.read();\n            }while('0'<=c&&c<='9');\n            return res;\n        }catch(Exception e){\n            return -1;\n        }\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  string s;\n  vector<long long> a[3], ans;\n  long long i, k = 1, t = 0, x, y, j, p, xx, yy;\n  cin >> s;\n  for (i = (0); i < (s.length()); i++) {\n    if (s[i] == ':') {\n      k++;\n      continue;\n    }\n    a[k].push_back(int(s[i]));\n    if (s[i] <= '9' && s[i] >= '0')\n      a[k][a[k].size() - 1] -= 48;\n    else\n      a[k][a[k].size() - 1] -= 55;\n    t = max(t, a[k].back());\n  }\n  x = y = 0;\n  xx = yy = -1;\n  for (i = t + 1; x < 24 && y < 60; i++) {\n    if (i != t + 1) ans.push_back(i - 1);\n    x = y = 0;\n    p = 1;\n    for (j = a[1].size() - 1; j > -1; j--) x += p * a[1][j], p *= i;\n    p = 1;\n    for (j = a[2].size() - 1; j > -1; j--) y += p * a[2][j], p *= i;\n    if (xx == x && yy == y) {\n      cout << -1;\n      return 0;\n    }\n    xx = x;\n    yy = y;\n  }\n  if (!ans.size())\n    cout << 0;\n  else\n    for (i = 0; i < ans.size(); i++) cout << ans[i] << ' ';\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "import sys\n\ndef isok( line , maxv ):\n    a = [ 0 for i in range(2) ]\n    for i in range(2):\n        for ch in line[i]:\n            if ch.isdigit():\n                a[i] = a[i]*maxv + int(ch)\n            else:\n                a[i] = a[i]*maxv + ord(ch)-ord('A')+10\n    return a\n\n\nline  = sys.stdin.readline().strip('\\n\\r').split(':')\nmaxv = 0\nfor ch in ''.join(line):\n    if ch.isdigit():\n        maxv = max( maxv, int(ch))\n        #print int(ch)\n    else :\n        maxv = max( maxv , ord(ch)-ord('A')+10)\nmaxv = maxv+1\nres = []\n#print maxv , isok(line,maxv)\nt = isok( line , maxv )\nif t == isok(line,maxv+1) and t[0] <= 23 and t[1] <= 59 :\n    print -1\n    exit()\nwhile maxv <= 60:\n    a = isok( line , maxv )\n    if a[0] <= 23 and a[1] <= 59: \n        res.append( maxv )\n    else :\n        break\n    maxv = maxv + 1\nif len(res) == 0:\n    print 0\nelse :\n    print ' '.join( str(i) for i in res)\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing pii = pair<int, int>;\nusing pll = pair<ll, ll>;\nusing tpl = tuple<int, int, int>;\nusing pcc = pair<char, char>;\nconst ll inf = 1e18 + 100;\nconst ll mod = 998244353;\nint dr[] = {-1, 0, 1, 0};\nint dc[] = {0, 1, 0, -1};\nint kr[] = {-1, 1, -2, -2, -1, 1, 2, 2};\nint kc[] = {-2, -2, -1, 1, 2, 2, -1, 1};\nint dgr[] = {-1, -1, 1, 1};\nint dgc[] = {1, -1, -1, 1};\nconst int N = 2e6;\nint value(char ch) {\n  if (isdigit(ch)) return ch - '0';\n  return ch - 'A' + 10;\n}\nll convert(string str, int b) {\n  ll ans = 0, cur = 1;\n  for (int i = str.size() - 1; i >= 0; i--) {\n    ans += (value(str[i]) * cur);\n    cur *= b;\n  }\n  return ans;\n}\nvoid solve() {\n  string str, hour, minit;\n  cin >> str;\n  int len = str.size();\n  int mx = 0, ok = 0;\n  for (char ch : str) {\n    if (ch == ':') {\n      ok = 1;\n      continue;\n    }\n    mx = max(mx, value(ch));\n    if (ok) {\n      minit += ch;\n    } else {\n      hour += ch;\n    }\n  }\n  vector<ll> ans;\n  ll H = 0, M = 0;\n  for (int base = mx + 1; base <= N; base++) {\n    H = convert(hour, base);\n    M = convert(minit, base);\n    if (H >= 24 or M >= 60) break;\n    ans.push_back(base);\n  }\n  if (ans.size() > 1000000)\n    printf(\"-1\\n\");\n  else if (ans.size() == 0)\n    printf(\"0\\n\");\n  else {\n    for (ll x : ans) printf(\"%lld \", x);\n  }\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  int tt = 1;\n  while (tt--) {\n    solve();\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint char2int(char c) {\n  int d = 0;\n  if ('0' <= c && c <= '9')\n    d = c - '0';\n  else if ('A' <= c && c <= 'Z')\n    d = c - 'A' + 10;\n  else if ('a' <= c && c <= 'z')\n    d = c - 'a' + 10;\n  return d;\n}\nint str2int(string s, int base) {\n  int ret = 0;\n  for (int i = 0; i < s.size(); i++) {\n    ret = ret * base + char2int(s[i]);\n  }\n  return ret;\n}\nint main(void) {\n  string sin, sh, sm;\n  cin >> sin;\n  for (int i = 0; i < sin.size(); i++) {\n    if (sin[i] == ':') {\n      int j;\n      for (j = 0; j < i; j++) {\n        if (sin[j] == '0') continue;\n        break;\n      }\n      sh = sin.substr(j, i - j);\n      for (j = i + 1; j < sin.size(); j++) {\n        if (sin[j] == '0') continue;\n        break;\n      }\n      sm = sin.substr(j);\n    }\n  }\n  int minbase = 0;\n  for (int i = 0; i < sin.size(); i++) {\n    if (sin[i] == ':') continue;\n    int d = char2int(sin[i]);\n    if (minbase < d) minbase = d;\n  }\n  minbase++;\n  if (sh.size() <= 1 && sm.size() <= 1) {\n    int h = 0;\n    if (sh.size() == 1) h = char2int(sh[0]);\n    if (h > 23)\n      cout << 0 << endl;\n    else\n      cout << -1 << endl;\n    return 0;\n  }\n  int minh = str2int(sh, minbase);\n  int minm = str2int(sm, minbase);\n  if (minh > 23 || minm > 59) {\n    cout << 0 << endl;\n    return 0;\n  }\n  cout << minbase;\n  int base = minbase + 1;\n  while (1) {\n    int h = str2int(sh, base);\n    int m = str2int(sm, base);\n    if (h > 23 || m > 59) break;\n    cout << ' ' << base;\n    base++;\n  }\n  cout << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint toNum(char a) {\n  if (isdigit(a)) return a - '0';\n  return a - 'A' + 10;\n}\nint toDec(string s, int rad) {\n  int i = s.size();\n  int mult = 1;\n  int res = 0;\n  for (--i; i >= 0 && res < 60; --i) {\n    res += toNum(s[i]) * mult;\n    mult *= rad;\n  }\n  return res;\n}\nbool isValid(string a, string b, int rad) {\n  if (toDec(a, rad) < 24 && toDec(b, rad) < 60) return true;\n  return false;\n}\nint main() {\n  int i, j;\n  string s;\n  cin >> s;\n  int pos = s.find(':');\n  string a, b;\n  a = s.substr(0, pos);\n  b = s.substr(pos + 1);\n  j = 2;\n  if (isValid(a, b, 73)) {\n    cout << -1 << endl;\n    return 0;\n  }\n  for (i = 0; i < a.size(); ++i) {\n    j = max(j, toNum(a[i] + 1));\n  }\n  for (i = 0; i < b.size(); ++i) {\n    j = max(j, toNum(b[i] + 1));\n  }\n  if (!isValid(a, b, j)) {\n    cout << 0 << endl;\n    return 0;\n  }\n  for (i = j; isValid(a, b, i); ++i) {\n    cout << i << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint f(char c) {\n  if (c >= '0' && c <= '9') return c - '0';\n  return c - 'A' + 10;\n}\nint main() {\n  string s, s1, s2;\n  cin >> s;\n  for (int i = 0; i < s.size(); ++i)\n    if (s[i] == ':') s[i] = ' ';\n  istringstream is(s);\n  is >> s1 >> s2;\n  int p1 = 0, p2 = 0;\n  while (p1 + 1 < s1.size() && s1[p1] == '0') ++p1;\n  while (p2 + 1 < s2.size() && s2[p2] == '0') ++p2;\n  if (p1 == s1.size() - 1 && f(s1[s1.size() - 1]) < 24 && p2 == s2.size() - 1)\n    cout << -1 << '\\n';\n  else {\n    vector<int> ans;\n    for (int b = 2; b < 100; ++b) {\n      bool ok = true;\n      int h = 0, mm = 0;\n      for (int i = p1; i < s1.size(); ++i) {\n        if (f(s1[i]) < b)\n          h = min(24, h * b + f(s1[i]));\n        else\n          ok = false;\n      }\n      for (int i = p2; i < s2.size(); ++i) {\n        if (f(s2[i]) < b)\n          mm = min(60, mm * b + f(s2[i]));\n        else\n          ok = false;\n      }\n      if (ok && h < 24 && mm < 60) ans.push_back(b);\n    }\n    if (ans.empty())\n      cout << 0 << '\\n';\n    else {\n      for (int i = 0; i < ans.size(); ++i) cout << ans[i] << ' ';\n      cout << '\\n';\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "//package proje;\n\nimport java.io.*;\nimport java.math.BigInteger;\nimport java.util.*;\n\npublic class m\n{\n\tpublic static int radm(String st,int radix)\n\t{\n\t\tint hour=0;\n\t\tfor(int y=0; y<st.length(); y++)\n\t\t{\n\t\t\tchar m = st.charAt(st.length()-y-1);\n\t\t\tif(m>=65 && m<=97)\n\t\t\t{\n\t\t\t\t//num[h-65+10]++;\n\t\t\t\thour+=(m-65+10)*(Math.pow(radix, y));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t//num[h-48]++;\n\t\t\t\t//max=Math.max(max,h-48);\n\t\t\t\thour+=(m-48)*(Math.pow(radix, y));\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(hour>59)\n\t\t\treturn 0;\n\t\treturn 1;\n\t}\n\tpublic static int rad(String st,int radix)\n\t{\n\t\tint hour=0;\n\t\tfor(int y=0; y<st.length(); y++)\n\t\t{\n\t\t\tchar m = st.charAt(st.length()-y-1);\n\t\t\tif(m>=65 && m<=97)\n\t\t\t{\n\t\t\t\t//num[h-65+10]++;\n\t\t\t\thour+=(m-65+10)*(Math.pow(radix, y));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t//num[h-48]++;\n\t\t\t\t//max=Math.max(max,h-48);\n\t\t\t\thour+=(m-48)*(Math.pow(radix, y));\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(hour>23)\n\t\t\treturn 0;\n\t\treturn 1;\n\t}\n\tpublic static void main(String[] args)\n\t{\n\t\tScanner s = new Scanner(System.in);\n\t    String time = s.next();\n\t    \n\t    String[] timea = time.split(\":\");\n\t    \n\t   //System.out.println(timea[0] + \" \" + timea[1]);\n\t    \n\t    int[] num = new int[36];\n\t    int max=-1;\n\t    int zeroch=0;\n\t\tchar last;\n\t    int cnt=0;\n\t    for(char h: timea[0].toCharArray())\n\t    {\n\t    \tcnt++;\n\t    \tif(h==48 && cnt!=timea[0].length())\n\t    \t{\t\n\t    \t\tzeroch++;\t\n\t    \t\t//System.out.println(\"yes\");\n\t    \t}\n\t    \t\n\t    }\n\t    \n\t    int zerom=0;\n\t    cnt=0;\n\t    for(char h: timea[1].toCharArray())\n\t    {\n\t    \tcnt++;\n\t    \tif(h==48 && cnt!=timea[1].length())\n\t    \t{\n\t    \t\tzerom++;\t\n\t    \t\t//System.out.println(\"yes\");\n\t    \t}\n\t    }\n\t    \n\t    if(zeroch==timea[0].length()-1 && zerom==timea[1].length()-1)\n\t    {\n\t    \t//System.out.println(\"yes\");\n\t    \tlast = timea[0].charAt(timea[0].length()-1);\n\t    \tif(last-65+10<=23)\n\t    \t{\n\t    \t\tSystem.out.println(\"-1\");\n\t    \t\treturn;\n\t    \t}\n\t    }\n\t    \n\t    for(char h: timea[0].toCharArray())\n\t\t{\n\t\t\tif(h>=65 && h<=97)\n\t\t\t{\n\t\t\t\tnum[h-65+10]++;\n\t\t\t\t//System.out.println(h-65+10);\n\t\t\t\tmax=Math.max(max,h-65+10);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnum[h-48]++;\n\t\t\t\t//System.out.println(h-48);\n\t\t\t\tmax=Math.max(max,h-48);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(char h: timea[1].toCharArray())\n\t\t{\n\t\t\tif(h>=65 && h<=97)\n\t\t\t{\n\t\t\t\tnum[h-65+10]++;\n\t\t\t\t//System.out.println(h-65+10);\n\t\t\t\tmax=Math.max(max,h-65+10);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnum[h-48]++;\n\t\t\t\t//System.out.println(h-48);\n\t\t\t\tmax=Math.max(max,h-48);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//System.out.println(max + \" \");\n\t\t\n\t\tif(rad(timea[0],max+1)==0 || radm(timea[1],max+1)==0)\n\t\t{\n\t\t\tSystem.out.println(\"0\");\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tSystem.out.print(max+1+\" \");\n\t\t\tfor(int i=max+1; ; i++)\n\t\t\t{\n\t\t\t\tif(rad(timea[0],i+1)==0 || radm(timea[1],i+1)==0)\n\t\t\t\t{\n\t\t\t\t\t//System.out.println(rad(timea[0],i+1)+\" \"+radm(timea[1],i+1));\t\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tSystem.out.print(i+1+\" \");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long gcd(long long x, long long y) {\n  if (y == 0)\n    return x;\n  else\n    return gcd(y, x % y);\n}\nchar str[30];\nint arr[100];\nint main() {\n  cin >> str;\n  int l = strlen(str);\n  int p = strchr(str, ':') - str;\n  int K = 0;\n  int flag = 0;\n  for (int i = 1; i <= 60; i++) {\n    long long a = 0, b = 0;\n    bool ok = 1;\n    for (int j = 0; j < p; j++) {\n      int k = str[j] - '0';\n      if (str[j] >= 'A' && str[j] <= 'Z') k = str[j] - 'A' + 10;\n      if (k >= i) {\n        ok = 0;\n        break;\n      }\n      a *= i;\n      a += k;\n    }\n    if (!ok) continue;\n    for (int j = p + 1; j < l; j++) {\n      int k = str[j] - '0';\n      if (str[j] >= 'A' && str[j] <= 'Z') k = str[j] - 'A' + 10;\n      if (k >= i) {\n        ok = 0;\n        break;\n      }\n      b *= i;\n      b += k;\n    }\n    if (!ok) continue;\n    if (a > 23LL || b > 59LL) continue;\n    arr[K++] = i;\n    if (i == 60) flag = 1;\n  }\n  if (!K)\n    puts(\"0\");\n  else {\n    if (flag)\n      puts(\"-1\");\n    else {\n      for (int i = 0; i < K; i++) cout << arr[i] << ' ';\n    }\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint getzn(string s, int o) {\n  string z(\"0\");\n  int a = 0;\n  for (int i = 0; i < s.size(); i++)\n    if (a < 60) {\n      a *= o;\n      a += s[i] - z[0];\n    }\n  return a;\n}\nint main() {\n  string z(\"0A:\"), s, s1, s2;\n  cin >> s;\n  int dif = (int)z[1] - (int)z[0] - 10, i = 0, maxx = 0, ans = 0;\n  while (s[i] != z[2]) {\n    if ((int)s[i] >= (int)z[1]) s[i] = (char)(s[i] - dif);\n    s1 += s[i];\n    maxx = max(maxx, (int)(s[i] - z[0]));\n    i++;\n  }\n  i++;\n  while (i < s.size()) {\n    if ((int)s[i] >= (int)z[1]) s[i] = (char)(s[i] - dif);\n    s2 += s[i];\n    maxx = max(maxx, (int)(s[i] - z[0]));\n    i++;\n  }\n  bool a[62];\n  for (i = maxx + 1; i < 62; i++) {\n    a[i] = (getzn(s1, i) < 24 && getzn(s2, i) < 60);\n    ans += a[i];\n  }\n  if (a[61]) ans = -1;\n  if (ans <= 0) {\n    cout << ans << endl;\n  } else {\n    for (i = maxx + 1; i < 62; i++) {\n      if (a[i]) cout << i << \" \";\n    }\n    cout << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <class T>\ninline void remax(T& A, T B) {\n  if (A < B) A = B;\n}\ntemplate <class T>\ninline void remin(T& A, T B) {\n  if (A > B) A = B;\n}\nstring ToString(long long num) {\n  string ret;\n  do {\n    ret += ((num % 10) + '0');\n    num /= 10;\n  } while (num);\n  reverse(ret.begin(), ret.end());\n  return ret;\n}\nlong long ToNumber(string s) {\n  long long r = 0, p = 1;\n  for (int i = s.size() - 1; i >= 0; --i) r += (s[i] - '0') * p, p *= 10;\n  return r;\n}\nlong long Gcd(long long a, long long b) {\n  while (a %= b ^= a ^= b ^= a)\n    ;\n  return b;\n}\nlong long Power(long long base, long long power) {\n  long long ret = 1;\n  while (power) {\n    if (power & 1) ret *= base;\n    power >>= 1;\n    base *= base;\n  }\n  return ret;\n}\nlong long PowerMod(long long base, long long power, long long mod) {\n  if (!power) return 1;\n  if (power & 1) return (base * PowerMod(base, power - 1, mod)) % mod;\n  return PowerMod((base * base) % mod, power >> 1, mod);\n}\nint Log(long long num, long long base) {\n  int ret = 0;\n  while (num) {\n    ++ret;\n    num /= base;\n  }\n  return ret;\n}\nint Count(long long mask) {\n  int ret = 0;\n  while (mask) {\n    if (mask & 1) ++ret;\n    mask >>= 1;\n  }\n  return ret;\n}\nint f(string& s, int x) {\n  int ret = 0;\n  for (char& ch : s) {\n    int tmp;\n    if (isdigit(ch))\n      tmp = (ch - '0');\n    else\n      tmp = (ch - 'A') + 10;\n    if (tmp >= x) return -1;\n    ret *= x;\n    ret += tmp;\n  }\n  return ret;\n}\ninline void run() {\n  vector<int> ans;\n  string s, t, h, m;\n  int sz;\n  cin >> s;\n  sz = (int)s.size();\n  for (int i = 0; i < sz; ++i)\n    if (s[i] == ':')\n      h = t, t = \"\";\n    else\n      t += s[i];\n  m = t;\n  for (int i = 2; i <= 60; ++i) {\n    int a = f(h, i);\n    int b = f(m, i);\n    if (a >= 0 && a < 24 && b >= 0 && b < 60)\n      if (i < 60)\n        ans.emplace_back(i);\n      else {\n        puts(\"-1\");\n        return;\n      }\n  }\n  if (ans.empty())\n    puts(\"0\");\n  else {\n    for (int x : ans) printf(\"%d \", x);\n    puts(\"\");\n  }\n}\nint main() {\n  run();\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.math.*;\nimport java.util.*;\n\npublic class Solution {\n    public static final String INPUT_FILE = \"a.in\";\n    public static final String OUTPUT_FILE = \"a.out\";\n\n    BufferedReader bf;\n    StringTokenizer st;\n\n    public String next() throws IOException {\n        if (st == null || !st.hasMoreTokens()) {\n            String line = bf.readLine();\n            if (line == null) {\n                return null;\n            }\n            st = new StringTokenizer(line);\n        }\n        return st.nextToken();\n    }\n\n    public int nextInt() throws IOException {\n        return Integer.parseInt(next());\n    }\n\n    public String nextLine() throws IOException {\n        String s = bf.readLine();\n        st = null;\n        return s;\n    }\n\n    boolean valid(long h, long m) {\n        return h >= 0 && h <= 23 && m >= 0 && m <= 59;\n    }\n\n    long toLong(String str, long radix) {\n        char ch[] = str.toCharArray();\n        long pow = 1;\n        long ans = 0;\n        for(int i = ch.length-1; i >= 0; i--) {\n            char x = ch[i];\n            long code = 0;\n            if (x >= '0' && x <= '9') code = x - '0';\n            if (x >= 'A' && x <= 'Z') code = x - 'A' + 10;\n            if (code >= radix) return -1;\n            ans += code * pow;\n            pow *= radix;\n        }\n        return ans;\n    }\n\n    boolean cool(String hours, String minutes, int radix) {\n        long h = toLong(hours, radix);\n        long m = toLong(minutes, radix);\n        return valid(h, m);\n    }\n\n    boolean test(String s) {\n        for(int i = 0; i < s.length() - 1; i++) {\n            if (s.charAt(i) != '0') {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public Solution() throws IOException {\n        //bf = new BufferedReader(new FileReader(new File(\"a.in\")));\n        bf = new BufferedReader(new InputStreamReader(System.in));\n        String line = bf.readLine().toUpperCase();\n        StringTokenizer st = new StringTokenizer(line, \":\");\n        String hours = st.nextToken();\n        String minutes = st.nextToken();\n        if (test(hours) && test(minutes)) {\n            if (cool(hours, minutes, 100)) {\n            System.out.println(-1);\n            } else {\n                System.out.println(0);\n            }\n            return;\n        }\n        ArrayList<Integer> ans = new ArrayList<Integer>();\n        for(int i = 2; i < 100; i++) {\n            if (cool(hours, minutes, i)) ans.add(i);\n        }\n        if (ans.size() == 0) {\n            System.out.println(\"0\");\n        } else {\n            for(int x : ans) {\n                System.out.print(x + \" \");\n            }\n            System.out.println();\n        }\n\n    }\n\n    public static void main(String args[]) throws IOException{\n        new Solution();\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long *tol(string s) {\n  long long *ans = (long long *)(malloc(5 * sizeof(long long)));\n  long long len_s = s.size();\n  long long i = 0;\n  while (i < 5 - len_s) {\n    ans[i++] = 0;\n  }\n  long long j = 0;\n  while (j < len_s) {\n    if (s[j] <= 58)\n      ans[i++] = (long long)(s[j++]) - 48;\n    else {\n      ans[i++] = (long long)(s[j++]) - 55;\n    }\n  }\n  return ans;\n}\nlong long con(long long *a, long long b) {\n  long long ans = 0;\n  long long x = 1;\n  for (long long i = 4; i >= 0; i--, x = x * b) ans += (a[i] * x);\n  return ans;\n}\nint main() {\n  string s;\n  cin >> s;\n  long long i = 0;\n  long long len_s = s.size();\n  string a, b;\n  a = \"\";\n  b = \"\";\n  while (s[i] != ':') {\n    a.push_back(s[i]);\n    i++;\n  }\n  i++;\n  while (i < len_s) {\n    b.push_back(s[i]);\n    i++;\n  }\n  long long *a1, *b1;\n  a1 = tol(a);\n  b1 = tol(b);\n  long long m = 0;\n  for (long long i = 0; i < 5; i++) {\n    if (m < a1[i]) m = a1[i];\n    if (m < b1[i]) m = b1[i];\n  }\n  long long ans = 60;\n  for (long long i = 59; i > m; i--) {\n    long long x = con(a1, i);\n    long long y = con(b1, i);\n    if ((x < 24) && (y < 60)) {\n      ans = i;\n      break;\n    }\n  }\n  if (ans == 60)\n    cout << 0 << endl;\n  else {\n    long long flag1 = 0, flag2 = 0;\n    for (long long i = 0; i < 4; i++) {\n      if (a1[i] != 0) flag1 = 1;\n      if (b1[i] != 0) flag2 = 1;\n    }\n    if ((flag1 == 0) && (flag2 == 0)) {\n      if ((a1[4] < 24) && (b1[4] < 60))\n        cout << -1 << endl;\n      else {\n        cout << 0 << endl;\n      }\n    } else {\n      for (long long i = m + 1; i <= ans; i++) cout << i << \" \";\n      cout << endl;\n    }\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nchar S[15];\nint Sep, N, MaxD;\nvector<int> Ans;\nint Digit(int Pos) {\n  return ('0' <= S[Pos] && S[Pos] <= '9' ? S[Pos] - '0' : S[Pos] - 'A' + 10);\n}\nint Nr(int Left, int Right, int Base) {\n  int Ans = 0;\n  for (int i = Left; i <= Right; ++i) Ans = Ans * Base + Digit(i);\n  return Ans;\n}\nint main() {\n  gets(S + 1);\n  N = strlen(S + 1);\n  for (int i = 1; i <= N; ++i)\n    if (S[i] == ':') Sep = i;\n  for (int i = 1; i <= N; ++i)\n    if (i != Sep) MaxD = max(MaxD, Digit(i));\n  for (int i = MaxD + 1;\n       i <= 1000 && Nr(1, Sep - 1, i) < 24 && Nr(Sep + 1, N, i) < 60; ++i)\n    Ans.push_back(i);\n  if (Ans.size() > 100)\n    printf(\"-1\");\n  else if (Ans.size() == 0)\n    printf(\"0\");\n  else {\n    for (int i = 0; i < Ans.size(); ++i) printf(\"%i \", Ans[i]);\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.Scanner;\n\npublic class B {\n    public static int get(char c) {\n        if (Character.isDigit(c))\n            return c - '0';\n        else\n            return c - 'A' + 10;\n    }\n\n    public static boolean can(String s, int base, int max) {\n        double sum = 0;\n        for (int i = s.length() - 1; i >= 0; i--) {\n            int temp = get(s.charAt(i));\n            if (temp >= base)\n                return false;\n            sum += temp * (Math.pow(base, s.length() - i - 1));\n            if (sum > max)\n                return false;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String s = in.next();\n        s = s.replace(\":\", \" \");\n        String[] S = s.split(\" \");\n        boolean[] A = new boolean[100];\n        int max = 0;\n        for (int i = 2; i < 100; i++) {\n            if (can(S[0], i, 23) && can(S[1], i, 59)) {\n                max = i;\n                A[i] = true;\n            }\n        }\n        if (max > 59)\n            System.out.println(-1);\n        else if (max == 0)\n            System.out.println(0);\n        else {\n            for (int i = 2; i < 100; i++)\n                if (A[i])\n                    System.out.print(i + \" \");\n        }\n        System.out.println();\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.math.*;\n\npublic class B {\n\t\n\tprivate static Scanner scan = new Scanner(System.in);\n\tpublic static boolean [] a = new boolean[101];\n\t\n\tpublic static void main(String[] args) {\n\t\tString[] time = (scan.next()).split(\":\");\n\t\tif(check(time[0], time[1]) == true) System.out.println(\"-1\");\n\t\telse {\n\t\t\tint x = get_max(time[0], time[1]), all = 0;\n\t\t\tfor(int i=x+1; i<=100; i++) {\n\t\t\t\tlong xx = get(time[0], i);\n\t\t\t\tlong yy = get(time[1], i);\n\t\t\t\tif(0 <= xx && xx < 24 && 0 <= yy && yy < 60) { a[i] = true; all++; }\n\t\t\t}\n\t\t\tif(all == 0) System.out.println(0);\n\t\t\telse {\n\t\t\t\tfor(int i=2; i<=100; i++) {\n\t\t\t\t\tif(a[i] == true) {\n\t\t\t\t\t\tSystem.out.print(i + \" \");\n\t\t\t\t\t\tx++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static boolean check(String s, String t) {\n\t\tfor(int i=0; i<s.length()-1; i++) if(s.charAt(i) != '0') return false;\n\t\tif(('9' < s.charAt(s.length()-1) || s.charAt(s.length()-1) < '0') && 'N' < s.charAt(s.length()-1)) return false;\n\t\tfor(int i=0; i<t.length()-1; i++) if(t.charAt(i) != '0') return false;\n\t\treturn true;\n\t}\n\t\n\tpublic static int get_max(String s, String t) {\n\t\tt += s;\n\t\tint x = 0;\n\t\tfor(int i=0; i<t.length(); i++) {\n\t\t\tif(('9' >= t.charAt(i) && t.charAt(i) >= '0')) x = Math.max(x, t.charAt(i)-'0');\n\t\t\telse x = Math.max(x, t.charAt(i)-'A'+10);\n\t\t}\n\t\treturn x;\n\t}\n\t\n\tpublic static long get(String s, int b) {\n\t\tlong x = 1, ans = 0;\n\t\tfor(int i=s.length()-1; i>=0; i--) {\n\t\t\tif(('9' >= s.charAt(i) && s.charAt(i) >= '0')) ans += (s.charAt(i)-'0')*x;\n\t\t\telse ans = (s.charAt(i)-'A'+10)*x;\n\t\t\tx *= b;\n\t\t}\n\t\treturn ans;\n\t}\n\t\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool Isvalid(char s[], int least) {\n  int i = 0, sum = 0;\n  while (s[i] != '\\0' && s[i] != ':') {\n    if (s[i] > '9')\n      sum = sum * least + s[i] - 'A' + 10;\n    else\n      sum = sum * least + s[i] - '0';\n    i++;\n  }\n  if (sum > 23) return false;\n  i++;\n  sum = 0;\n  while (s[i] != '\\0') {\n    if (s[i] > '9')\n      sum = sum * least + s[i] - 'A' + 10;\n    else\n      sum = sum * least + s[i] - '0';\n    i++;\n  }\n  if (sum > 59) return false;\n  return true;\n}\nint getmaxdig(char s[]) {\n  int i = 0, pos = 0;\n  while (s[i] != '\\0') {\n    if (s[i] != ':' && s[i] > s[pos]) {\n      pos = i;\n    }\n    i++;\n  }\n  if (s[pos] > '9')\n    return s[pos] - 'A' + 10;\n  else\n    return s[pos] - '0';\n}\nbool Isinfinted(char s[]) {\n  int i = 0;\n  while (s[i] == '0') i++;\n  if (s[i] <= ('A' + 13) && s[i + 1] == ':' || s[i] == ':') {\n    if (s[i] == ':')\n      i++;\n    else\n      i += 2;\n    while (s[i] == '0') i++;\n    if (s[i + 1] == '\\0' || s[i] == '\\0') return true;\n    return false;\n  }\n  return false;\n}\nint main() {\n  char s[20];\n  cin >> s;\n  int maxdig = getmaxdig(s) + 1;\n  if (Isinfinted(s))\n    cout << \"-1\" << endl;\n  else if (Isvalid(s, maxdig)) {\n    for (; Isvalid(s, maxdig); maxdig++) cout << maxdig << \" \";\n    cout << endl;\n  } else\n    cout << \"0\" << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TaskB {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String[] time = scanner.nextLine().trim().split(\":\");\n\n        List<Integer> radix = new ArrayList<Integer>();\n\n        for (int i = 2; i <= 60; i++) {\n            try {\n                int a = getNumber(time[0], i);\n                int b = getNumber(time[1], i);\n\n                if (0 <= a && 23 >= a && 0 <= b && 59 >= b) {\n                    radix.add(i);\n                }\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n\n        if (0 == radix.size()) {\n            System.out.println(0);\n        } else if (60 == radix.get(radix.size() - 1)) {\n            System.out.println(-1);\n        } else {\n            for (int i : radix) {\n                System.out.print(i + \" \");\n            }\n        }\n    }\n    \n    private static int getNumber(String time, int radix) {\n        int sum = 0, m = 1;\n        for (int i = time.length() - 1; i > -1; i--) {\n            int n = ('0' <= time.charAt(i) && '9' >= time.charAt(i)) ?\n                    time.charAt(i) - '0' : time.charAt(i) - 'A' + 10;\n            if (n >= radix) {\n                return -1;\n            }\n            sum += n * m;\n            m *= radix;\n        }\n        return sum;\n    }\n}\n"
        }
    ]
}