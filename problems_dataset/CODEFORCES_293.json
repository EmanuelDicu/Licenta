{
    "name": "293_D. Ksusha and Square",
    "source": "CODEFORCES",
    "description": "Ksusha is a vigorous mathematician. She is keen on absolutely incredible mathematical riddles. \n\nToday Ksusha came across a convex polygon of non-zero area. She is now wondering: if she chooses a pair of distinct points uniformly among all integer points (points with integer coordinates) inside or on the border of the polygon and then draws a square with two opposite vertices lying in the chosen points, what will the expectation of this square's area be?\n\nA pair of distinct points is chosen uniformly among all pairs of distinct points, located inside or on the border of the polygon. Pairs of points p, q (p \u2260 q) and q, p are considered the same.\n\nHelp Ksusha! Count the required expectation.\n\nInput\n\nThe first line contains integer n (3 \u2264 n \u2264 105) \u2014 the number of vertices of Ksusha's convex polygon. Next n lines contain the coordinates of the polygon vertices in clockwise or counterclockwise order. The i-th line contains integers xi, yi (|xi|, |yi| \u2264 106) \u2014 the coordinates of the vertex that goes i-th in that order.\n\nOutput\n\nPrint a single real number \u2014 the required expected area. \n\nThe answer will be considered correct if its absolute and relative error doesn't exceed 10 - 6.\n\nExamples\n\nInput\n\n3\n0 0\n5 5\n5 0\n\n\nOutput\n\n4.6666666667\n\n\nInput\n\n4\n-1 3\n4 5\n6 2\n3 -5\n\n\nOutput\n\n8.1583333333\n\n\nInput\n\n3\n17 136\n859 937\n16 641\n\n\nOutput\n\n66811.3704155169",
    "difficulty": "D",
    "tags": [
        "geometry",
        "math",
        "probabilities",
        "two pointers"
    ],
    "rating": 2700,
    "public_test": [
        {
            "input": "3\n17 136\n859 937\n16 641\n",
            "output": "66811.370415516887746\n"
        },
        {
            "input": "4\n-1 3\n4 5\n6 2\n3 -5\n",
            "output": "8.1583333333333333329\n"
        },
        {
            "input": "3\n0 0\n5 5\n5 0\n",
            "output": "4.666666666666666667\n"
        }
    ],
    "generated_test": [
        {
            "input": "3\n217949 72327\n20730 141135\n667478 663894\n",
            "output": "35756046110.2309945226"
        },
        {
            "input": "5\n-30 3\n-27 27\n25 19\n22 11\n-9 -28\n",
            "output": "308.2801311282"
        },
        {
            "input": "26\n-999979 -518088\n-999921 118990\n-999886 336599\n-999749 894870\n-999613 971778\n-997505 993563\n-988075 999871\n-724057 999931\n338004 999963\n939763 999692\n979017 999536\n997778 999063\n999010 994592\n999549 991252\n999866 130647\n999941 -152592\n999901 -975591\n998258 -992117\n992764 -999373\n845158 -999949\n592531 -999958\n-810995 -999934\n-988512 -999694\n-995382 -992825\n-997701 -979912\n-999550 -923898\n",
            "output": "666358831414.6079000831"
        },
        {
            "input": "5\n-4 -21\n25 12\n2 28\n-25 24\n-26 -16\n",
            "output": "289.0516046264"
        },
        {
            "input": "4\n1000 1000\n-1000 1100\n-1000 -1000\n1000 -1000\n",
            "output": "684405.4678022212"
        },
        {
            "input": "4\n-4 -20\n10 6\n-10 23\n-27 -17\n",
            "output": "162.6840779955"
        },
        {
            "input": "4\n-13 -21\n22 -6\n19 -2\n-20 27\n",
            "output": "191.1056861190"
        },
        {
            "input": "28\n-999950 -887483\n-999941 -898020\n-999541 -954162\n-998380 -979624\n-996809 -989471\n-974206 -998846\n-814103 -999939\n-562253 -999986\n39584 -999954\n949101 -999859\n967558 -998977\n974753 -998193\n980440 -995185\n995399 -975723\n999674 -949939\n999839 -915815\n999975 -114127\n999981 971763\n999561 997999\n989473 999261\n917401 999944\n-468594 999853\n-693444 999675\n-914976 999234\n-997478 996529\n-999955 951845\n-999982 144675\n-999992 -224003\n",
            "output": "666225628494.0333230495"
        },
        {
            "input": "4\n0000 1000\n-1000 1000\n-1000 -1000\n1000 -1000\n",
            "output": "549932.3816872411"
        },
        {
            "input": "7\n-29 5\n-20 13\n-4 22\n8 20\n21 9\n16 -29\n-20 -30\n",
            "output": "331.0099259507"
        },
        {
            "input": "4\n-1000000 -1000000\n-1000000 1000010\n1000000 1000000\n1000000 -1000000\n",
            "output": "666668833340.3902065754"
        },
        {
            "input": "3\n217949 72327\n20730 141135\n667478 31198\n",
            "output": "18826858661.6411153264"
        },
        {
            "input": "9\n-30 -17\n-30 -12\n-28 24\n-21 29\n8 29\n36 14\n26 -11\n9 -29\n-25 -30\n",
            "output": "511.7550960338"
        },
        {
            "input": "8\n-18 -20\n16 -28\n29 -22\n29 25\n15 27\n-19 30\n-28 18\n-30 -16\n",
            "output": "485.4708957418"
        },
        {
            "input": "7\n-16 -30\n18 -12\n23 -1\n-3 5\n-20 7\n-22 1\n-23 -27\n",
            "output": "207.9144001321"
        },
        {
            "input": "21\n-999896 -977584\n-981090 -998920\n-955737 -999433\n-836670 -999598\n-131267 -999903\n203740 -999850\n988083 -997441\n997685 -976930\n998079 -967700\n999138 -906399\n999967 -779494\n999875 608972\n998802 997105\n997089 999540\n891311 999873\n46007 999962\n-991551 999757\n-999301 968587\n-999579 875737\n-999730 549856\n-999960 51168\n",
            "output": "665955557792.9263055325"
        },
        {
            "input": "3\n17 69\n859 937\n16 641\n",
            "output": "71931.7258136343"
        },
        {
            "input": "4\n-1 3\n4 5\n6 2\n0 -5\n",
            "output": "8.7833333333"
        },
        {
            "input": "3\n1 0\n5 5\n5 0\n",
            "output": "4.0625000000"
        },
        {
            "input": "3\n280683 72327\n20730 141135\n667478 663894\n",
            "output": "35095331479.8769511469"
        },
        {
            "input": "5\n-30 3\n-27 27\n25 19\n20 11\n-9 -28\n",
            "output": "301.1828482196"
        },
        {
            "input": "5\n0 -21\n25 12\n2 28\n-25 24\n-26 -16\n",
            "output": "293.8347891422"
        },
        {
            "input": "4\n1000 1000\n-1000 1100\n-1000 -1000\n1000 -1786\n",
            "output": "854913.4674257650"
        },
        {
            "input": "4\n-4 -39\n10 6\n-10 23\n-27 -17\n",
            "output": "243.1268260748"
        },
        {
            "input": "4\n-13 -21\n22 -6\n19 -2\n-24 27\n",
            "output": "203.4203887524"
        },
        {
            "input": "4\n0000 1000\n-1000 1000\n-1000 -379\n1000 -1000\n",
            "output": "472397.3291107740"
        },
        {
            "input": "3\n217949 72327\n6264 141135\n667478 31198\n",
            "output": "19516752617.6137520019"
        },
        {
            "input": "9\n-30 -17\n-30 -12\n-28 24\n-27 29\n8 29\n36 14\n26 -11\n9 -29\n-25 -30\n",
            "output": "516.2709172523"
        },
        {
            "input": "8\n-18 -20\n10 -28\n29 -22\n29 25\n15 27\n-19 30\n-28 18\n-30 -16\n",
            "output": "484.3927618292"
        },
        {
            "input": "3\n17 12\n859 937\n16 641\n",
            "output": "76677.1311187669"
        },
        {
            "input": "4\n-1 3\n4 5\n6 1\n0 -5\n",
            "output": "9.0868686869"
        },
        {
            "input": "3\n1 0\n5 5\n5 1\n",
            "output": "3.8712121212"
        },
        {
            "input": "3\n280683 29080\n20730 141135\n667478 663894\n",
            "output": "36785861667.2475881986"
        },
        {
            "input": "5\n-30 3\n-27 27\n25 30\n20 11\n-9 -28\n",
            "output": "348.2144744701"
        },
        {
            "input": "5\n0 -21\n25 12\n2 28\n-25 24\n-26 -1\n",
            "output": "261.8747461929"
        },
        {
            "input": "4\n1000 1000\n-1000 1100\n-1728 -1000\n1000 -1786\n",
            "output": "1004446.2298619596"
        },
        {
            "input": "4\n-4 -39\n10 6\n-10 20\n-27 -17\n",
            "output": "228.4563133619"
        },
        {
            "input": "4\n-13 -21\n22 -6\n19 -2\n-24 52\n",
            "output": "345.6132469222"
        },
        {
            "input": "4\n0000 1000\n-1000 1000\n-1000 -379\n1001 -1000\n",
            "output": "472479.1130488308"
        },
        {
            "input": "3\n217949 72327\n6264 78064\n667478 31198\n",
            "output": "19111437385.6797773242"
        },
        {
            "input": "9\n-30 -17\n-30 -12\n-28 24\n-27 29\n8 29\n36 14\n36 -11\n9 -29\n-25 -30\n",
            "output": "554.8901201943"
        },
        {
            "input": "8\n-18 -20\n10 -28\n29 -33\n29 25\n15 27\n-19 30\n-28 18\n-30 -16\n",
            "output": "514.7589784068"
        },
        {
            "input": "3\n17 12\n859 937\n16 1057\n",
            "output": "93991.3658479677"
        },
        {
            "input": "4\n-1 5\n4 5\n6 1\n0 -5\n",
            "output": "10.3560784314"
        }
    ]
}