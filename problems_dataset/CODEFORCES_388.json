{
    "name": "388_C. Fox and Card Game",
    "source": "CODEFORCES",
    "description": "Fox Ciel is playing a card game with her friend Fox Jiro. There are n piles of cards on the table. And there is a positive integer on each card.\n\nThe players take turns and Ciel takes the first turn. In Ciel's turn she takes a card from the top of any non-empty pile, and in Jiro's turn he takes a card from the bottom of any non-empty pile. Each player wants to maximize the total sum of the cards he took. The game ends when all piles become empty.\n\nSuppose Ciel and Jiro play optimally, what is the score of the game?\n\nInput\n\nThe first line contain an integer n (1 \u2264 n \u2264 100). Each of the next n lines contains a description of the pile: the first integer in the line is si (1 \u2264 si \u2264 100) \u2014 the number of cards in the i-th pile; then follow si positive integers c1, c2, ..., ck, ..., csi (1 \u2264 ck \u2264 1000) \u2014 the sequence of the numbers on the cards listed from top of the current pile to bottom of the pile.\n\nOutput\n\nPrint two integers: the sum of Ciel's cards and the sum of Jiro's cards if they play optimally.\n\nExamples\n\nInput\n\n2\n1 100\n2 1 10\n\n\nOutput\n\n101 10\n\n\nInput\n\n1\n9 2 8 6 5 9 4 7 1 3\n\n\nOutput\n\n30 15\n\n\nInput\n\n3\n3 1 3 2\n3 5 4 6\n2 8 7\n\n\nOutput\n\n18 18\n\n\nInput\n\n3\n3 1000 1000 1000\n6 1000 1000 1000 1000 1000 1000\n5 1000 1000 1000 1000 1000\n\n\nOutput\n\n7000 7000\n\nNote\n\nIn the first example, Ciel will take the cards with number 100 and 1, Jiro will take the card with number 10.\n\nIn the second example, Ciel will take cards with numbers 2, 8, 6, 5, 9 and Jiro will take cards with numbers 4, 7, 1, 3.",
    "difficulty": "C",
    "tags": [
        "games",
        "greedy",
        "sortings"
    ],
    "rating": 2000,
    "public_test": [
        {
            "input": "3\n3 1 3 2\n3 5 4 6\n2 8 7\n",
            "output": "18 18\n"
        },
        {
            "input": "2\n1 100\n2 1 10\n",
            "output": "101 10\n"
        },
        {
            "input": "3\n3 1000 1000 1000\n6 1000 1000 1000 1000 1000 1000\n5 1000 1000 1000 1000 1000\n",
            "output": "7000 7000\n"
        },
        {
            "input": "1\n9 2 8 6 5 9 4 7 1 3\n",
            "output": "30 15\n"
        }
    ],
    "generated_test": [
        {
            "input": "5\n5 1 1 1 1 1\n4 1 1 1 1\n3 1 2 1\n2 1 1\n1 1\n",
            "output": "9 7\n"
        },
        {
            "input": "4\n3 1 5 100\n3 1 5 110\n3 100 1 1\n3 100 1 1\n",
            "output": "208 218\n"
        },
        {
            "input": "3\n5 2 2 3 4 5\n4 1 2 3 4\n8 1 2 3 4 5 6 7 8\n",
            "output": "20 42\n"
        },
        {
            "input": "3\n3 1 3 2\n3 5 5 6\n2 8 7\n",
            "output": "19 18\n"
        },
        {
            "input": "2\n1 100\n2 1 20\n",
            "output": "101 20\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 1000 1000 1000 1000 1000\n5 1000 1000 1000 1000 1000\n",
            "output": "7000 7001\n"
        },
        {
            "input": "1\n9 2 8 6 5 9 4 4 1 3\n",
            "output": "30 12\n"
        },
        {
            "input": "4\n3 1 5 100\n3 1 5 110\n3 100 1 1\n3 100 1 0\n",
            "output": "208 217\n"
        },
        {
            "input": "3\n5 2 2 3 0 5\n4 1 2 3 4\n8 1 2 3 4 5 6 7 8\n",
            "output": "20 38\n"
        },
        {
            "input": "3\n3 0 3 2\n3 5 5 6\n2 8 7\n",
            "output": "18 18\n"
        },
        {
            "input": "2\n1 000\n2 1 20\n",
            "output": "1 20\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 1000 1000 1000 1000 1001\n5 1000 1000 1000 1000 1000\n",
            "output": "7000 7002\n"
        },
        {
            "input": "1\n9 2 8 6 3 9 4 4 1 3\n",
            "output": "28 12\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 1000 1000 1000 1000 1001\n5 1000 1010 1000 1000 1000\n",
            "output": "7010 7002\n"
        },
        {
            "input": "1\n9 2 8 6 1 9 4 4 1 3\n",
            "output": "26 12\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 1000 1000 1000 1000 1001\n5 1000 1010 1000 1001 1000\n",
            "output": "7010 7003\n"
        },
        {
            "input": "1\n9 2 8 9 1 9 4 4 1 3\n",
            "output": "29 12\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 0000 1000 1000 1000 1001\n5 1000 1010 1000 1001 1000\n",
            "output": "6010 7003\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 0000 1000 1000 1000 1001\n5 1000 1010 1000 1011 1000\n",
            "output": "6010 7013\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 0000 0000 1000 1000 1000 1001\n5 1000 1010 1000 1011 1000\n",
            "output": "5010 7013\n"
        },
        {
            "input": "6\n2 1 1\n2 2 2\n2 3 3\n2 4 4\n2 5 5\n2 10 6\n",
            "output": "25 21\n"
        },
        {
            "input": "2\n2 200 1\n3 1 101 2\n",
            "output": "302 3\n"
        },
        {
            "input": "2\n3 1 1000 1\n3 2 1 1\n",
            "output": "1003 3\n"
        },
        {
            "input": "5\n5 1 1 1 1 1\n4 1 1 1 0\n3 1 1 1\n2 1 1\n1 1\n",
            "output": "8 6\n"
        },
        {
            "input": "4\n3 1 5 100\n3 1 5 100\n3 100 1 2\n3 100 1 1\n",
            "output": "208 209\n"
        },
        {
            "input": "3\n5 1 2 3 4 5\n4 1 2 3 4\n8 1 2 3 4 5 2 7 8\n",
            "output": "19 38\n"
        },
        {
            "input": "5\n1 3\n1 3\n1 8\n1 1\n1 4\n",
            "output": "12 7\n"
        },
        {
            "input": "2\n1 110\n2 1 10\n",
            "output": "111 10\n"
        },
        {
            "input": "3\n3 1000 1000 1000\n6 1000 1000 1000 1000 1000 1000\n5 1000 1000 1000 1000 1100\n",
            "output": "7000 7100\n"
        },
        {
            "input": "3\n5 2 2 3 4 5\n4 1 2 1 4\n8 1 2 3 4 5 6 7 8\n",
            "output": "20 40\n"
        },
        {
            "input": "3\n3 2 3 2\n3 5 5 6\n2 8 7\n",
            "output": "20 18\n"
        },
        {
            "input": "2\n1 101\n2 1 20\n",
            "output": "102 20\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 1000 1000 1000 1000 1010\n5 1000 1000 1000 1000 1000\n",
            "output": "7000 7011\n"
        },
        {
            "input": "3\n5 2 2 3 0 5\n4 1 2 3 4\n8 1 2 3 4 5 6 10 8\n",
            "output": "20 41\n"
        },
        {
            "input": "3\n3 0 3 2\n3 9 5 6\n2 8 7\n",
            "output": "22 18\n"
        },
        {
            "input": "2\n1 000\n2 1 4\n",
            "output": "1 4\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 1000 1000 1000 1000 1001\n5 1000 1010 1000 1011 1000\n",
            "output": "7010 7013\n"
        },
        {
            "input": "1\n9 1 8 6 1 9 4 4 1 3\n",
            "output": "25 12\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 0000 1000 1000 1000 1001\n5 1001 1010 1000 1001 1000\n",
            "output": "6011 7003\n"
        },
        {
            "input": "1\n9 2 8 18 1 9 4 4 1 3\n",
            "output": "38 12\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 0000 1000 1000 1000 1001\n5 1100 1010 1000 1011 1000\n",
            "output": "6110 7013\n"
        },
        {
            "input": "6\n2 1 1\n2 2 2\n2 3 1\n2 4 4\n2 5 5\n2 10 6\n",
            "output": "25 19\n"
        },
        {
            "input": "2\n2 200 1\n3 2 101 2\n",
            "output": "303 3\n"
        },
        {
            "input": "5\n5 1 1 1 1 1\n4 1 1 1 1\n3 1 1 1\n2 1 1\n1 0\n",
            "output": "7 7\n"
        },
        {
            "input": "5\n1 0\n1 3\n1 8\n1 1\n1 4\n",
            "output": "11 5\n"
        },
        {
            "input": "3\n3 1000 1001 1000\n6 1000 1000 1000 1000 1000 1000\n5 1000 1000 1000 1000 1100\n",
            "output": "7001 7100\n"
        },
        {
            "input": "4\n3 1 5 100\n3 2 5 110\n3 100 1 0\n3 100 1 1\n",
            "output": "209 217\n"
        },
        {
            "input": "3\n5 2 2 3 4 5\n4 1 4 1 4\n8 1 2 3 4 5 6 7 8\n",
            "output": "22 40\n"
        },
        {
            "input": "3\n3 2 3 2\n3 5 9 6\n2 8 7\n",
            "output": "24 18\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 1100 1000 1000 1000 1010\n5 1000 1000 1000 1000 1000\n",
            "output": "7100 7011\n"
        },
        {
            "input": "4\n3 1 7 100\n3 1 5 110\n3 100 1 2\n3 100 1 0\n",
            "output": "210 218\n"
        },
        {
            "input": "3\n5 2 2 3 0 5\n4 1 2 3 4\n8 1 1 3 4 5 6 10 8\n",
            "output": "19 41\n"
        },
        {
            "input": "3\n3 0 3 2\n3 13 5 6\n2 8 7\n",
            "output": "26 18\n"
        },
        {
            "input": "2\n1 100\n2 1 4\n",
            "output": "101 4\n"
        },
        {
            "input": "3\n3 1000 1000 1000\n6 1000 1000 1000 1000 1000 1001\n5 1000 1010 1000 1011 1000\n",
            "output": "7010 7012\n"
        },
        {
            "input": "3\n3 1000 1000 1001\n6 1000 0000 1000 1000 1000 1001\n5 1001 1010 1010 1001 1000\n",
            "output": "6021 7003\n"
        },
        {
            "input": "1\n9 2 2 18 1 9 4 4 1 3\n",
            "output": "32 12\n"
        },
        {
            "input": "5\n5 1 1 1 1 1\n4 1 2 1 1\n3 1 1 1\n2 1 1\n1 0\n",
            "output": "8 7\n"
        },
        {
            "input": "4\n3 1 5 100\n3 1 5 110\n3 100 1 0\n3 100 1 1\n",
            "output": "208 217\n"
        },
        {
            "input": "1\n9 2 8 6 4 9 4 4 1 3\n",
            "output": "29 12\n"
        },
        {
            "input": "4\n3 1 5 100\n3 1 5 110\n3 100 1 2\n3 100 1 0\n",
            "output": "208 218\n"
        },
        {
            "input": "1\n9 1 8 6 2 9 4 4 1 3\n",
            "output": "26 12\n"
        }
    ],
    "solution": [
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class P388C\n{\n    public static StringTokenizer st;\n    public static void nextLine(BufferedReader br) throws IOException\n    {\n        st = new StringTokenizer(br.readLine());\n    }\n    \n    public static String next()\n    {\n        return st.nextToken();\n    }\n    \n    public static int nextInt()\n    {\n        return Integer.parseInt(st.nextToken());\n    }\n    \n    public static long nextLong()\n    {\n        return Long.parseLong(st.nextToken());\n    }\n    \n    public static double nextDouble()\n    {\n        return Double.parseDouble(st.nextToken());\n    }\n    \n    static int[] dp;\n    \n    public static void main(String[] args) throws IOException\n    {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        nextLine(br);\n        int n = nextInt();\n        int[][] piles = new int[n][];\n        int sum = 0;\n        for (int i = 0; i < n; i++)\n        {\n            nextLine(br);\n            int s = nextInt();\n            piles[i] = new int[s];\n            for (int j = 0; j < s; j++)\n            {\n                piles[i][j] = nextInt();\n                sum += piles[i][j];\n            }\n        }\n        ArrayList<Integer> list = new ArrayList<Integer>();\n        int win = 0;\n        for (int i = 0; i < n; i++)\n        {\n            if (piles[i].length % 2 == 0)\n            {\n                for (int j = 0; j < piles[i].length / 2; j++)\n                {\n                    win += piles[i][j];\n                }\n            }\n            else\n            {\n                list.add(piles[i][piles[i].length / 2]);\n                for (int j = 0; j < piles[i].length / 2; j++)\n                {\n                    win += piles[i][j];\n                }\n            }\n        }\n        Collections.sort(list, Collections.<Integer>reverseOrder());\n        for (int i = 0; i < list.size(); i++)\n        {\n            if (i % 2 == 0)\n            {\n                win += list.get(i);\n            }\n        }\n        System.out.println(win + \" \" + (sum - win));\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> vec;\nint main() {\n  int n;\n  cin >> n;\n  int A = 0, B = 0;\n  for (int i = 0; i < n; i++) {\n    int s;\n    cin >> s;\n    for (int j = 0; j < s / 2; j++) {\n      int x;\n      cin >> x;\n      A += x;\n    }\n    if (s % 2) {\n      int x;\n      cin >> x;\n      vec.push_back(x);\n    }\n    for (int j = 0; j < s / 2; j++) {\n      int x;\n      cin >> x;\n      B += x;\n    }\n  }\n  sort(vec.begin(), vec.end());\n  reverse(vec.begin(), vec.end());\n  for (int i = 0; i < vec.size(); i++) {\n    if (i % 2)\n      B += vec[i];\n    else\n      A += vec[i];\n  }\n  cout << A << ' ' << B << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong int sum[1001][1001], size1[1001];\nvector<long int> ar;\nint main() {\n  long int n, i, j, k, a, sum1 = 0, sum2 = 0, temp;\n  cin >> n;\n  for (i = 0; i < n; i++) {\n    cin >> k;\n    size1[i] = k;\n    for (j = 0; j < k; j++) {\n      cin >> a;\n      if (j) {\n        sum[i][j] = sum[i][j - 1] + a;\n      } else {\n        sum[i][j] = a;\n      }\n    }\n  }\n  for (i = 0; i < n; i++) {\n    if (size1[i] % 2 == 0) {\n      temp = size1[i] / 2;\n      sum1 += sum[i][temp - 1];\n      sum2 += sum[i][size1[i] - 1] - sum[i][temp - 1];\n    } else {\n      temp = size1[i] / 2;\n      if (temp != 0) {\n        sum1 += sum[i][temp - 1];\n      }\n      sum2 += sum[i][size1[i] - 1] - sum[i][temp];\n      ar.push_back(sum[i][temp] - sum[i][temp - 1]);\n    }\n  }\n  sort(ar.begin(), ar.end());\n  reverse(ar.begin(), ar.end());\n  for (i = 0; i < ar.size(); i++) {\n    if (i % 2) {\n      sum2 += ar[i];\n    } else {\n      sum1 += ar[i];\n    }\n  }\n  cout << sum1 << \" \" << sum2;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\ntypedef struct nodo {\n  int dato;\n  struct nodo *anterior;\n  struct nodo *siguiente;\n} nodo;\ntypedef struct pila {\n  nodo *primero;\n  nodo *ultimo;\n} mazos;\nvoid agregar(mazos *mazo, int valor);\nvoid CrearMazo(mazos *mazo, int n);\nvoid imprimir(mazos mazo[], int dim);\nvoid eliminar(mazos *mazo, nodo *actual);\nint main() {\n  int n, i, j, valor, turno = 1, ciel = 0, mayor, jiro = 0, ban = 1, cont,\n                      indice;\n  nodo *direccion;\n  scanf(\"%d\", &n);\n  int x[n];\n  mazos mazo[n];\n  CrearMazo(mazo, n);\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &x[i]);\n    for (j = 0; j < x[i]; j++) {\n      scanf(\"%d\", &valor);\n      agregar(&mazo[i], valor);\n    }\n  }\n  for (i = 0; i < n; i++) {\n    if (x[i] % 2 == 0) {\n      while (mazo[i].primero != NULL) {\n        if (turno % 2 != 0) {\n          ciel += mazo[i].primero->dato;\n          eliminar(&mazo[i], mazo[i].primero);\n        } else {\n          jiro += mazo[i].ultimo->dato;\n          eliminar(&mazo[i], mazo[i].ultimo);\n        }\n        turno++;\n      }\n    } else {\n      while (mazo[i].primero != mazo[i].ultimo) {\n        if (turno % 2 != 0) {\n          ciel += mazo[i].primero->dato;\n          eliminar(&mazo[i], mazo[i].primero);\n        } else {\n          jiro += mazo[i].ultimo->dato;\n          eliminar(&mazo[i], mazo[i].ultimo);\n        }\n        turno++;\n      }\n    }\n  }\n  while (ban == 1) {\n    ban = 0;\n    indice = -1;\n    mayor = 0;\n    for (i = 0; i < n; i++) {\n      if (mazo[i].primero != NULL) {\n        if (turno % 2 == 0) {\n          if (mayor < mazo[i].ultimo->dato) {\n            mayor = mazo[i].ultimo->dato;\n            direccion = mazo[i].ultimo;\n            indice = i;\n          }\n        } else {\n          if (mayor < mazo[i].primero->dato) {\n            mayor = mazo[i].primero->dato;\n            direccion = mazo[i].primero;\n            indice = i;\n          }\n        }\n      }\n    }\n    if (turno % 2 != 0 && indice != -1) {\n      ciel += mayor;\n      eliminar(&mazo[indice], direccion);\n      ban = 1;\n    } else if (turno % 2 == 0 && indice != -1) {\n      jiro += mayor;\n      eliminar(&mazo[indice], direccion);\n      ban = 1;\n    }\n    turno++;\n  }\n  printf(\"%d %d\", ciel, jiro);\n  return 0;\n}\nvoid agregar(mazos *mazo, int valor) {\n  nodo *nuevo = (nodo *)malloc(sizeof(nodo));\n  if (mazo->ultimo != NULL) {\n    nuevo->anterior = mazo->ultimo;\n    mazo->ultimo->siguiente = nuevo;\n  } else {\n    nuevo->anterior = NULL;\n    mazo->primero = nuevo;\n  }\n  mazo->ultimo = nuevo;\n  nuevo->siguiente = NULL;\n  nuevo->dato = valor;\n}\nvoid CrearMazo(mazos *mazo, int n) {\n  int i;\n  for (i = 0; i < n; i++) {\n    mazo[i].primero = NULL;\n    mazo[i].ultimo = NULL;\n  }\n}\nvoid imprimir(mazos mazo[], int dim) {\n  int i;\n  nodo *actual;\n  for (i = 0; i < dim; i++) {\n    actual = mazo[i].primero;\n    while (actual != NULL) {\n      printf(\"%d \", actual->dato);\n      actual = actual->siguiente;\n    }\n  }\n}\nvoid eliminar(mazos *mazo, nodo *actual) {\n  nodo *temp = (nodo *)malloc(sizeof(nodo));\n  if (mazo->ultimo == mazo->primero) {\n    mazo->primero = NULL;\n    mazo->ultimo = NULL;\n    temp = actual;\n  } else {\n    if (actual->siguiente == NULL) {\n      actual->anterior->siguiente = NULL;\n      mazo->ultimo = actual->anterior;\n    } else {\n      actual->siguiente->anterior = NULL;\n      mazo->primero = actual->siguiente;\n    }\n    temp = actual;\n  }\n  free(temp);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> A;\nint main() {\n  int n, x;\n  cin >> n;\n  int cards = 0;\n  int ciel = 0, jiro = 0;\n  for (int i = 0; i < n; i++) {\n    int m;\n    cin >> m;\n    cards += m;\n    for (int j = 0; j < m; j++) {\n      cin >> x;\n      if (m % 2 == 0) {\n        if (j < m / 2) {\n          ciel += x;\n        } else {\n          jiro += x;\n        }\n      }\n      if (m % 2 == 1) {\n        if (j < m / 2) {\n          ciel += x;\n        }\n        if (j == m / 2) {\n          A.push_back(x);\n        }\n        if (j > m / 2) {\n          jiro += x;\n        }\n      }\n    }\n  }\n  sort(A.begin(), A.end());\n  int f = 0;\n  for (int i = A.size() - 1; i >= 0; i--) {\n    if (f == 0) {\n      ciel += A[i];\n      f = 1;\n    } else {\n      f = 0;\n      jiro += A[i];\n    }\n  }\n  cout << ciel << \" \" << jiro << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> v;\nint a[110][110];\nint n;\nbool cmp(int x, int y) { return x > y; }\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &a[i][0]);\n    for (int j = 1; j <= a[i][0]; j++) scanf(\"%d\", &a[i][j]);\n  }\n  int l = 0, r = 0;\n  for (int i = 1; i <= n; i++) {\n    for (int x = 1, y = a[i][0]; x < y; x++, y--) {\n      l += a[i][x];\n      r += a[i][y];\n    }\n    if (a[i][0] & 1) v.push_back(a[i][(a[i][0] + 1) / 2]);\n  }\n  sort(v.begin(), v.end(), cmp);\n  for (int i = 0; i < v.size(); i++)\n    if (i & 1)\n      r += v[i];\n    else\n      l += v[i];\n  printf(\"%d %d\\n\", l, r);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\nimport java.util.Stack;\nimport java.util.StringTokenizer;\nimport java.util.TreeSet;\nimport java.lang.Long;\n\npublic class Test {\n\tstatic long mod = 1000000007;\n\tstatic int[][][] dp;\n\n\tstatic int contains;\n\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\tScanner in = new Scanner();\n\t\tint n = in.nextInt();\n\t\tint a = 0;\n\t\tint b = 0;\n\t\tArrayList<Integer> list = new ArrayList();\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tint l = in.nextInt();\n\t\t\tint[]data = new int[l];\n\t\t\tfor(int j = 0; j < l; j++){\n\t\t\t\tdata[j] = in.nextInt();\n\t\t\t}\n\t\t\tif(l % 2 == 1){\n\t\t\t\tlist.add(data[l/2]);\n\t\t\t}\n\t\t\tfor(int j = 0; j < l/2; j++){\n\t\t\t\ta += data[j];\n\t\t\t\tb += data[j + (l/2) + (l % 2)];\n\t\t\t}\n\t\t}\n\t\tCollections.sort(list, Collections.reverseOrder());\n\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\tif(i % 2 == 0){\n\t\t\t\ta += list.get(i);\n\t\t\t}else{\n\t\t\t\tb += list.get(i);\n\t\t\t}\n\t\t}\n\t\tout.println(a + \" \" + b);\n\t\tout.close();\n\t}\n\n\tpublic static int cal(int index, int greater, int smaller, long a, long b) {\n\t\tif (index < 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (greater == 1 && smaller == 1) {\n\t\t\treturn dp[index][greater][smaller] = 1 + index;\n\t\t}\n\t\tif (dp[index][greater][smaller] != -1) {\n\t\t\treturn dp[index][greater][smaller];\n\t\t}\n\t\tint result = 0;\n\t\tint x = ((1L << index) & a) != 0 ? 1 : 0;\n\t\tint y = ((1L << index) & b) != 0 ? 1 : 0;\n\t\t// System.out.println(x + \" \" + y + \" \" + index);\n\t\tfor (int i = 0; i < 2; i++) {\n\t\t\tif ((smaller == 1 || y >= i) && (greater == 1 || x <= i)) {\n\t\t\t\tresult = Math.max(\n\t\t\t\t\t\tresult,\n\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t+ cal(index - 1, x < i ? 1 : greater, y > i ? 1\n\t\t\t\t\t\t\t\t\t\t: smaller, a, b));\n\t\t\t}\n\t\t}\n\t\treturn dp[index][greater][smaller] = result;\n\t}\n\n\tstatic int cal(int index, int m, int[] pos) {\n\t\tint result = 1;\n\n\t\tfor (int i = 0; i < pos.length; i++) {\n\t\t\tif (pos[i] == index) {\n\t\t\t\tresult += cal(i, m, pos);\n\t\t\t}\n\t\t}\n\t\tif (index == m) {\n\t\t\tcontains = 1;\n\t\t} else if (contains != -1) {\n\t\t\tcontains++;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tstatic int crossProduct(Point a, Point b) {\n\t\treturn a.x * b.y + a.y * b.x;\n\t}\n\n\tstatic long squareDist(Point a) {\n\t\tlong x = a.x;\n\t\tlong y = a.y;\n\t\treturn x * x + y * y;\n\t}\n\n\tstatic Point minus(Point a, Point b) {\n\t\treturn new Point(a.x - b.x, a.y - b.y);\n\t}\n\n\tpublic static boolean nextPer(int[] data) {\n\t\tint i = data.length - 1;\n\t\twhile (i > 0 && data[i] < data[i - 1]) {\n\t\t\ti--;\n\t\t}\n\t\tif (i == 0) {\n\t\t\treturn false;\n\t\t}\n\t\tint j = data.length - 1;\n\t\twhile (data[j] < data[i - 1]) {\n\t\t\tj--;\n\t\t}\n\t\tint temp = data[i - 1];\n\t\tdata[i - 1] = data[j];\n\t\tdata[j] = temp;\n\t\tArrays.sort(data, i, data.length);\n\t\treturn true;\n\t}\n\n\tstatic class Point {\n\t\tint x, y;\n\n\t\tpublic Point(int x, int y) {\n\t\t\tsuper();\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t}\n\n\t\tpublic String toString() {\n\t\t\treturn \"{\" + x + \" \" + y + \"}\";\n\t\t}\n\n\t}\n\n\tstatic class Entry implements Comparable<Entry> {\n\t\tint x, cost;\n\n\t\tpublic Entry(int x, int cost) {\n\t\t\tsuper();\n\t\t\tthis.x = x;\n\t\t\tthis.cost = cost;\n\t\t}\n\n\t\tpublic int compareTo(Entry o) {\n\t\t\t// TODO Auto-generated method stub\n\t\t\tif (cost > o.cost) {\n\t\t\t\treturn 1;\n\t\t\t} else if (cost == o.cost) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tstatic int gcd(int a, int b) {\n\t\tif (b == 0) {\n\t\t\treturn a;\n\t\t}\n\t\treturn gcd(b, a % b);\n\t}\n\n\tstatic class Scanner {\n\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n\n\t\tpublic Scanner() throws FileNotFoundException {\n\t\t\t// System.setOut(new PrintStream(new\n\t\t\t// BufferedOutputStream(System.out), true));\n\t\t\tbr = new BufferedReader(new InputStreamReader(System.in));\n\t\t\t// br = new BufferedReader(new InputStreamReader(new\n\t\t\t// FileInputStream(new File(\"B-large.in\"))));\n\t\t}\n\n\t\tpublic String next() {\n\n\t\t\twhile (st == null || !st.hasMoreTokens()) {\n\t\t\t\ttry {\n\t\t\t\t\tst = new StringTokenizer(br.readLine());\n\t\t\t\t} catch (Exception e) {\n\t\t\t\t\tthrow new RuntimeException();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic long nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tpublic String nextLine() {\n\t\t\tst = null;\n\t\t\ttry {\n\t\t\t\treturn br.readLine();\n\t\t\t} catch (Exception e) {\n\t\t\t\tthrow new RuntimeException();\n\t\t\t}\n\t\t}\n\n\t\tpublic boolean endLine() {\n\t\t\ttry {\n\t\t\t\tString next = br.readLine();\n\t\t\t\twhile (next != null && next.trim().isEmpty()) {\n\t\t\t\t\tnext = br.readLine();\n\t\t\t\t}\n\t\t\t\tif (next == null) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tst = new StringTokenizer(next);\n\t\t\t\treturn st.hasMoreTokens();\n\t\t\t} catch (Exception e) {\n\t\t\t\tthrow new RuntimeException();\n\t\t\t}\n\t\t}\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  std::ios_base::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  int a1 = 0, a2 = 0;\n  vector<int> rem;\n  for (int i = 0; i < (n); i++) {\n    int x;\n    cin >> x;\n    vector<int> A;\n    for (int j = 0; j < (x); j++) {\n      int k;\n      cin >> k;\n      A.push_back(k);\n    };\n    if (x & 1) rem.push_back(A[x / 2]);\n    for (int j = 0; j < (x / 2); j++) a1 += A[j], a2 += A[x - 1 - j];\n  }\n  sort(rem.begin(), rem.end());\n  reverse(rem.begin(), rem.end());\n  for (int i = 0; i < (((int)rem.size())); i++)\n    if (i & 1)\n      a2 += rem[i];\n    else\n      a1 += rem[i];\n  cout << a1 << \" \" << a2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long gcd(long long x, long long y) {\n  if (y == 0)\n    return x;\n  else\n    return gcd(y, x % y);\n}\nlong long lcm(long long x, long long y) { return x / gcd(x, y) * y; }\nlong long binpow(long long a, long long p) {\n  if (!p) return 1;\n  long long g = binpow(a, p >> 1);\n  if (p % 2 == 0)\n    return (g * g) % 1000000007;\n  else\n    return (((g * g) % 1000000007) * a) % 1000000007;\n}\nlong long rev(long long n) { return binpow(n, (long long)1000000007 - 2LL); }\nvoid solve(int test_number);\nint main() {\n  cout.setf(ios::fixed);\n  cout.precision(20);\n  cerr.setf(ios::fixed);\n  cerr.precision(3);\n  int n = 1;\n  for (int i = 0; i < n; ++i) solve(i + 1);\n}\nlong long sa, sb;\nint n;\nint cnt;\nlong long cur[100100];\nlong long a[100100];\nint sz = 0;\nvoid solve(int test_number) {\n  sa = sb = 0;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    cin >> cnt;\n    for (int j = 0; j < cnt; j++) {\n      cin >> cur[j];\n    }\n    for (int j = 0; j < cnt / 2; j++) sa += cur[j];\n    for (int j = cnt / 2 + cnt % 2; j < cnt; j++) sb += cur[j];\n    if (cnt % 2 == 1) {\n      a[sz] = cur[cnt / 2];\n      sz++;\n    }\n  }\n  sort(a, a + sz, greater<int>());\n  for (int i = 0; i < sz; i++)\n    if (i % 2 == 0)\n      sa += a[i];\n    else\n      sb += a[i];\n  cout << sa << ' ' << sb << endl;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class cf388c {\n  static FastIO in = new FastIO(), out = in;\n\n  public static void main(String[] args) {\n    int n = in.nextInt();\n    ArrayList<Integer> vals = new ArrayList<Integer>();\n    int ans1 = 0, ans2 = 0;\n    for(int i=0; i<n; i++) {\n      int m = in.nextInt();\n      for(int j=0; j<m/2; j++)\n        ans1 += in.nextInt();\n      if(m%2 == 1) vals.add(in.nextInt());\n      for(int j=0; j<m/2; j++)\n        ans2 += in.nextInt();\n    }\n    Collections.sort(vals);\n    boolean who = true;\n    for(int i=vals.size()-1; i>=0; i--) {\n      if(who) ans1 += vals.get(i);\n      else ans2 += vals.get(i);\n      who ^= true;\n    }\n    out.println(ans1 + \" \" + ans2);\n    out.close();\n  }\n\n  static class FastIO extends PrintWriter {\n    BufferedReader br;\n    StringTokenizer st;\n\n    public FastIO() {\n      this(System.in, System.out);\n    }\n\n    public FastIO(InputStream in, OutputStream out) {\n      super(new BufferedWriter(new OutputStreamWriter(out)));\n      br = new BufferedReader(new InputStreamReader(in));\n      scanLine();\n    }\n\n    public void scanLine() {\n      try {\n        st = new StringTokenizer(br.readLine().trim());\n      } catch (Exception e) {\n        throw new RuntimeException(e.getMessage());\n      }\n    }\n\n    public int numTokens() {\n      if (!st.hasMoreTokens()) {\n        scanLine();\n        return numTokens();\n      }\n      return st.countTokens();\n    }\n\n    public String next() {\n      if (!st.hasMoreTokens()) {\n        scanLine();\n        return next();\n      }\n      return st.nextToken();\n    }\n\n    public double nextDouble() {\n      return Double.parseDouble(next());\n    }\n\n    public long nextLong() {\n      return Long.parseLong(next());\n    }\n\n    public int nextInt() {\n      return Integer.parseInt(next());\n    }\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nmt19937 mrand(43);\nconst double PI = acos((double)-1);\nconst double eps = 1e-5;\nconst long long inf0 = 1023 * 1024 * 1024;\nconst long long inf = inf0 * inf0;\nconst long long mod = 1e9 + 7;\nvoid solve();\nvoid scan();\nsigned main() {\n  cin.tie(0);\n  cout.tie(0);\n  ios_base::sync_with_stdio(false);\n  cout << fixed;\n  cout.precision(15);\n  solve();\n  return 0;\n}\nvoid solve() {\n  int n;\n  cin >> n;\n  vector<vector<int>> a(n);\n  long long a1 = 0, a2 = 0;\n  vector<int> mem;\n  for (int i = 0; i < n; i++) {\n    int s;\n    cin >> s;\n    a[i].resize(s);\n    for (int& j : a[i]) cin >> j;\n    for (int j = 0; j < s / 2; j++) {\n      a1 += a[i][j];\n    }\n    reverse((a[i]).begin(), (a[i]).end());\n    for (int j = 0; j < s / 2; j++) a2 += a[i][j];\n    if (s & 1) mem.push_back(a[i][s / 2]);\n  }\n  sort((mem).rbegin(), (mem).rend());\n  for (int i = 0; i < mem.size(); i++) {\n    if (i & 1)\n      a2 += mem[i];\n    else\n      a1 += mem[i];\n  }\n  cout << a1 << \" \" << a2 << '\\n';\n  return;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long int mx = 100000;\nint main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  int n;\n  cin >> n;\n  long long ans = 0;\n  long long sum = 0;\n  vector<int> vect;\n  while (n--) {\n    int c;\n    cin >> c;\n    for (int i = 0; i < c; i++) {\n      int x;\n      cin >> x;\n      sum += x;\n      if (i < c / 2) ans += x;\n      if (c & 1 && i == c / 2) vect.push_back(x);\n    }\n  }\n  sort(vect.begin(), vect.end(), greater<int>());\n  for (int i = 0; i < vect.size(); i += 2) ans += vect[i];\n  cout << ans << \" \" << sum - ans << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst double eps = 1e-8;\nconst double pi = acos(-1.0);\nvector<int> all;\nint a[105];\nint main() {\n  int n, i, sum1 = 0, sum = 0, j, x;\n  scanf(\"%d\", &n);\n  for (i = 1; i <= n; ++i) {\n    scanf(\"%d\", &x);\n    for (j = 1; j <= x; ++j) {\n      scanf(\"%d\", &a[j]);\n    }\n    for (j = 1; j * 2 <= x; ++j) sum += a[j];\n    if (x & 1) {\n      all.push_back(a[(x + 1) / 2]);\n      ++j;\n    }\n    for (; j <= x; ++j) sum1 += a[j];\n  }\n  sort(all.begin(), all.end());\n  reverse(all.begin(), all.end());\n  for (i = 0; i < all.size(); ++i) {\n    if (i & 1)\n      sum1 += all[i];\n    else\n      sum += all[i];\n  }\n  printf(\"%d %d\\n\", sum, sum1);\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "def main():\n    n = int(raw_input())\n    a = [0, 0]\n    c = []\n    for i in xrange(n):\n        l = map(int, raw_input().split())\n        m, l = l[0], l[1:]\n        a[0] += sum(l[:m/2])\n        a[1] += sum(l) - sum(l[:m-m/2])\n        if m % 2:\n            c.append(l[m/2])\n    c.sort(reverse=True)\n    for i, x in enumerate(c):\n        a[i%2] += x\n    print a[0], a[1]\nmain()\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long rdtsc() {\n  long long tmp;\n  asm(\"rdtsc\" : \"=A\"(tmp));\n  return tmp;\n}\ninline int myrand() { return abs((rand() << 15) ^ rand()); }\ninline int rnd(int x) { return myrand() % x; }\nconst int maxn = 100;\nint a[maxn][maxn];\nint cnt[maxn];\nint tosort[maxn];\nbool solve() {\n  int n;\n  if (scanf(\"%d\", &n) < 1) return 0;\n  int ans1 = 0, ans2 = 0;\n  int odd = 0;\n  for (int i = 0; i < n; ++i) {\n    scanf(\"%d\", &cnt[i]);\n    for (int j = 0; j < cnt[i]; ++j) {\n      int x;\n      scanf(\"%d\", &x);\n      a[i][j] = x;\n    }\n    for (int j = 0; j < cnt[i] / 2; ++j)\n      ans1 += a[i][j], ans2 += a[i][cnt[i] - 1 - j];\n    if (cnt[i] & 1) tosort[odd++] = a[i][cnt[i] / 2];\n  }\n  sort(tosort, tosort + odd);\n  reverse(tosort, tosort + odd);\n  for (int i = 0; i < odd; ++i)\n    if (!(i & 1))\n      ans1 += tosort[i];\n    else\n      ans2 += tosort[i];\n  printf(\"%d %d\\n\", ans1, ans2);\n  return 1;\n}\nint main() {\n  srand(rdtsc());\n  while (1) {\n    if (!solve()) break;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, s[120], c[120][120], tota, totb, sta[120], top;\nvoid deal(int a[], int p) {\n  if (p & 1) sta[++top] = a[(p + 1) / 2];\n  for (int i = 1; i <= p / 2; i++) tota += a[i];\n  for (int i = (p + 1) / 2 + 1; i <= p; i++) totb += a[i];\n}\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", s + i);\n    for (int j = 1; j <= s[i]; j++) scanf(\"%d\", &c[i][j]);\n    deal(c[i], s[i]);\n  }\n  sort(sta + 1, sta + top + 1);\n  for (int i = top; i >= 1; i--)\n    if ((top - i) & 1)\n      totb += sta[i];\n    else\n      tota += sta[i];\n  printf(\"%d %d\\n\", tota, totb);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long int;\nint main() {\n  ll T;\n  cin >> T;\n  ll a = 0, b = 0;\n  vector<ll> v;\n  for (ll i = 1; i <= T; i++) {\n    ll n;\n    cin >> n;\n    if (n & 1) {\n      for (ll i = 1; i <= n / 2; i++) {\n        ll t;\n        cin >> t;\n        a += t;\n      }\n      ll t;\n      cin >> t;\n      v.push_back(t);\n      for (ll i = n / 2 + 2; i <= n; i++) {\n        ll t;\n        cin >> t;\n        b += t;\n      }\n    } else {\n      for (ll i = 1; i <= n / 2; i++) {\n        ll t;\n        cin >> t;\n        a += t;\n      }\n      for (ll i = n / 2 + 1; i <= n; i++) {\n        ll t;\n        cin >> t;\n        b += t;\n      }\n    }\n  }\n  sort(v.begin(), v.end(), greater<ll>());\n  for (ll i = 0; i < v.size(); i++)\n    if (i % 2 == 0)\n      a += v[i];\n    else\n      b += v[i];\n  cout << a << \" \" << b << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nvoid Quicksort(int *v, int izq, int der);\nint pivot(int *v, int izq, int der);\nint main() {\n  int i, n, carta, contador = 0, j, m;\n  scanf(\"%d\", &n);\n  int vector[101], ciel = 0, jiro = 0;\n  for (i = 0; i < 101; i++) {\n    vector[i] = 0;\n  }\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    for (j = 0; j < m; j++) {\n      scanf(\"%d\", &carta);\n      if (j < m / 2) {\n        ciel = ciel + carta;\n      } else if (m % 2 != 0 && j == m / 2) {\n        vector[contador] = carta;\n        contador++;\n      } else {\n        jiro = jiro + carta;\n      }\n    }\n  }\n  Quicksort(vector, 0, 100);\n  for (i = 0; i < contador; i++) {\n    if (i % 2 != 0)\n      jiro = jiro + vector[i];\n    else\n      ciel = ciel + vector[i];\n  }\n  printf(\"%d %d\", ciel, jiro);\n  return 0;\n}\nint pivot(int *v, int izq, int der) {\n  int i;\n  int pivote, valor_pivote;\n  int aux;\n  pivote = izq;\n  valor_pivote = v[pivote];\n  for (i = izq + 1; i <= der; i++) {\n    if (v[i] > valor_pivote) {\n      pivote++;\n      aux = v[i];\n      v[i] = v[pivote];\n      v[pivote] = aux;\n    }\n  }\n  aux = v[izq];\n  v[izq] = v[pivote];\n  v[pivote] = aux;\n  return pivote;\n}\nvoid Quicksort(int *v, int izq, int der) {\n  int pivote;\n  if (izq < der) {\n    pivote = pivot(v, izq, der);\n    Quicksort(v, izq, pivote - 1);\n    Quicksort(v, pivote + 1, der);\n  }\n}\n"
        },
        {
            "language": 3,
            "solution": "import re\n\ndef main():\n  n=eval(input())\n  a=[]\n  s=[]\n  s.append(0)\n  s.append(0)\n  while n:\n    n-=1\n    temp=re.split(' ',input())\n    k=eval(temp[0])\n    for i in range(k>>1):\n      s[0]+=eval(temp[i+1])\n    if k&1:\n      a.append(eval(temp[(k+1)>>1]))\n    for i in range((k+1)>>1,k):\n      s[1]+=eval(temp[i+1])\n  a.sort(reverse=True)\n  k=0\n  for i in a:\n    s[k]+=i\n    k^=1\n  print(s[0],s[1])\n\nmain()"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nint s[105];\nint c[105][105];\nint ans[2];\nvector<int> mid;\nint main() {\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    cin >> s[i];\n    for (int j = 0; j < s[i]; j++) {\n      cin >> c[i][j];\n      if (j < s[i] / 2) {\n        ans[0] += c[i][j];\n      } else {\n        if (s[i] % 2 == 1 && j == s[i] / 2) {\n          mid.push_back(c[i][j]);\n        } else {\n          ans[1] += c[i][j];\n        }\n      }\n    }\n  }\n  sort(mid.begin(), mid.end());\n  reverse(mid.begin(), mid.end());\n  for (int i = 0; i < mid.size(); i++) {\n    ans[i % 2] += mid[i];\n  }\n  cout << ans[0] << \" \" << ans[1] << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 0x3f3f3f3f;\nconst long long int llINF = 0x3f3f3f3f3f3f3f;\nconst int N = 1e6 + 1;\nconst int MAX_SIEVE = 1e6 + 2;\nint main() {\n  long long int a = 0, b = 0;\n  vector<long long int> mid;\n  int n;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int s;\n    scanf(\"%d\", &s);\n    for (int j = 0; j < s / 2; j++) {\n      long long int plc;\n      scanf(\"%lld\", &plc);\n      a += plc;\n    }\n    if (s % 2) {\n      long long int plc;\n      scanf(\"%lld\", &plc);\n      mid.push_back(plc);\n    }\n    for (int j = 0; j < s / 2; j++) {\n      long long int plc;\n      scanf(\"%lld\", &plc);\n      b += plc;\n    }\n  }\n  sort(mid.begin(), mid.end());\n  for (int i = mid.size() - 1, j = 0; i >= 0; i--, j++) {\n    if (j % 2)\n      b += mid[i];\n    else\n      a += mid[i];\n  }\n  printf(\"%lld %lld\\n\", a, b);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, x, y;\nvector<int> A, O;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int a;\n    scanf(\"%d\", &a);\n    A.resize(a);\n    for (int j = 0; j < a; j++) scanf(\"%d\", &A[j]);\n    if ((a & 1) == 1) {\n      for (int j = 0; j < a / 2; j++) x += A[j];\n      for (int j = a / 2 + 1; j < a; j++) y += A[j];\n      O.push_back(A[a / 2]);\n    } else {\n      for (int j = 0; j < a / 2; j++) x += A[j];\n      for (int j = a / 2; j < a; j++) y += A[j];\n    }\n  }\n  sort((O).begin(), (O).end(), greater<int>());\n  for (int i = 0; i < (int)(O).size(); i++) {\n    if (i % 2)\n      y += O[i];\n    else\n      x += O[i];\n  }\n  printf(\"%d %d\\n\", x, y);\n}\n"
        },
        {
            "language": 3,
            "solution": "p, n = [], int(input())\na = b = 0\nfor i in range(n):\n    t = list(map(int, input().split()))\n    k = t[0] // 2 + 1\n    a += sum(t[1: k])\n    if t[0] & 1:\n        p.append(t[k])\n        b += sum(t[k + 1: ])\n    else: b += sum(t[k: ])\np.sort(reverse = True)\nprint(a + sum(p[0 :: 2]), b + sum(p[1 :: 2]))"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> Q[123];\nint stk[123];\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int x;\n    scanf(\"%d\", &x);\n    for (int j = 0; j < x; j++) {\n      int u;\n      scanf(\"%d\", &u);\n      Q[i].push_back(u);\n    }\n  }\n  int cnt = 0;\n  int A = 0, B = 0;\n  for (int i = 0; i < n; i++) {\n    if (Q[i].size() % 2 == 1) {\n      stk[cnt++] = Q[i][Q[i].size() / 2];\n    }\n    for (int j = 0; j < Q[i].size() / 2; j++) A += Q[i][j];\n    for (int j = 0; j < Q[i].size() / 2; j++) B += Q[i][Q[i].size() - 1 - j];\n  }\n  sort(stk, stk + cnt);\n  for (int i = cnt - 2; i > -1; i -= 2) B += stk[i];\n  for (int i = cnt - 1; i > -1; i -= 2) A += stk[i];\n  cout << A << ' ' << B << '\\n';\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstruct gameTheoryGraph {\n  struct Edge {\n    int id;\n    int dest;\n    long long weight;\n    Edge(int _dest = -1, long long _weight = 1, int _id = 0) {\n      dest = _dest;\n      weight = _weight;\n      id = _id;\n    }\n    bool operator<(const Edge& other) const { return dest < other.dest; }\n  };\n  int n;\n  vector<vector<Edge>> adj;\n  vector<int> mex, topologicalOrder;\n  gameTheoryGraph(int nodes = 0) {\n    n = nodes;\n    adj.resize(n + 1);\n  }\n  void addEdgeDirected(int u, int v, long long w = 1) {\n    adj[u].push_back(Edge(v, w));\n  }\n  void getMex() {\n    mex = vector<int>(n + 1, -1);\n    for (int i = 1; i <= n; i++) {\n      if (adj[i].size() == 0) mex[i] = 0;\n    }\n    topoSort();\n    vector<int> neighbourMex(n, 0);\n    reverse(topologicalOrder.begin(), topologicalOrder.end());\n    for (auto cur : topologicalOrder) {\n      if (mex[cur] == -1) {\n        for (auto it : adj[cur]) {\n          neighbourMex[mex[it.dest]] = 1;\n        }\n        mex[cur] = 0;\n        while (neighbourMex[mex[cur]] == 1) mex[cur]++;\n        for (auto it : adj[cur]) {\n          neighbourMex[it.dest] = 0;\n        }\n      }\n    }\n  }\n  void topoSort() {\n    vector<int> ins(n + 1, 0);\n    topologicalOrder.clear();\n    for (int i = (1); i <= (n); ++i)\n      for (auto it : adj[i]) ++ins[it.dest];\n    deque<int> q;\n    for (int i = (1); i <= (n); ++i)\n      if (ins[i] == 0) q.push_back(i);\n    while (!q.empty()) {\n      int v = q.front();\n      q.pop_front();\n      for (auto it : adj[v])\n        if ((--ins[it.dest]) == 0) topologicalOrder.push_back(it.dest);\n      topologicalOrder.push_back(v);\n    }\n    topologicalOrder = (int((topologicalOrder).size()) == n) ? topologicalOrder\n                                                             : vector<int>();\n  }\n};\nint main() {\n  std::ios::sync_with_stdio(0);\n  std::cin.tie(0);\n  std::cout.tie(0);\n  int n;\n  cin >> n;\n  vector<vector<long long>> a(n);\n  long long total = 0;\n  for (int i = 0; i < n; i++) {\n    int si;\n    cin >> si;\n    a[i].resize(si);\n    for (int j = 0; j < si; j++) {\n      cin >> a[i][j];\n      total += a[i][j];\n    }\n  }\n  long long player1 = 0;\n  vector<long long> rem;\n  for (int i = 0; i < n; i++) {\n    for (int j = 0; j < (a[i].size() / 2); j++) {\n      player1 += a[i][j];\n    }\n    if (a[i].size() % 2 == 1) {\n      rem.push_back(a[i][a[i].size() / 2]);\n    }\n  }\n  sort(rem.begin(), rem.end());\n  reverse(rem.begin(), rem.end());\n  for (int i = 0; i < rem.size(); i += 2) {\n    player1 += rem[i];\n  }\n  cout << player1 << \" \" << total - player1 << \"\\n\";\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint main() {\n  int i, j, k, m, n, top = 0, l = 0, r = 0;\n  int s[200];\n  scanf(\"%d\", &n);\n  for (int ii = 1; ii <= n; ii++) {\n    scanf(\"%d\", &m);\n    if (m % 2 == 0) {\n      for (i = 1; i <= m / 2; i++) {\n        scanf(\"%d\", &k);\n        l += k;\n      }\n      for (i = 1; i <= m / 2; i++) {\n        scanf(\"%d\", &k);\n        r += k;\n      }\n    } else {\n      for (i = 1; i <= m / 2; i++) {\n        scanf(\"%d\", &k);\n        l += k;\n      }\n      scanf(\"%d\", &k);\n      s[++top] = k;\n      for (i = 1; i <= m / 2; i++) {\n        scanf(\"%d\", &k);\n        r += k;\n      }\n    }\n  }\n  for (i = 1; i <= top; i++) {\n    for (j = i + 1; j <= top; j++)\n      if (s[i] < s[j]) {\n        int p = s[i];\n        s[i] = s[j];\n        s[j] = p;\n      }\n    if (i % 2 == 0)\n      r += s[i];\n    else\n      l += s[i];\n  }\n  printf(\"%d %d\\n\", l, r);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.StringTokenizer;\n\n\npublic class E {\n\tpublic static void main(String[] args) throws NumberFormatException, IOException {\n\t\tScanner sc = new Scanner();\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\tint n = sc.nextInt();\n\t\tint one = 0, two = 0;\n\t\tArrayList<Integer> odds = new ArrayList<>(n);\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tint k = sc.nextInt();\n\t\t\tfor (int j = 0; j < k; ++j) {\n\t\t\t\tif((k & 1) != 0 && j == k/2)\n\t\t\t\t\todds.add(sc.nextInt());\n\t\t\t\telse if(j < k/2)\n\t\t\t\t\tone += sc.nextInt();\n\t\t\t\telse two += sc.nextInt();\n\t\t\t}\n\t\t}\n\t\tCollections.sort(odds, Collections.reverseOrder());\n\t\tint k = 0;\n\t\tfor(int o:odds) {\n\t\t\tif(k == 0)\n\t\t\t\tone += o;\n\t\t\telse\n\t\t\t\ttwo += o;\n\t\t\tk ^= 1;\n\t\t}\n\t\t\t\n\t\tout.println(one + \" \" + two);\n\t\tout.close();\n\t}\n\tstatic class Scanner {\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n\n\t\tpublic Scanner() {\n\t\t\tbr = new BufferedReader(new InputStreamReader(System.in));\n\t\t}\n\n\t\tpublic String next() throws IOException {\n\t\t\twhile (st == null || !st.hasMoreTokens()) {\n\t\t\t\tst = new StringTokenizer(br.readLine());\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() throws NumberFormatException, IOException {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\t\tpublic long nextLong() throws NumberFormatException, IOException {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\t}\n\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> arr;\nint main(void) {\n  int n, val, tmp;\n  long long ceil = 0, jiro = 0;\n  cin.sync_with_stdio(false);\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &val);\n    for (int j = 0; j < val / 2; j++) {\n      scanf(\"%d\", &tmp);\n      ceil += tmp;\n    }\n    if (val & 1) {\n      scanf(\"%d\", &tmp);\n      arr.push_back(tmp);\n    }\n    for (int j = 0; j < val / 2; j++) {\n      scanf(\"%d\", &tmp);\n      jiro += tmp;\n    }\n  }\n  int flag = 0;\n  std::sort(arr.begin(), arr.end());\n  for (int i = arr.size() - 1; i >= 0; i--) {\n    if (flag == 0)\n      ceil += arr[i];\n    else\n      jiro += arr[i];\n    flag = !flag;\n  }\n  cout << ceil << \" \" << jiro << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\n;\ntemplate <class C>\nvoid mini(C& a4, C b4) {\n  a4 = min(a4, b4);\n}\ntemplate <class C>\nvoid maxi(C& a4, C b4) {\n  a4 = max(a4, b4);\n}\ntemplate <class T1, class T2>\nostream& operator<<(ostream& out, pair<T1, T2> pair) {\n  return out << \"(\" << pair.first << \", \" << pair.second << \")\";\n};\nint main() {\n  ios_base::sync_with_stdio();\n  cout << fixed << setprecision(10);\n  int lsum = 0, rsum = 0;\n  vector<int> middle;\n  int n;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < (n); ++i) {\n    int k;\n    scanf(\"%d\", &k);\n    for (int j = 0; j < (k); ++j) {\n      int x;\n      scanf(\"%d\", &x);\n      if (j < k / 2) lsum += x;\n      if (j * 2 + 1 == k) middle.push_back(x);\n      if (j >= (k + 1) / 2) rsum += x;\n    }\n  }\n  sort((middle).begin(), (middle).end());\n  reverse((middle).begin(), (middle).end());\n  for (int i = 0; i < (((int)(middle).size())); ++i) {\n    if (i & 1)\n      rsum += middle[i];\n    else\n      lsum += middle[i];\n  }\n  printf(\"%d %d\\n\", lsum, rsum);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tPrintWriter out = new PrintWriter(outputStream);\n\t\tTaskC solver = new TaskC();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskC {\n    public void solve(int testNumber, InputReader in, PrintWriter out) {\n        int n = in.nextInt();\n        int sa = 0;\n        int sb = 0;\n        int[] seq = new int[n];\n        int nseq = 0;\n        for (int i = 0; i < n; ++i) {\n            int cnt = in.nextInt();\n            int[] a = new int[cnt];\n            for (int j = 0; j < cnt; ++j) a[j] = in.nextInt();\n            int half = cnt / 2;\n            for (int j = 0; j < half; ++j) {\n                sa += a[j];\n                sb += a[cnt - 1 - j];\n            }\n            if (cnt % 2 != 0) {\n                seq[nseq++] = a[half];\n            }\n        }\n        seq = Arrays.copyOf(seq, nseq);\n        Arrays.sort(seq);\n        for (int i = 0; i < seq.length; ++i)\n            if (i % 2 == 0) {\n                sa += seq[seq.length - 1 - i];\n            } else {\n                sb += seq[seq.length - 1 - i];\n            }\n        out.println(sa + \" \" + sb);\n    }\n}\n\nclass InputReader {\n    public BufferedReader reader;\n    public StringTokenizer tokenizer;\n\n    public InputReader(InputStream stream) {\n        reader = new BufferedReader(new InputStreamReader(stream));\n        tokenizer = null;\n    }\n\n    public String next() {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            try {\n                tokenizer = new StringTokenizer(reader.readLine());\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        return tokenizer.nextToken();\n    }\n\n    public int nextInt() {\n        return Integer.parseInt(next());\n    }\n\n    }\n\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.IOException;\nimport java.util.InputMismatchException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.io.BufferedOutputStream;\nimport java.util.StringTokenizer;\nimport java.io.Closeable;\nimport java.io.BufferedReader;\nimport java.util.Comparator;\nimport java.io.InputStream;\nimport java.io.Flushable;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n\tstatic class TaskAdapter implements Runnable {\n\t\t@Override\n\t\tpublic void run() {\n\t\t\tInputStream inputStream = System.in;\n\t\t\tOutputStream outputStream = System.out;\n\t\t\tInput in = new Input(inputStream);\n\t\t\tOutput out = new Output(outputStream);\n\t\t\tCFoxAndCardGame solver = new CFoxAndCardGame();\n\t\t\tsolver.solve(1, in, out);\n\t\t\tout.close();\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tThread thread = new Thread(null, new TaskAdapter(), \"\", 1<<29);\n\t\tthread.start();\n\t\tthread.join();\n\t}\n\tstatic class CFoxAndCardGame {\n\t\tpublic CFoxAndCardGame() {\n\t\t}\n\n\t\tpublic void solve(int kase, Input in, Output pw) {\n\t\t\tint n = in.nextInt();\n\t\t\tlong f = 0, s = 0;\n\t\t\tArrayList<Integer> middle = new ArrayList<>();\n\t\t\tfor(int i = 0; i<n; i++) {\n\t\t\t\tint x = in.nextInt();\n\t\t\t\tint[] arr = new int[x];\n\t\t\t\tfor(int j = 0; j<x; j++) {\n\t\t\t\t\tarr[j] = in.nextInt();\n\t\t\t\t}\n\t\t\t\tif((x&1)==0) {\n\t\t\t\t\tfor(int j = 0; j<x >> 1; j++) {\n\t\t\t\t\t\tf += arr[j];\n\t\t\t\t\t}\n\t\t\t\t\tfor(int j = x >> 1; j<x; j++) {\n\t\t\t\t\t\ts += arr[j];\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tfor(int j = 0; j<x >> 1; j++) {\n\t\t\t\t\t\tf += arr[j];\n\t\t\t\t\t}\n\t\t\t\t\tfor(int j = (x >> 1)+1; j<x; j++) {\n\t\t\t\t\t\ts += arr[j];\n\t\t\t\t\t}\n\t\t\t\t\tmiddle.add(arr[x >> 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmiddle.sort(Comparator.comparingInt(o -> -o));\n\t\t\tfor(int i = 0; i<middle.size(); i++) {\n\t\t\t\tif((i&1)==0) {\n\t\t\t\t\tf += middle.get(i);\n\t\t\t\t}else {\n\t\t\t\t\ts += middle.get(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tpw.println(f, s);\n\t\t}\n\n\t}\n\n\tstatic class Output implements Closeable, Flushable {\n\t\tpublic StringBuilder sb;\n\t\tpublic OutputStream os;\n\t\tpublic int BUFFER_SIZE;\n\t\tpublic boolean autoFlush;\n\t\tpublic String LineSeparator;\n\n\t\tpublic Output(OutputStream os) {\n\t\t\tthis(os, 1<<16);\n\t\t}\n\n\t\tpublic Output(OutputStream os, int bs) {\n\t\t\tBUFFER_SIZE = bs;\n\t\t\tsb = new StringBuilder(BUFFER_SIZE);\n\t\t\tthis.os = new BufferedOutputStream(os, 1<<17);\n\t\t\tautoFlush = false;\n\t\t\tLineSeparator = System.lineSeparator();\n\t\t}\n\n\t\tpublic void print(String s) {\n\t\t\tsb.append(s);\n\t\t\tif(autoFlush) {\n\t\t\t\tflush();\n\t\t\t}else if(sb.length()>BUFFER_SIZE >> 1) {\n\t\t\t\tflushToBuffer();\n\t\t\t}\n\t\t}\n\n\t\tpublic void println(Object... o) {\n\t\t\tfor(int i = 0; i<o.length; i++) {\n\t\t\t\tif(i!=0) {\n\t\t\t\t\tprint(\" \");\n\t\t\t\t}\n\t\t\t\tprint(String.valueOf(o[i]));\n\t\t\t}\n\t\t\tprintln();\n\t\t}\n\n\t\tpublic void println() {\n\t\t\tsb.append(LineSeparator);\n\t\t}\n\n\t\tprivate void flushToBuffer() {\n\t\t\ttry {\n\t\t\t\tos.write(sb.toString().getBytes());\n\t\t\t}catch(IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tsb = new StringBuilder(BUFFER_SIZE);\n\t\t}\n\n\t\tpublic void flush() {\n\t\t\ttry {\n\t\t\t\tflushToBuffer();\n\t\t\t\tos.flush();\n\t\t\t}catch(IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t\tpublic void close() {\n\t\t\tflush();\n\t\t\ttry {\n\t\t\t\tos.close();\n\t\t\t}catch(IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t}\n\n\tstatic class Input {\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n\n\t\tpublic Input(InputStream is) {\n\t\t\tthis(is, 1<<20);\n\t\t}\n\n\t\tpublic Input(InputStream is, int bs) {\n\t\t\tbr = new BufferedReader(new InputStreamReader(is), bs);\n\t\t\tst = null;\n\t\t}\n\n\t\tpublic boolean hasNext() {\n\t\t\ttry {\n\t\t\t\twhile(st==null||!st.hasMoreTokens()) {\n\t\t\t\t\tString s = br.readLine();\n\t\t\t\t\tif(s==null) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tst = new StringTokenizer(s);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}catch(Exception e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tpublic String next() {\n\t\t\tif(!hasNext()) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t}\n}\n\n\n"
        },
        {
            "language": 4,
            "solution": "/*\nKeep solving problems. \n*/\nimport java.util.*;\nimport java.io.*;\n\npublic class CFA {\n\n    BufferedReader br;\n    PrintWriter out;\n    StringTokenizer st;\n    boolean eof;\n    final long MOD = 1000L * 1000L * 1000L + 7;\n    int[] dx = {1, 2, 1, 1};\n    int[] dy = {0, 0, -1, 1};\n\n    void solve() throws IOException {\n        int n = nextInt();\n        List<Integer> ls = new ArrayList<>();\n        int res0 = 0;\n        int res1 = 0;\n        for (int i = 0; i < n; i++) {\n            int cnt = nextInt();\n            int[] arr = nextIntArr(cnt);\n            int hf = cnt / 2;\n            if (cnt % 2 == 0) {\n                for (int j = 0; j < hf; j++) {\n                    res0 += arr[j];\n                    res1 += arr[hf + j];\n                }\n            }\n            else {\n                ls.add(arr[hf]);\n                for (int j = 0; j < hf; j++) {\n                    res0 += arr[j];\n                    res1 += arr[hf + j + 1];\n                }\n            }\n        }\n\n        Collections.sort(ls);\n        Collections.reverse(ls);\n        for (int i = 0; i < ls.size(); i++) {\n            if (i % 2 == 0) {\n                res0 += ls.get(i);\n            }\n            else {\n                res1 += ls.get(i);\n            }\n        }\n\n        out(res0 + \" \" + res1);\n    }\n\n    void shuffle(int[] a) {\n        int n = a.length;\n        for(int i = 0; i < n; i++) {\n            int r = i + (int) (Math.random() * (n - i));\n            int tmp = a[i];\n            a[i] = a[r];\n            a[r] = tmp;\n        }\n    }\n\n    long gcd(long a, long b) {\n        while(a != 0 && b != 0) {\n            long c = b;\n            b = a % b;\n            a = c;\n        }\n        return a + b;\n    }\n\n    private void outln(Object o) {\n        out.println(o);\n    }\n    private void out(Object o) {\n        out.print(o);\n    }\n    public CFA() throws IOException {\n        br = new BufferedReader(new InputStreamReader(System.in));\n        out = new PrintWriter(System.out);\n        solve();\n        out.close();\n    }\n    public static void main(String[] args) throws IOException {\n        new CFA();\n    }\n\n    public long[] nextLongArr(int n) throws IOException{\n        long[] res = new long[n];\n        for(int i = 0; i < n; i++)\n            res[i] = nextLong();\n        return res;\n    }\n    public int[] nextIntArr(int n) throws IOException {\n        int[] res = new int[n];\n        for(int i = 0; i < n; i++)\n            res[i] = nextInt();\n        return res;\n    }\n    public String nextToken() {\n        while (st == null || !st.hasMoreTokens()) {\n            try {\n                st = new StringTokenizer(br.readLine());\n            } catch (Exception e) {\n                eof = true;\n                return null;\n            }\n        }\n        return st.nextToken();\n    }\n    public String nextString() {\n        try {\n            return br.readLine();\n        } catch (IOException e) {\n            eof = true;\n            return null;\n        }\n    }\n    public int nextInt() throws IOException {\n        return Integer.parseInt(nextToken());\n    }\n    public long nextLong() throws IOException {\n        return Long.parseLong(nextToken());\n    }\n    public double nextDouble() throws IOException {\n        return Double.parseDouble(nextToken());\n    }\n}\n\n"
        },
        {
            "language": 2,
            "solution": "#include <cstdlib>\n#include <cstdarg>\n#include <cassert>\n#include <cctype> // tolower\n#include <ctime>\n#include <cmath>\n\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <stdexcept>\n\n#include <map>\n#include <tuple>\n#include <unordered_map>\n#include <set>\n#include <list>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n\n#include <limits>\n#include <utility>\n#include <memory>\n\n#include <numeric>\n#include <iterator>\n#include <algorithm>\n#include <functional>\n\n/*\n * g++ -g -std=c++11 -DBUG -D_GLIBCXX_DEBUG -Wall -Wfatal-errors -o cforce{,.cpp}\n *\n * TODO:\n *      C++ dataframe\n *      stl11 -> c++11 standard template lib in c++98\n *      overload >> for map and set, using (insert) iterator\n *      chmod:: consider an algorithm stable to int64 overflow\n *      shortest path algorithm\n *      shortest path in a tree\n *      maximum network flow\n *      partial idx/iter sort\n *      a prime number generator which traverses prime numbers w/ ++\n *      a divisor generator which traverses divisors efficiently\n *      Apply1st ?!\n *      Apply2nd and bind2nd ?!\n *          count_if ( a.begin(), a.end(), a.second < x )\n *      Arbitrary-precision arithmetic / Big Integer / Fraction - rational num\n *      tuple class --> cplusplus.com/reference/tuple\n *      get<1>, get<2>, bind2nd ( foo ( get<2> pair ), val )\n *      isin( const T & val, first, last )\n *      fuinction composition in c++\n *          blogea.bureau14.fr/index.php/2012/11/function-composition-in-c11/\n *          cpp-next.com/archive/2010/11/expressive-c-fun-with-function-composition/\n *      TimeWrapper -- accumulate time of a function call\n *          stackoverflow.com/questions/879408\n *      hash map -- possible hash value & obj % some_big_prime [ b272 ]\n *          lower level can be a simple map to resolve hash collisions\n *      add explicit everywhere necessary\n *      bloom filters\n *      heap -> how to update values in place / increase-key or decrease-key ... IterHeap ?!\n *      median maintaince --> max_heap / min_heap\n *      prim's min spaning tree alg. O ( m log n ) using heap contianing V - X vertices\n *      kruskal algorithm minimum cost spanning tree with union find data structure\n *      unique_ptr\n *      hufman codes\n *      simple arithmatic tests\n *      longest common subsequence using seq. alignment type algorithm\n *      longest common substring ( consequative subsequeance )\n *      Graham scan; en.wikipedia.org/wiki/Graham_scan\n *      problem/120/F -- how to extend in order to calculate all-pair distances in a tree\n *      compile time prime number calculator using templates\n *      swith to type_cast < T1, T2 > for val2str & str2val\n *      overload plus<> for two vectors?!\n *      overloading operator << for std::tuple:\n *          stackoverflow.com/questions/9247723\n *      bitmask class with iterator protocol\n *      ??? segment tree +++ interval tree\n *      ??? an lru cache: a heap which maintains last access, an a map which maintains key:value\n */\n\n/*\n * @recepies\n * ----------------------------------------------\n * odd / even\n *      transform ( x.begin(), x.end(), x.begin(), bind2nd( modulus<int>(), 2 ));\n *      count_if ( x.begin(), x.end(), bind2nd( modulus < int > (), 2));\n * Apply2nd\n *      max_element ( m.begin(), m.end(), Apply2nd < string, int , less < int > > )\n *      sort ( a.begin(), a.end(), Apply2nd < char, int , greater< int > > )\n *      count_if ( m.begin(), m.end(), Apply2nd < string, int, modulus < int > > )\n *      accumulate ( m.begin(), m.end(), 0.0, Apply2nd < int, double, plus < double > > )\n *      accumulate ( m.begin( ), m.end( ), pair < int, double> ( 0 , 0.0 ) , operator+ < int, double > )\n * abs_diff\n *      adjacent_difference ( a.begin(), a.end(), adj_diff.begin( ), abs_diff < int > ( ) )\n *      accumulate ( a.begin(), a.end(), 0, abs_diff < int > ( ) )\n * erase\n *      a.erase ( remove_if ( a.begin( ), a.end( ), bind2nd ( less < int >( ), 0 ) ), a.end( ) )\n *      a.erase ( remove ( a.begin( ), a.end( ), b.begin( ), b.end( ) ), a.end ( ) )\n * binding\n *      bind2nd ( mem_fun_ref (& ClassName::m_func ), arg )  // binds the argument of the object\n * iterator generators\n *      generate_n ( back_inserter ( a ), n, rand );  // calls push_back\n *      generate_n ( inserter( a, a.begin( ) + 5 ), 10, RandInt( 0 , 100 ) )  // calls insert\n *      copy ( foo.begin( ), foo.end( ), insert_iterator < std::list < double > > ( bar, bar.begin( ) + 5 ))\n * copy ( a.begin( ), a.end( ), ostream_iterator < double > ( cout, \", \" ))\n * accumulate ( m.begin( ), m.end( ), pair < int, double> ( 0 , 0.0 ) , operator+ < int, double > )\n * transform (numbers.begin(), numbers.end(), lengths.begin(), mem_fun_ref(&string::length));\n */\n\n/*\n * @good read\n * ----------------------------------------------\n *  [ partial ] template specialization\n *      cprogramming.com/tutorial/template_specialization.html\n *  function composition\n *      cpp-next.com/archive/2010/11/expressive-c-fun-with-function-composition\n */\n\n/*\n * @prob set\n * ----------------------------------------------\n *  purification --> c330\n */\n\n/*\n * @limits\n * ----------------------------------------------\n * int                  31    2.14e+09\n * long int             31    2.14e+09\n * unsigned             32    4.29e+09\n * long unsigned        32    4.29e+09\n * size_t               32    4.29e+09\n * long long int        63    9.22e+18\n * long long unsigned   64    1.84e+19\n */\n\n/*\n * issues\n * ----------------------------------------------\n * stackoverflow.com/questions/10281809\n * mem_fun -> func_obj ( pointer to instance, origanal argument )\n * bind1st ( mem_fun ( & ClassName::m_func ), this )    // binds obj of the class\n * bind1st takes 'const T &' as the first argument\n */\n\n/*\n *  typedef / define\n * ----------------------------------------------\n */\n\ntypedef          long long int  int64;\ntypedef unsigned long long int uint64;\n\n#ifndef M_PI\n#define M_PI 3.14159265358979323846L\n#endif\n\n#define DOUBLE_INF std::numeric_limits< double >::infinity()\n#define DOUBLE_NAN std::numeric_limits< double >::quiet_NaN()\n\n#define __STR__(a) #a\n#define STR(a) __STR__(a)\n\n#define ASSERT(expr, msg) \\\n    if (!( expr )) \\\n        throw std::runtime_error(__FILE__ \":\" STR(__LINE__) \" - \" msg);\n\n#define DECLARE( X ) \\\n    typedef       std::shared_ptr < X >  X ## _shared_ptr; \\\n    typedef const std::shared_ptr < X >  X ## _const_shared_ptr;\n\n#ifdef BUG\n    #define DEBUG(var) { std::cout << #var << \": \" << (var) << std::endl; }\n    #define COND_DEBUG(expr, var) if (expr) \\\n        { std::cout << #var << \": \" << (var) << std::endl; }\n    #define EXPECT(expr) if ( ! (expr) ) std::cerr << \"Assertion \" \\\n        << #expr \" failed at \" << __FILE__ << \":\" << __LINE__ << std::endl;\n#else\n    #define DEBUG(var)\n    #define COND_DEBUG(expr, var)\n    #define EXPECT(expr)\n#endif\n\n#define DBG(v) std::copy( v.begin(), v.end(), std::ostream_iterator < typeof( *v.begin() )> ( std::cout, \" \" ) )\n\n#if __cplusplus < 201100\n    #define move( var ) var\n#endif\n\n/*\n * http://rootdirectory.de/wiki/SSTR()\n * usage:\n *      SSTR( \"x^2: \" << x*x )\n */\n#define SSTR( val ) dynamic_cast< std::ostringstream & >( std::ostringstream() << std::dec << val ).str()\n\n\n/* https://www.quora.com/C++-programming-language/What-are-some-cool-C++-tricks */\n// template <typename T, size_t N>\n// char (&ArraySizeHelper(T (&array)[N]))[N];\n// #define arraysize(array) (sizeof(ArraySizeHelper(array)))\n\n/*\n * forward decleration\n * ----------------------------------------------\n */\nclass ScopeTimer;\n\n/*\n *  functional utils\n * ----------------------------------------------\n */\n\ntemplate < typename T >\nstruct abs_diff : std::binary_function < T, T, T >\n{\n    typedef T value_type;\n\n    inline value_type operator( ) ( const value_type & x, const value_type & y ) const\n    {\n        return std::abs( x - y );\n    }\n};\n\n// template < class InputIterator, class T >\n// class isin : public std::binary_function < InputIterator, InputIterator, bool >\n// {\n//     public:\n//         typedef T value_type;\n//\n//         isin ( const InputIterator & first, const InputIterator & last ):\n//             m_first ( first ), m_last ( last ) { }\n//\n//         bool operator ( ) ( const value_type & val ) const\n//         {\n//             return std::find ( m_first, m_last, val ) != m_last;\n//         }\n//     private:\n//         const InputIterator m_first, m_last;\n// }\n\ntemplate < typename value_type, typename cont_type >\nclass isin : public std::unary_function < value_type, bool >\n{\n    public:\n        isin( const cont_type & vals ): m_vals ( vals ) { };\n\n        bool operator ( ) ( const value_type & x ) const\n        {\n            return std::find ( m_vals.begin( ), m_vals.end( ), x ) != m_vals.end( );\n        }\n\n    private:\n        const cont_type m_vals;\n};\n\n/*\n * max_element, min_element, count_if ... on the 2nd element\n * eg: max_element ( m.begin(), m.end(), Apply2nd < string, int , less < int > > )\n */\ntemplate < class T1, class T2, class BinaryOperation >\nclass Apply2nd : std::binary_function < typename std::pair < T1, T2 >,\n                                        typename std::pair < T1, T2 >,\n                                        typename BinaryOperation::result_type >\n{\n    public:\n        typedef T1 first_type;\n        typedef T2 second_type;\n\n        typedef typename BinaryOperation::result_type result_type;\n        typedef typename std::pair < first_type, second_type > value_type;\n\n        inline result_type operator( ) ( const value_type & x, const value_type & y ) const\n        {\n            return binary_op ( x.second , y.second );\n        }\n    private:\n        BinaryOperation binary_op;\n};\n\n/*\n * algo utils\n * ----------------------------------------------\n */\n\n\n/**\n * count the number of inversions in a permutation; i.e. how many\n * times two adjacent elements need to be swaped to sort the list;\n * 3 5 2 4 1  -->  7\n */\ntemplate < class InputIterator >\ntypename std::iterator_traits<InputIterator>::difference_type\ncount_inv ( InputIterator first, InputIterator last )\n{\n    typedef typename std::iterator_traits<InputIterator>::difference_type difference_type;\n    typedef typename std::iterator_traits<InputIterator>::value_type value_type;\n\n    std::list < value_type > l; /* list of sorted values */\n    difference_type cnt = 0;\n\n    for ( difference_type n = 0; first != last; ++first, ++n )\n    {\n        /* count how many elements larger than *first appear before *first */\n        typename std::list < value_type >::iterator iter = l.begin( );\n        cnt += n;\n\n        for ( ; iter != l.end( ) && * iter <= * first; ++ iter, -- cnt )\n            ;\n        l.insert( iter, * first );\n    }\n\n    return cnt;\n}\n\ntemplate < class ForwardIterator, class T >\ninline void fill_inc_seq ( ForwardIterator first, ForwardIterator last, T val )\n{\n    for ( ; first != last; ++first, ++val )\n        * first = val;\n}\n\ntemplate <class ForwardIterator, class InputIterator >\nForwardIterator remove ( ForwardIterator first, ForwardIterator last, InputIterator begin, InputIterator end )\n{\n    ForwardIterator result = first;\n\n    for ( ; first != last; ++ first )\n        if ( find ( begin, end, *first ) == end )\n        {\n            *result = *first;\n            ++result;\n        }\n\n    return result;\n}\n\n/* stackoverflow.com/questions/1577475 */\ntemplate < class RAIter, class Compare >\nclass ArgSortComp\n{\n    public:\n        ArgSortComp ( const RAIter & first, Compare comp ):  m_first ( first ), m_comp( comp ) { }\n        inline bool operator() ( const size_t & i, const size_t & j ) const\n        {\n            return m_comp (  m_first[ i ] ,  m_first[ j ] );\n        }\n    private:\n        const RAIter & m_first;\n        const Compare m_comp;\n};\n\n/*!\n * usage:\n *      vector < size_t > idx;\n *      argsort ( a.begin( ), a.end( ), idx, less < Type > ( ) );\n */\ntemplate < class RAIter, class Compare=std::less< typename RAIter::value_type > >\nvoid argsort( const RAIter & first,\n              const RAIter & last,\n              std::vector < size_t > & idx,\n              Compare comp = Compare()) // std::less< typename RAIter::value_type >() )\n{\n    const size_t n = last - first;\n    idx.resize ( n );\n\n    for ( size_t j = 0; j < n; ++ j )\n        idx[ j ] = j ;\n\n    std::stable_sort( idx.begin(), idx.end(), ArgSortComp< RAIter, Compare >( first, comp ));\n}\n\ntemplate < class RAIter, class Compare >\nclass IterSortComp\n{\n    public:\n        IterSortComp ( Compare comp ): m_comp ( comp ) { }\n        inline bool operator( ) ( const RAIter & i, const RAIter & j ) const\n        {\n            return m_comp ( * i, * j );\n        }\n    private:\n        const Compare m_comp;\n};\n\n/*!\n * usage:\n *      vector < list < Type >::const_iterator > idx;\n *      itersort ( a.begin( ), a.end( ), idx, less < Type > ( ) );\n */\ntemplate <class INIter, class RAIter, class Compare>\nvoid itersort ( INIter first, INIter last, std::vector < RAIter > & idx, Compare comp )\n{\n    /* alternatively: stackoverflow.com/questions/4307271 */\n    idx.resize ( std::distance ( first, last ) );\n    for ( typename std::vector < RAIter >::iterator j = idx.begin( ); first != last; ++ j, ++ first )\n        * j = first;\n\n    std::sort ( idx.begin( ), idx.end( ), IterSortComp< RAIter, Compare > (comp ) );\n}\n\n\n/*\n *  string utils\n * ----------------------------------------------\n */\n\ninline void erase ( std::string & str, const char & ch )\n{\n    std::binder2nd < std::equal_to < char > > isch ( std::equal_to < char > ( ), ch );\n    std::string::iterator iter = std::remove_if ( str.begin(), str.end(), isch );\n    str.erase ( iter, str.end() );\n}\n\ninline void erase ( std::string & str, const std::string & chrs )\n{\n    isin < char, std::string > isin_chrs ( chrs );\n    std::string::iterator iter = std::remove_if ( str.begin(), str.end(), isin_chrs );\n    str.erase ( iter, str.end() );\n}\n\ntemplate < typename value_type>\ninline std::string val2str ( const value_type & x )\n{\n    std::ostringstream sout ( std::ios_base::out );\n    sout << x;\n    return sout.str();\n}\n\ntemplate < typename value_type>\ninline value_type str2val ( const std::string & str )\n{\n    std::istringstream iss ( str, std::ios_base::in );\n    value_type val;\n\n    iss >> val;\n    return val;\n}\n\nstd::vector< std::string > tokenize ( const std::string & str, const char & sep )\n{\n    /*!\n     * outputs empty tokens and assumes str does not start with sep\n     * corner cases:\n     *      empty string, one char string,\n     *      string starting/ending with sep, all sep, end with two sep\n     */\n\n    std::vector < std::string > res;\n    std::string::const_iterator follow = str.begin(),\n                                lead   = str.begin();\n\n    while ( true )\n    {\n        while ( lead != str.end() && * lead != sep )\n            ++ lead;\n\n        res.push_back ( std::string( follow, lead ) );\n\n        if ( lead != str.end () )\n            follow = 1 + lead ++ ;\n        else\n            break;\n    }\n\n    return res;\n}\n\n/*!\n * chunk a string into strings of size [ at most ] k\n */\nvoid chunk ( const std::string::const_iterator first,\n             const std::string::const_iterator last,\n             const size_t k,\n             const bool right_to_left,\n             std::list < std::string > & str_list )\n{\n    str_list.clear( );\n\n    if ( right_to_left )\n        /* chunk from the end of the string */\n        for ( std::string::const_iterator i, j = last; j != first; j = i )\n        {\n            i = first + k < j ? j - k : first;\n            str_list.push_back ( std::string ( i, j ) );\n        }\n    else\n        /* chunk from the begining of the string */\n        for ( std::string::const_iterator i = first, j; i != last; i = j )\n        {\n            j = i + k < last ? i + k : last;\n            str_list.push_back ( std::string ( i, j ) );\n        }\n}\n\n/*!\n * next lexicographically smallest string\n * within char set a..z\n */\nstd::string & operator++( std::string & s )\n{\n    /* find the first char from right less than 'z' */\n    std::string::reverse_iterator j = find_if( s.rbegin( ), s.rend( ),\n            std::bind2nd( std::less < char > ( ), 'z' ));\n\n    if ( j != s.rend( ))\n    {\n        ++ *j;\n        std::fill( s.rbegin( ), j, 'a' );\n    }\n    else\n        s.assign( s.length( ) + 1, 'a' );\n\n    return s;\n}\n\n/*!\n * getline ( cin, str )\n *      requires ctrl-D\n *      cin >> str; does not pass after space char\n */\n\n\n/*\n *  number utils\n * ----------------------------------------------\n */\n\n\nclass BigInteger\n{\n#if ULONG_MAX <= 1 << 32\n    typedef long long unsigned val_type;\n#else\n    typedef long unsigned val_type;\n#endif\n    const static int WSIZE = 32;\n    const static val_type BASE = 1LL << WSIZE;\n    public:\n    private:\n        std::list < val_type > val;  /* val[ 0 ] is most significant */\n        bool pos;                    /* true if sign is positive     */\n};\n\n/**\n * greatest common divisor - Euclid's alg.\n */\ntemplate < typename value_type > inline\nvalue_type gcd ( value_type a, value_type b )\n{\n    return ! b ? a : gcd( b, a % b );\n}\n\n/**\n * prime factorization\n */\ntemplate < class T >\nvoid prime_factors( T n, std::map < T, size_t > & fac )\n{\n    for ( T k = 2; n > 1; ++ k )\n        if ( ! ( n % k ) )\n        {\n            size_t & ref = fac[ k ];\n            while ( ! ( n % k ) )\n            {\n                ++ ref;\n                n /= k;\n            }\n        }\n}\n\n/* abs diff - safe for unsigned types */\ntemplate < class T >\ninline T absdiff( T a, T b )\n{\n    return a < b ? b - a : a - b;\n}\n\nnamespace\n{\n    template < class T >\n    std::pair < T, T > __extgcd ( const T & x0, const T & y0,\n                                  const T & x1, const T & y1,\n                                  const T & r0, const T & r1 )\n    {\n        const T q  = r0 / r1;\n        const T r2 = r0 % r1;\n\n        if ( ! ( r1 % r2 ) )\n            return std::make_pair < T, T > ( x0 - q * x1, y0 - q * y1 );\n\n        const T x2 = x0 - q * x1;\n        const T y2 = y0 - q * y1;\n\n        return __extgcd ( x1, y1, x2, y2, r1, r2 );\n    }\n}\n\n/**\n * extended euclidean algorithm: a x  +  b y = gcd( a, b)\n * en.wikipedia.org/wiki/Extended_Euclidean_algorithm\n */\ntemplate < class value_type > inline\nstd::pair < value_type, value_type > extgcd ( value_type a, value_type b )\n{\n    return a % b\n        ? __extgcd < value_type > ( 1, 0, 0, 1, a, b )\n        : std::make_pair < value_type, value_type > ( 0, 1 );\n}\n\n\n/**\n * modular multiplicative inverse\n * en.wikipedia.org/wiki/Modular_multiplicative_inverse\n */\ntemplate < class value_type > inline\nvalue_type modinv ( value_type a, value_type m )\n{\n    const std::pair < value_type, value_type > coef ( extgcd( a, m ) );\n\n    /* a needs to be coprime to the modulus, or the inverse won't exist */\n    if ( a * coef.first + m * coef.second != 1 )\n        throw std::runtime_error ( val2str( a ) + \" is not coprime to \" + val2str( m ));\n\n    /* return a pos num between 1 & m-1 */\n    return ( m + coef.first % m ) % m;\n}\n\ninline bool isnan ( const double & a )\n{\n    return ! ( a == a );\n}\n\ntemplate < typename value_type >\ninline value_type mini ( int n, ... )\n{\n    va_list vl;\n    va_start (vl, n);\n    value_type res = va_arg ( vl, value_type );\n\n    for ( int i = 1; i < n; ++i ) {\n        const value_type val = va_arg ( vl, value_type );\n        res = std::min ( res, val );\n    }\n\n    va_end( vl );\n    return res;\n}\n\ntemplate < typename value_type >\ninline value_type maxi ( int n, ... )\n{\n    va_list vl;\n    va_start (vl, n);\n    value_type res = va_arg ( vl, value_type );\n\n    for ( int i = 1; i < n; ++i ) {\n        const value_type val = va_arg ( vl, value_type );\n        res = std::max ( res, val );\n    }\n\n    va_end( vl );\n    return res;\n}\n\n// XXX look this up how is this implemented\ntemplate < class T >\ninline int sign ( const T & x )\n{\n    if ( x == T() )\n        return 0;\n    else if ( x < T() )\n        return -1;\n    else\n        return 1;\n}\n\n/*\n * change moduluos from n to m\n */\nstd::string chmod ( std::string num, const unsigned n, const unsigned m )\n{\n    const char * digit = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n    std::transform ( num.begin(), num.end(), num.begin(), tolower );\n\n    isin < char, std::string > is_alpha_num ( digit );\n    assert ( find_if ( num.begin( ), num.end( ), std::not1 ( is_alpha_num ) ) == num.end( ));\n\n    unsigned long long int val ( 0 );\n\n    if ( n == 10U )\n    {\n        std::istringstream iss ( num, std::ios_base::in );\n        iss >> val;\n    }\n    else\n        for ( std::string::const_iterator iter = num.begin( ); iter != num.end( ); ++ iter )\n            val = val * n + ( 'a' <= *iter ? *iter - 'a' + 10U : *iter - '0');\n\n    if ( m == 10U )\n    {\n        std::ostringstream sout ( std::ios_base::out );\n        sout << val;\n        return sout.str ( );\n    }\n    else\n    {\n        std::string res;\n        for ( ; val ; val /= m )\n            res.push_back( digit [ val % m ] );\n\n        return res.length( ) ? std::string( res.rbegin( ), res.rend( )) : \"0\";\n    }\n}\n\ntemplate < class value_type >  /* a^n mod m */\nvalue_type powmod ( value_type a, const value_type & n, const value_type & m )\n{\n    if ( a == 1 || ! n )\n        return m != 1 ? 1 : 0;\n\n    value_type res = 1;\n    for ( value_type k = 1; k <= n; a = a * a % m, k = k << 1 )\n        if ( k & n )\n            res =  ( res * a ) % m;\n\n    return res;\n}\n\ntemplate < class T >\ninline T atan(const T & x, const T & y) { return std::atan( y / x ) + ( x < 0 ) * M_PI; }\n\n/*\n * Fermat pseudoprime test\n * www.math.umbc.edu/~campbell/Computers/Python/numbthy.py\n * NOTE: since return type is bool, and powmod may break for ints,\n *       the argument is always casted to long long\n */\ninline bool is_pseudo_prime ( const long long & a )\n{\n    /* all the primes less than 1000 ( 168 primes )*/\n    const long long p [ ] = { 2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,\n                              79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,\n                              163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,\n                              241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,\n                              337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,\n                              431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,\n                              521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,\n                              617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,\n                              719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,\n                              823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,\n                              929,937,941,947,953,967,971,977,983,991,997 };\n\n    const size_t n = sizeof( p ) / sizeof ( p[ 0 ] );\n\n    if ( a < p[ n - 1 ] + 1)\n        return std::binary_search ( p, p + n , a );\n\n    if ( std::find_if ( p, p + n, std::not1 ( std::bind1st ( std::modulus< long long >( ), a ))) != p + n )\n        return false;\n\n    const size_t k = a <    9006401LL ? 3 :\n                     a <   10403641LL ? 4 :\n                     a <   42702661LL ? 5 :\n                     a < 1112103541LL ? 6 : 7;\n\n    for ( size_t j = 0; j < k; ++ j )\n        if ( powmod ( p[ j ], a - 1, a ) != 1 )\n            return false;\n\n    return true;\n}\n\n\n/*\n * returns a sorted vector of all primes less than or equal to n\n * maximum adj diff of all primes less than 1e5 is 72 ( 114 for 1e6 )\n */\ntemplate < typename value_type >\nstd::vector < value_type > get_primes ( const value_type n )\n{\n#ifdef BUG\n    ScopeTimer scope_timer ( \"std::vector < value_type > get_primes ( const value_type n )\" );\n#endif\n\n    // typedef typename std::vector < value_type >::iterator iterator;\n    std::vector < value_type > primes;\n\n    for ( value_type k = 2 ; k <= n; ++ k )\n        if ( is_pseudo_prime ( k ) )\n        {\n            // FIXME this is very stupid\n            // const value_type sqrt_k = 1 + static_cast < value_type > ( sqrt ( k + 1 ) );\n            // iterator iend = upper_bound ( primes.begin( ), primes.end( ), sqrt_k );\n\n            // if ( find_if ( primes.begin( ), iend, std::not1 ( std::bind1st ( std::modulus< value_type >( ), k ) ) ) != iend )\n            //     continue;\n\n            primes.push_back ( k );\n        }\n\n    return primes;\n}\n\ntemplate < class T >\ninline std::vector < std::pair < T, size_t > > get_prime_fact( T a )\n{\n    std::vector< std::pair < T, size_t > >fac;\n\n    for ( T k = 2; a > 1; ++ k )\n        if ( ! ( a % k ) )  // no need to check if k is prime\n        {\n            size_t m = 0;\n            for ( ; ! ( a % k ) ; ++m, a/= k )\n                ;\n\n            fac.push_back ( std::pair < T, size_t > ( k, m ) );\n        }\n    return fac;\n}\n\ntemplate < class T >  /* prime factorization */\nstd::vector < std::pair < T, size_t > > get_prime_fac( T a )\n{\n    std::vector < std::pair < T, size_t > > fac;\n\n    size_t k = 0;\n    while (!(a % 2)) { a /= 2; ++ k; }\n    if ( k != 0 ) fac.push_back( std::make_pair(2, k));\n\n    k = 0;\n    while (!(a % 3)) { a /= 3; ++ k; }\n    if ( k != 0 ) fac.push_back( std::make_pair(3, k));\n\n    for ( T j = 5; j * j < a + 1 && a > 1 && j < a + 1; j += 4 )\n    {\n        size_t k = 0;\n        while (!(a % j)) { a /= j; ++ k; }\n        if ( k != 0 ) fac.push_back( std::make_pair(j, k));\n\n        j += 2; k = 0;\n        while (!(a % j)) { a /= j; ++ k; }\n        if ( k != 0 ) fac.push_back( std::make_pair(j, k));\n    }\n\n    if ( a > 1 ) fac.push_back( std::make_pair(a, 1));\n    return fac;\n}\n\ntemplate < class T > /* generates all divisors from vector of prime factorization */\nvoid gen_div( T a, std::vector < T > & divs,\n        typename std::vector < std::pair < T, size_t > >::const_iterator iter,\n        typename std::vector < std::pair < T, size_t > >::const_iterator last )\n{\n    if ( iter != last )\n    {\n        auto next = iter + 1;\n        const auto k = iter->second + 1;\n        const auto prime = iter->first;\n        for ( size_t j = 0; j < k; ++ j )\n        {\n            gen_div(a, divs, next, last);\n            a *= prime;\n        }\n    }\n    else\n        divs.push_back( a );\n}\n\n\n\ntemplate < class T >\nT n_choose_k ( T n, T k )\n{\n    if ( k > n )\n        return 0;\n\n    const T lb = std::min ( k, n - k ) + 1;\n    const T ub = n - lb + 1;\n\n    T res = 1, j = 2;\n    while ( n > ub && j < lb)\n    {\n        res *= n--;\n        while ( j < lb and ! (res % j) )\n            res /= j++;\n    }\n\n    while ( n > ub )\n        res *= n--;\n\n    return res;\n}\n\n\n/**\n * median calculator, using two heaps\n */\ntemplate < class InputIter >\ninline std::pair < typename InputIter::value_type, typename InputIter::value_type >\nmedian ( InputIter first, InputIter last )\n{\n    typedef typename InputIter::value_type      value_type;\n    typedef std::pair< value_type, value_type > result_type;\n\n    /*\n     * max_heap:\n     *      - the lower half of the elements\n     *      - the biggest of such elements is on the top\n     */\n    std::vector < value_type > max_heap, min_heap;\n\n    /*\n     * comp argument to heap algorithm should provide\n     * 'strict weak ordering'; in particular\n     *      std::not2 ( std::less < value_type > )\n     * does not have such a strict weak ordering;\n     */\n    std::less    < value_type > max_heap_comp;\n    std::greater < value_type > min_heap_comp;\n\n    if ( first == last )  /* corner case: empty vector */\n        throw std::runtime_error ( \"median of an empty vector is undefined!\" );\n\n    InputIter iter = first;\n    max_heap.push_back ( * iter );\n\n    for ( ++iter ; iter != last; ++ iter )\n        if ( * iter < max_heap.front() )\n        {\n            max_heap.push_back ( * iter );\n            std::push_heap ( max_heap.begin(), max_heap.end(), max_heap_comp );\n\n            if ( min_heap.size() + 1 < max_heap.size() )\n            {\n                /* max_heap has got too large */\n                min_heap.push_back( max_heap.front() );\n                std::push_heap( min_heap.begin(), min_heap.end(), min_heap_comp );\n\n                std::pop_heap( max_heap.begin(), max_heap.end(), max_heap_comp );\n                max_heap.pop_back();\n            }\n        }\n        else\n        {\n            min_heap.push_back ( * iter );\n            std::push_heap ( min_heap.begin(), min_heap.end(), min_heap_comp );\n\n            if ( max_heap.size() + 1 < min_heap.size() )\n            {\n                /* min_heap has got too large */\n                max_heap.push_back( min_heap.front() );\n                std::push_heap( max_heap.begin(), max_heap.end(), max_heap_comp );\n\n                std::pop_heap( min_heap.begin(), min_heap.end(), min_heap_comp );\n                min_heap.pop_back();\n            }\n        }\n\n    DEBUG( max_heap );\n    DEBUG( min_heap );\n\n    return min_heap.empty( )  /* corner case: ++first = last */\n        ? result_type ( *first, *first )\n        : result_type ( max_heap.size() < min_heap.size() ? min_heap.front() : max_heap.front(),\n                        min_heap.size() < max_heap.size() ? max_heap.front() : min_heap.front() );\n}\n\n/*\n * geometry util\n * ----------------------------------------------\n */\n\nstruct xyPoint\n{\n    double x, y;\n    xyPoint( const double & a = .0, const double & b = .0 ): x ( a ), y( b ) { };\n};\n\n\nstruct xyCircle\n{\n    xyPoint center;\n    double radius;\n};\n\nstd::ostream & operator<< ( std::ostream & out, const xyPoint & p )\n{\n    out << '(' << p.x << \", \" << p.y << ')';\n    return out;\n}\n\nstd::istream & operator>> ( std::istream & ist, xyPoint & p )\n{\n    ist >> p.x >> p.y;\n    return ist;\n}\n\nstd::ostream & operator<< ( std::ostream & out, const xyCircle & o )\n{\n    out << \"{(\" << o.center.x << \", \" << o.center.y << \") \" << o.radius << '}';\n    return out;\n}\n\nstd::istream & operator>> ( std::istream & ist, xyCircle & o )\n{\n    ist >> o.center.x >> o.center.y >> o.radius;\n    return ist;\n}\n\ninline double cartesian_dist ( const xyPoint & a, const xyPoint & b )\n{\n    const double d = a.x - b.x;\n    const double e = a.y - b.y;\n    return std::sqrt ( d * d + e * e );\n}\n\nclass xyLine\n{\n    public:\n        xyLine ( const xyPoint & , const xyPoint & );\n        xyLine ( const double slope, const double intercept );\n\n        /*\n         * 'signed' orthogonal distance; the sign is useful\n         * to compare which side of the line the point is\n         */\n        inline double orth_dist ( const xyPoint & ) const;\n    private:\n        double m_slope;\n        double m_intercept;\n        double m_normfac;   /* normalization factor for orth_dist calc */\n\n        bool   m_vertical;  /* if the line is verticcal                */\n        double m_xcross;    /* x axis cross point for vertical line    */\n};\n\nxyLine::xyLine ( const xyPoint & a, const xyPoint & b )\n{\n    if ( a.x == b.x )  /* vertical line */\n    {\n        m_vertical  = true;\n        m_xcross    = a.x;\n\n        m_intercept = DOUBLE_NAN;\n        m_slope     = DOUBLE_INF;\n        m_normfac   = DOUBLE_NAN;\n    }\n    else\n    {\n        m_vertical  = false;\n        m_xcross    = DOUBLE_NAN;\n\n        m_slope     = ( b.y - a.y ) / ( b.x - a.x );\n        m_intercept = a.y - m_slope * a.x;\n        m_normfac   = std::sqrt ( m_slope * m_slope + 1.0 );\n    }\n}\n\nxyLine::xyLine ( const double slope, const double intercept ):\n    m_slope ( slope ),  m_intercept ( intercept )\n{\n     m_vertical = false;\n     m_xcross   = DOUBLE_NAN;\n     m_normfac  = std::sqrt ( m_slope * m_slope + 1.0 );\n}\n\ndouble xyLine::orth_dist ( const xyPoint & o ) const /* 'signed' orthogonal distance */\n{\n    if ( m_vertical )\n        return o.x - m_xcross;\n    else\n        return ( m_slope * o.x - o.y + m_intercept ) / m_normfac;\n}\n\ninline double triangle_area ( const xyPoint & a, const xyPoint & b, const xyPoint & c )\n{\n    const xyLine l ( a, b );\n    const double h = std::abs ( l.orth_dist ( c ) );\n    const double e = cartesian_dist ( a, b );\n    return h * e;\n}\n\n/*\n *  operator<< overrides\n * ----------------------------------------------\n */\n\nnamespace\n{\n    /* helper function to output containers */\n    template < typename T >\n    std::ostream & __output ( std::ostream & out, const T & a )\n    {\n        typedef typename T::const_iterator const_iterator;\n        out << \"{ \";\n\n        // does not work for 'pair' value type\n        // std::copy ( a.begin( ), a.end( ), std::ostream_iterator < typename T::value_type > ( std::cout, \", \" ));\n\n        for ( const_iterator iter = a.begin(); iter != a.end(); ++ iter )\n             out << ( iter != a.begin( ) ? \", \" : \"\" ) << *iter ;\n\n        return out << \" }\";\n    }\n}\n\ntemplate < typename key_type, typename value_type >\nstd::ostream & operator<< ( std::ostream & out, const std::pair < key_type, value_type > & p)\n{\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\n\ntemplate < typename T0, typename T1, typename T2 >\nstd::ostream & operator<< ( std::ostream & out, const std::tuple < T0, T1, T2 > & t )\n{\n    out << \"(\" << std::get<0>(t) << \", \" << std::get<1>(t) << \", \" << std::get<2>(t) << \")\";\n    return out;\n}\n\n\ntemplate < typename key_type, typename value_type, typename comp >\nstd::ostream & operator<< ( std::ostream & out, const std::map < key_type, value_type, comp > & m )\n{\n    return __output ( out, m );\n}\n\ntemplate < typename value_type, typename comp >\nstd::ostream & operator<< ( std::ostream & out, const std::set < value_type, comp > & s )\n{\n    return __output ( out, s );\n}\n\ntemplate < typename value_type >\nstd::ostream & operator<< ( std::ostream & out, const std::vector < value_type > & a )\n{\n    return __output ( out, a );\n}\n\ntemplate < typename value_type >\nstd::ostream & operator<< ( std::ostream & out, const std::list < value_type > & a )\n{\n    return __output ( out, a );\n}\n\ntemplate < typename value_type >\nstd::ostream & operator<< ( std::ostream & out, const std::vector < std::vector < value_type > > & a )\n{\n    typedef typename std::vector < std::vector < value_type > >::const_iterator const_iterator;\n\n    for ( const_iterator iter = a.begin( ); iter != a.end( ); ++ iter )\n        out << '\\n' << *iter ;\n\n    return out;\n}\n\n/*\n *  operator>> overrides\n * ----------------------------------------------\n */\n\ntemplate < typename key_type, typename value_type >\nstd::istream & operator>> ( std::istream & in, std::pair < key_type, value_type > & p)\n{\n    in >> p.first >> p.second;\n    return in;\n}\n\ntemplate < typename T0, typename T1, typename T2 >\nstd::istream & operator>> ( std::istream & fin, std::tuple < T0, T1, T2 > & t )\n{\n    fin >> std::get<0>(t) >> std::get<1>(t) >> std::get<2>(t);\n    return fin;\n}\n\ntemplate < typename value_type >\nstd::istream & operator>> ( std::istream & in, std::vector < value_type > & a )\n{\n    typedef typename std::vector < value_type >::iterator iterator;\n\n    if ( ! a.size( ) )\n    {\n        size_t n;\n        in >> n;\n        a.resize( n );\n    }\n\n    for ( iterator iter = a.begin(); iter != a.end(); ++ iter )\n        in >> * iter;\n\n    return in;\n}\n\n/*\n *  readin quick utilities\n * ----------------------------------------------\n */\n\n// template < typename value_type >\n// inline void readin ( std::vector < value_type > & a, size_t n = 0, std::istream & in = std::cin )\n// {\n//     // if ( ! n ) std::cin >> n;\n//     if ( ! n ) in >> n ;\n//     a.resize ( n );\n//     // std::cin >> a;\n//     in >> a;\n// }\n\n// XXX consider removing\n// template < typename key_type, typename value_type >\n// inline void readin (std::vector < std::pair < key_type , value_type > > & a, size_t n = 0 )\n// {\n//     if ( !n ) std::cin >> n;\n//     a.resize( n );\n//     std::cin >> a;\n// }\n\n/*\n *  pair utility\n * ----------------------------------------------\n */\n\n/*\n * accumulate ( m.begin( ), m.end( ), pair < int, double> ( 0 , 0.0 ) , operator+ < int, double > );\n * stackoverflow.com/questions/18640152\n */\ntemplate < typename T1, typename T2 >\ninline std::pair < T1, T2 > operator+ ( const std::pair < T1, T2 > & a, const std::pair < T1, T2 > & b )\n{\n    return std::make_pair < T1, T2 > ( a.first + b.first, a.second + b.second );\n}\n\ntemplate < typename T1, typename T2 >\ninline std::pair < T1, T2 > operator- ( const std::pair < T1, T2 > & a, const std::pair < T1, T2 > & b )\n{\n    return std::make_pair < T1, T2 > ( a.first - b.first, a.second - b.second );\n}\n\n// template < class T1, class T2, class BinaryOperation >\n// class Apply2nd : std::binary_function < typename std::pair < T1, T2 >,\n//                                         typename std::pair < T1, T2 >,\n//                                         typename BinaryOperation::result_type >\n\nnamespace\n{\n    /*!\n     * helper template to do the work\n     */\n    template < size_t J, class T1, class T2 >\n    struct Get;\n\n    template < class T1, class T2 >\n    struct Get < 0, T1, T2 >\n    {\n        typedef typename std::pair < T1, T2 >::first_type result_type;\n\n        static       result_type & elm (       std::pair < T1, T2 > & pr ) { return pr.first; }\n        static const result_type & elm ( const std::pair < T1, T2 > & pr ) { return pr.first; }\n    };\n\n    template < class T1, class T2 >\n    struct Get < 1, T1, T2 >\n    {\n        typedef typename std::pair < T1, T2 >::second_type result_type;\n\n        static       result_type & elm (       std::pair < T1, T2 > & pr ) { return pr.second; }\n        static const result_type & elm ( const std::pair < T1, T2 > & pr ) { return pr.second; }\n    };\n}\n\ntemplate < size_t J, class T1, class T2 >\ntypename Get< J, T1, T2 >::result_type & get ( std::pair< T1, T2 > & pr )\n{\n    return Get < J, T1, T2 >::elm( pr );\n}\n\ntemplate < size_t J, class T1, class T2 >\nconst typename Get< J, T1, T2 >::result_type & get ( const std::pair< T1, T2 > & pr )\n{\n    return Get < J, T1, T2 >::elm( pr );\n}\n\n/*\n * graph utils\n * ----------------------------------------------\n */\n\n/*\n * Dijkstra :: single-source shortest path problem for\n * a graph with non-negative edge path costs, producing\n * a shortest path tree\n * en.wikipedia.org/wiki/Dijkstra's_algorithm\n */\ntemplate < typename DistType >\nvoid Dijekstra ( const size_t & source,\n                 const std::vector < std::list < size_t > > & adj,          // adjacency list\n                 const std::vector < std::vector < DistType > > & edge_len, // pair-wise distance for adjacent nodes\n                 std::vector < DistType > & dist,  // distance from the source\n                 std::vector < size_t > prev )     // previous node in the shortest path tree\n{\n    // TODO\n}\n\n// TODO http://en.wikipedia.org/wiki/Shortest_path_problem\n// TODO Graph class, Weighted graph, ...\n\n/*\n *  maximum cardinality matching in a bipartite graph\n *        G = G1 \u222a G2 \u222a {NIL}\n *  where G1 and G2 are partition of graph and NIL is a special null vertex\n *  https://en.wikipedia.org/wiki/Hopcroft-Karp_algorithm\n */\nclass HopcroftKarp\n{\n    public:\n        HopcroftKarp ( const std::vector < std::list < size_t > > & adj,\n                       const std::vector < bool > & tag );\n\n        size_t get_npair ( ) { return npair; };\n        std::map < size_t, size_t > get_map ( );\n\n    private:\n        bool mf_breadth_first_search ( );  // breadth first search from unpaired nodes in G1\n        bool mf_depth_first_search ( const size_t v ); // dfs w/ toggeling augmenting paths\n\n        const std::vector < std::list < size_t > > & m_adj;  // adjacency list for each node\n        const std::vector < bool > & m_tag;  // binary tag distinguishing partitions\n\n        size_t npair;\n        const size_t NIL;  // special null vertex\n        const size_t INF;  // practically infinity distance\n\n        std::vector < size_t > m_g1;    // set of nodes with tag = true\n        std::vector < size_t > m_dist;  // dist from unpaired vertices in G1\n        std::vector < size_t > m_pair;\n};\n\n\nstd::map < size_t, size_t > HopcroftKarp::get_map ( )\n{\n    std::map < size_t, size_t > m;\n\n    for ( size_t j = 0; j < m_pair.size( ); ++ j )\n        if ( m_pair[ j ] != NIL  && m_tag[ j ])\n            m[ j ] = m_pair[ j ];\n\n    return m;\n}\n\n\nHopcroftKarp::HopcroftKarp ( const std::vector < std::list < size_t > > & adj,\n                             const std::vector < bool > & tag ):\n    m_adj ( adj ),\n    m_tag ( tag ),\n    npair ( 0 ),\n    NIL ( adj.size( )),\n    INF ( adj.size( ) + 1 ),\n    m_dist ( std::vector < size_t > ( adj.size( ) + 1, INF)),\n    m_pair ( std::vector < size_t > ( adj.size( ), NIL ))  // initially everything is paired with nil\n{\n    assert ( m_adj.size() == m_tag.size() );\n\n    for ( size_t j = 0; j < tag.size( ); ++ j )\n        if ( tag[ j ] )\n            m_g1.push_back ( j );\n\n    while ( mf_breadth_first_search ( ) )\n        for ( std::vector < size_t >::const_iterator v = m_g1.begin( ); v != m_g1.end( ); ++ v )\n            if ( m_pair[ *v ] == NIL && mf_depth_first_search ( *v ) )\n                ++ npair;\n}\n\nbool HopcroftKarp::mf_breadth_first_search( )\n{\n    /* only nodes from g1 are queued */\n    std::queue < size_t > bfs_queue;\n\n    /* initialize queue with all unpaired nodes from g1 */\n    for ( std::vector < size_t >::const_iterator v = m_g1.begin( ); v != m_g1.end( ); ++v )\n        if ( m_pair[ *v ] == NIL )\n        {\n            m_dist[ *v ] = 0;\n            bfs_queue.push ( *v );\n        }\n        else\n            m_dist[ *v ] = INF;\n\n    m_dist[ NIL ] = INF;\n\n    /* find all the shortest augmenting paths to node nil */\n    while ( ! bfs_queue.empty() )\n    {\n        const size_t v = bfs_queue.front( );\n        bfs_queue.pop ( );\n\n        if ( m_dist[ v ] < m_dist[ NIL ] )\n            for ( std::list < size_t >::const_iterator u = m_adj[ v ].begin( ); u != m_adj[ v ].end( ); ++ u )\n                if ( m_dist[ m_pair[ * u ] ] == INF )\n                {\n                    m_dist[ m_pair[ * u ] ] = m_dist[ v ] + 1;\n                    bfs_queue.push ( m_pair[ * u ] );\n                }\n    }\n\n    return m_dist[ NIL ] != INF;\n}\n\n\nbool HopcroftKarp::mf_depth_first_search( const size_t v )\n{\n    if ( v == NIL )\n        return true;\n    else\n    {\n        for ( std::list < size_t >::const_iterator u = m_adj[ v ].begin( ); u != m_adj[ v ].end( ); ++ u )\n            if ( m_dist[ m_pair[ *u ] ] == m_dist[ v ] + 1  && mf_depth_first_search( m_pair[ *u ] ))\n            {\n                /*\n                 * there is an augmenting path to nil from m_pair[ *u ]\n                 * and hence there is an augmenting path from v to u and\n                 * u to to nil; therefore v and u can be paired together\n                 */\n                m_pair [ *u ] = v;\n                m_pair [  v ] = *u;\n                return true;\n            }\n        m_dist[ v ] = INF;\n        return false;\n    }\n}\n\n\n/**\n * lazy all pairs shortest path in a tree with only one BFS\n * test case: 'book of evil'\n *      codeforces.com/problemset/problem/337/D\n */\nclass All_Pairs_Tree_Shortest_Path\n{\n    public:\n        All_Pairs_Tree_Shortest_Path( const std::vector< std::list < size_t > > & adj ):\n            n( adj.size( ) ),\n            depth( std::vector < size_t > ( n, All_Pairs_Tree_Shortest_Path::INF ) ),\n            parent( std::vector < size_t > ( n ) ),\n            dist( std::vector < std::vector < unsigned short > > ( n ) )\n        {\n\n            /* perform bfs from root node '0' and assign depth to each node */\n            /* XXX probably would be worth to set the root as node with highest degree */\n            std::queue< size_t > bfs_queue;\n            bfs_queue.push( 0 );\n            depth[ 0 ]  = 0;\n            parent[ 0 ] = 0;\n\n            while ( ! bfs_queue.empty( ) )\n            {\n                const size_t u = bfs_queue.front( );\n                bfs_queue.pop( );\n\n                for ( std::list< size_t >::const_iterator j = adj[ u ].begin( ); j != adj[ u ].end( ); ++ j )\n                    if ( depth[ u ] + 1 < depth[ *j ] )\n                    {\n                        depth[ *j ]  = depth[ u ] + 1;\n                        parent[ *j ] = u;\n                        bfs_queue.push( *j );\n                    }\n            }\n\n            /* adjust pair-wise distance to zero along the diagonal */\n            for ( size_t j = 1; j < n; ++ j )\n                dist[ j ].resize( j, All_Pairs_Tree_Shortest_Path::INF );\n        }\n\n        /* interface object function as to lazily look-up distances */\n        size_t operator( )( const size_t u, const size_t v )\n        {\n            if ( u == v )\n                return 0;\n            else if ( u < v)\n                return (*this)( v, u );\n            else if ( dist[ u ][ v ] == All_Pairs_Tree_Shortest_Path::INF )\n            {\n                if ( depth[ u ] < depth[ v ] )\n                    /* u is in a lower level than v */\n                    dist[ u ][ v ] = 1 + (*this)( u, parent[ v ]);\n                else if ( depth[ v ] < depth[ u ] )\n                    /* v is in a lower level than u */\n                    dist[ u ][ v ] = 1 + (*this)( parent[ u ], v );\n                else\n                    /* u and v are at the same depth */\n                    dist[ u ][ v ] = 2 + (*this)( parent[ u ], parent[ v ] );\n           }\n            return dist[ u ][ v ];\n        }\n\n        /* TODO populate; a method which populates pair-wise distances\n         * and returns the matrix */\n\n    private:\n            /*\n             * constant infinity value for initializing distances\n             * even though this is private it will be assigned outside of the class\n             */\n            static const unsigned short INF;\n\n            const size_t n;                 /* numbert of nodes in the tree */\n            std::vector < size_t > depth;   /* distance to root node '0' */\n            std::vector < size_t > parent;  /* parent of each node with root node '0' */\n            std::vector < std::vector < unsigned short > > dist; /* pair-wise shortest path distance */\n};\n\nconst unsigned short All_Pairs_Tree_Shortest_Path::INF = std::numeric_limits< unsigned short >::max( );\n\n/*\n *  data-structure utility\n * ----------------------------------------------\n */\n\ntemplate < class T, class Comp = std::less< T > >\nclass Heap  /* less< T > --> max-heap */\n{\n    typedef T value_type;\n    typedef typename std::vector < value_type >::size_type size_type;\n    public:\n        /*\n         * stackoverflow.com/questions/10387751\n         * possible work-around: a memebr pointer to m_val\n         * TODO static/friend heapify ( val, & heap )  XXX O( n ) ?!\n         * TODO implement insert iterator\n         */\n        Heap(): m_val( std::vector < value_type >() ), m_comp( Comp() ) {}\n\n        template < class InputIter >\n        Heap ( InputIter first, InputIter last ):\n            m_val ( std::vector < value_type > ( ) ), m_comp( Comp( ) )\n        {\n            for ( ; first != last ; ++ first )\n                m_val.push_back ( * first );\n\n            std::make_heap( m_val.begin( ), m_val.end( ), m_comp );\n        }\n\n        /*!\n         * to avoid destroying heap property, front( )\n         * should always return a 'const' reference\n         */\n        inline const value_type & front( ) const { return m_val.front( ); }\n        inline bool empty( ) const { return m_val.empty( ); }\n        inline size_type size( ) const { return m_val.size( );  }\n\n        inline void push ( const value_type & a )\n        {\n            m_val.push_back( a );\n            std::push_heap( m_val.begin( ), m_val.end( ), m_comp );\n        }\n        inline void pop( )\n        {\n            std::pop_heap ( m_val.begin( ), m_val.end( ), m_comp );\n            m_val.pop_back( );\n        }\n\n        // inline void swap( Heap< T, Comp> & other ) { m_val.swap( other.m_val ) };\n        // void sort( ) { std::sort_heap ( m_val.begin( ), m_val.end( ), m_comp ); }\n        // template < class X, class Y >\n        // friend std::ostream & operator<<( std::ostream & out, const Heap < X, Y> & heap );\n    private:\n        std::vector < value_type > m_val;\n        const Comp m_comp;\n};\n\n/*\n * boost.org/doc/libs/1_54_0/libs/smart_ptr/shared_ptr.htm\n */\n#if 1 < 0\ntemplate < class Type >\nclass shared_ptr\n{\n    typedef Type value_type;\n    public:\n        explicit shared_ptr ( value_type * p = NULL ) : ptr ( p ), count ( new size_t ( 1U ) ) { }\n        shared_ptr ( const shared_ptr < value_type > & sp ): ptr ( sp.ptr ), count ( sp.count ) { ++ * count; }\n        ~ shared_ptr ( ) { release( ); }\n\n        bool operator== ( const shared_ptr < value_type > & sp ) { return ptr == sp.ptr; }\n        bool operator!= ( const shared_ptr < value_type > & sp ) { return ptr != sp.ptr; }\n\n        shared_ptr < value_type > & operator= ( const shared_ptr < value_type > & sp )\n        {\n            if ( this != & sp && ptr != sp.ptr )\n            {\n                release( );\n                ptr   = sp.ptr;\n                count = sp.count;\n                ++ * count;\n            }\n            return * this;\n        }\n\n        value_type * operator-> ( ) { return ptr ; }\n        value_type & operator* ( ) { return *ptr ; }\n        const value_type * operator-> ( ) const { return ptr ; }\n        const value_type & operator* ( ) const { return *ptr; }\n\n        void swap ( shared_ptr < value_type > & sp )\n        {\n            if ( this != &sp && ptr != sp.ptr )\n            {\n                std::swap ( ptr, sp.ptr );\n                std::swap ( count, sp.count );\n            }\n        }\n\n    private:\n        void release ( )\n        {\n            /* stackoverflow.com/questions/615355 */\n            -- * count;\n            if ( ! * count )\n            {\n                delete count;\n                delete ptr;\n                count = NULL;\n                ptr   = NULL;\n            }\n        }\n        value_type * ptr;\n        size_t     * count;\n};\n#endif\n\n/*!\n * union find data structure with\n *      - lazy unions\n *      - union by rank\n *      - path compression\n */\nclass UnionFind\n{\n    public:\n        UnionFind( const size_t n ):\n            parent ( std::vector < size_t > ( n ) ),   /* initialize each node as its own   */\n            rank   ( std::vector < size_t > ( n, 0 ))  /* parent and set all the ranks to 0 */\n        {\n            for ( size_t j = 0; j < n; ++ j )\n                parent[ j ] = j ;\n        }\n\n        inline size_t find( const size_t s )\n        {\n            /*\n             * perform path compresion and add shortcut\n             * if parent[ s ] is not a root node\n             */\n            const size_t p = parent[ s ];\n            return parent[ p ] == p ? p : parent[ s ] = find( p ) ;\n        }\n\n        inline void lazy_union ( size_t i, size_t j )\n        {\n            /* unions should be done on root nodes */\n            i = find( i );\n            j = find( j );\n\n            if ( i != j )\n            {\n                if ( rank [ i ] < rank[ j ] )\n                    parent[ i ] = j;\n                else\n                {\n                    parent[ j ] = i;\n                    rank[ i ]  += rank[ i ] == rank[ j ];\n                }\n            }\n        }\n    private:\n        std::vector < size_t > parent;\n        std::vector < size_t > rank;\n};\n\n\n// TODO XXX\n// template < class NumType >\n// unsigned num_hash_func ( const NumType & a )\n// {\n//     // XXX what will happen in case of overflow?\n//     return static_cast < unsigned > ( a % 9973 ) % 9973 ;\n// }\n\n/*\n * XXX: HashMap: map< Key, T > data [ 9973 ]\n * data [ num_hash_func ( key ) ][ key ]\n */\n\n\n/*\n *  testing util\n * ----------------------------------------------\n */\n\n// TODO add a preprocessor which automatically includes the funciton name, or __line__\n// and disables if not in debug mode\n/* prints the life length of the object when it goes out of scope */\nclass ScopeTimer\n{\n    public:\n        ScopeTimer ( const std::string & msg = \"\" ): tic ( clock ( )), m_msg( msg ) { };\n\n        ~ ScopeTimer ( )\n        {\n            const clock_t toc = clock();\n            const uint64 dt   = 1000L * ( toc - tic ) / CLOCKS_PER_SEC;\n\n            const uint64 mil = dt % 1000L;\n            const uint64 sec = ( dt / 1000L ) % 60L;\n            const uint64 min = ( dt / 60000L ) % 60L;\n            const uint64 hrs = ( dt / 3600000L );\n\n            std::cout << '\\n' << m_msg << \"\\n\\telapsed time: \";\n\n            if ( hrs )  std::cout << hrs << \" hrs, \";\n            if ( min )  std::cout << min << \" min, \";\n            if ( sec )  std::cout << sec << \" sec, \";\n            std::cout << mil << \" mil-sec\\n\";\n        }\n\n    private:\n        typedef unsigned long long int  uint64;\n        const clock_t tic;\n        const std::string m_msg;\n};\n\nclass RandInt\n{\n    public:\n        RandInt ( int a = 0, int b = 100 ): m ( a ), f ( static_cast < double > ( b - a ) / RAND_MAX ) { }\n        inline int operator() ( ) { return m + std::ceil ( f * rand( ) ); }\n    private:\n        const int m;\n        const double f;\n};\n\n\nclass RandDouble\n{\n    public:\n        RandDouble ( double a = 0.0, double b = 1.0 ): m ( a ), f ( ( b - a ) / RAND_MAX ) { }\n        inline double operator() ( ) { return m + f * rand( ); }\n    private:\n        const double m, f;\n};\n\nclass Noisy\n{\n    public:\n        Noisy ( std::string str ): msg ( str )\n        {\n            std::cout << \" Noisy ( \" << msg << \" )\\t@ \" << this << std::endl;\n        }\n        ~Noisy ( )\n        {\n            std::cout << \"~Noisy ( \" << msg << \" )\\t@ \" << this << std::endl;\n        }\n        void beep ( )\n        {\n            std::cout << \" beep ( \" << msg << \" )\\t@ \" << this << std::endl;\n        }\n        void beep ( ) const\n        {\n            std::cout << \" const beep ( \" << msg << \" )\\t@ \" << this << std::endl;\n        }\n    private:\n        const std::string msg;\n};\n\nDECLARE ( Noisy );\n\n\n/*\n * ----------------------------------------------\n * ----------------------------------------------\n */\n\n/*\n * -- @@@ -------------------------------------------------\n */\n\n\nusing namespace std;\n\n// struct Comp\n// {\n//     // bool operator() ( const pair < int, int > & x, const pair < int, int > & y )\n//     // {\n//     //     return abs( x.first ) + abs( x.second ) < abs( y.first ) + abs( y.second );\n//     // }\n//\n//     // bool operator( ) ( const xyCircle & a, const xyCircle & b )\n//     // {\n//     //     return a.radius < b.radius;\n//     // }\n//     //\n//     bool operator( ) ( const pair < size_t, size_t > & pr, const size_t & x )\n//     {\n//         return pr.second < x;\n//     }\n// };\n\ninline int get_gain( const vector < int > & xs, const size_t l, const size_t r )\n{\n    const size_t len = xs.size() - l - r;\n    return len & 1 ? xs[ l + len / 2 ] : 0;\n}\n\nvoid c388()\n{\n    size_t n;\n    cin >> n;\n    vector < vector < int > > xs( n );\n    cin >> xs;\n\n    const size_t k = accumulate( begin(xs), end(xs), 0,\n            []( const size_t acc, const vector < int > & row )\n            {\n                return acc + row.size();\n            });\n    DEBUG( k );\n\n    const int acc = accumulate( begin(xs), end(xs), 0,\n            []( const int acc, const vector < int > & a )\n            {\n                return accumulate(begin(a), end(a), acc);\n            });\n\n    DEBUG( acc );\n    // how much has it been taken from left & right\n    vector < size_t > left( n, 0 ), right( n, 0 );\n\n    int left_acc = 0;\n\n    for ( size_t j = 0; j < k; ++ j )\n    {\n        size_t imax = 0;\n        while ( xs[imax].size() == left[imax] + right[imax] )\n            ++ imax;\n\n        int val = get_gain( xs[imax], left[imax], right[imax] );\n\n        for ( size_t i = imax + 1; i < n; ++ i )\n            if ( left[ i ] + right[ i ] < xs[ i ].size() )\n            {\n                const auto g = get_gain( xs[i], left[i], right[i] );\n                if ( val < g )\n                {\n                    val = g;\n                    imax = i;\n                }\n            }\n\n        if ( j & 1 ) // from right\n            ++ right[ imax ];\n        else\n            left_acc += xs[ imax ][ left[ imax ] ++ ];\n    }\n\n    cout << left_acc << ' ' << acc - left_acc;\n}\n\n\nint main( const int argc, char * argv [])\n{\n    c388();\n    // cout << setprecision( 15 ) << b68();\n\n    return EXIT_SUCCESS;\n}\n\n/**\n * mislav.uniqpath.com/2011/12/vim-revisited/\n * set encoding=utf-8\n * %s/\\(.\\{60,70\\}\\) /\\1\\r/gc\n * %s/\u2009/ /gc\n * %s/10\\([0-9]\\{1,2\\}\\)/10^\\1/gc\n */\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint main() {\n  long long sa = 0, sb = 0;\n  int n, s, x, m = 0, tar[(110)];\n  using namespace std;\n  cin >> n;\n  while (n--) {\n    cin >> s;\n    for (int i = 1; i <= s; i++) {\n      cin >> x;\n      if (i * 2 - 1 < s) sa += x;\n      if (i * 2 - 1 == s) tar[m++] = x;\n      if (i * 2 - 1 > s) sb += x;\n    }\n  }\n  sort(tar, tar + m);\n  int g = 0;\n  for (int i = m - 1; i >= 0; i--) {\n    if (!g) {\n      sa += tar[i];\n      g = 1;\n    } else {\n      sb += tar[i];\n      g = 0;\n    }\n  }\n  cout << sa << ' ' << sb << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> v;\nint main(int argc, char const *argv[]) {\n  int n;\n  cin >> n;\n  int a = 0, b = 0;\n  for (int i = 0; i < n; i++) {\n    int x;\n    cin >> x;\n    for (int j = 0; j < x; j++) {\n      int aa;\n      cin >> aa;\n      if (x % 2 == 1 and j == x / 2)\n        v.push_back(aa);\n      else if (j < x / 2)\n        a += aa;\n      else\n        b += aa;\n    }\n  }\n  sort((v).begin(), (v).end());\n  int at = 0;\n  for (int i = v.size() - 1; i >= 0; i--) {\n    if (!at)\n      a += v[i];\n    else\n      b += v[i];\n    at = (1 - at);\n  }\n  cout << a << \" \" << b << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.List;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.InputMismatchException;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.util.StringTokenizer;\nimport java.util.Collections;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author RiaD\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tReader in = new Reader(inputStream);\n\t\tOutputWriter out = new OutputWriter(outputStream);\n\t\tTaskC solver = new TaskC();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskC {\n    public void solve(int testNumber, Reader in, OutputWriter out) {\n        int stacks = in.nextInt();\n        int sum1 = 0, sum2 = 0;\n        ArrayList<Integer> realGame = new ArrayList<Integer>();\n        for(int i = 0; i < stacks; ++i) {\n            int inGroup = in.nextInt();\n            int[] group = in.nextIntArray(inGroup);\n            for(int j = 0; j < inGroup / 2; ++j) {\n                sum1 += group[j];\n            }\n            int start = inGroup / 2;\n            if(inGroup % 2 == 1) {\n                realGame.add(group[start]);\n                ++start;\n            }\n            for(int j = start; j < inGroup; ++j) {\n                sum2 += group[j];\n            }\n        }\n        Collections.sort(realGame, Collections.reverseOrder());\n\n        boolean first = true;\n        for(int number: realGame) {\n            if(first)\n                sum1 += number;\n            else\n                sum2 += number;\n            first = !first;\n        }\n        out.println(sum1 + \" \" + sum2);\n    }\n}\n\nclass Reader {\n    private BufferedReader reader;\n    private StringTokenizer tokenizer;\n\n    public Reader(BufferedReader reader) {\n        this.reader = reader;\n    }\n\n    public Reader(InputStream stream) {\n        this(new BufferedReader(new InputStreamReader(stream)));\n    }\n\n    public String nextString() {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(readLine());\n        }\n        return tokenizer.nextToken();\n    }\n\n    public int nextInt() {\n        return Integer.parseInt(nextString());\n    }\n\n    public int[] nextIntArray(int size) {\n        int[] array = new int[size];\n        for (int i = 0; i < size; ++i) {\n            array[i] = nextInt();\n        }\n        return array;\n    }\n\n    private String readLine() {\n        try {\n            return reader.readLine();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\nclass OutputWriter extends PrintWriter {\n\n\tpublic OutputWriter(OutputStream out) {\n\t\tsuper(out);\n\t}\n\n\tpublic OutputWriter(java.io.Writer writer){\n\t\tsuper(writer);\n\t}\n\n\t}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 119;\nint n;\nvector<int> v;\nint Ciel = 0, Jiro = 0;\nint main() {\n  ios::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int m;\n    cin >> m;\n    int a[N] = {};\n    for (int i = 1; i <= m; i++) cin >> a[i];\n    if (m % 2) {\n      v.push_back(a[(m + 1) / 2]);\n      for (int i = 1; i <= m; i++) {\n        if (i < (m + 1) / 2)\n          Ciel += a[i];\n        else if (i > (m + 1) / 2)\n          Jiro += a[i];\n      }\n    } else {\n      for (int i = 1; i <= m; i++) {\n        if (i <= m / 2)\n          Ciel += a[i];\n        else\n          Jiro += a[i];\n      }\n    }\n  }\n  cerr << Ciel << ' ' << Jiro << endl;\n  sort(v.begin(), v.end(), greater<int>());\n  for (int i = 0; i < v.size(); i++) {\n    if (i % 2)\n      Jiro += v[i];\n    else\n      Ciel += v[i];\n  }\n  cout << Ciel << ' ' << Jiro << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<vector<int>> piles;\nint main() {\n  int n;\n  cin >> n;\n  vector<int> mcards;\n  int ceil = 0;\n  int jiro = 0;\n  for (int i = 0; i < n; i++) {\n    int cn;\n    cin >> cn;\n    for (int j = 0; j < cn; j++) {\n      int x;\n      cin >> x;\n      if (cn % 2 == 1 && cn / 2 == j) {\n        mcards.push_back(x);\n        continue;\n      }\n      if (j < cn / 2) {\n        ceil += x;\n        continue;\n      }\n      jiro += x;\n    }\n  }\n  sort(mcards.rbegin(), mcards.rend());\n  for (size_t t = 0; t < mcards.size(); t++) {\n    if (t % 2 == 0)\n      ceil += mcards[t];\n    else\n      jiro += mcards[t];\n  }\n  cout << ceil << \" \" << jiro << endl;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class CF {\n\n\tvoid solve() {\n\t\tint n = in.nextInt();\n\t\tlong fromStart = 0, fromEnd = 0;\n\t\t// start moves first\n\t\tArrayList<Integer> res = new ArrayList<>();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint si = in.nextInt();\n\t\t\tint[] a = new int[si];\n\t\t\tfor (int j = 0; j < si; j++) {\n\t\t\t\ta[j] = in.nextInt();\n\t\t\t}\n\t\t\tfor (int j = 0; j < si / 2; j++) {\n\t\t\t\tfromStart += a[j];\n\t\t\t\tfromEnd += a[a.length - j - 1];\n\t\t\t}\n\t\t\tif (si % 2 != 0) {\n\t\t\t\tres.add(a[a.length / 2]);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(res);\n\t\tboolean moveStart = true;\n\t\tfor (int i = res.size() - 1; i >= 0; i--) {\n\t\t\tint val = res.get(i);\n\t\t\tif (moveStart) {\n\t\t\t\tfromStart += val;\n\t\t\t} else {\n\t\t\t\tfromEnd += val;\n\t\t\t}\n\t\t\tmoveStart = !moveStart;\n\t\t}\n\t\tout.println(fromStart + \" \" + fromEnd);\n\t}\n\n\tFastScaner in;\n\tPrintWriter out;\n\n\tvoid run() {\n\t\tin = new FastScaner(System.in);\n\t\tout = new PrintWriter(System.out);\n\n\t\tsolve();\n\n\t\tout.close();\n\t}\n\n\tvoid runWithFiles() {\n\t\tin = new FastScaner(new File(\"input.txt\"));\n\t\ttry {\n\t\t\tout = new PrintWriter(new File(\"output.txt\"));\n\t\t} catch (FileNotFoundException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\n\t\tsolve();\n\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tLocale.setDefault(Locale.US);\n\t\tnew CF().run();\n\t}\n\n\tclass FastScaner {\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n\n\t\tFastScaner(InputStream is) {\n\t\t\tbr = new BufferedReader(new InputStreamReader(is));\n\t\t}\n\n\t\tFastScaner(File f) {\n\t\t\ttry {\n\t\t\t\tbr = new BufferedReader(new FileReader(f));\n\t\t\t} catch (FileNotFoundException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t\tString next() {\n\t\t\twhile (st == null || !st.hasMoreElements()) {\n\t\t\t\tString s = null;\n\t\t\t\ttry {\n\t\t\t\t\ts = br.readLine();\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}\n\t\t\t\tif (s == null)\n\t\t\t\t\treturn null;\n\t\t\t\tst = new StringTokenizer(s);\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxx = 120;\nint l[maxx], r[maxx], s1 = 0, s2 = 0, maj[maxx][maxx];\nvector<int> v;\nint main() {\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int x;\n    cin >> x;\n    for (int j = 0; j < x; j++) {\n      int y;\n      cin >> y;\n      if (j == x / 2 && x % 2 == 1) v.push_back(y);\n      if (j < (x / 2)) s1 += y;\n      if (x % 2 == 1 && j > (x / 2)) s2 += y;\n      if (x % 2 == 0 && j >= (x / 2)) s2 += y;\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < v.size(); i++)\n    if (i % 2)\n      s2 += v[i];\n    else\n      s1 += v[i];\n  cout << s1 << \" \" << s2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, m, k, x, y;\nint s1, s2;\nint a[1000];\nint ct;\nbool cmp(int x, int y) { return x > y; }\nint main() {\n  while (~scanf(\"%d\", &n)) {\n    ct = s1 = s2 = 0;\n    memset(a, 0, sizeof a);\n    for (int i = 1; i <= n; i++) {\n      scanf(\"%d\", &m);\n      k = (m >> 1);\n      for (int j = 1; j <= k; j++) {\n        scanf(\"%d\", &x);\n        s1 += x;\n      }\n      if (m & 1) {\n        scanf(\"%d\", &a[ct++]);\n      }\n      for (int j = 1; j <= k; j++) {\n        scanf(\"%d\", &x);\n        s2 += x;\n      }\n    }\n    sort(a, a + ct, cmp);\n    for (int i = 0; i < ct; i += 2) {\n      s1 += a[i];\n      s2 += a[i + 1];\n    }\n    cout << s1 << \" \" << s2 << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = (-1u) / 2;\nconst long long int INF2 = (-1ull) / 2;\nint a, b, i, d[1011000], j, k, n, m, timer = 0, l, r, x, y;\nint c[1011000], cnt = 0, fl = 0, a2, a3 = -1000000, ans = 0;\nvector<int> v;\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin >> n;\n  for (i = 0; i < n; i++) {\n    cin >> m;\n    for (j = 1; j <= m; j++) {\n      cin >> a;\n      if (m % 2 == 0) {\n        if (j <= m / 2)\n          x += a;\n        else\n          y += a;\n      } else {\n        if (j <= m / 2)\n          x += a;\n        else if (j > m / 2 + 1)\n          y += a;\n        else\n          v.push_back(a);\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  for (i = 0; i < v.size(); i++) {\n    a = v[v.size() - 1 - i];\n    if (i % 2 == 0)\n      x += a;\n    else\n      y += a;\n  }\n  cout << x << \" \" << y << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nlong long suma1;\nlong long suma2;\nint x;\nlong long k;\nvector<long long> sredine;\nlong long sumasredine;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n  cerr.tie(0);\n  cin >> n;\n  suma1 = 0;\n  suma2 = 0;\n  sumasredine = 0;\n  for (int i = 1; i <= n; i++) {\n    cin >> x;\n    if (x % 2 == 0) {\n      for (int i = 1; i <= x / 2; i++) {\n        cin >> k;\n        suma1 += k;\n      }\n      for (int i = 1; i <= x / 2; i++) {\n        cin >> k;\n        suma2 += k;\n      }\n    } else {\n      for (int i = 1; i <= x / 2; i++) {\n        cin >> k;\n        suma1 += k;\n      }\n      cin >> k;\n      sredine.push_back(k);\n      sumasredine += k;\n      for (int i = 1; i <= x / 2; i++) {\n        cin >> k;\n        suma2 += k;\n      }\n    }\n  }\n  sort(sredine.begin(), sredine.end());\n  long long s = 0;\n  for (int i = sredine.size() - 1; i >= 0; i = i - 2) {\n    s += sredine[i];\n  }\n  cout << suma1 + s << \" \" << suma2 + (sumasredine - s);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint uno = 0, dos = 0, ctos, son, preg, A[105], num, hay = 0;\nint main() {\n  scanf(\"%d\", &ctos);\n  for (int i = 1; i <= ctos; i++) {\n    scanf(\"%d\", &son);\n    if (son % 2 == 0) {\n      for (int e = 1; e <= son / 2; e++) {\n        scanf(\"%d\", &num);\n        uno += num;\n      }\n      for (int e = 1; e <= son / 2; e++) {\n        scanf(\"%d\", &num);\n        dos += num;\n      }\n    } else {\n      for (int e = 1; e <= son / 2; e++) {\n        scanf(\"%d\", &num);\n        uno += num;\n      }\n      ++hay;\n      scanf(\"%d\", &A[hay]);\n      for (int e = 1; e <= son / 2; e++) {\n        scanf(\"%d\", &num);\n        dos += num;\n      }\n    }\n  }\n  sort(A + 1, A + hay + 1);\n  for (int i = 1; i <= hay; i++) {\n    if (i % 2 == 1)\n      uno += A[hay - i + 1];\n    else\n      dos += A[hay - i + 1];\n  }\n  printf(\"%d %d\\n\", uno, dos);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int mod = 1000000007;\nsigned main() {\n  ios_base::sync_with_stdio(false), cin.tie(0);\n  int n, A = 0, B = 0;\n  cin >> n;\n  vector<int> odd;\n  while (n--) {\n    int c;\n    cin >> c;\n    for (int i = (int)1; i <= (int)c; i++) {\n      int a;\n      cin >> a;\n      B += a;\n      if (i <= c / 2) A += a;\n      if (c & 1 && i == c / 2 + 1) odd.push_back(a);\n    }\n  }\n  sort(odd.begin(), odd.end(), greater<int>());\n  for (int i = (int)0; i <= (int)odd.size() - 1; i++) {\n    if (i % 2 == 0) A += odd[i];\n  }\n  cout << A << ' ' << B - A << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  vector<pair<int, vector<int> > > x;\n  int res1 = 0, res2 = 0;\n  for (int i = 0; i < (n); ++i) {\n    int db;\n    scanf(\"%d\", &db);\n    vector<int> tmp(db);\n    for (int j = 0; j < (db); ++j) {\n      scanf(\"%d\", &tmp[j]);\n    }\n    if (tmp.size() & 1) {\n      x.push_back(make_pair(tmp[tmp.size() / 2], tmp));\n    } else {\n      for (int j = 0; j < (db); ++j) {\n        if (j < db / 2)\n          res1 += tmp[j];\n        else\n          res2 += tmp[j];\n      }\n    }\n  }\n  sort(x.begin(), x.end());\n  int b = 0;\n  for (int i = x.size() - 1; i > -1; --i) {\n    const vector<int>& tmp = x[i].second;\n    for (int j = 0; j < (tmp.size()); ++j) {\n      if (j < tmp.size() / 2)\n        res1 += tmp[j];\n      else if (j > tmp.size() / 2)\n        res2 += tmp[j];\n    }\n    if (b) {\n      res2 += tmp[tmp.size() / 2];\n    } else {\n      res1 += tmp[tmp.size() / 2];\n    }\n    b = 1 - b;\n  }\n  printf(\"%d %d\\n\", res1, res2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 500010;\nint main() {\n  int n;\n  cin >> n;\n  int a[111][111] = {0};\n  int ans1 = 0, ans2 = 0;\n  vector<int> mids;\n  for (int i = 1; i <= n; i++) {\n    cin >> a[i][0];\n    for (int j = 1; j <= a[i][0]; j++) {\n      cin >> a[i][j];\n      if (a[i][0] % 2 == 0) {\n        if (j <= a[i][0] / 2) {\n          ans1 += a[i][j];\n        } else\n          ans2 += a[i][j];\n      } else {\n        if (j < a[i][0] / 2 + 1) {\n          ans1 += a[i][j];\n        } else if (j == a[i][0] / 2 + 1 || a[i][0] == 1) {\n          mids.push_back(a[i][j]);\n        } else\n          ans2 += a[i][j];\n      }\n    }\n  }\n  sort(mids.begin(), mids.end());\n  reverse(mids.begin(), mids.end());\n  for (int i = 0; i < mids.size(); i++) {\n    if (i % 2 == 0) {\n      ans1 += mids[i];\n    } else\n      ans2 += mids[i];\n  }\n  cout << ans1 << \" \" << ans2;\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "n,a,A,B = input(),[],0,0\nfor i in range(n):\n        c = map(int,raw_input().split())\n        A += sum(c[1:c[0]/2+1])\n        B += sum(c[(c[0]+1>>1)+1:])\n        if (c[0]&1): a.append(c[c[0]+1>>1])\na.sort(); a.reverse()\nfor i in range(len(a)):\n        if i&1: B += a[i]\n        else: A += a[i]\nprint A,B\n"
        },
        {
            "language": 3,
            "solution": "from functools import reduce\n\nn = int(input())\ncards = [list(map(int, input().split()[1:])) for i in range(n)]\nmid = [c[len(c) >> 1] for c in cards if len(c) & 1 == 1]\na, b = 0, 0\nadd = lambda x=0, y=0: x + y\nfor c in cards:\n    m = len(c) >> 1\n    a += reduce(add, c[:m] or [0])\n    b += reduce(add, c[m + (len(c) & 1):] or [0])\nmid.sort(reverse=True)\na += reduce(add, mid[::2] or [0])\nb += reduce(add, mid[1::2] or [0])\nprint(a, b)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint s0, s1, n, m, kg[1111], a[1111][1111], t, nom, l[1111], r[1111];\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &kg[i]);\n    for (int j = 0; j < kg[i]; j++) scanf(\"%d\", &a[i][j]);\n    m += kg[i];\n  }\n  for (int i = 0; i < n; i++) {\n    l[i] = 0;\n    r[i] = kg[i] - 1;\n  }\n  s0 = 0;\n  s1 = 0;\n  t = 1;\n  for (int i = 0; i < m; i++) {\n    t ^= 1;\n    int maxt = -1000000000;\n    for (int j = 0; j < n; j++) {\n      if (l[j] > r[j]) continue;\n      int ll = l[j], rr = r[j];\n      int st = 0;\n      if ((r[j] - l[j] + 1) % 2 == 1) st = (a[j][(l[j] + r[j]) / 2]);\n      if (st > maxt) {\n        maxt = st;\n        nom = j;\n      }\n    }\n    if (t == 0) {\n      s0 += a[nom][l[nom]];\n      l[nom]++;\n    } else {\n      s1 += a[nom][r[nom]];\n      r[nom]--;\n    }\n  }\n  cout << s0 << \" \" << s1 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint s1, s2, curr, a[100];\nint main() {\n  int n, x, y;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &x);\n    for (int j = 0; j < x / 2; j++) scanf(\"%d\", &y), s1 += y;\n    if (x & 1) scanf(\"%d\", &a[curr++]);\n    for (int j = 0; j < x / 2; j++) scanf(\"%d\", &y), s2 += y;\n  }\n  sort(a, a + curr, greater<int>());\n  for (int i = 0; i < curr; i++)\n    if (i & 1)\n      s2 += a[i];\n    else\n      s1 += a[i];\n  printf(\"%d %d\\n\", s1, s2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma GCC diagnostic ignored \"-Wwrite-strings\"\nusing namespace std;\ntemplate <class T, class U>\nostream &operator<<(ostream &out, const pair<T, U> &A) {\n  out << A.first << \"_\" << A.second;\n  return out;\n}\ntemplate <template <typename, typename> class ContainerT, typename ValueT>\nostream &operator<<(ostream &out,\n                    const ContainerT<ValueT, std::allocator<ValueT> > &A) {\n  for (__typeof((A).begin()) i = (A).begin(); i != (A).end(); ++i)\n    out << *i << \" \";\n  return out;\n}\ntemplate <template <typename, typename> class ContainerT, typename ValueT,\n          typename ValueU>\nostream &operator<<(\n    ostream &out, const ContainerT<pair<ValueT, ValueU>,\n                                   std::allocator<pair<ValueT, ValueU> > > &A) {\n  for (__typeof((A).begin()) i = (A).begin(); i != (A).end(); ++i)\n    out << *i << \" \";\n  return out;\n}\ntemplate <class T>\nvoid mini(T &a, const T &b) {\n  if (b < a) a = b;\n}\ntemplate <class T>\nvoid maxi(T &a, const T &b) {\n  if (b > a) a = b;\n}\nint N;\ndeque<int> sum;\nlong long solve() {\n  cin >> N;\n  sum.clear();\n  vector<vector<int> > A(N);\n  vector<vector<int> > AS(N);\n  sum.push_back(0);\n  for (int i = 0; i < (N); ++i) {\n    int s;\n    cin >> s;\n    sum.push_back(sum.back() + s);\n    A[i] = vector<int>(s);\n    for (int j = 0; j < (s); ++j) cin >> A[i][j];\n    AS[i] = vector<int>(1);\n    for (int j = 0; j < (s); ++j) AS[i].push_back(AS[i].back() + A[i][j]);\n  }\n  sum.pop_front();\n  int SSS = 0;\n  for (int i = 0; i < (N); ++i)\n    for (__typeof((A[i]).begin()) j = (A[i]).begin(); j != (A[i]).end(); ++j)\n      SSS += *j;\n  long long ans = 0;\n  vector<int> div;\n  for (int i = 0; i < (N); ++i)\n    if (A[i].size() % 2 == 0)\n      ans += AS[i][A[i].size() / 2];\n    else {\n      ans += AS[i][A[i].size() / 2];\n      div.push_back(A[i][A[i].size() / 2]);\n    }\n  sort((div).begin(), (div).end(), greater<int>());\n  for (int i = 0; i < (div.size()); ++i)\n    if (i % 2 == 0) ans += div[i];\n  cout << ans << \" \" << SSS - ans << endl;\n  return 0;\n}\nlong long solve_() {\n  cin >> N;\n  sum.clear();\n  vector<vector<int> > A(N);\n  vector<vector<int> > AS(N);\n  sum.push_back(0);\n  for (int i = 0; i < (N); ++i) {\n    int s;\n    cin >> s;\n    sum.push_back(sum.back() + s);\n    A[i] = vector<int>(s);\n    for (int j = 0; j < (s); ++j) cin >> A[i][j];\n    AS[i] = vector<int>(1);\n    for (int j = 0; j < (s); ++j) AS[i].push_back(AS[i].back() + A[i][j]);\n  }\n  sum.pop_front();\n  int SSS = 0;\n  for (int i = 0; i < (N); ++i)\n    for (__typeof((A[i]).begin()) j = (A[i]).begin(); j != (A[i]).end(); ++j)\n      SSS += *j;\n  int curS = 0;\n  int S = sum.back();\n  vector<int> D(S + 1, -1);\n  D[0] = 0;\n  for (int i = 0; i < (N); ++i) {\n    curS += sum[i];\n    vector<int> newD(D);\n    for (int j = 0; j < (S + 1); ++j) {\n      if (D[j] == -1) break;\n      for (int k = (j + 1); k <= (min(j + sum[i], S)); ++k) {\n        if (k > (curS + 1) / 2) break;\n        if (k < (curS - 1) / 2) continue;\n        if (k - j > (A[i].size() + 1) / 2) break;\n        maxi(newD[k], D[j] + AS[i][k - j]);\n      }\n    }\n    D = newD;\n    cout << \"D\"\n         << \": \" << D << endl;\n  }\n  int max = D[(S + 1) / 2];\n  cout << max << \" \" << SSS - max << endl;\n  return 0;\n}\nint main() {\n  solve();\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma comment(linker, \"/STACK:36777216\")\nusing namespace std;\nint n, sz[111], a[111], sum1, sum2;\nvector<int> vec;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &sz[i]);\n    for (int j = 1; j <= sz[i]; j++) scanf(\"%d\", &a[j]);\n    if (sz[i] % 2 == 1) {\n      vec.push_back(a[sz[i] / 2 + 1]);\n    }\n    for (int j = 1; j <= sz[i] / 2; j++) sum1 += a[j];\n    int st;\n    if (sz[i] % 2 == 0)\n      st = sz[i] / 2 + 1;\n    else\n      st = sz[i] / 2 + 2;\n    for (int j = st; j <= sz[i]; j++) sum2 += a[j];\n  }\n  sort(vec.begin(), vec.end());\n  reverse(vec.begin(), vec.end());\n  for (int i = 0; i < vec.size(); i++) {\n    if (i % 2 == 0)\n      sum1 += vec[i];\n    else\n      sum2 += vec[i];\n  }\n  printf(\"%d %d\\n\", sum1, sum2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint A[110];\nint n, m, s1, s2;\nvoid enter() {\n  cin >> n;\n  for (int i = 1; i <= n; ++i) {\n    int ni;\n    cin >> ni;\n    for (int j = 1; j <= ni; ++j) {\n      int a;\n      cin >> a;\n      if (j * 2 - 1 == ni)\n        A[++m] = a;\n      else\n        (j * 2 <= ni ? s1 : s2) += a;\n    }\n  }\n}\nvoid solve() {\n  sort(A + 1, A + m + 1);\n  int k = 0;\n  for (int i = m; i > 0; --i) {\n    k ^= 1;\n    (k ? s1 : s2) += A[i];\n  }\n  cout << s1 << \" \" << s2;\n}\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(nullptr);\n  if (ifstream(\"388C.inp\")) cin.rdbuf((new ifstream(\"388C.inp\"))->rdbuf());\n  enter();\n  solve();\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class FoxAndCardGame {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\tList<Integer> tempList = new ArrayList<>();\n\t\tlong ceil = 0;\n\t\tlong jiro = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint l = sc.nextInt();\n\n\t\t\tfor (int j = 0; j < l; j++) {\n\t\t\t\tint t = sc.nextInt();\n\t\t\t\tif (j < l / 2)\n\t\t\t\t\tceil += t;\n\t\t\t\telse if (l % 2 == 1 && j == l / 2)\n\t\t\t\t\ttempList.add(t);\n\t\t\t\telse\n\t\t\t\t\tjiro += t;\n\t\t\t}\n\t\t}\n\t\tCollections.sort(tempList, Collections.reverseOrder());\n\t\tfor (int i = 0; i < tempList.size(); i++) {\n\t\t\tif (i % 2 == 0)\n\t\t\t\tceil += tempList.get(i);\n\t\t\telse\n\t\t\t\tjiro += tempList.get(i);\n\t\t}\n\n\t\tSystem.out.println(ceil + \" \" + jiro);\n\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int mod = 1000000007;\nconst int inf = 1023456789;\ntemplate <typename T>\ninline void chkmax(T &a, T b) {\n  if (a < b) a = b;\n}\ntemplate <typename T>\ninline void chkmin(T &a, T b) {\n  if (a > b) a = b;\n}\ntemplate <typename T>\ninline T gcd(T a, T b) {\n  return b ? gcd(b, a % b) : a;\n}\ntemplate <typename T>\ninline T lcm(T a, T b) {\n  return a / gcd(a, b) * b;\n}\ntemplate <typename T>\ninline T expmod(T a, T b, T c = mod) {\n  T rlt = 1;\n  for (a %= c; b; b >>= 1, a = a * a % c)\n    if (b & 1) rlt = rlt * a % c;\n  return rlt;\n}\nint n, cnt[111], m, a[111], sa, sb;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &cnt[i]);\n    for (int j = 1, k; j <= cnt[i]; j++) {\n      scanf(\"%d\", &k);\n      if (cnt[i] & 1) {\n        if (j <= cnt[i] / 2)\n          sa += k;\n        else if (j == cnt[i] / 2 + 1)\n          a[++m] = k;\n        else\n          sb += k;\n      } else {\n        if (j <= cnt[i] / 2)\n          sa += k;\n        else\n          sb += k;\n      }\n    }\n  }\n  sort(a + 1, a + m + 1);\n  reverse(a + 1, a + m + 1);\n  for (int i = 1; i <= m; i++) {\n    if (i & 1)\n      sa += a[i];\n    else\n      sb += a[i];\n  }\n  printf(\"%d %d\\n\", sa, sb);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\nint s[N], a[N][N], n, ciel[N], jiro[N], cur[N], _ciel[N], _jiro[N];\nint main() {\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    cin >> s[i];\n    cur[i] = s[i];\n    _jiro[i] = s[i] - 1;\n    if (s[i] % 2) {\n      ciel[i] = s[i] / 2 - 1;\n      jiro[i] = s[i] / 2 + 1;\n    } else {\n      ciel[i] = s[i] / 2 - 1;\n      jiro[i] = s[i] / 2;\n    }\n    for (int j = 0; j < s[i]; j++) {\n      cin >> a[i][j];\n    }\n  }\n  bool ciel_move = 0;\n  int ciel_score = 0, jiro_score = 0;\n  for (int _n = n; _n;) {\n    ciel_move = !ciel_move;\n    if (ciel_move) {\n      int index, best_add = -int(1e9);\n      for (int i = 0; i < n; i++) {\n        if (!cur[i]) continue;\n        int add;\n        if (cur[i] % 2) {\n          add = a[i][ciel[i] + 1];\n        } else {\n          add = 0;\n        }\n        if (add > best_add) {\n          best_add = add;\n          index = i;\n        }\n      }\n      if (cur[index] % 2) {\n        ciel[index]++;\n      } else {\n        jiro[index]++;\n      }\n      ciel_score += a[index][_ciel[index]++];\n      cur[index]--;\n      if (!cur[index]) _n--;\n    } else {\n      int index, best_add = -int(1e9);\n      for (int i = 0; i < n; i++) {\n        if (!cur[i]) continue;\n        int add;\n        if (cur[i] % 2) {\n          add = a[i][jiro[i] - 1];\n        } else {\n          add = 0;\n        }\n        if (add > best_add) {\n          best_add = add;\n          index = i;\n        }\n      }\n      if (cur[index] % 2) {\n        jiro[index]--;\n      } else {\n        ciel[index]--;\n      }\n      jiro_score += a[index][_jiro[index]--];\n      cur[index]--;\n      if (!cur[index]) _n--;\n    }\n  }\n  cout << ciel_score << \" \" << jiro_score << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.Collections;\nimport java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class E {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int[][] P = new int[n][];\n        for (int i = 0; i < n; i++) {\n            int s = in.nextInt();\n            P[i] = new int[s];\n            for (int j = 0; j < s; j++)\n                P[i][j] = in.nextInt();\n        }\n        int fir = 0;\n        int sec = 0;\n        LinkedList<Integer> rem = new LinkedList<Integer>();\n        for (int i = 0; i < n; i++) {\n            int st = 0;\n            int end = P[i].length - 1;\n            while (st < end) {\n                fir += P[i][st++];\n                sec += P[i][end--];\n            }\n            if (st == end)\n                rem.add(P[i][st]);\n        }\n        Collections.sort(rem);\n        Collections.reverse(rem);\n        while (!rem.isEmpty()) {\n            fir += rem.remove();\n            if (!rem.isEmpty())\n                sec += rem.remove();\n        }\n        System.out.println(fir + \" \" + sec);\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nvoid insercion(int *impares, int tamanio);\nint main() {\n  int n, tamanio = 0, i, j, a, b, c, d, ciel = 0, jiro = 0;\n  scanf(\"%d\", &n);\n  int impares[100];\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &a);\n    if (a == 1) {\n      scanf(\"%d\", &d);\n      impares[tamanio] = d;\n      tamanio++;\n    } else {\n      for (j = 1; j <= a / 2; j++) {\n        scanf(\"%d\", &b);\n        ciel += b;\n      }\n      if (a % 2 != 0 && a > 1) {\n        scanf(\"%d\", &d);\n        impares[tamanio] = d;\n        tamanio++;\n        j++;\n      }\n      for (; j <= a; j++) {\n        scanf(\"%d\", &c);\n        jiro += c;\n      }\n    }\n  }\n  if (tamanio > 0) {\n    insercion(impares, tamanio);\n    for (i = 0; i < tamanio; i++) {\n      if (i % 2 == 0)\n        ciel += impares[i];\n      else\n        jiro += impares[i];\n    }\n  }\n  printf(\"%d %d\", ciel, jiro);\n  return 0;\n}\nvoid insercion(int *impares, int tamanio) {\n  int i, k, j;\n  for (i = 1; i < tamanio; i++) {\n    k = impares[i];\n    j = i - 1;\n    while (j >= 0 && impares[j] < k) {\n      impares[j + 1] = impares[j];\n      j = j - 1;\n    }\n    impares[j + 1] = k;\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long infl = 1e18 + 5;\nlong long int n, q, x, y, mx = -1, mn = infl, f, val, sz, cnt, ans, t = 1, i, j,\n                          ind = -1, sm;\nlong long int b[1000004];\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  if (fopen(\"inp.txt\", \"r\")) {\n    freopen(\"myfile.txt\", \"w\", stdout);\n    freopen(\"inp.txt\", \"r\", stdin);\n  }\n  cin >> n;\n  long long int s1 = 0, s2 = 0;\n  std::vector<long long int> v;\n  for (i = 0; i < n; i++) {\n    cin >> b[i];\n    cnt = 0;\n    t = -1, sm = 0;\n    for (j = 0; j < b[i]; j++) {\n      cin >> x;\n      if (b[i] % 2 == 1 && cnt == b[i] / 2) t = x;\n      cnt++;\n      if (cnt <= (b[i]) / 2) sm += x;\n      s2 += x;\n    }\n    if (t != -1) {\n      v.push_back(t);\n      s2 -= t;\n    }\n    s2 -= sm;\n    s1 += sm;\n  }\n  sort(v.begin(), v.end(), greater<long long int>());\n  for (i = 0; i < (long long int)v.size(); i++) {\n    s1 += v[i];\n    ++i;\n    if (i < (long long int)v.size()) s2 += v[i];\n  }\n  cout << s1 << \" \" << s2;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<long long int> elements;\nint main() {\n  long long int n, first = 0, second = 0;\n  cin >> n;\n  while (n--) {\n    long long int m;\n    cin >> m;\n    for (int i = 1; i <= m / 2; i++) {\n      long long int a;\n      cin >> a;\n      first += a;\n    }\n    if (m & 1) {\n      long long int a;\n      cin >> a;\n      elements.push_back(a);\n    }\n    for (int i = 1; i <= m / 2; i++) {\n      long long int a;\n      cin >> a;\n      second += a;\n    }\n  }\n  sort(elements.begin(), elements.end());\n  long long int turn = 1;\n  for (int i = (long long int)elements.size() - 1; i >= 0; i--) {\n    if (turn)\n      first += elements[i];\n    else\n      second += elements[i];\n    turn = turn ^ 1;\n  }\n  cout << first << \" \" << second << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "/* package codechef; // don't place package name! */\n\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be \"Main\" only if the class is public. */\npublic class Temp\n{\n\tstatic boolean flag = false;\n\tpublic static void main (String[] args) throws java.lang.Exception\n\t{\n\t\t/*InputReader sc = new InputReader(System.in);\n\t\t//int t = sc.nextInt();\n\t\t//int n = 1;\n\t\tint arr[] = {1, 4, 9, 16, 25, 36, 49, 64, 81};\n\t\tfunc(arr, new int[1000], 1000, 0, 0);\n\t\twhile (n <= t){\n\t\t\tflag = false;\n\t\t\t//int n = sc.nextInt();\n\t\t    func(arr, new int[n], n, 0, 0);\n\t\t    n++;\n\t\t}*/\n\t\t\n\t\tInputReader sc = new InputReader(System.in);\n\t\tint n = sc.nextInt();\n\t    List<Integer> al = new ArrayList<Integer>();\n\t    int chef = 0, ramsay = 0;\n\t    for (int i = 0 ; i < n ; i++){\n\t        int c = sc.nextInt();\n\t        if (c%2 == 0){\n\t            for (int j = 0 ; j < c ; j++){\n\t                if (j < c/2) chef += sc.nextInt();\n\t                else ramsay += sc.nextInt();\n\t            }\n\t        }else{\n\t            for (int j = 0 ; j < c ; j++){\n\t                if (j < c/2) chef += sc.nextInt();\n\t                else if (j == c/2) al.add(sc.nextInt());\n\t                else ramsay += sc.nextInt();\n\t            }\n\t        }\n\t    }\n\t    Collections.sort(al);\n\t    for (int i = al.size() - 1 ; i >= 0 ; i = i-2){\n\t        chef += al.get(i);\n\t    }\n\t    for (int i = al.size() - 2 ; i >= 0 ; i = i-2){\n\t        ramsay += al.get(i);\n\t    }\n\t    System.out.println(chef+\" \"+ramsay);\n\t\t\n\t}\n\t\n\tstatic void func(int arr[], int res[], int n, int index, int sum) {\n\t\tif (!flag && index == res.length && ((int)Math.sqrt(sum)*(int)Math.sqrt(sum) == sum)) {\n\t\t\tflag = true;\n\t\t\tfor (int i = 0 ; i < res.length ; i++) {\n\t\t\t\tSystem.out.print((int)Math.sqrt(res[i])+\" \");\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t\tSystem.out.println(sum);\n\t\t\t//System.exit(0);\n\t\t\treturn;\n\t\t}\n\t\tif(flag) return;\n\t\tfor (int i = index ; i < n ; i++) {\n\t    \tfor (int j = 0 ; j < arr.length ; j++) {\n\t    \t\tres[i] = arr[j];\n\t    \t\tfunc(arr, res, n, i+1, sum+arr[j]);\n\t    \t}\n\t    }\n\t}\n\t\n\tstatic class InputReader{\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n        \n        public InputReader(InputStream in){\n        \ttry {\n        \t\tbr = new BufferedReader(new\n        \t\t\t\tInputStreamReader(in)); \n        \t}catch (Exception e) {\n        \t\tSystem.out.println(e.toString());\n        \t}\n        }\n        \n        String next(){\n        \twhile (st == null || !st.hasMoreElements()){\n        \t\ttry{\n        \t\t\tst = new StringTokenizer(br.readLine()); \n                }catch (IOException  e){\n                \te.printStackTrace(); \n                }\n            }\n            return st.nextToken(); \n        }\n        \n        int nextInt(){\n        \treturn Integer.parseInt(next()); \n        }\n        \n        long nextLong(){\n        \treturn Long.parseLong(next()); \n        }\n        \n        double nextDouble(){\n        \treturn Double.parseDouble(next()); \n        }\n        \n        String nextLine(){\n        \tString str = \"\";\n        \ttry{\n        \t\tstr = br.readLine();\n        \t}catch (IOException e){\n        \t\te.printStackTrace(); \n            }\n            return str; \n        }\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst double EPS = -1e8;\nconst double Pi = acos(-1);\nbool inline equ(double a, double b) { return fabs(a - b) < EPS; }\nconst int MAXN = 110;\nint n;\nvector<int> v;\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin >> n;\n  int ans[2] = {0, 0};\n  for (int i = (1); i <= (n); i++) {\n    int sz;\n    cin >> sz;\n    for (int j = (1); j <= (sz); j++) {\n      int c;\n      cin >> c;\n      if (j <= sz / 2)\n        ans[0] += c;\n      else if (j > (sz + 1) / 2)\n        ans[1] += c;\n      else\n        v.push_back(c);\n    }\n  }\n  sort((v).begin(), (v).end());\n  reverse((v).begin(), (v).end());\n  for (int i = (0); i <= ((int)(v).size() - 1); i++) ans[i & 1] += v[i];\n  cout << ans[0] << ' ' << ans[1] << '\\n';\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long int Lpow(long long int a, long long int b) {\n  long long int ans = 1;\n  while (b > 0) {\n    if (b % 2) ans = (ans * a);\n    a = (a * a);\n    b = b / 2;\n  }\n  return ans;\n}\nlong long int Lpow(long long int a, long long int b, long long int M) {\n  long long int ans = 1;\n  while (b > 0) {\n    if (b % 2) ans = (ans * a) % M;\n    a = (a * a) % M;\n    b = b / 2;\n  }\n  return ans;\n}\nint main() {\n  ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL);\n  int n;\n  cin >> n;\n  vector<int> brr;\n  int f1 = 0;\n  int f2 = 0;\n  for (int i = 0; i < n; i++) {\n    int x;\n    cin >> x;\n    int sum = 0;\n    int y;\n    int sum2 = 0;\n    for (int j = 0; j < x; j++) {\n      cin >> y;\n      if (j > ((x - 1) / 2)) sum += y;\n      if (j < (x / 2)) sum2 += y;\n      if (x % 2 == 1 && j == x / 2) brr.push_back(y);\n    }\n    f1 += sum2;\n    f2 += sum;\n  }\n  sort(brr.begin(), brr.end());\n  reverse(brr.begin(), brr.end());\n  for (int i = 0; i < brr.size(); i += 2) f1 += brr[i];\n  for (int i = 1; i < brr.size(); i -= -2) f2 += brr[i];\n  cout << f1 << \" \" << f2 << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 101;\nint ans1, ans2, n;\nint num;\nint a[maxn];\nbool cmp(int a, int b) { return a > b; }\nvoid read(int &x) {\n  char ch;\n  x = 0;\n  while (!isdigit(ch = getchar()))\n    ;\n  while (isdigit(ch)) {\n    x = x * 10 + ch - '0';\n    ch = getchar();\n  }\n}\nvoid init() {\n  read(n);\n  int x;\n  for (int i = 1; i <= n; ++i) {\n    read(num);\n    for (int j = 1; j <= num; ++j) {\n      read(x);\n      if ((num & 1) && j == num / 2 + 1) {\n        a[i] = x;\n        continue;\n      }\n      if (j <= num / 2)\n        ans1 += x;\n      else\n        ans2 += x;\n    }\n  }\n  sort(a + 1, a + n + 1, cmp);\n  for (int i = 1; i <= n; ++i)\n    if (i & 1)\n      ans1 += a[i];\n    else\n      ans2 += a[i];\n  printf(\"%d %d\\n\", ans1, ans2);\n}\nint main() {\n  init();\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst double eps = 1e-9;\nconst double pi = acos(-1.0);\nconst long long inf = 1e+9;\nconst long long inf64 = inf * inf;\ntemplate <typename T>\nistream &operator>>(istream &, vector<T> &);\ntemplate <typename T>\nostream &operator<<(ostream &, const vector<T> &);\nint num = 4;\nvector<vector<char> > g(1005, vector<char>(1005));\nint main() {\n  ios_base::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  vector<long long> sum(2);\n  vector<int> tmp;\n  for (int i = 0; i < n; i++) {\n    int q;\n    cin >> q;\n    if (q % 2 == 0) {\n      int x;\n      for (int j = 0; j < 2; j++) {\n        for (int k = 0; k < q / 2; k++) {\n          cin >> x;\n          sum[j] += x;\n        }\n      }\n    } else {\n      int x;\n      for (int k = 0; k < q / 2; k++) {\n        cin >> x;\n        sum[0] += x;\n      }\n      cin >> x;\n      tmp.push_back(x);\n      for (int k = 0; k < q / 2; k++) {\n        cin >> x;\n        sum[1] += x;\n      }\n    }\n  }\n  sort(tmp.rbegin(), tmp.rend());\n  for (int i = 0; i < tmp.size(); i++) {\n    sum[i % 2] += tmp[i];\n  }\n  cout << sum[0] << \" \" << sum[1] << endl;\n  return 0;\n}\ntemplate <typename T>\nistream &operator>>(istream &is, vector<T> &v) {\n  for (int i = 0; i < v.size(); ++i) is >> v[i];\n  return is;\n}\ntemplate <typename T>\nostream &operator<<(ostream &os, const vector<T> &v) {\n  for (int i = 0; i < v.size(); ++i) os << v[i] << \" \";\n  return os;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\nT Abs(T first) {\n  return (first < 0 ? -first : first);\n}\ntemplate <typename T>\nT Sqr(T first) {\n  return (first * first);\n}\nstring plural(string s) {\n  return (int((s).size()) && s[int((s).size()) - 1] == 'x' ? s + \"en\"\n                                                           : s + \"s\");\n}\nconst int INF = (int)1e9;\nconst double EPS = 1e-9;\nconst long double PI = acos(-1.0);\nbool Read(int &first) {\n  char c, r = 0, n = 0;\n  first = 0;\n  for (;;) {\n    c = getchar();\n    if ((c < 0) && (!r)) return (0);\n    if ((c == '-') && (!r))\n      n = 1;\n    else if ((c >= '0') && (c <= '9'))\n      first = first * 10 + c - '0', r = 1;\n    else if (r)\n      break;\n  }\n  if (n) first = -first;\n  return (1);\n}\nint main() {\n  if (0) freopen(\"in.txt\", \"r\", stdin);\n  int N;\n  int i, j, v, mi, mv;\n  int ans1 = 0, ans2 = 0;\n  int M[100], L[100], R[100];\n  static int V[100][100];\n  Read(N);\n  for (i = 0; i < N; i++) {\n    Read(M[i]);\n    L[i] = 0;\n    R[i] = M[i] - 1;\n    for (j = 0; j < M[i]; j++) Read(V[i][j]);\n  }\n  for (;;) {\n    mv = -1;\n    for (i = 0; i < N; i++)\n      if (L[i] <= R[i]) {\n        if ((R[i] - L[i] + 1) % 2 == 0)\n          v = 0;\n        else\n          v = V[i][(L[i] + R[i]) / 2];\n        if (v > mv) mv = v, mi = i;\n      }\n    if (mv < 0) break;\n    ans1 += V[mi][L[mi]++];\n    mv = -1;\n    for (i = 0; i < N; i++)\n      if (L[i] <= R[i]) {\n        if ((R[i] - L[i] + 1) % 2 == 0)\n          v = 0;\n        else\n          v = V[i][(L[i] + R[i]) / 2];\n        if (v > mv) mv = v, mi = i;\n      }\n    if (mv < 0) break;\n    ans2 += V[mi][R[mi]--];\n  }\n  printf(\"%d %d\\n\", ans1, ans2);\n  return (0);\n}\n"
        },
        {
            "language": 3,
            "solution": "n = int(input())\na = b = 0\ns = []\nfor _ in range(n):\n    l = [*map(int, input().split())][1:]\n    m = len(l)\n    if m & 1:\n        s.append(l[m//2])\n    a += sum((l[:m//2]))\n    b += sum((l[(m + 1)//2:]))\ns.sort(reverse = True)\na += sum(s[::2])\nb += sum(s[1::2])\nprint(a, b)"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nint Gain(deque<int>& dq) {\n  if (dq.empty()) {\n    return -1;\n  }\n  int size = dq.size();\n  if (size % 2 == 1) {\n    return dq[size / 2];\n  }\n  return 0;\n}\nint main() {\n  scanf(\"%d\", &n);\n  vector<deque<int>> nums(n);\n  int remain = 0;\n  for (int i = 0; i < n; ++i) {\n    int size = 0;\n    scanf(\"%d\", &size);\n    int val = 0;\n    for (int j = 0; j < size; ++j) {\n      scanf(\"%d\", &val);\n      nums[i].emplace_back(val);\n      remain += val;\n    }\n  }\n  int ciel = 0, jiro = 0;\n  int turn = 0;\n  while (true) {\n    int max_profit = -1;\n    int max_id = -1;\n    for (int i = 0; i < n; ++i) {\n      int curr = Gain(nums[i]);\n      if (curr > max_profit) {\n        max_profit = curr;\n        max_id = i;\n      }\n    }\n    if (max_profit < 0) {\n      break;\n    }\n    if (turn % 2 == 0) {\n      ciel += nums[max_id].front();\n      nums[max_id].pop_front();\n    } else {\n      jiro += nums[max_id].back();\n      nums[max_id].pop_back();\n    }\n    ++turn;\n  }\n  printf(\"%d %d\\n\", ciel, jiro);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\ninline void read(T &x) {\n  x = 0;\n  int fu = 1;\n  char c = getchar();\n  while (c > 57 || c < 48) {\n    if (c == 45) fu = -1;\n    c = getchar();\n  }\n  while (c <= 57 && c >= 48) {\n    x = (x << 3) + (x << 1) + c - 48;\n    c = getchar();\n  }\n  x *= fu;\n}\ntemplate <typename T>\ninline void fprint(T x) {\n  if (x < 0) putchar(45), x = -x;\n  if (x > 9) fprint(x / 10);\n  putchar(x % 10 + 48);\n}\ntemplate <typename T>\ninline void fprint(T x, char ch) {\n  fprint(x);\n  putchar(ch);\n}\nint n, ans1, ans2;\nvector<int> vec;\nint main() {\n  read(n);\n  while (n--) {\n    int k;\n    read(k);\n    for (register int i = 1; i <= k; i++) {\n      int x;\n      read(x);\n      if (i <= (k >> 1))\n        ans1 += x;\n      else if ((k & 1) && i == ((k + 1) >> 1))\n        vec.push_back(x);\n      else\n        ans2 += x;\n    }\n  }\n  sort(vec.begin(), vec.end());\n  int it = 1;\n  while (!vec.empty()) {\n    if (it)\n      ans1 += vec.back();\n    else\n      ans2 += vec.back();\n    vec.pop_back();\n    it ^= 1;\n  }\n  fprint(ans1, 32);\n  fprint(ans2, 10);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[110], f[110], l, r, x, y, ans, m;\nbool cmp(int x, int y) { return x > y; }\nint main() {\n  int n;\n  while (scanf(\"%d\", &n) != EOF) {\n    ans = 0;\n    for (int i = 1; i <= n; i++) {\n      scanf(\"%d\", &m);\n      for (int j = 1; j <= m; j++) scanf(\"%d\", &a[j]);\n      int l = 0, r = m + 1;\n      while (1) {\n        l++;\n        r--;\n        if (l >= r)\n          break;\n        else {\n          x += a[l];\n          y += a[r];\n        }\n      }\n      if (l == r) f[ans++] = a[l];\n    }\n    sort(f, f + ans, cmp);\n    for (int i = 0; i < ans; i++)\n      if (i % 2 == 0)\n        x += f[i];\n      else\n        y += f[i];\n    printf(\"%d %d\\n\", x, y);\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> mq[105];\nint xf[105];\nint main() {\n  int n, s, x;\n  int i, j;\n  int a, b;\n  while (cin >> n) {\n    for (i = 1; i <= 100; i++) mq[i].clear();\n    a = 0, b = 0;\n    for (i = 1; i <= n; i++) {\n      cin >> s;\n      while (s--) {\n        cin >> x;\n        mq[i].push_back(x);\n      }\n    }\n    int t = 0;\n    for (i = 1; i <= n; i++) {\n      if (!(mq[i].size() & 1)) {\n        for (j = 0; j < mq[i].size() / 2; j++) a += mq[i][j];\n        for (; j < mq[i].size(); j++) b += mq[i][j];\n      } else {\n        for (j = 0; j < mq[i].size() / 2; j++) a += mq[i][j];\n        xf[t++] = mq[i][j++];\n        for (; j < mq[i].size(); j++) b += mq[i][j];\n      }\n    }\n    sort(xf, xf + t);\n    int flag = 0;\n    for (i = t - 1; i >= 0; i--) {\n      if (!flag) {\n        a += xf[i];\n        flag = 1;\n      } else {\n        b += xf[i];\n        flag = 0;\n      }\n    }\n    cout << a << \" \" << b << endl;\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 100005;\nint a[N], s[N], o1, o2, top, n;\ninline void fr(int &num) {\n  num = 0;\n  char c = getchar();\n  int p = 1;\n  while (c < '0' || c > '9') c == '-' ? p = -1, c = getchar() : c = getchar();\n  while (c >= '0' && c <= '9') num = num * 10 + c - '0', c = getchar();\n  num *= p;\n}\ninline bool cmp(register int x, register int y) { return x > y; }\nint main() {\n  fr(n);\n  for (register int i = 1; i <= n; ++i) {\n    fr(a[0]);\n    for (register int j = 1; j <= a[0]; ++j) fr(a[j]);\n    if (a[0] & 1) s[++top] = a[a[0] / 2 + 1], a[a[0] / 2 + 1] = 0;\n    for (register int j = 1, sz = a[0] >> 1; j <= sz; ++j) o1 += a[j];\n    for (register int j = (a[0] >> 1) + 1; j <= a[0]; ++j) o2 += a[j];\n  }\n  sort(s + 1, s + 1 + top, cmp);\n  for (register int i = 1; i <= top; ++i) i & 1 ? o1 += s[i] : o2 += s[i];\n  printf(\"%d %d\", o1, o2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma warning(disable : 4996)\nusing namespace std;\nconst long long int inf = 10000000000000000LL;\nconst long long int mod = 1000000007;\nint main() {\n  srand(13);\n  ios_base::sync_with_stdio(false);\n  cout << fixed << setprecision(2);\n  int start = clock();\n  int n;\n  cin >> n;\n  long long int a = 0, b = 0;\n  vector<long long int> arr;\n  for (int i = 0; i < (n); ++i) {\n    int s;\n    cin >> s;\n    vector<long long int> c(s);\n    for (int i = 0; i < (s); ++i) {\n      cin >> c[i];\n    }\n    for (int i = 0; i < (s / 2); ++i) {\n      a += c[i];\n      b += c[s - 1 - i];\n    }\n    if (s % 2) {\n      arr.push_back(c[s / 2]);\n    }\n  }\n  sort(arr.begin(), arr.end(), greater<long long int>());\n  for (int i = 0; i < (arr.size()); ++i) {\n    if (i % 2 == 0) {\n      a += arr[i];\n    } else {\n      b += arr[i];\n    }\n  }\n  cout << a << \" \" << b;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  long long n, m, a = 0, b = 0, x;\n  vector<long long> v;\n  scanf(\"%lld\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%lld\", &m);\n    for (int j = 0; j < m / 2; j++) {\n      scanf(\"%lld\", &x);\n      a += x;\n    }\n    if (m % 2 == 1) {\n      scanf(\"%lld\", &x);\n      v.push_back(x);\n    }\n    for (int j = 0; j < m / 2; j++) {\n      scanf(\"%lld\", &x);\n      b += x;\n    }\n  }\n  sort(v.begin(), v.end());\n  for (int i = 0; i < v.size(); i++) {\n    if (i % 2 == 0)\n      a += v[v.size() - i - 1];\n    else\n      b += v[v.size() - i - 1];\n  }\n  cout << a << \" \" << b << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int SIZE = 111;\nvector<int> cards[SIZE], sp;\nint main() {\n  int an1 = 0, an2 = 0;\n  int(n);\n  scanf(\"%d\", &n);\n  for (int i = 0; i < (n); ++i) {\n    int(m);\n    scanf(\"%d\", &m);\n    for (int j = 0; j < (m); ++j) {\n      int(x);\n      scanf(\"%d\", &x);\n      cards[i].push_back(x);\n    }\n    if (m % 2 == 0) {\n      for (int j = 0; j < (m / 2); ++j) {\n        an1 += cards[i][j];\n        an2 += cards[i][j + m / 2];\n      }\n    } else {\n      for (int j = 0; j < (m / 2); ++j) {\n        an1 += cards[i][j];\n        an2 += cards[i][j + m / 2 + 1];\n      }\n      sp.push_back(cards[i][m / 2]);\n    }\n  }\n  sort((sp).begin(), (sp).end());\n  reverse((sp).begin(), (sp).end());\n  for (int i = 0; i < (((int)(sp).size())); ++i) {\n    if (i % 2 == 0)\n      an1 += sp[i];\n    else\n      an2 += sp[i];\n  }\n  printf(\"%d %d\\n\", an1, an2);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Scanner;\n\npublic class C_228 {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        ArrayList<Integer> odds = new ArrayList<>();\n        int a = 0;\n        int b = 0;\n        int p = in.nextInt();\n        for (int i = 0; i < p; i++) {\n            int s = in.nextInt();\n            for (int j = 0; j < s; j++) {\n                if ((s % 2 == 1 && j == s / 2))\n                    odds.add(in.nextInt());\n                else if (j < s / 2)\n                    a += in.nextInt();\n                else\n                    b += in.nextInt();\n            }\n        }\n        Collections.sort(odds);\n        int x = 0;\n        for (int i = odds.size() - 1; i >= 0; i--) {\n            if(x==0)a+=odds.get(i);\n            else b+=odds.get(i);\n            x^=1;\n        }\n        System.out.println(a+\" \"+b);\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 100 + 10;\nconst int maxm = 3e5 + 10;\nconst long long mod = 1e9 + 7;\nconst int inf = (int)1e9 + 50;\nconst double eps = 1e-5;\nconst double pi = acos(-1.0);\nint n;\nint a[maxn];\nvector<int> res;\nint p, q;\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    int t;\n    cin >> t;\n    if (t & 1) {\n      for (int j = 1; j <= t; j++) {\n        cin >> a[j];\n        if (j == (t + 1) / 2)\n          res.push_back(a[j]);\n        else if (j < (t + 1) / 2)\n          p += a[j];\n        else\n          q += a[j];\n      }\n    } else {\n      for (int j = 0; j < t; j++) {\n        cin >> a[j];\n        if (j < (t + 1) / 2)\n          p += a[j];\n        else\n          q += a[j];\n      }\n    }\n  }\n  sort(res.begin(), res.end(), greater<int>());\n  for (int i = 0; i < res.size(); i++) {\n    if (i & 1)\n      q += res[i];\n    else\n      p += res[i];\n  }\n  cout << p << \" \" << q;\n  return ~~(0 - 0);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long LLINF = 1LL << 61;\nconst int INF = 1e9;\nconst double EPS = 1e-9;\nconst int N = 111;\nint n, cnt[N], pile[N][N];\nint main() {\n  cin >> n;\n  int sum = 0, best = 0;\n  vector<int> mid;\n  for (int i = (int)(1), _b = (int)(n); i <= _b; ++i) {\n    cin >> cnt[i];\n    for (int j = (int)(1), _b = (int)(cnt[i]); j <= _b; ++j) {\n      cin >> pile[i][j];\n      sum += pile[i][j];\n    }\n    for (int j = (int)(1), _b = (int)(cnt[i] / 2); j <= _b; ++j)\n      best += pile[i][j];\n    if (cnt[i] % 2 == 1) mid.push_back(pile[i][cnt[i] / 2 + 1]);\n  }\n  sort(mid.rbegin(), mid.rend());\n  for (int i = 0; i < mid.size(); i += 2) best += mid[i];\n  printf(\"%d %d\\n\", best, sum - best);\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "n = int(input())\n\nS = [0] * n\n\nciel, giro = 0, 0\nodd = []\n\nfor i in range(n):\n    L = list(map(int, input().split()))\n    k = L[0]\n    L = L[1:]\n\n    S[i] = sum(L)\n\n    if k % 2:\n        odd.append(L[k // 2])\n\n    ciel += sum(L[:k // 2])\n    giro += sum(L[(k + 1) // 2:])\n\nodd.sort(reverse=True)\n\nfor i, x in enumerate(odd):\n    if i % 2:\n        giro += x\n    else:\n        ciel += x\n\nprint(ciel, giro)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nconst long long int mod = 9999999999999983;\nlong long int primes[6] = {1125899906842597, 1495921043, 1005985879,\n                           1495921043,       1005985879, 1495921043};\nusing namespace std;\nvector<long long int> adj[2000009];\nlong long int parent[2000009];\nlong long int vis[2000009];\nlong long int level[2000009];\nlong long int dist[2000009];\nlong long int dp[100009];\nlong long int arr[100009];\nlong long int brr[2000009];\nlong long int crr[2000009];\nlong long int hashing[2000009];\nlong long int ar[509][509];\nlong long int br[509][509];\nlong long int cr[509][509];\nlong long int multiply(long long int a, long long int b) {\n  return ((a % mod) * (b % mod)) % mod;\n}\nlong long int add(long long int a, long long int b) {\n  return ((a % mod) + (b % mod)) % mod;\n}\nlong long int sub(long long int a, long long int b) {\n  return ((a % mod) - (b % mod) + mod) % mod;\n}\nlong long int power(long long int x, long long int y, long long int p) {\n  long long int res = 1;\n  x = x % p;\n  while (y > 0) {\n    if (y & 1) res = ((res % p) * (x % p)) % p;\n    y = y >> 1;\n    x = ((x % p) * (x % p)) % p;\n  }\n  return res;\n}\nint main() {\n  int start_s = clock();\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  cout.tie(NULL);\n  vector<long long int> vect, vt, vct;\n  vector<long long int>::iterator itt;\n  set<long long int> st;\n  set<long long int>::iterator itr;\n  map<long long int, long long int> mp, mpp, mp1, mp2;\n  map<long long int, long long int>::iterator it;\n  long long int i, j, k, n, m, res1, res2, q, t, a, b, c,\n      maxi = INT_MIN, mini = INT_MAX, sum = 0, ans = 0, res = 0, val = 0,\n      ans1 = 0, ans2 = 0, rem = 0, diff = 0, cnt = 0, l, r, flag = 0, e, index,\n      val1 = 0, val2 = 0, z, h = 0, u, v, mid, len, tot, fl = 0;\n  string str, str1, str2;\n  cin >> n;\n  long long int arr[n + 1][3000];\n  long long int sz[n + 1];\n  for (i = 1; i <= n; i++) {\n    cin >> sz[i];\n    for (j = 1; j <= sz[i]; j++) {\n      cin >> e;\n      arr[i][j] = e;\n    }\n  }\n  ans = 0, res = 0;\n  for (i = 1; i <= n; i++) {\n    for (j = 1, k = sz[i]; j <= sz[i] / 2; j++, k--) {\n      ans += arr[i][j];\n      res += arr[i][k];\n    }\n    if (sz[i] % 2 == 1) {\n      vect.push_back(arr[i][(sz[i] + 1) / 2]);\n    }\n  }\n  sort(vect.rbegin(), vect.rend());\n  for (i = 0; i < vect.size(); i++) {\n    if (i % 2 == 0)\n      ans += vect[i];\n    else\n      res += vect[i];\n  }\n  cout << ans << \" \" << res;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 1e9;\nconst long long int INFF = 1e17;\nconst double EPS = 1e-9;\nconst long long int MOD = 1e9 + 7;\nconst int MAXN = 1e2 + 10;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  int n, sum1 = 0, sum2 = 0, iter = 0;\n  vector<vector<int> > p(MAXN);\n  vector<int> s;\n  cin >> n;\n  for (int i = (0); i < (n); ++i) {\n    int t1;\n    cin >> t1;\n    p[i].resize(t1);\n    for (int j = (0); j < (t1); ++j) cin >> p[i][j];\n  }\n  for (int i = (0); i < (n); ++i) {\n    if (!(p[i].size() % 2)) {\n      for (int j = (0); j < (p[i].size() / 2); ++j) sum1 += p[i][j];\n      for (int j = (p[i].size() / 2); j < (p[i].size()); ++j) sum2 += p[i][j];\n    } else {\n      for (int j = (0); j < (p[i].size() / 2); ++j) sum1 += p[i][j];\n      for (int j = ((p[i].size() / 2) + 1); j < (p[i].size()); ++j)\n        sum2 += p[i][j];\n      s.push_back(p[i][p[i].size() / 2]);\n    }\n  }\n  sort(s.begin(), s.end());\n  reverse(s.begin(), s.end());\n  for (auto u : s) {\n    if (!(iter % 2))\n      sum1 += u;\n    else\n      sum2 += u;\n    iter++;\n  }\n  cout << sum1 << \" \" << sum2 << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[10005], b[10005], c, d, e, f, g, h, i, j, k, l, m, n;\ninline bool cmp(const int &a, const int &b) { return a > b; }\nint main() {\n  scanf(\"%d\", &n);\n  for (l = 1; l <= n; l++) {\n    scanf(\"%d\", &k);\n    for (i = 1; i <= k; i++) scanf(\"%d\", &a[i]);\n    for (i = 1; i <= k / 2; i++) h += a[i];\n    for (i = (k + 1) / 2 + 1; i <= k; i++) g += a[i];\n    if (k & 1) b[++m] = a[k / 2 + 1];\n  }\n  sort(b + 1, b + 1 + m, cmp);\n  for (i = 1; i <= m; i++)\n    if (i & 1)\n      h += b[i];\n    else\n      g += b[i];\n  printf(\"%d %d\", h, g);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\nint n, a[N], s[N], js;\nint p, q;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; ++i) {\n    int m;\n    scanf(\"%d\", &m);\n    int t = m >> 1;\n    for (int j = 0; j <= m - 1; ++j) {\n      scanf(\"%d\", &a[j]);\n      if (j < t)\n        p += a[j];\n      else\n        q += a[j];\n    }\n    if (m & 1) q -= a[t], s[++js] = a[t];\n  }\n  sort(s + 1, s + js + 1, greater<int>());\n  for (int i = 1; i <= js; ++i)\n    if (i & 1)\n      p += s[i];\n    else\n      q += s[i];\n  printf(\"%d %d\\n\", p, q);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[101];\nint main() {\n  int n;\n  int l, c;\n  int t1, t2;\n  int i, j;\n  int ll = 0;\n  scanf(\"%d\", &n);\n  t1 = 0;\n  t2 = 0;\n  for (i = 1; i <= n; i++) {\n    scanf(\"%d\", &l);\n    for (j = 1; j <= l / 2; j++) {\n      scanf(\"%d\", &c);\n      t1 = t1 + c;\n    }\n    if (l % 2 == 1) {\n      ll++;\n      scanf(\"%d\", &a[ll]);\n    }\n    for (j = 1; j <= l / 2; j++) {\n      scanf(\"%d\", &c);\n      t2 = t2 + c;\n    }\n  }\n  sort(a + 1, a + ll + 1);\n  for (i = ll; i >= 1; i = i - 2) {\n    t1 = t1 + a[i];\n    if (i > 1) t2 = t2 + a[i - 1];\n  }\n  printf(\"%d %d\\n\", t1, t2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint c[105], a[105][1005];\nint main() {\n  int n, sum1 = 0, sum2 = 0;\n  cin >> n;\n  vector<int> p;\n  for (int i = 1; i <= n; i++) {\n    cin >> c[i];\n    for (int j = 1; j <= c[i]; j++) {\n      cin >> a[i][j];\n    }\n    for (int j = 1; j <= c[i] / 2; j++) {\n      sum1 += a[i][j];\n    }\n    for (int j = c[i] - c[i] / 2 + 1; j <= c[i]; j++) {\n      sum2 += a[i][j];\n    }\n    if (c[i] % 2 == 1) p.push_back(a[i][c[i] / 2 + 1]);\n  }\n  sort(p.begin(), p.end());\n  reverse(p.begin(), p.end());\n  int tag = 0;\n  for (int i = 0; i < p.size(); i++) {\n    if (tag == 0)\n      sum1 += p[i];\n    else\n      sum2 += p[i];\n    tag ^= 1;\n  }\n  cout << sum1 << \" \" << sum2 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 105;\nint n, mid[MAXN];\nint main(int argc, char const *argv[]) {\n  cin >> n;\n  int k = 0, sumCiel = 0, sumJiro = 0;\n  for (int i = 0; i < n; i++) {\n    int len;\n    cin >> len;\n    int temp;\n    for (int i = 0; i < len; i++) {\n      cin >> temp;\n      if (i < len / 2)\n        sumCiel += temp;\n      else if (len % 2 && i == len / 2)\n        mid[k++] = temp;\n      else\n        sumJiro += temp;\n    }\n  }\n  sort(mid, mid + k);\n  for (int i = k - 1; i >= 0; i--) {\n    if ((k - i) % 2)\n      sumCiel += mid[i];\n    else\n      sumJiro += mid[i];\n  }\n  cout << sumCiel << ' ' << sumJiro << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\ntypedef struct {\n  int inicio;\n  int fin;\n  int mazo[100];\n} PilaCartas;\nvoid leerPilas(int totalPilas, PilaCartas PCartas[], int *totalCartas);\nvoid jugar(int totalPilas, PilaCartas PCartas[], int totalCartas);\nint main() {\n  int totalPilas, totalCartas = 0;\n  scanf(\"%d\", &totalPilas);\n  PilaCartas PCartas[totalPilas];\n  leerPilas(totalPilas, PCartas, &totalCartas);\n  jugar(totalPilas, PCartas, totalCartas);\n  return 0;\n}\nvoid leerPilas(int totalPilas, PilaCartas PCartas[], int *totalCartas) {\n  int i, PA, j;\n  for (i = 0; i < totalPilas; i++) {\n    scanf(\"%d\", &PA);\n    *totalCartas = *totalCartas + PA;\n    PCartas[i].inicio = 0;\n    PCartas[i].fin = PA - 1;\n    for (j = 0; j < PA; j++) {\n      scanf(\"%d\", &(PCartas[i].mazo[j]));\n    }\n  }\n}\nvoid jugar(int totalPilas, PilaCartas PCartas[], int totalCartas) {\n  long long int ciel, jiro;\n  int fin;\n  int i, j, repartir;\n  int indiceMayorCarta;\n  ciel = jiro = repartir = 0;\n  for (i = 0; i < totalPilas; i++) {\n    fin = PCartas[i].fin + 1;\n    for (j = 0; j < fin; j++) {\n      if (j < fin / 2) {\n        ciel = ciel + PCartas[i].mazo[j];\n      } else if (j == fin / 2 && (fin % 2) != 0) {\n        PCartas[i].inicio = j;\n        PCartas[i].fin = j;\n      } else {\n        jiro = jiro + PCartas[i].mazo[j];\n      }\n    }\n  }\n  indiceMayorCarta = 0;\n  repartir = 0;\n  while (indiceMayorCarta != -1) {\n    indiceMayorCarta = -1;\n    for (i = 0; i < totalPilas; i++) {\n      if (indiceMayorCarta != -1) {\n        if (PCartas[i].inicio == PCartas[i].fin) {\n          if (PCartas[i].mazo[PCartas[i].inicio] >\n              PCartas[indiceMayorCarta]\n                  .mazo[PCartas[indiceMayorCarta].inicio]) {\n            indiceMayorCarta = i;\n          }\n        }\n      } else if (PCartas[i].inicio == PCartas[i].fin) {\n        indiceMayorCarta = i;\n      }\n    }\n    if (indiceMayorCarta != -1) {\n      if (repartir % 2 == 0) {\n        ciel = ciel +\n               PCartas[indiceMayorCarta].mazo[PCartas[indiceMayorCarta].inicio];\n        PCartas[indiceMayorCarta].inicio++;\n      } else {\n        jiro = jiro +\n               PCartas[indiceMayorCarta].mazo[PCartas[indiceMayorCarta].inicio];\n        PCartas[indiceMayorCarta].inicio++;\n      }\n      repartir = repartir + 1;\n    }\n  }\n  printf(\"%I64d %I64d\", ciel, jiro);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  vector<int> vec;\n  int s1 = 0, s2 = 0;\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int br;\n    cin >> br;\n    for (int i = 0; i < br / 2; i++) {\n      int a;\n      cin >> a;\n      s1 += a;\n    }\n    if (br % 2) {\n      int a;\n      cin >> a;\n      vec.push_back(a);\n    }\n    for (int i = 0; i < br / 2; i++) {\n      int a;\n      cin >> a;\n      s2 += a;\n    }\n  }\n  sort(vec.begin(), vec.end());\n  for (int i = vec.size() - 1; i >= 0; i--)\n    if ((vec.size() - i) % 2)\n      s1 += vec[i];\n    else\n      s2 += vec[i];\n  cout << s1 << \" \" << s2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[100 + 3], g[100 + 3], n, sl, nn, ansx, ansy;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &sl);\n    for (int j = 1; j <= sl; j++) scanf(\"%d\", &g[j]);\n    int ll = (sl + 1) >> 1;\n    for (int j = 1; j < ll; j++) ansx += g[j];\n    for (int j = sl; j > ll; j--) ansy += g[j];\n    if (sl & 1)\n      a[++nn] = g[ll];\n    else\n      ansx += g[ll];\n  }\n  sort(a + 1, a + nn + 1);\n  for (int i = nn; i >= 1; i--)\n    if ((nn - i) & 1)\n      ansy += a[i];\n    else\n      ansx += a[i];\n  printf(\"%d %d\", ansx, ansy);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 0x3f3f3f3f;\nconst long long int LINF = 0x3f3f3f3f3f3f3f3fll;\nconst long double pi = acos(-1);\nconst int MOD = 1e9 + 7;\nint n;\nvector<int> sobra;\nint main() {\n  scanf(\"%d\", &n);\n  int n0 = 0, n1 = 0;\n  for (int i = 0; i < n; i++) {\n    int x;\n    scanf(\"%d\", &x);\n    if (x % 2 == 0) {\n      for (int i = 0; i < x / 2; i++) {\n        int y;\n        scanf(\"%d\", &y);\n        n0 += y;\n      }\n      for (int i = 0; i < x / 2; i++) {\n        int y;\n        scanf(\"%d\", &y);\n        n1 += y;\n      }\n    } else {\n      for (int i = 0; i < x / 2; i++) {\n        int y;\n        scanf(\"%d\", &y);\n        n0 += y;\n      }\n      int y;\n      scanf(\"%d\", &y);\n      sobra.push_back(y);\n      for (int i = 0; i < x / 2; i++) {\n        int y;\n        scanf(\"%d\", &y);\n        n1 += y;\n      }\n    }\n  }\n  bool j1 = true;\n  sort(sobra.begin(), sobra.end());\n  while (sobra.size() > 0) {\n    if (j1) {\n      n0 += sobra.back();\n    } else {\n      n1 += sobra.back();\n    }\n    j1 = !j1;\n    sobra.pop_back();\n  }\n  cout << n0 << \" \" << n1 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nconst char en = '\\n';\nusing namespace std;\nint main() {\n  ios::sync_with_stdio(false);\n  long long a = 0, b = 0, n;\n  vector<long long> X;\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    vector<long long> V;\n    int p;\n    cin >> p;\n    for (int j = 1; j <= p; j++) {\n      long long t;\n      cin >> t;\n      V.push_back(t);\n    }\n    if (V.size() % 2 == 1) X.push_back(V[V.size() / 2]);\n    for (int j = 0; j < V.size() / 2; j++) {\n      a += V[j];\n      b += V[V.size() - j - 1];\n    }\n  }\n  sort(X.begin(), X.end());\n  reverse(X.begin(), X.end());\n  for (int i = 0; i < X.size(); i += 2) a += X[i];\n  for (int i = 1; i < X.size(); i += 2) b += X[i];\n  cout << a << \" \" << b << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  long long f1, f2;\n  vector<int> vec;\n  f1 = f2 = 0;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int s;\n    cin >> s;\n    for (int j = 0; j < s; j++) {\n      int c;\n      cin >> c;\n      if (s % 2 == 1 && j == s / 2)\n        vec.push_back(c);\n      else if (j < s / 2)\n        f1 += c;\n      else\n        f2 += c;\n    }\n  }\n  sort(vec.begin(), vec.end());\n  reverse(vec.begin(), vec.end());\n  for (int i = 0; i < vec.size(); i++)\n    if (i % 2 == 0)\n      f1 += vec[i];\n    else\n      f2 += vec[i];\n  cout << f1 << \" \" << f2 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nchar ch;\ninline void read(int &x) {\n  x = 0;\n  ch = getchar();\n  while (ch <= 32) ch = getchar();\n  while (ch > 32) {\n    x = x * 10 + ch - 48;\n    ch = getchar();\n  };\n};\nint n;\nint a[105];\nint main() {\n  int i, j;\n  read(n);\n  int ans1 = 0, ans2 = 0;\n  int cnt = 0;\n  for (i = 1; i <= n; i++) {\n    int s, x;\n    read(s);\n    for (j = s / 2; j >= 1; j--) {\n      read(x);\n      ans1 += x;\n    };\n    if (s & 1) {\n      read(x);\n      a[++cnt] = x;\n    };\n    for (j = s / 2; j >= 1; j--) {\n      read(x);\n      ans2 += x;\n    };\n  };\n  std::sort(a + 1, a + cnt + 1);\n  for (i = cnt; i >= 1; i -= 2) {\n    ans1 += a[i];\n  };\n  for (i = cnt - 1; i >= 1; i -= 2) {\n    ans2 += a[i];\n  };\n  printf(\"%d %d\\n\", ans1, ans2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, x, a, c1 = 0, c2 = 0;\n  vector<int> v;\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    cin >> x;\n    if (x & 1) {\n      x /= 2;\n      for (int j = 1; j <= x; j++) {\n        cin >> a;\n        c1 += a;\n      }\n      cin >> a;\n      v.push_back(a);\n      for (int j = 1; j <= x; j++) {\n        cin >> a;\n        c2 += a;\n      }\n    } else {\n      x /= 2;\n      for (int j = 1; j <= x; j++) {\n        cin >> a;\n        c1 += a;\n      }\n      for (int j = 1; j <= x; j++) {\n        cin >> a;\n        c2 += a;\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  int i = v.size() - 1;\n  while (i >= 0) {\n    c1 += v[i];\n    i--;\n    if (i == -1) break;\n    c2 += v[i];\n    i--;\n  }\n  cout << c1 << \" \" << c2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int N, n, x = 0, y = 0, a;\n  cin >> N;\n  vector<int> V;\n  for (int i = 0; i < N; i++) {\n    cin >> n;\n    for (int j = 0; j < n; j++) {\n      cin >> a;\n      if (n % 2 == 1) {\n        if (j == floor(n / 2.0))\n          V.push_back(-a);\n        else {\n          if (j < (n / 2.0))\n            x += a;\n          else\n            y += a;\n        }\n      } else {\n        if (j < (n / 2.0))\n          x += a;\n        else\n          y += a;\n      }\n    }\n  }\n  sort(V.begin(), V.end());\n  for (int i = 0; i < V.size(); i++) {\n    if (i % 2)\n      y += (-V[i]);\n    else\n      x += (-V[i]);\n  }\n  cout << x << \" \" << y << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 1e2 + 10;\nint n;\nint a[maxn], stk[maxn], cnt;\nint A, B;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    int k;\n    scanf(\"%d\", &k);\n    for (int j = 1; j <= k; j++) scanf(\"%d\", &a[j]);\n    for (int j = 1; j <= k / 2; j++) A += a[j];\n    for (int j = (k + 1) / 2 + 1; j <= k; j++) B += a[j];\n    if (k & 1) stk[++cnt] = a[(k + 1) / 2];\n  }\n  sort(stk + 1, stk + 1 + cnt);\n  reverse(stk + 1, stk + 1 + cnt);\n  for (int i = 1; i <= n; i++)\n    if (i & 1)\n      A += stk[i];\n    else\n      B += stk[i];\n  printf(\"%d %d\\n\", A, B);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxN = 105;\nint n, s, c[maxN], sum1, sum2;\nvector<int> d;\nbool cmp(int A, int B) { return A > B; }\nint main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    cin >> s;\n    for (int j = 1; j <= s; j++) cin >> c[j];\n    for (int j = 1; j <= s / 2; j++) sum1 += c[j];\n    for (int j = (s + 1) / 2 + 1; j <= s; j++) sum2 += c[j];\n    if (s % 2 == 1) d.push_back(c[(s + 1) / 2]);\n  }\n  sort(d.begin(), d.end(), cmp);\n  for (int i = 0; i < d.size(); i++)\n    if (i % 2 == 0)\n      sum1 += d[i];\n    else\n      sum2 += d[i];\n  cout << sum1 << \" \" << sum2;\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "N = int(input())\none = two =  0\nmiddles = []\nfor i in range(N):\n\tarray = list(map(int, input().split()))[1:]\n\tsize = len(array)-1\n\tmiddle = size//2\n\tfor i in range(middle):\n\t\tone += array[i]\n\tfor i in range(middle+1, len(array)):\n\t\ttwo += array[i]\n\tif len(array)%2==1:\n\t\tmiddles.append(array[middle])\n\telse:\n\t\tone += array[middle]\n\nmiddles = sorted(middles)\nONE = True\nfor i in range(len(middles)-1, -1, -1):\n\tif ONE:\n\t\tone += middles[i]\n\t\tONE = False\n\telse:\n\t\ttwo += middles[i]\n\t\tONE = True\nprint(one, two)\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedInputStream;\nimport java.io.InputStream;\nimport java.util.Arrays;\nimport java.util.PriorityQueue;\n\npublic class E228 {\n\tstatic int[][] rowSum;\n\tstatic int N;\n\tstatic final int oo = 2000000000;\n\tpublic static void main(String[] args) {\n\t\tJolty scan = new Jolty(System.in);\n\t\tN = scan.nextInt();\n\t\trowSum = new int[N][];\n\t\tint sol = 0, sum = 0;\n\t\tPriorityQueue<Integer> q = new PriorityQueue<>();\n\t\tfor(int i=0;i<N;i++){\n\t\t\tint K = scan.nextInt();\n\t\t\tint mid = 0;\n\t\t\trowSum[i] = new int[K];\n\t\t\tfor(int j=0;j<K;j++){\n\t\t\t\trowSum[i][j] = scan.nextInt();\n\t\t\t\tif(K%2==1&&j==K/2)mid=rowSum[i][j];\n\t\t\t\tif(j!=0)rowSum[i][j]+=rowSum[i][j-1];\n\t\t\t}\n\t\t\tsum+=rowSum[i][K-1];\n\t\t\tif(K/2-1 >=0)sol+=rowSum[i][K/2 - 1];\n\t\t\tif(K%2==1)q.add(-mid);\n\t\t}\n\t\tint bit = 0;\n\t\twhile(!q.isEmpty()){\n\t\t\tint x = -q.poll();\n\t\t\tif(bit==0)sol+=x;\n\t\t\tbit^=1;\n\t\t}\n\t\t\n\t\tSystem.out.println(sol+\" \"+(sum-sol));\n\t}\n\t\n\tprivate static class Jolty{\n\t\tstatic final int BASE_SPEED = 130;\n\t\tstatic final int BUFFER_SIZE = 1<<16;\n\t\tstatic final char NULL_CHAR = (char)-1;\n\t\t\n\t\tBufferedInputStream in;\n\t\tStringBuilder str = new StringBuilder();\n\t\tbyte[] buffer = new byte[BUFFER_SIZE];\n\t\t\n\t\tchar c = NULL_CHAR;\n\t\tint bufferIdx = 0, size = 0;\n\t\t\n\t\tpublic Jolty(InputStream in) {\n\t\t\tthis.in = new BufferedInputStream(in,BUFFER_SIZE);\n\t\t}\n\t\tpublic int nextInt() {return (int)nextLong();}\n\t\tpublic double nextDouble() {return Double.parseDouble(next());}\n\t\tpublic long nextLong() {\n\t\t\tlong negative = 0, res = 0;\n\t\t\tif(c==NULL_CHAR)c=nextChar();\n\t\t\tfor(;(c<'0'||c>'9');c=nextChar())\n\t\t\t\tnegative = (c=='-')?1:0;\n\t\t\tfor(;c>='0'&&c<='9';c=nextChar())\n\t\t\t\tres = (res<<3)+(res<<1)+c-'0';\n\t\t\treturn negative==1 ? -res : res;\n\t\t}\n\t\t\n\t\tpublic String nextLine() {\n\t\t\tstr.setLength(0);\n\t\t\tfor(c = c == NULL_CHAR ? nextChar() : c; c!='\\n'; c= nextChar())\n\t\t\t\tstr.append(c);\n\t\t\tc = NULL_CHAR;\n\t\t\treturn str.toString();\n\t\t}\n\t\tpublic String next() {\n\t\t\tfor(c = c == NULL_CHAR ? nextChar() : c; Character.isWhitespace(c);)\n\t\t\t\tc = nextChar();\n\t\t\tstr.setLength(0);\n\t\t\tfor(;!Character.isWhitespace(c);c=nextChar())\n\t\t\t\tstr.append(c);\n\t\t\treturn str.toString();\n\t\t}\n\t\tpublic char nextChar() {\n\t\t\twhile(bufferIdx == size) {\n\t\t\t\ttry{\n\t\t\t\t\tsize = in.read(buffer);\n\t\t\t\t\tif(size == -1)throw new Exception();\n\t\t\t\t} catch (Exception e){}\n\t\t\t\tif(size == -1)size = BUFFER_SIZE;\n\t\t\t\tbufferIdx = 0;\n\t\t\t}\n\t\t\treturn (char) buffer[bufferIdx++];\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n  int i, j, a = 0, b = 0, c, k, n;\n  std::vector<int> v;\n  cin >> n;\n  for (i = 0; i < n; i++) {\n    cin >> k;\n    for (j = 0; j < k / 2; j++) cin >> c, a += c;\n    if (k & 1) cin >> c, v.push_back(c);\n    for (j = 0; j < k / 2; j++) cin >> c, b += c;\n  }\n  sort(v.begin(), v.end(), greater<int>());\n  for (i = 0; i < v.size(); i++)\n    if (i & 1)\n      b += v[i];\n    else\n      a += v[i];\n  cout << a << \" \" << b;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, w[101], i, j, S, Sum, k, C, a, t;\nint main() {\n  scanf(\"%d\", &n);\n  for (i = 1; i <= n; i++) {\n    scanf(\"%d\", &k);\n    for (j = 1; j <= k; j++) {\n      scanf(\"%d\", &a);\n      Sum += a;\n      t = j * 2 - k;\n      if (t == 1)\n        w[C++] = -a;\n      else if (t <= 0)\n        S += a;\n    }\n  }\n  sort(w, w + C);\n  for (i = 0; i < C; i += 2) S -= w[i];\n  printf(\"%d %d\\n\", S, Sum - S);\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        FastScanner in = new FastScanner(System.in);\n        PrintWriter out = new PrintWriter(System.out);\n        new Main().run(in, out);\n        out.close();\n    }\n\n    public static long mod = 17352642619633L;\n\n    // dp on pile/delta between turns\n    // only valid if delta is 1 in player 1's favor, or 0\n\n    int[][] dp = new int[101][10003];\n    int N;\n    int[][] s;\n    void run(FastScanner in, PrintWriter out) {\n\n        N = in.nextInt();\n        s = new int[N][];\n        for (int i = 0; i < N; i++) {\n            int n = in.nextInt();\n            s[i] = new int[n];\n            for (int j = 0; j < n; j++) s[i][j] = in.nextInt();\n        }\n\n        List<Integer> middles = new ArrayList<>();\n\n        long s1 = 0;\n        long s2 = 0;\n        for (int i = 0; i < N; i++) {\n            for (int j = 0; j < s[i].length/2; j++) {\n                s1 += s[i][j];\n                s2 += s[i][s[i].length-j-1];\n            }\n            if (s[i].length%2 == 1) middles.add(s[i][s[i].length/2]);\n        }\n\n        Collections.sort(middles, Collections.reverseOrder());\n\n        for (int i = 0; i < middles.size(); i++) {\n            if (i%2 == 0) s1 += middles.get(i);\n            else s2 += middles.get(i);\n        }\n\n        out.println(s1 + \" \" + s2);\n\n    }\n\n    static class FastScanner {\n        BufferedReader br;\n        StringTokenizer st;\n\n        public FastScanner(InputStream in) {\n            br = new BufferedReader(new InputStreamReader(in));\n            st = null;\n        }\n\n        String next() {\n            while (st == null || !st.hasMoreElements()) {\n                try {\n                    st = new StringTokenizer(br.readLine());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            return st.nextToken();\n        }\n\n        int nextInt() {\n            return Integer.parseInt(next());\n        }\n\n        long nextLong() {\n            return Long.parseLong(next());\n        }\n    }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStreamWriter;\nimport java.io.BufferedWriter;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.io.IOException;\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.math.BigInteger;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author Egor Kulikov (egor@egork.net)\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tOutputWriter out = new OutputWriter(outputStream);\n\t\tTaskC solver = new TaskC();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskC {\n    public void solve(int testNumber, InputReader in, OutputWriter out) {\n\t\tint count = in.readInt();\n\t\tIntList middle = new IntArrayList();\n\t\tint first = 0;\n\t\tint second = 0;\n\t\tfor (int i = 0; i < count; i++) {\n\t\t\tint size = in.readInt();\n\t\t\tint[] stack = IOUtils.readIntArray(in, size);\n\t\t\tfor (int j = 0; j < size / 2; j++)\n\t\t\t\tfirst += stack[j];\n\t\t\tfor (int j = (size + 1) / 2; j < size; j++)\n\t\t\t\tsecond += stack[j];\n\t\t\tif (size % 2 == 1)\n\t\t\t\tmiddle.add(stack[size / 2]);\n\t\t}\n\t\tmiddle.inPlaceSort(IntComparator.REVERSE);\n\t\tfor (int i = 0; i < middle.size(); i++) {\n\t\t\tif (i % 2 == 0)\n\t\t\t\tfirst += middle.get(i);\n\t\t\telse\n\t\t\t\tsecond += middle.get(i);\n\t\t}\n\t\tout.printLine(first, second);\n    }\n}\n\nclass InputReader {\n\n\tprivate InputStream stream;\n\tprivate byte[] buf = new byte[1024];\n\tprivate int curChar;\n\tprivate int numChars;\n\tprivate SpaceCharFilter filter;\n\n\tpublic InputReader(InputStream stream) {\n\t\tthis.stream = stream;\n\t}\n\n\tpublic int read() {\n\t\tif (numChars == -1)\n\t\t\tthrow new InputMismatchException();\n\t\tif (curChar >= numChars) {\n\t\t\tcurChar = 0;\n\t\t\ttry {\n\t\t\t\tnumChars = stream.read(buf);\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new InputMismatchException();\n\t\t\t}\n\t\t\tif (numChars <= 0)\n\t\t\t\treturn -1;\n\t\t}\n\t\treturn buf[curChar++];\n\t}\n\n\tpublic int readInt() {\n\t\tint c = read();\n\t\twhile (isSpaceChar(c))\n\t\t\tc = read();\n\t\tint sgn = 1;\n\t\tif (c == '-') {\n\t\t\tsgn = -1;\n\t\t\tc = read();\n\t\t}\n\t\tint res = 0;\n\t\tdo {\n\t\t\tif (c < '0' || c > '9')\n\t\t\t\tthrow new InputMismatchException();\n\t\t\tres *= 10;\n\t\t\tres += c - '0';\n\t\t\tc = read();\n\t\t} while (!isSpaceChar(c));\n\t\treturn res * sgn;\n\t}\n\n\tpublic boolean isSpaceChar(int c) {\n\t\tif (filter != null)\n\t\t\treturn filter.isSpaceChar(c);\n\t\treturn isWhitespace(c);\n\t}\n\n\tpublic static boolean isWhitespace(int c) {\n\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t}\n\n\tpublic interface SpaceCharFilter {\n\t\tpublic boolean isSpaceChar(int ch);\n\t}\n}\n\nclass OutputWriter {\n\tprivate final PrintWriter writer;\n\n\tpublic OutputWriter(OutputStream outputStream) {\n\t\twriter = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));\n\t}\n\n\tpublic OutputWriter(Writer writer) {\n\t\tthis.writer = new PrintWriter(writer);\n\t}\n\n\tpublic void print(Object...objects) {\n\t\tfor (int i = 0; i < objects.length; i++) {\n\t\t\tif (i != 0)\n\t\t\t\twriter.print(' ');\n\t\t\twriter.print(objects[i]);\n\t\t}\n\t}\n\n    public void printLine(Object...objects) {\n\t\tprint(objects);\n\t\twriter.println();\n\t}\n\n\tpublic void close() {\n\t\twriter.close();\n\t}\n\n\t}\n\nabstract class IntList extends IntCollection implements Comparable<IntList> {\n\tprivate static final int INSERTION_THRESHOLD = 16;\n\n\tpublic abstract int get(int index);\n\tpublic abstract void set(int index, int value);\n\n\tpublic IntIterator iterator() {\n\t\treturn new IntIterator() {\n\t\t\tprivate int size = size();\n\t\t\tprivate int index = 0;\n\n\t\t\tpublic int value() throws NoSuchElementException {\n\t\t\t\tif (!isValid())\n\t\t\t\t\tthrow new NoSuchElementException();\n\t\t\t\treturn get(index);\n\t\t\t}\n\n\t\t\tpublic void advance() throws NoSuchElementException {\n\t\t\t\tif (!isValid())\n\t\t\t\t\tthrow new NoSuchElementException();\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tpublic boolean isValid() {\n\t\t\t\treturn index < size;\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate void swap(int first, int second) {\n\t\tif (first == second)\n\t\t\treturn;\n\t\tint temp = get(first);\n\t\tset(first, get(second));\n\t\tset(second, temp);\n\t}\n\n\tpublic IntSortedList inPlaceSort(IntComparator comparator) {\n\t\tquickSort(0, size() - 1, (Integer.bitCount(Integer.highestOneBit(size()) - 1) * 5) >> 1, comparator);\n\t\treturn new IntSortedArray(this, comparator);\n\t}\n\n\tprivate void quickSort(int from, int to, int remaining, IntComparator comparator) {\n\t\tif (to - from < INSERTION_THRESHOLD) {\n\t\t\tinsertionSort(from, to, comparator);\n\t\t\treturn;\n\t\t}\n\t\tif (remaining == 0) {\n\t\t\theapSort(from, to, comparator);\n\t\t\treturn;\n\t\t}\n\t\tremaining--;\n\t\tint pivotIndex = (from + to) >> 1;\n\t\tint pivot = get(pivotIndex);\n\t\tswap(pivotIndex, to);\n\t\tint storeIndex = from;\n\t\tint equalIndex = to;\n\t\tfor (int i = from; i < equalIndex; i++) {\n\t\t\tint value = comparator.compare(get(i), pivot);\n\t\t\tif (value < 0)\n\t\t\t\tswap(storeIndex++, i);\n\t\t\telse if (value == 0)\n\t\t\t\tswap(--equalIndex, i--);\n\t\t}\n\t\tquickSort(from, storeIndex - 1, remaining, comparator);\n\t\tfor (int i = equalIndex; i <= to; i++)\n\t\t\tswap(storeIndex++, i);\n\t\tquickSort(storeIndex, to, remaining, comparator);\n\t}\n\n\tprivate void heapSort(int from, int to, IntComparator comparator) {\n\t\tfor (int i = (to + from - 1) >> 1; i >= from; i--)\n\t\t\tsiftDown(i, to, comparator, from);\n\t\tfor (int i = to; i > from; i--) {\n\t\t\tswap(from, i);\n\t\t\tsiftDown(from, i - 1, comparator, from);\n\t\t}\n\t}\n\n\tprivate void siftDown(int start, int end, IntComparator comparator, int delta) {\n\t\tint value = get(start);\n\t\twhile (true) {\n\t\t\tint child = ((start - delta) << 1) + 1 + delta;\n\t\t\tif (child > end)\n\t\t\t\treturn;\n\t\t\tint childValue = get(child);\n\t\t\tif (child + 1 <= end) {\n\t\t\t\tint otherValue = get(child + 1);\n\t\t\t\tif (comparator.compare(otherValue, childValue) > 0) {\n\t\t\t\t\tchild++;\n\t\t\t\t\tchildValue = otherValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (comparator.compare(value, childValue) >= 0)\n\t\t\t\treturn;\n\t\t\tswap(start, child);\n\t\t\tstart = child;\n\t\t}\n\t}\n\n\tprivate void insertionSort(int from, int to, IntComparator comparator) {\n\t\tfor (int i = from + 1; i <= to; i++) {\n\t\t\tint value = get(i);\n\t\t\tfor (int j = i - 1; j >= from; j--) {\n\t\t\t\tif (comparator.compare(get(j), value) <= 0)\n\t\t\t\t\tbreak;\n\t\t\t\tswap(j, j + 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic int hashCode() {\n\t\tint hashCode = 1;\n\t\tfor (IntIterator i = iterator(); i.isValid(); i.advance())\n\t\t\thashCode = 31 * hashCode + i.value();\n\t\treturn hashCode;\n\t}\n\n\tpublic boolean equals(Object obj) {\n\t\tif (!(obj instanceof IntList))\n\t\t\treturn false;\n\t\tIntList list = (IntList)obj;\n\t\tif (list.size() != size())\n\t\t\treturn false;\n\t\tIntIterator i = iterator();\n\t\tIntIterator j = list.iterator();\n\t\twhile (i.isValid()) {\n\t\t\tif (i.value() != j.value())\n\t\t\t\treturn false;\n\t\t\ti.advance();\n\t\t\tj.advance();\n\t\t}\n\t\treturn true;\n\t}\n\n\tpublic int compareTo(IntList o) {\n\t\tIntIterator i = iterator();\n\t\tIntIterator j = o.iterator();\n\t\twhile (true) {\n\t\t\tif (i.isValid()) {\n\t\t\t\tif (j.isValid()) {\n\t\t\t\t\tif (i.value() != j.value()) {\n\t\t\t\t\t\tif (i.value() < j.value())\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t} else\n\t\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\tif (j.isValid())\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t\ti.advance();\n\t\t\tj.advance();\n\t\t}\n\t}\n\n\t}\n\nclass IntArrayList extends IntList {\n\tprivate int[] array;\n\tprivate int size;\n\n\tpublic IntArrayList() {\n\t\tthis(10);\n\t}\n\n\tpublic IntArrayList(int capacity) {\n\t\tarray = new int[capacity];\n\t}\n\n\tpublic IntArrayList(IntList list) {\n\t\tthis(list.size());\n\t\taddAll(list);\n\t}\n\n\tpublic int get(int index) {\n\t\tif (index >= size)\n\t\t\tthrow new IndexOutOfBoundsException();\n\t\treturn array[index];\n\t}\n\n\tpublic void set(int index, int value) {\n\t\tif (index >= size)\n\t\t\tthrow new IndexOutOfBoundsException();\n\t\tarray[index] = value;\n\t}\n\n\tpublic int size() {\n\t\treturn size;\n\t}\n\n\tpublic void add(int value) {\n\t\tensureCapacity(size + 1);\n\t\tarray[size++] = value;\n\t}\n\n\tpublic void ensureCapacity(int newCapacity) {\n\t\tif (newCapacity > array.length) {\n\t\t\tint[] newArray = new int[Math.max(newCapacity, array.length << 1)];\n\t\t\tSystem.arraycopy(array, 0, newArray, 0, size);\n\t\t\tarray = newArray;\n\t\t}\n\t}\n\n\t}\n\nclass IOUtils {\n\n\tpublic static int[] readIntArray(InputReader in, int size) {\n\t\tint[] array = new int[size];\n\t\tfor (int i = 0; i < size; i++)\n\t\t\tarray[i] = in.readInt();\n\t\treturn array;\n\t}\n\n\t}\n\nabstract class IntCollection {\n\tpublic abstract IntIterator iterator();\n\tpublic abstract int size();\n\tpublic abstract void add(int value);\n\n\tpublic void addAll(IntCollection values) {\n\t\tfor (IntIterator it = values.iterator(); it.isValid(); it.advance()) {\n\t\t\tadd(it.value());\n\t\t}\n\t}\n\n\t}\n\nabstract class IntSortedList extends IntList {\n\tprotected final IntComparator comparator;\n\n\tprotected IntSortedList(IntComparator comparator) {\n\t\tthis.comparator = comparator;\n\t}\n\n\tpublic void set(int index, int value) {\n\t\tthrow new UnsupportedOperationException();\n\t}\n\n\tpublic void add(int value) {\n\t\tthrow new UnsupportedOperationException();\n\t}\n\n\tpublic IntSortedList inPlaceSort(IntComparator comparator) {\n\t\tif (comparator == this.comparator)\n\t\t\treturn this;\n\t\tthrow new UnsupportedOperationException();\n\t}\n\n\tprotected void ensureSorted() {\n\t\tint size = size();\n\t\tif (size == 0)\n\t\t\treturn;\n\t\tint last = get(0);\n\t\tfor (int i = 1; i < size; i++) {\n\t\t\tint current = get(i);\n\t\t\tif (comparator.compare(last, current) > 0)\n\t\t\t\tthrow new IllegalArgumentException();\n\t\t\tlast = current;\n\t\t}\n\t}\n\n\t}\n\ninterface IntComparator {\n    public static final IntComparator DEFAULT = new IntComparator() {\n        public int compare(int first, int second) {\n            if (first < second)\n                return -1;\n            if (first > second)\n                return 1;\n            return 0;\n        }\n    };\n\n\tpublic static final IntComparator REVERSE = new IntComparator() {\n\t\tpublic int compare(int first, int second) {\n\t\t\tif (first < second)\n\t\t\t\treturn 1;\n\t\t\tif (first > second)\n\t\t\t\treturn -1;\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\tpublic int compare(int first, int second);\n}\n\ninterface IntIterator {\n\tpublic int value() throws NoSuchElementException;\n\t/*\n\t * @throws NoSuchElementException only if iterator already invalid\n\t */\n\tpublic void advance() throws NoSuchElementException;\n\tpublic boolean isValid();\n}\n\nclass IntSortedArray extends IntSortedList {\n\tprivate final int[] array;\n\n\tpublic IntSortedArray(int[] array) {\n\t\tthis(array, IntComparator.DEFAULT);\n\t}\n\n\tpublic IntSortedArray(IntCollection collection) {\n\t\tthis(collection, IntComparator.DEFAULT);\n\t}\n\n\tpublic IntSortedArray(int[] array, IntComparator comparator) {\n\t\tsuper(comparator);\n\t\tthis.array = array;\n\t\tensureSorted();\n\t}\n\n\tpublic IntSortedArray(IntCollection collection, IntComparator comparator) {\n\t\tsuper(comparator);\n\t\tarray = new int[collection.size()];\n\t\tint i = 0;\n\t\tfor (IntIterator iterator = collection.iterator(); iterator.isValid(); iterator.advance())\n\t\t\tarray[i++] = iterator.value();\n\t\tensureSorted();\n\t}\n\n\tpublic int get(int index) {\n\t\treturn array[index];\n\t}\n\n\tpublic int size() {\n\t\treturn array.length;\n\t}\n}\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 105;\nint N;\nint second[MAXN];\nint arr[MAXN][MAXN];\nint lb[MAXN], rb[MAXN];\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  cin >> N;\n  for (int i = 0; i < N; i++) {\n    cin >> second[i];\n    for (int j = 0; j < second[i]; j++) cin >> arr[i][j];\n    lb[i] = 0;\n    rb[i] = second[i];\n  }\n  int s1 = 0, s2 = 0;\n  int turn = 0;\n  while (1) {\n    int bst = -1, bstval = 0;\n    for (int i = 0; i < N; i++) {\n      if (lb[i] == rb[i]) continue;\n      int mb = lb[i] + rb[i];\n      int pos;\n      if (mb % 2 == 0) {\n        if (turn == 0)\n          pos = mb / 2;\n        else\n          pos = mb / 2 - 1;\n      } else\n        pos = (mb - 1) / 2;\n      if (arr[i][pos] > bstval) {\n        bstval = arr[i][pos];\n        bst = i;\n      }\n    }\n    if (bst == -1) break;\n    if (turn == 0)\n      s1 += arr[bst][lb[bst]++];\n    else\n      s2 += arr[bst][--rb[bst]];\n    turn ^= 1;\n  }\n  cout << s1 << \" \" << s2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1e2 + 100;\nvector<int> a[N];\nvoid addup(int v[], vector<int> &xs) {\n  for (int i = 0, p = 0; i < xs.size(); ++i) {\n    if (i == xs.size() / 2) ++p;\n    v[p] += xs[i];\n  }\n}\nint main() {\n  std::ios::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; ++i) {\n    int sz;\n    cin >> sz;\n    for (int j = 0; j < sz; ++j) {\n      int x;\n      cin >> x;\n      a[i].push_back(x);\n    }\n  }\n  int v[] = {0, 0};\n  for (int i = 0; i < n; ++i) {\n    if (a[i].size() & 1) continue;\n    addup(v, a[i]);\n  }\n  vector<int> mids;\n  for (int i = 0; i < n; ++i) {\n    if (not(a[i].size() & 1)) continue;\n    int midp = a[i].size() / 2;\n    mids.push_back(a[i][midp]);\n    swap(a[i][midp], a[i][a[i].size() - 1]);\n    a[i].pop_back();\n    addup(v, a[i]);\n  }\n  sort(mids.begin(), mids.end());\n  reverse(mids.begin(), mids.end());\n  for (int i = 0, p = 0; i < mids.size(); ++i) {\n    v[p] += mids[i];\n    p = 1 - p;\n  }\n  cout << v[0] << ' ' << v[1] << '\\n';\n}\n"
        },
        {
            "language": 1,
            "solution": "import fileinput\n\ninput = fileinput.input()\ndef ints():\n  return [int(x) for x in input.readline().rstrip().split(' ')]\n\ndef ans(piles):\n  a,b=0,0\n  s=[]\n  for p in piles:\n    n=len(p)\n    m=n/2\n    if n&1: s.append(p[m])\n    if m:\n      a+=sum(p[:m])\n      b+=sum(p[-m:])\n  s.sort(reverse=True)\n  a+=sum(s[::2])\n  b+=sum(s[1::2])\n  return a,b\n\nn, = ints()\npiles = [ints()[1:] for _ in xrange(n)]\nprint ' '.join(str(v) for v in ans(piles))\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nvoid shell(int vec[], int n);\nint main(int argc, char const *argv[]) {\n  int pilas, i, j;\n  scanf(\"%d\", &pilas);\n  int pil[100], cant = 0;\n  int N, suma1 = 0, suma2 = 0, valor, medio;\n  for (i = 0; i < pilas; i++) {\n    scanf(\"%d\", &N);\n    medio = N / 2;\n    for (j = 0; j < N; j++) {\n      scanf(\"%d\", &valor);\n      if (medio > j) {\n        suma1 += valor;\n      } else if (medio == j && N % 2 == 1) {\n        pil[cant] = valor;\n        cant++;\n      } else {\n        suma2 += valor;\n      }\n    }\n  }\n  shell(pil, cant);\n  i = cant - 1;\n  int selec = 0;\n  while (i >= 0) {\n    if (selec % 2 == 0) {\n      suma1 += pil[i];\n    } else {\n      suma2 += pil[i];\n    }\n    i--;\n    selec++;\n  }\n  printf(\"%d %d\", suma1, suma2);\n  return 0;\n}\nvoid shell(int vec[], int n) {\n  for (int salto = n / 2; salto > 0; salto /= 2) {\n    for (int i = salto; i < n; i += 1) {\n      int aux = vec[i], j;\n      for (j = i; (j >= salto) && (vec[j - salto] > aux); j -= salto)\n        vec[j] = vec[j - salto];\n      vec[j] = aux;\n    }\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.StringTokenizer;\n\npublic class Main228C {\n\n    private FastScanner in;\n    private PrintWriter out;\n\n    public void solve() throws IOException {\n        int n = in.nextInt();\n        int s1 = 0;\n        int s2 = 0;\n        List<Integer> mid = new ArrayList<Integer>();\n        for(int i = 0; i < n; i++) {\n            int c = in.nextInt();\n            for(int j = 0; j < c; j++) {\n                if(j < c / 2) {\n                    s1 += in.nextInt();\n                }\n                else if ((j == c / 2) && (c % 2 == 1)){\n                    mid.add(in.nextInt());\n                }\n                else {\n                    s2 += in.nextInt();\n                }\n            }\n        }\n        int[] m = new int[mid.size()];\n        for(int i = 0; i < m.length; i++) {\n            m[i] = mid.get(i);\n        }\n        Arrays.sort(m);\n        for(int i = m.length - 1; i >= 0; i--) {\n            if((m.length - 1 - i) % 2 == 0) {\n                s1 += m[i];\n            }\n            else {\n                s2 += m[i];\n            }\n        }\n        out.println(s1 + \" \" + s2);\n    }\n\n    public void run() {\n        try {\n            in = new FastScanner(System.in);\n            out = new PrintWriter(System.out);\n            solve();\n            out.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    class FastScanner {\n\n        BufferedReader br;\n        StringTokenizer st;\n\n        FastScanner(InputStream is) {\n            br = new BufferedReader(new InputStreamReader(is));\n        }\n\n        String next() {\n            while (st == null || !st.hasMoreTokens()) {\n                try {\n                    st = new StringTokenizer(br.readLine());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            return st.nextToken();\n        }\n\n        int nextInt() {\n            return Integer.parseInt(next());\n        }\n    }\n\n    public static void main(String[] arg) {\n        new Main228C().run();\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MX = 100005, INF = 1000000000;\nconst long long int LINF = 1000000000000000000ll;\nconst double eps = 1e-10;\nconst int dx[] = {-1, 0, 1, 0}, dy[] = {0, -1, 0, 1};\nvector<int> x[105];\nint main() {\n  int n, m;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    for (int j = 0; j < m; j++) {\n      int a;\n      scanf(\"%d\", &a);\n      x[i].push_back(a);\n    }\n  }\n  vector<int> d;\n  int s = 0, t = 0;\n  for (int i = 0; i < n; i++) {\n    m = x[i].size();\n    for (int j = 0; j < m / 2; j++) s += x[i][j], t += x[i][m - j - 1];\n    if (m & 1) d.push_back(x[i][m / 2]);\n  }\n  sort(d.begin(), d.end());\n  reverse(d.begin(), d.end());\n  for (int i = 0; i < d.size(); i++) {\n    if (i & 1)\n      t += d[i];\n    else\n      s += d[i];\n  }\n  cout << s << \" \" << t << endl;\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "n = input()\ncie = jir = 0\nmid = []\nfor i in xrange(n):\n\tcard = map(int, raw_input().split())\n\ts = card[0]\n\tcard = card[1:]\n\tb = s / 2\n\te = (s + 1) / 2\n\tif(b != e):\n\t\tmid.append(card[b])\n\tcie += sum(card[:b])\n\tjir += sum(card[e:])\n\nl = (len(mid) + 1) / 2\nmid = sorted(mid, reverse = True)\nfor i in xrange(len(mid)):\n\tif(i % 2 == 0):\n\t\tcie += mid[i]\n\telse:\n\t\tjir += mid[i]\nprint cie,jir\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 110;\nint n;\nint a1, a2;\nint s1[MAXN], s2[MAXN];\nint marc[MAXN];\nint mid[MAXN];\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    int tam;\n    scanf(\"%d\", &tam);\n    for (int j = 1; j <= tam; j++) {\n      int aux;\n      scanf(\"%d\", &aux);\n      if (tam % 2 == 1 && j == (tam + 1) / 2)\n        mid[i] = aux;\n      else if (j <= tam / 2)\n        a1 += aux;\n      else if (j > tam / 2)\n        a2 += aux;\n    }\n    if (tam % 2 == 0) marc[i] = 1;\n  }\n  bool turn = true;\n  while (1) {\n    bool flag = true;\n    int maxi = 0, id = 0;\n    for (int i = 1; i <= n; i++) {\n      if (marc[i]) continue;\n      flag = false;\n      if (turn && mid[i] > maxi) maxi = mid[i], id = i;\n      if (!turn && mid[i] > maxi) maxi = mid[i], id = i;\n    }\n    if (flag) break;\n    if (turn)\n      a1 += mid[id];\n    else\n      a2 += mid[id];\n    marc[id] = 1;\n    turn ^= 1;\n  }\n  printf(\"%d %d\\n\", a1, a2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  cin >> n;\n  int first = 0, second = 0;\n  vector<int> a;\n  while (n--) {\n    int k, x;\n    cin >> k;\n    for (int i = 1; i <= k / 2; i++) {\n      cin >> x;\n      first += x;\n    }\n    if (k % 2) {\n      cin >> x;\n      a.push_back(x);\n    }\n    for (int i = 1; i <= k / 2; i++) {\n      cin >> x;\n      second += x;\n    }\n  }\n  sort(a.begin(), a.end());\n  reverse(a.begin(), a.end());\n  bool k = true;\n  for (auto it : a) {\n    if (k)\n      first += it;\n    else\n      second += it;\n    k = !k;\n  }\n  cout << first << \" \" << second << endl;\n}\n"
        },
        {
            "language": 3,
            "solution": "from sys import stdin\nfrom collections import deque\nimport heapq\nn = int(stdin.readline())\n\npiles = []\n\nfor x in range(n):\n    a = [int(x) for x in stdin.readline().split()][1:]\n    piles.append(a)\n\ncielTotal = 0\njiroTotal = 0\n\nmids = []\n\nfor x in piles:\n    cielTotal += sum(x[:len(x)//2])\n    jiroTotal += sum(x[len(x)//2+len(x)%2:])\n    #print(x)\n    #print(cielTotal,jiroTotal)\n    if len(x)%2 == 1:\n        mids.append(x[len(x)//2])\n\nmids.sort(reverse=True)\n\nturn = True\nfor x in mids:\n    if turn:\n        cielTotal += x\n    else:\n        jiroTotal += x\n    turn = not turn\nprint(cielTotal,jiroTotal)\n\n    \n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\n\npublic class Main implements Runnable {\n\t\t\n\tpublic void solve() throws IOException {\n\t\tint N = nextInt();\n                int a = 0, b = 0;\n                \n                List<Integer> l = new ArrayList();\n                for(int i = 0; i < N; i++){\n                        int n = nextInt();\n                        int[] arr = new int[n];\n                        for(int k = 0; k < n; k++) arr[k] = nextInt();\n                        for(int k = 0; k < n / 2; k++){\n                                a += arr[k];\n                                b += arr[n - 1 - k];\n                        }\n                        if(n % 2 != 0) l.add(arr[n / 2]);\n                }\n                \n                Collections.sort(l);\n                int sz = l.size();\n                for(int i = sz - 1; i >= 0; i--){\n                        if((sz - 1 - i) % 2 == 0) a += l.get(i);\n                        else b += l.get(i);\n                }\n                \n                System.out.println(a + \" \" + b);\n\t}\n\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t//-----------------------------------------------------------\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n        public void print1Int(int[] a){\n                for(int i = 0; i < a.length; i++)\n                        System.out.print(a[i] + \" \");\n                System.out.println();\n        }\n        \n        public void print2Int(int[][] a){\n                for(int i = 0; i < a.length; i++){\n                        for(int j = 0; j < a[0].length; j++){\n                                System.out.print(a[i][j] + \" \");\n                        }\n                        System.out.println();\n                }\n        }\n        \n\tpublic void run() {\n\t\ttry {\n\t\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\t\ttok = null;\n\t\t\tsolve();\n\t\t\tin.close();\n\t\t} catch (IOException e) {\n\t\t\tSystem.exit(0);\n\t\t}\n\t}\n\n\tpublic String nextToken() throws IOException {\n\t\twhile (tok == null || !tok.hasMoreTokens()) {\n\t\t\ttok = new StringTokenizer(in.readLine());\n\t\t}\n\t\treturn tok.nextToken();\n\t}\n\n\tpublic int nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tpublic long nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tpublic double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\n\tBufferedReader in;\n\tStringTokenizer tok;\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> rems;\nint ans[2];\nint main() {\n  int n;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int m;\n    cin >> m;\n    for (int j = 0; j < m; j++) {\n      int p;\n      cin >> p;\n      if (j < m / 2)\n        ans[0] += p;\n      else if (j >= (m + 1) / 2)\n        ans[1] += p;\n      else {\n        rems.push_back(p);\n      }\n    }\n  }\n  sort(rems.begin(), rems.end());\n  reverse(rems.begin(), rems.end());\n  for (int i = 0; i < rems.size(); i++) {\n    ans[i % 2] += rems[i];\n  }\n  cout << ans[0] << \" \" << ans[1] << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> m;\nint main() {\n  int n;\n  cin >> n;\n  int top = 0;\n  int bottom = 0;\n  for (int i = 0; i < n; i++) {\n    int c;\n    cin >> c;\n    for (int j = 0; j < c; j++) {\n      int a;\n      cin >> a;\n      if (c % 2 == 0 && j < c / 2)\n        top += a;\n      else if (c % 2 == 0)\n        bottom += a;\n      else if (j < c / 2)\n        top += a;\n      else if (j == c / 2)\n        m.push_back(a);\n      else\n        bottom += a;\n    }\n  }\n  sort(m.rbegin(), m.rend());\n  for (int i = 0; i < m.size(); i++) {\n    if (i % 2 == 0)\n      top += m[i];\n    else\n      bottom += m[i];\n  }\n  cout << top << \" \" << bottom << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\ninline void read(T &a) {\n  T w = 1;\n  a = 0;\n  char ch = getchar();\n  for (; ch < '0' || ch > '9'; ch = getchar())\n    if (ch == '-') w = -1;\n  for (; ch >= '0' && ch <= '9'; ch = getchar()) a = (a * 10) + (ch - '0');\n  a *= w;\n}\ntemplate <typename T>\ninline void ckmax(T &a, T b) {\n  a = a > b ? a : b;\n}\ntemplate <typename T>\ninline void ckmin(T &a, T b) {\n  a = a < b ? a : b;\n}\npriority_queue<int> q;\nint main() {\n  int n;\n  read(n);\n  int Ansa = 0, Ansb = 0;\n  for (int i = 1; i <= n; ++i) {\n    int xx, vis;\n    read(xx);\n    if (xx & 1) {\n      for (int j = 1; j <= xx / 2; ++j) {\n        read(vis);\n        Ansa += vis;\n      }\n      read(vis);\n      q.push(vis);\n      for (int j = xx / 2 + 2; j <= xx; ++j) {\n        read(vis);\n        Ansb += vis;\n      }\n    } else {\n      for (int j = 1; j <= xx / 2; ++j) {\n        read(vis);\n        Ansa += vis;\n      }\n      for (int j = xx / 2 + 1; j <= xx; ++j) {\n        read(vis);\n        Ansb += vis;\n      }\n    }\n  }\n  int flag = 0;\n  while (!q.empty()) {\n    int x = q.top();\n    q.pop();\n    if (flag) Ansb += x;\n    if (!flag) Ansa += x;\n    flag ^= 1;\n  }\n  printf(\"%d %d\", Ansa, Ansb);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nconst long long MAX_N = 1e3 + 100;\nconst long long MOD = 1e9 + 7;\nusing namespace std;\nint a[MAX_N];\nint ans1, ans2;\nint main() {\n  int m;\n  cin >> m;\n  vector<int> vc;\n  for (int k = 1; k <= m; ++k) {\n    int n;\n    cin >> n;\n    for (int i = 1; i <= n; ++i) cin >> a[i];\n    for (int i = 1; i <= n / 2; ++i) ans1 += a[i];\n    for (int i = n; i >= n - n / 2 + 1; --i) ans2 += a[i];\n    if (n & 1) vc.push_back(a[n / 2 + 1]);\n  }\n  sort(vc.begin(), vc.end());\n  reverse(vc.begin(), vc.end());\n  for (int i = 0; i < vc.size(); ++i) {\n    if (i & 1)\n      ans2 += vc[i];\n    else\n      ans1 += vc[i];\n  }\n  cout << ans1 << \" \" << ans2;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint m[105];\nint ms = 0;\nint k[105];\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  int A = 0, B = 0;\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &k[i]);\n    for (int j = 0; j < k[i]; j++) {\n      int x;\n      scanf(\"%d\", &x);\n      if (j < k[i] / 2)\n        A += x;\n      else if (j >= (k[i] + 1) / 2)\n        B += x;\n      else\n        m[ms++] = x;\n    }\n  }\n  sort(m, m + ms);\n  reverse(m, m + ms);\n  for (int i = 0; i < ms; i++)\n    if ((i & 1) == 0)\n      A += m[i];\n    else\n      B += m[i];\n  printf(\"%d %d\", A, B);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nmultiset<int> S;\nint main() {\n  int n;\n  int x = 0, y = 0;\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    int k;\n    scanf(\"%d\", &k);\n    for (int j = 1; j <= k; j++) {\n      int t;\n      scanf(\"%d\", &t);\n      if (j <= k / 2)\n        x += t;\n      else if (j > (k + 1) / 2)\n        y += t;\n      else\n        S.insert(-t);\n    }\n  }\n  int f = 0;\n  for (auto v : S) {\n    if (!f)\n      x -= v;\n    else\n      y -= v;\n    f ^= 1;\n  }\n  printf(\"%d %d\\n\", x, y);\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.DataInputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Prac {\n\n\n    public static void main(String[] args) throws IOException {\n    \ttry {\n    \t\tBufferInput in = new BufferInput();\n    \t\tlong ans1=0;\n    \t\tlong ans2=0;\n    \t\tint t = in.nextInt();\n    \t\tArrayList<Integer> mids = new ArrayList<>();\n    \t\tfor(int j=0;j<t;j++) {\n    \t\t\tint n = in.nextInt();\n    \t\t\tif(n%2==0) {\n    \t\t\t\tfor(int i=0;i<n/2;i++) {\n    \t\t\t\t\tans1+=in.nextLong();\n    \t\t\t\t}\n    \t\t\t\tfor(int i=n/2;i<n;i++) {\n    \t\t\t\t\tans2+=in.nextLong();\n    \t\t\t\t}\n    \t\t\t}\n    \t\t\telse {\n    \t\t\t\tfor(int i=0;i<n/2;i++) {\n    \t\t\t\t\tans1+=in.nextLong();\n    \t\t\t\t}\n    \t\t\t\tmids.add(in.nextInt());\n    \t\t\t\tfor(int i=n/2+1;i<n;i++) ans2+=in.nextLong();\n    \t\t\t}\n    \t\t}\n    \t\tCollections.sort(mids, Collections.reverseOrder());\n    \t\tfor(int i=0;i<mids.size();i++) {\n    \t\t\tif(i%2==0) ans1+=mids.get(i);\n    \t\t\telse ans2+=mids.get(i);\n    \t\t}\n    \t\tSystem.out.println(ans1+\" \"+ans2);\n    \t\t\n    \t}catch(Exception e) {}\n    }\nstatic class BufferInput {\n\t\t\n\t\tfinal private int BUFFER_SIZE = 1 << 16;\n\t\t\n\t\tprivate DataInputStream din;\n\t\t\n\t\tprivate byte[] buffer;\n\t\t\n\t\tprivate int bufferPointer, bytesRead;\n\t\t\n\t\tpublic BufferInput() {\n\t\t\tdin = new DataInputStream(System.in);\n\t\t\tbuffer = new byte[BUFFER_SIZE];\n\t\t\tbufferPointer = bytesRead = 0;\n\t\t}\n\n\t\tpublic BufferInput(String file_name) throws IOException {\n\t\t\tdin = new DataInputStream(new FileInputStream(file_name));\n\t\t\tbuffer = new byte[BUFFER_SIZE];\n\t\t\tbufferPointer = bytesRead = 0;\n\t\t}\n\n\t\tpublic String readLine() throws IOException {\n\t\t\tbyte[] buf = new byte[64];\n\t\t\tint cnt = 0, c;\n\t\t\twhile ((c = read()) != -1) {\n\t\t\t\tif (c == '\\n')\n\t\t\t\t\tbreak;\n\t\t\t\tbuf[cnt++] = (byte) c;\n\t\t\t}\n\t\t\treturn new String(buf, 0, cnt);\n\t\t}\n\t\t\n\t\tpublic String nextString() throws IOException{\n\t\t\t\n\t\t\tbyte c = read();\n\t\t\twhile(Character.isWhitespace(c)){\n\t\t\t\tc = read();\n\t\t\t}\n\t\t\t\n\t\t\tStringBuilder builder = new StringBuilder();\n\t\t\tbuilder.append((char)c);\n\t\t\tc = read();\n\t\t\twhile(!Character.isWhitespace(c)){\n\t\t\t\tbuilder.append((char)c);\n\t\t\t\tc = read();\n\t\t\t}\n\t\t\t\n\t\t\treturn builder.toString();\n\t\t}\n\t\t\n\t\tpublic int nextInt() throws IOException {\n\t\t\tint ret = 0;\n\t\t\tbyte c = read();\n\t\t\twhile (c <= ' ')\n\t\t\t\tc = read();\n\t\t\tboolean neg = (c == '-');\n\t\t\tif (neg)\n\t\t\t\tc = read();\n\t\t\tdo {\n\t\t\t\tret = ret * 10 + c - '0';\n\t\t\t} while ((c = read()) >= '0' && c <= '9');\n\n\t\t\tif (neg)\n\t\t\t\treturn -ret;\n\t\t\treturn ret;\n\t\t}\n\t\t\n\t\tpublic int[] nextIntArray(int n) throws IOException {\n\t\t\tint arr[] = new int[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tarr[i] = nextInt();\n\t\t\t}\n\t\t\treturn arr;\n\t\t}\n\t\tpublic long nextLong() throws IOException {\n\t\t\tlong ret = 0;\n\t\t\tbyte c = read();\n\t\t\twhile (c <= ' ')\n\t\t\t\tc = read();\n\t\t\tboolean neg = (c == '-');\n\t\t\tif (neg)\n\t\t\t\tc = read();\n\t\t\tdo {\n\t\t\t\tret = ret * 10 + c - '0';\n\t\t\t} while ((c = read()) >= '0' && c <= '9');\n\t\t\tif (neg)\n\t\t\t\treturn -ret;\n\t\t\treturn ret;\n\t\t}\n\t\t\n\t\tpublic long[] nextLongArray(int n) throws IOException {\n\t\t\tlong arr[] = new long[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tarr[i] = nextLong();\n\t\t\t}\n\t\t\treturn arr;\n\t\t}\n\t\t\n\t\tpublic char nextChar() throws IOException{\n\t\t\tbyte c = read();\n\t\t\twhile(Character.isWhitespace(c)){\n\t\t\t\tc = read();\n\t\t\t}\n\t\t\treturn (char) c;\t\n\t\t}\n\t\tpublic double nextDouble() throws IOException {\n\t\t\tdouble ret = 0, div = 1;\n\t\t\tbyte c = read();\n\t\t\twhile (c <= ' ')\n\t\t\t\tc = read();\n\t\t\tboolean neg = (c == '-');\n\t\t\tif (neg)\n\t\t\t\tc = read();\n\n\t\t\tdo {\n\t\t\t\tret = ret * 10 + c - '0';\n\t\t\t} while ((c = read()) >= '0' && c <= '9');\n\n\t\t\tif (c == '.') {\n\t\t\t\twhile ((c = read()) >= '0' && c <= '9') {\n\t\t\t\t\tret += (c - '0') / (div *= 10);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (neg)\n\t\t\t\treturn -ret;\n\t\t\treturn ret;\n\t\t}\n\t\tpublic double[] nextDoubleArray(int n) throws IOException {\n\t\t\tdouble arr[] = new double[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tarr[i] = nextDouble();\n\t\t\t}\n\t\t\treturn arr;\n\t\t}\n\t\tprivate void fillBuffer() throws IOException {\n\t\t\tbytesRead = din.read(buffer, bufferPointer = 0, BUFFER_SIZE);\n\t\t\tif (bytesRead == -1)\n\t\t\t\tbuffer[0] = -1;\n\t\t}\n\t\tprivate byte read() throws IOException {\n\t\t\tif (bufferPointer == bytesRead)\n\t\t\t\tfillBuffer();\n\t\t\treturn buffer[bufferPointer++];\n\t\t}\n\n\t\tpublic void close() throws IOException {\n\t\t\tif (din == null)\n\t\t\t\treturn;\n\t\t\tdin.close();\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.PrintWriter;\nimport java.util.ArrayDeque;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class C388 {\n\t\n\tpublic void solve(Scanner in, PrintWriter out) {\n\t\tint n = in.nextInt();\n\t\tint first = 0, second = 0;\n\t\tPriorityQueue<Integer> q = new PriorityQueue<>((a, b) -> b - a);\n\t\tfor(int j = 0; j < n; ++j) {\n\t\t\tint s = in.nextInt();\n\t\t\tArrayDeque<Integer> cur = new ArrayDeque<>();\n\t\t\tfor(int i = 0; i < s; ++i) cur.add(in.nextInt());\n\t\t\twhile(cur.size() > 1) {\n\t\t\t\tfirst += cur.pollFirst();\n\t\t\t\tsecond += cur.pollLast();\n\t\t\t}\n\t\t\tif(!cur.isEmpty()) q.add(cur.poll());\n\t\t}\n\t\tint turn = 0;\n\t\twhile(!q.isEmpty()) {\n\t\t\tint x = q.poll();\n\t\t\tif(turn == 0) first += x;\n\t\t\telse second += x;\n\t\t\tturn ^= 1;\n\t\t}\n\t\tout.println(first + \" \" + second);\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner in = new Scanner(System.in);\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\tnew C388().solve(in, out);\n\t\tin.close();\n\t\tout.close();\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\ntemplate <typename T>\nvoid read(T &x) {\n  x = 0;\n  int f = 1;\n  char c = getchar();\n  for (; !isdigit(c); c = getchar())\n    if (c == '-') f = -1;\n  for (; isdigit(c); c = getchar()) x = (x << 1) + (x << 3) + c - '0';\n  x *= f;\n}\nint n;\nint cnt[N];\nint a[N][N];\nint A[N], B[N];\nint L[N], R[N];\nint val[N];\nint ans1, ans2;\nbool cmp(int x, int y) { return x > y; }\nint main() {\n  read(n);\n  for (int i = 1; i <= n; i++) {\n    read(cnt[i]);\n    for (int j = 1; j <= cnt[i]; j++) read(a[i][j]);\n  }\n  for (int i = 1; i <= n; i++)\n    for (int j = 1; j <= cnt[i] / 2; j++) ans1 += a[i][j];\n  for (int i = 1; i <= n; i++)\n    for (int j = cnt[i] - cnt[i] / 2 + 1; j <= cnt[i]; j++) ans2 += a[i][j];\n  int tot = 0;\n  for (int i = 1; i <= n; i++)\n    if (cnt[i] & 1) val[++tot] = a[i][cnt[i] / 2 + 1];\n  sort(val + 1, val + tot + 1, cmp);\n  for (int i = 1; i <= tot; i++)\n    if (i & 1)\n      ans1 += val[i];\n    else\n      ans2 += val[i];\n  printf(\"%d %d\\n\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.Iterator;\nimport java.io.BufferedWriter;\nimport java.util.InputMismatchException;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.util.NoSuchElementException;\nimport java.util.Collections;\nimport java.io.InputStream;\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n *\n * @author Alex\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        InputReader in = new InputReader(inputStream);\n        OutputWriter out = new OutputWriter(outputStream);\n        TaskC solver = new TaskC();\n        solver.solve(1, in, out);\n        out.close();\n    }\n    static class TaskC {\n        public void solve(int testNumber, InputReader in, OutputWriter out) {\n            int n = in.readInt(), tot = 0;\n            int[][] tab = new int[n][];\n            for (int i = 0; i < n; i++) {\n                int len = in.readInt();\n                tab[i] = IOUtils.readIntArray(in, len);\n                tot += ArrayUtils.sumArray(tab[i]);\n            }\n            int leftsum = 0;\n            ArrayList<Integer> middles = new ArrayList<>();\n            for (int row = 0; row < tab.length; row++) {\n                for (int i = 0; i < tab[row].length / 2; i++) {\n                    leftsum += tab[row][i];\n                }\n                if (tab[row].length % 2 == 1) middles.add(tab[row][tab[row].length / 2]);\n            }\n            Collections.sort(middles, Collections.reverseOrder());\n            for (int i = 0; i < middles.size(); i += 2) {\n                leftsum += middles.get(i);\n            }\n            out.printLine(leftsum, tot - leftsum);\n        }\n    }\n    static class IntArray extends IntAbstractStream implements IntList {\n        private int[] data;\n        public IntArray(int[] arr) {\n            data = arr;\n        }\n        public int size() {\n            return data.length;\n        }\n        public int get(int at) {\n            return data[at];\n        }\n        public void removeAt(int index) {\n            throw new UnsupportedOperationException();\n        }\n    }\n    static abstract class IntAbstractStream implements IntStream {\n        public String toString() {\n            StringBuilder builder = new StringBuilder();\n            boolean first = true;\n            for (IntIterator it = intIterator(); it.isValid(); it.advance()) {\n                if (first) {\n                    first = false;\n                } else {\n                    builder.append(' ');\n                }\n                builder.append(it.value());\n            }\n            return builder.toString();\n        }\n        public boolean equals(Object o) {\n            if (!(o instanceof IntStream)) {\n                return false;\n            }\n            IntStream c = (IntStream) o;\n            IntIterator it = intIterator();\n            IntIterator jt = c.intIterator();\n            while (it.isValid() && jt.isValid()) {\n                if (it.value() != jt.value()) {\n                    return false;\n                }\n                it.advance();\n                jt.advance();\n            }\n            return !it.isValid() && !jt.isValid();\n        }\n        public int hashCode() {\n            int result = 0;\n            for (IntIterator it = intIterator(); it.isValid(); it.advance()) {\n                result *= 31;\n                result += it.value();\n            }\n            return result;\n        }\n    }\n    static interface IntCollection extends IntStream {\n        public int size();\n    }\n    static class IOUtils {\n        public static int[] readIntArray(InputReader in, int size) {\n            int[] array = new int[size];\n            for (int i = 0; i < size; i++)\n                array[i] = in.readInt();\n            return array;\n        }\n    }\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n        private InputReader.SpaceCharFilter filter;\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n        public int read() {\n            if (numChars == -1)\n                throw new InputMismatchException();\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0)\n                    return -1;\n            }\n            return buf[curChar++];\n        }\n        public int readInt() {\n            int c = read();\n            while (isSpaceChar(c))\n                c = read();\n            int sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = read();\n            }\n            int res = 0;\n            do {\n                if (c < '0' || c > '9')\n                    throw new InputMismatchException();\n                res *= 10;\n                res += c - '0';\n                c = read();\n            } while (!isSpaceChar(c));\n            return res * sgn;\n        }\n        public boolean isSpaceChar(int c) {\n            if (filter != null)\n                return filter.isSpaceChar(c);\n            return isWhitespace(c);\n        }\n        public static boolean isWhitespace(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n        }\n    }\n    static interface IntList extends IntReversableCollection {\n        public abstract int get(int index);\n        public abstract void removeAt(int index);\n        default public IntIterator intIterator() {\n            return new IntIterator() {\n                private int at;\n                private boolean removed;\n                public int value() {\n                    if (removed) {\n                        throw new IllegalStateException();\n                    }\n                    return get(at);\n                }\n                public boolean advance() {\n                    at++;\n                    removed = false;\n                    return isValid();\n                }\n                public boolean isValid() {\n                    return !removed && at < size();\n                }\n                public void remove() {\n                    removeAt(at);\n                    at--;\n                    removed = true;\n                }\n            };\n        }\n    }\n    static interface IntReversableCollection extends IntCollection {\n    }\n    static class ArrayUtils {\n        public static long sumArray(int[] array) {\n            return new IntArray(array).sum();\n        }\n    }\n    static interface IntStream extends Iterable<Integer>, Comparable<IntStream> {\n        public IntIterator intIterator();\n        default public Iterator<Integer> iterator() {\n            return new Iterator<Integer>() {\n                private IntIterator it = intIterator();\n                public boolean hasNext() {\n                    return it.isValid();\n                }\n                public Integer next() {\n                    int result = it.value();\n                    it.advance();\n                    return result;\n                }\n            };\n        }\n        default public int compareTo(IntStream c) {\n            IntIterator it = intIterator();\n            IntIterator jt = c.intIterator();\n            while (it.isValid() && jt.isValid()) {\n                int i = it.value();\n                int j = jt.value();\n                if (i < j) {\n                    return -1;\n                } else if (i > j) {\n                    return 1;\n                }\n                it.advance();\n                jt.advance();\n            }\n            if (it.isValid()) {\n                return 1;\n            }\n            if (jt.isValid()) {\n                return -1;\n            }\n            return 0;\n        }\n        default public long sum() {\n            long result = 0;\n            for (IntIterator it = intIterator(); it.isValid(); it.advance()) {\n                result += it.value();\n            }\n            return result;\n        }\n    }\n    static class OutputWriter {\n        private final PrintWriter writer;\n        public OutputWriter(OutputStream outputStream) {\n            writer = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));\n        }\n        public OutputWriter(Writer writer) {\n            this.writer = new PrintWriter(writer);\n        }\n        public void print(Object... objects) {\n            for (int i = 0; i < objects.length; i++) {\n                if (i != 0)\n                    writer.print(' ');\n                writer.print(objects[i]);\n            }\n        }\n        public void printLine(Object... objects) {\n            print(objects);\n            writer.println();\n        }\n        public void close() {\n            writer.close();\n        }\n    }\n    static interface IntIterator {\n        public int value() throws NoSuchElementException;\n        public boolean advance();\n        public boolean isValid();\n    }\n}\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nstatic const int MAXN = 104;\nstatic const int MAXS = 103;\ntemplate <typename T>\ninline bool upd_max(T &var, const T val) {\n  if (var < val) {\n    var = val;\n    return true;\n  } else\n    return false;\n}\nint n;\nint s[MAXN];\nint c[MAXN][MAXS];\nint odd_used[MAXN];\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; ++i) {\n    scanf(\"%d\", &s[i]);\n    for (int j = 0; j < s[i]; ++j) scanf(\"%d\", &c[i][j]);\n    odd_used[i] = -1;\n  }\n  bool turn = false;\n  int score[2] = {0, 0};\n  while (true) {\n    int best = -1, best_idx = -1;\n    for (int i = 0; i < n; ++i)\n      if (s[i] % 2 == 1 && odd_used[i] == -1) {\n        if (upd_max(best, c[i][s[i] / 2])) best_idx = i;\n      }\n    if (best == -1) break;\n    odd_used[best_idx] = turn;\n    score[turn] += best;\n    turn ^= 1;\n  }\n  for (int i = 0; i < n; ++i) {\n    for (int j = 0; j < s[i] / 2; ++j) score[0] += c[i][j];\n    for (int j = (s[i] + 1) / 2; j < s[i]; ++j) score[1] += c[i][j];\n  }\n  printf(\"%d %d\\n\", score[0], score[1]);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nbool cmp(int a, int b) { return a > b; }\nint main() {\n  int n, a = 0, b = 0, rec[110], num_rec = 0;\n  scanf(\"%d\", &n);\n  for (int i = 1, num, buf[110]; i <= n; i++) {\n    scanf(\"%d\", &num);\n    for (int j = 1; j <= num; j++) scanf(\"%d\", &buf[j]);\n    for (int j = 1; j <= (num >> 1); j++) a += buf[j];\n    if (num & 1) {\n      for (int j = (num >> 1) + 2; j <= num; j++) b += buf[j];\n      rec[++num_rec] = buf[(num >> 1) + 1];\n    } else\n      for (int j = (num >> 1) + 1; j <= num; j++) b += buf[j];\n  }\n  std::sort(rec + 1, rec + num_rec + 1, cmp);\n  for (int i = 1; i <= num_rec; i++)\n    if (i & 1)\n      a += rec[i];\n    else\n      b += rec[i];\n  printf(\"%d %d\\n\", a, b);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.StringTokenizer;\nimport java.util.TreeSet;\n\npublic class C {\n\n    final boolean ONLINE_JUDGE = System.getProperty(\"ONLINE_JUDGE\") != null;\n    BufferedReader in;\n    PrintWriter out;\n    StringTokenizer tok = new StringTokenizer(\"\");\n\n    void solve() throws IOException {\n\t\tint n = readInt();\n\t\tint[][] z = new int[n][];\n\n\t\tint first = 0;\n\t\tint second = 0;\n\n\t\tArrayList<Integer> mid = new ArrayList<Integer>();\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tz[i] = new int[readInt()];\n\t\t\tint c = z[i].length;\n\t\t\tfor(int j = 0; j < c; j++) {\n\t\t\t\tz[i][j] = readInt();\n\t\t\t}\n\t\t\tfor(int j = 0; j < c / 2; j++) {\n\t\t\t\tfirst += z[i][j];\n\t\t\t}\n\t\t\tfor(int j = 0; j < c/2; j++) {\n\t\t\t\tsecond += z[i][c-1-j];\n\t\t\t}\n\t\t\tif(c % 2 != 0) {\n\t\t\t\tmid.add(z[i][c/2]);\n\t\t\t}\n\t\t}\n\n\t\tCollections.sort(mid);\n\t\tfor(int i = mid.size()-1; i >= 0; i--) {\n\t\t\tif((mid.size() - i) % 2 != 0) {\n\t\t\t\tfirst += mid.get(i);\n\t\t\t} else\n\t\t\t\tsecond += mid.get(i);\n\t\t}\n\t\tout.println(first + \" \" + second);\n\n    }\n\n    void init() throws FileNotFoundException {\n        if (ONLINE_JUDGE) {\n            in = new BufferedReader(new InputStreamReader(System.in));\n            out = new PrintWriter(System.out);\n        } else {\n            in = new BufferedReader(new FileReader(\"input.txt\"));\n            out = new PrintWriter(\"output.txt\");\n        }\n    }\n\n    String readString() throws IOException {\n        while (!tok.hasMoreTokens()) {\n            tok = new StringTokenizer(in.readLine());\n        }\n        return tok.nextToken();\n    }\n\n    int readInt() throws IOException {\n        return Integer.parseInt(readString());\n    }\n\n    long readLong() throws IOException {\n        return Long.parseLong(readString());\n    }\n\n    double readDouble() throws IOException {\n        return Double.parseDouble(readString());\n    }\n\n    int[] readArr(int n) throws IOException {\n        int[] res = new int[n];\n        for (int i = 0; i < n; i++) {\n            res[i] = readInt();\n        }\n        return res;\n    }\n\n    long[] readArrL(int n) throws IOException {\n        long[] res = new long[n];\n        for (int i = 0; i < n; i++) {\n            res[i] = readLong();\n        }\n        return res;\n    }\n\n    public static void main(String[] args) {\n        new C().run();\n    }\n\n    public void run() {\n        try {\n            long t1 = System.currentTimeMillis();\n            init();\n            solve();\n            out.close();\n            long t2 = System.currentTimeMillis();\n            System.err.println(\"Time = \" + (t2 - t1));\n        } catch (Exception e) {\n            e.printStackTrace(System.err);\n            System.exit(-1);\n        }\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nint l, s[1024];\nint sf, ss;\nvector<int> r;\nint main() {\n  scanf(\"%d\", &n);\n  sf = ss = 0;\n  r.clear();\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &l);\n    for (int j = 0; j < l; ++j) {\n      scanf(\"%d\", &s[j]);\n    }\n    int b = 0, e = l - 1;\n    while (b < e) {\n      sf += s[b++];\n      ss += s[e--];\n    }\n    if (b == e) {\n      r.push_back(s[b]);\n    }\n  }\n  sort(r.begin(), r.end());\n  int j = 0;\n  for (int i = (int)r.size() - 1; i >= 0; --i) {\n    if (j & 1)\n      ss += r[i];\n    else\n      sf += r[i];\n    ++j;\n  }\n  printf(\"%d %d\\n\", sf, ss);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "/**\n * Created by ckboss on 14-10-7.\n */\nimport java.util.*;\n\npublic class FoxandCardGame {\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        int n=in.nextInt();\n        int[][] pile = new int[n+10][111];\n        int[] qiang = new int[n+10];\n        int qn=0;\n        int SumA=0,SUM=0;\n        for(int i=1;i<=n;i++){\n            pile[i][0]=in.nextInt();\n            for(int j=1;j<=pile[i][0];j++){\n                pile[i][j]=in.nextInt();\n                SUM+=pile[i][j];\n                if(j<=pile[i][0]/2) SumA+=pile[i][j];\n            }\n            if(pile[i][0]%2==1){\n                qiang[qn++]=pile[i][pile[i][0]-pile[i][0]/2];\n            }\n        }\n        Arrays.sort(qiang,0,qn);\n        for(int i=qn-1,j=0;i>=0;i--,j++){\n            if(j%2==0)\n                SumA+=qiang[i];\n        }\n        System.out.println(SumA+\" \"+(SUM-SumA));\n    }\n}\n\n\n                                   "
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\nimport javax.imageio.stream.MemoryCacheImageInputStream;\nimport javax.security.auth.kerberos.KerberosKey;\nimport javax.swing.plaf.basic.BasicScrollPaneUI.HSBChangeListener;\nimport javax.xml.bind.SchemaOutputResolver;\n\nimport org.omg.IOP.TAG_CODE_SETS;\n\nimport java.awt.font.GraphicAttribute;\nimport java.io.*;\nimport java.nio.channels.AcceptPendingException;\nimport java.time.Period;\n \npublic class Main {\n\t\n    public static void main(String[] args) throws Exception {\n     int n=sc.nextInt();\n     long a=0;\n     long b=0;\n     PriorityQueue<Integer>q=new PriorityQueue<Integer>(Collections.reverseOrder());\n     for(int i=0;i<n;i++) {\n    \t int num=sc.nextInt();\n    \t for(int j=0;j<num;j++) {\n    \t\t if(j==num/2&&num%2==1) {\n    \t\t\t q.add(sc.nextInt());\n    \t\t\t continue;\n    \t\t }\n    \t\t if(j<num/2) {\n    \t\t\t a+=sc.nextInt();\n    \t\t }else {\n    \t\t\t b+=sc.nextInt();\n    \t\t }\n    \t }\n     }\n     boolean who =true;\n     while(!q.isEmpty()) {\n    \t if(who) {\n    \t\t a+=q.poll();\n    \t }else {\n    \t\t b+=q.poll();\n    \t }\n    \t who=!who;\n     }\n    pw.println(a+\" \"+b);\n    \t\n    \t\n    \t\n    \t\n    \t\n    \t\n    \t\n    \t\n    \t\n    \t\n       pw.close();\n    }\n \n\tstatic class Scanner {\n\t\tStringTokenizer st;\n\t\tBufferedReader br;\n \n\t\tpublic Scanner(InputStream s) {\n\t\t\tbr = new BufferedReader(new InputStreamReader(s));\n\t\t}\n \n\t\tpublic Scanner(FileReader r) {\n\t\t\tbr = new BufferedReader(r);\n\t\t}\n \n\t\tpublic String next() throws IOException {\n\t\t\twhile (st == null || !st.hasMoreTokens())\n\t\t\t\tst = new StringTokenizer(br.readLine());\n\t\t\treturn st.nextToken();\n\t\t}\n \n\t\tpublic int nextInt() throws IOException {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n \n\t\tpublic long nextLong() throws IOException {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n \n\t\tpublic String nextLine() throws IOException {\n\t\t\treturn br.readLine();\n\t\t}\n \n\t\tpublic double nextDouble() throws IOException {\n\t\t\tString x = next();\n\t\t\tStringBuilder sb = new StringBuilder(\"0\");\n\t\t\tdouble res = 0, f = 1;\n\t\t\tboolean dec = false, neg = false;\n\t\t\tint start = 0;\n\t\t\tif (x.charAt(0) == '-') {\n\t\t\t\tneg = true;\n\t\t\t\tstart++;\n\t\t\t}\n\t\t\tfor (int i = start; i < x.length(); i++)\n\t\t\t\tif (x.charAt(i) == '.') {\n\t\t\t\t\tres = Long.parseLong(sb.toString());\n\t\t\t\t\tsb = new StringBuilder(\"0\");\n\t\t\t\t\tdec = true;\n\t\t\t\t} else {\n\t\t\t\t\tsb.append(x.charAt(i));\n\t\t\t\t\tif (dec)\n\t\t\t\t\t\tf *= 10;\n\t\t\t\t}\n\t\t\tres += Long.parseLong(sb.toString()) / f;\n\t\t\treturn res * (neg ? -1 : 1);\n\t\t}\n\t\tpublic long[] nextLongArray(int n) throws IOException {\n            long[] a = new long[n];\n            for (int i = 0; i < n; i++)\n                a[i] = nextLong();\n            return a;\n        }\n\t\tpublic int[] nextIntArray(int n) throws IOException {\n            int[] a = new int[n];\n            for (int i = 0; i < n; i++)\n                a[i] = nextInt();\n            return a;\n        }\n\t\tpublic Integer[] nextIntegerArray(int n) throws IOException {\n            Integer[] a = new Integer[n];\n            for (int i = 0; i < n; i++)\n                a[i] = nextInt();\n            return a;\n        }\n\t\tpublic boolean ready() throws IOException {\n\t\t\treturn br.ready();\n\t\t}\n \n\t}\n \n\tstatic class pair implements Comparable<pair> {\n\t\tint x;\n\t\tint y;\n \n\t\tpublic pair(int x, int y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t}\n \n\t\tpublic String toString() {\n\t\t\treturn x + \" \" + y;\n\t\t}\n\t\tpublic boolean equals(Object o) {\n            if (o instanceof pair) {\n                pair p = (pair)o;\n                return p.x == x && p.y == y;\n            }\n            return false;\n        }\n        public int hashCode() {\n            return new Double(x).hashCode() * 31 + new Double(y).hashCode();\n        }\n        public int compareTo(pair other) {\n        \tif(this.x==other.x) {\n        \t\treturn Long.compare(this.y, other.y);\n        \t}\n\t\t\treturn Long.compare(this.x, other.x);\n\t\t}\n\t}\n \n\tstatic class tuble implements Comparable<tuble> {\n\t\tint x;\n\t\tint y;\n\t\tint z;\n \n\t\tpublic tuble(int x, int y, int z) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t}\n \n\t\tpublic String toString() {\n\t\t\treturn x + \" \" + y + \" \" + z;\n\t\t}\n \n\t\tpublic int compareTo(tuble other) {\n\t\t\tif (this.x == other.x) {\n\t\t\t\tif(this.y==other.y) {\n\t\t\t\t\treturn this.z - other.z;\n\t\t\t\t}\n\t\t\t\treturn this.y - other.y;\n\t\t\t} else {\n\t\t\t\treturn this.x - other.x;\n\t\t\t}\n\t\t}\n\t}\n \n\tpublic static long GCD(long a, long b) {\n\t\tif (b == 0)\n\t\t\treturn a;\n\t\tif (a == 0)\n\t\t\treturn b;\n\t\treturn (a > b) ? GCD(a % b, b) : GCD(a, b % a);\n\t}\n \n\tpublic static long LCM(long a, long b) {\n\t\treturn a * b / GCD(a, b);\n\t}\n \n\tstatic long Pow(long a, long e, long mod) // O(log e)\n\t{\n\t\ta %= mod;\n\t\tlong res = 1l;\n\t\twhile (e > 0) {\n\t\t\tif ((e & 1) == 1)\n\t\t\t\tres = (res * a) % mod;\n\t\t\ta = (a * a) % mod;\n\t\t\te >>= 1l;\n\t\t}\n\t\treturn res;\n\t}\n \n\tstatic long nc(int n, int r) {\n\t\tif (n < r)\n\t\t\treturn 0;\n\t\tlong v = fac[n];\n\t\tv *= Pow(fac[r], mod - 2, mod);\n\t\tv %= mod;\n\t\tv *= Pow(fac[n - r], mod - 2, mod);\n\t\tv %= mod;\n\t\treturn v;\n\t}\n \n\tpublic static boolean isprime(long a) {\n\t\tif (a == 0 || a == 1) {\n\t\t\treturn false;\n\t\t}\n\t\tif (a == 2) {\n\t\t\treturn true;\n\t\t}\n\t\tfor (int i = 2; i < Math.sqrt(a) + 1; i++) {\n\t\t\tif (a % i == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n \n\tpublic static boolean isPal(String s) {\n\t\tboolean t = true;\n\t\tfor (int i = 0; i < s.length(); i++) {\n\t\t\tif (s.charAt(i) != s.charAt(s.length() - 1 - i)) {\n\t\t\t\tt = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn t;\n\t}\n \n\tpublic static long RandomPick(long[] a) {\n\t\tint n = a.length;\n\t\tint r = rn.nextInt(n);\n\t\treturn a[r];\n\t}\n \n\tpublic static int RandomPick(int[] a) {\n\t\tint n = a.length;\n\t\tint r = rn.nextInt(n);\n\t\treturn a[r];\n\t}\n \n\tpublic static void PH(String s, boolean reverse) {\n\t\tprelen = s.length();\n\t\tHashsArray[HashsArrayInd] = new int[prelen + 1];\n\t\tprepow = new int[prelen];\n\t\tif (HashsArrayInd == 0) {\n\t\t\tint[] mods = { 1173017693, 1173038827, 1173069731, 1173086977, 1173089783, 1173092147, 1173107093,\n\t\t\t\t\t1173114391, 1173132347, 1173144367, 1173150103, 1173152611, 1173163993, 1173174127, 1173204679,\n\t\t\t\t\t1173237343, 1173252107, 1173253331, 1173255653, 1173260183, 1173262943, 1173265439, 1173279091,\n\t\t\t\t\t1173285331, 1173286771, 1173288593, 1173298123, 1173302129, 1173308827, 1173310451, 1173312383,\n\t\t\t\t\t1173313571, 1173324371, 1173361529, 1173385729, 1173387217, 1173387361, 1173420799, 1173421499,\n\t\t\t\t\t1173423077, 1173428083, 1173442159, 1173445549, 1173451681, 1173453299, 1173454729, 1173458401,\n\t\t\t\t\t1173459491, 1173464177, 1173468943, 1173470041, 1173477947, 1173500677, 1173507869, 1173522919,\n\t\t\t\t\t1173537359, 1173605003, 1173610253, 1173632671, 1173653623, 1173665447, 1173675577, 1173675787,\n\t\t\t\t\t1173684683, 1173691109, 1173696907, 1173705257, 1173705523, 1173725389, 1173727601, 1173741953,\n\t\t\t\t\t1173747577, 1173751499, 1173759449, 1173760943, 1173761429, 1173762509, 1173769939, 1173771233,\n\t\t\t\t\t1173778937, 1173784637, 1173793289, 1173799607, 1173802823, 1173808003, 1173810919, 1173818311,\n\t\t\t\t\t1173819293, 1173828167, 1173846677, 1173848941, 1173853249, 1173858341, 1173891613, 1173894053,\n\t\t\t\t\t1173908039, 1173909203, 1173961541, 1173968989, 1173999193};\n\t\t\tmod = RandomPick(mods);\n\t\t\tint[] primes = { 59, 61, 67, 71, 73, 79, 83, 89, 97, 101 };\n\t\t\tprime = RandomPick(primes);\n\t\t}\n\t\tprepow[0] = 1;\n\t\tif (!reverse) {\n \n\t\t\tfor (int i = 1; i < prelen; i++) {\n\t\t\t\tprepow[i] = (int) ((1l * prepow[i - 1] * prime) % mod);\n \n\t\t\t}\n\t\t\tfor (int i = 0; i < prelen; i++) {\n\t\t\t\tif (s.charAt(i) >= 'a' && s.charAt(i) <= 'z')\n\t\t\t\t\tHashsArray[HashsArrayInd][i + 1] = (int) ((1l * HashsArray[HashsArrayInd][i]\n\t\t\t\t\t\t\t+ ((1l * s.charAt(i) - 'a' + 1) * prepow[i]) % mod) % mod);\n\t\t\t\telse\n\t\t\t\t\tHashsArray[HashsArrayInd][i + 1] = (int) ((1l * HashsArray[HashsArrayInd][i]\n\t\t\t\t\t\t\t+ ((1l * s.charAt(i) - 'A' + 27) * prepow[i]) % mod) % mod);\n\t\t\t}\n \n\t\t} else {\n\t\t\tfor (int i = 1; i < prelen; i++) {\n\t\t\t\tprepow[i] = (int) ((1l * prepow[i - 1] * prime) % mod);\n \n\t\t\t}\n\t\t\tfor (int i = 0; i < prelen; i++) {\n\t\t\t\tif (s.charAt(i) >= 'a' && s.charAt(i) <= 'z')\n\t\t\t\t\tHashsArray[HashsArrayInd][i + 1] = (int) ((1l * HashsArray[HashsArrayInd][i]\n\t\t\t\t\t\t\t+ ((1l * s.charAt(i) - 'a' + 1) * prepow[prelen - 1 - i]) % mod) % mod);\n\t\t\t\telse\n\t\t\t\t\tHashsArray[HashsArrayInd][i + 1] = (int) ((1l * HashsArray[HashsArrayInd][i]\n\t\t\t\t\t\t\t+ ((1l * s.charAt(i) - 'A' + 27) * prepow[prelen - 1 - i]) % mod) % mod);\n\t\t\t}\n \n\t\t}\n \n\t\tHashsArrayInd++;\n \n\t}\n \n\tpublic static int PHV(int l, int r, int n, boolean reverse) {\n\t\tif (l > r) {\n\t\t\treturn 0;\n\t\t}\n\t\tint val = (int) ((1l * HashsArray[n - 1][r] + mod - HashsArray[n - 1][l - 1]) % mod);\n\t\tif (!reverse) {\n \n\t\t\tval = (int) ((1l * val * prepow[prelen - l]) % mod);\n\t\t} else {\n\t\t\tval = (int) ((1l * val * prepow[r - 1]) % mod);\n\t\t}\n\t\treturn val;\n\t}\n\n    public static void genprime(int n) {\n    \t boolean prime[] = new boolean[n+1]; \n         for(int i=0;i<n;i++) \n             prime[i] = true; \n           \n         for(int p = 2; p*p <=n; p++) \n         { \n             if(prime[p] == true) \n             { \n                 for(int i = p*p; i <= n; i += p) \n                     prime[i] = false; \n             } \n         } \n         for(int i = 2; i <= n; i++) \n         { \n             if(prime[i] == true) {\n                primes.put(i,primes.size());\n                primes2.put(primes2.size(),i);\n             }\n             \n         }\n    }\n   \n   \n    public static long LSB(long x) {\n\t\treturn x&-x;\n\t}\n\tstatic class fenwick {\n\t\tlong[] arr;\n\t\tpublic fenwick(int[] a) {\n\t\t\tarr=new long[a.length+1];\n\t\t\tfor(int i=1;i<=a.length;i++) {\n\t\t\t\tarr[i]+=a[i-1];\n\t\t\t\tif(i+LSB(i)<=a.length) {\n\t\t\t\t\tarr[(int) (i+LSB(i))]+=arr[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}public fenwick(long[] a) {\n\t\t\tarr=new long[a.length+1];\n\t\t\tfor(int i=1;i<=a.length;i++) {\n\t\t\t\tarr[i]+=a[i];\n\t\t\t\tif(i+LSB(i)<=a.length) {\n\t\t\t\t\tarr[(int) (i+LSB(i))]+=arr[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tpublic void update(int ind,long x) {\n\t\t\tint i=ind;\n\t\t\twhile(i<arr.length) {\n\t\t\t\tarr[i]+=x;\n\t\t\t\ti+=LSB(i);\n\t\t\t}\n\t\t}\n\t\tpublic long PrefixSum(int ind) {\n\t\t\tlong sum=0;\n\t\t\tint i=ind;\n\t\t\twhile(i>0) {\n\t\t\t\tsum+=arr[i];\n\t\t\t\ti=(int) (i-LSB(i));\n\t\t\t}\n\t\t\treturn sum;\n\t\t}\n\t\tpublic long RangeQuerey(int l,int r) {\n\t\t\treturn  this.PrefixSum(r+1)-this.PrefixSum(l);\n\t\t}\n\t\tpublic long value(int ind) {\n\t\t\treturn arr[ind];\n\t\t}\n\t}\n\tstatic void sieveLinear(int N)\n\t{\n\t\tArrayList<Integer> primes = new ArrayList<Integer>();\n\t\tlp = new int[N + 1];\t\t\t\t\t\t\t\t//lp[i] = least prime divisor of i\n\t\tfor(int i = 2; i <= N; ++i)\n\t\t{\n\t\t\tif(lp[i] == 0)\n\t\t\t{\n\t\t\t\tprimes.add(i);\n\t\t\t\tlp[i] = i;\n\t\t\t}\n\t\t\tint curLP = lp[i];\n\t\t\tfor(int p: primes)//all primes smaller than or equal my lowest prime divisor\n\t\t\t\tif(p > curLP || p * 1l * i > N)\n\t\t\t\t\tbreak;\n\t\t\t\telse\n\t\t\t\t\tlp[p * i] = p;\n\t\t}\n\t}\n\tstatic TreeMap<Integer,Integer>primes=new TreeMap<Integer, Integer>();\n\tstatic TreeMap<Integer,Integer>primes2=new TreeMap<Integer, Integer>();\n\tstatic int[]lp;\n\n\tstatic int[][] HashsArray;\n\tstatic int HashsArrayInd = 0;\n\tstatic int[] prepow;\n\tstatic int prelen = 0;\n\tstatic int prime = 61;\n\tstatic long fac[];\n\tstatic int mod = 1000000007;\n\tstatic Random rn = new Random();\n\tstatic Scanner sc = new Scanner(System.in);\n\tstatic PrintWriter pw = new PrintWriter(System.out);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint A, B, n, m, s, a, q[111];\nint main() {\n  cin >> n;\n  while (n--) {\n    cin >> s;\n    for (int i = 1; i <= s; ++i) {\n      cin >> a;\n      if (2 * i <= s)\n        A += a;\n      else if (2 * i == s + 1)\n        q[m++] = a;\n      else\n        B += a;\n    }\n  }\n  sort(q, q + m, greater<int>());\n  for (int i = 0; i < m; ++i) {\n    if (i & 1)\n      B += q[i];\n    else\n      A += q[i];\n  }\n  cout << A << \" \" << B << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "// package ALLD;\n\nimport java.io.*;\nimport java.util.*;\n\npublic class CF389E {\n    static FastReader s;\n    static PrintWriter out;\n    static String INPUT = \"2\\n\" +\n            \"1 100\\n\" +\n            \"2 1 10\\n\";\n\n    public static void main(String[] args) {\n        long time = System.currentTimeMillis();\n        boolean oj = System.getProperty(\"ONLINE_JUDGE\") != null;\n        out = new PrintWriter(System.out);\n        s = new FastReader(oj);\n        int n = s.nextInt();\n        int first = 0;\n        int second = 0;\n        ArrayList<Integer> toBeAdded = new ArrayList<>();\n        for (int i = 0; i < n; i++) {\n            int size = s.nextInt();\n            if(size % 2 == 0) {\n                for (int j = 0; j < size / 2; j++) {\n                    first += s.nextInt();\n                }\n\n                for (int j = 0; j < size / 2; j++) {\n                    second += s.nextInt();\n                }\n            } else {\n                for (int j = 0; j < size / 2; j++) {\n                    first += s.nextInt();\n                }\n                toBeAdded.add(s.nextInt());\n\n                for (int j = 0; j < size / 2; j++) {\n                    second += s.nextInt();\n                }\n            }\n        }\n\n        Collections.sort(toBeAdded);\n        boolean bool = false;\n        for (int i = toBeAdded.size() - 1; i >= 0; i--) {\n            if(!bool) {\n                first += toBeAdded.get(i);\n            } else {\n                second += toBeAdded.get(i);\n            }\n            bool = !bool;\n        }\n        out.println(first + \" \" + second);\n\n        if (!oj) {\n            System.out.println(Arrays.deepToString(new Object[]{System.currentTimeMillis() - time + \" ms\"}));\n        }\n        out.flush();\n    }\n\n    private static class Matrix {\n\n        static long[][] I;\n        static long mod = 1000000007;\n\n        public static long[][] exp(long[][] M, long n) {\n            if (n <= 0) {\n                I = new long[M.length][M.length];\n                for (int i = 0; i < M.length; i++) {\n                    I[i][i] = 1L;\n                }\n                return I;\n            }\n            if (n == 1) return M;\n            long[][] res = exp(M, n / 2);\n            res = mult(res, res);\n            if (n % 2 == 0) return res;\n            return mult(res, M);\n        }\n\n        public static long[][] mult(long[][] p, long[][] q) {\n            long[][] r = new long[p.length][q[0].length];\n            for (int i = 0; i < p.length; i++)\n                for (int j = 0; j < q[0].length; j++)\n                    for (int k = 0; k < q.length; k++) {\n                        r[i][j] += p[i][k] * q[k][j];\n                        r[i][j] %= mod;\n                    }\n            return r;\n        }\n    }\n\n    private static class Maths {\n        static ArrayList<Long> printDivisors(long n) {\n            // Note that this loop runs till square root\n            ArrayList<Long> list = new ArrayList<>();\n            for (long i = 1; i <= Math.sqrt(n); i++) {\n                if (n % i == 0) {\n                    if (n / i == i) {\n                        list.add(i);\n                    } else {\n                        list.add(i);\n                        list.add(n / i);\n                    }\n                }\n            }\n            return list;\n        }\n\n\n        //    GCD - Using Euclid theorem.\n        private static long gcd(long a, long b) {\n            if (b == 0) {\n                return a;\n            }\n\n            return gcd(b, a % b);\n        }\n\n        //    Extended euclidean algorithm\n//    Used to solve equations of the form ax + by = gcd(a,b)\n//    return array [d, a, b] such that d = gcd(p, q), ap + bq = d\n        static long[] extendedEuclidean(long p, long q) {\n            if (q == 0)\n                return new long[]{p, 1, 0};\n\n            long[] vals = extendedEuclidean(q, p % q);\n            long d = vals[0];\n            long a = vals[2];\n            long b = vals[1] - (p / q) * vals[2];\n            return new long[]{d, a, b};\n        }\n\n        // X ^ y mod p\n        static long power(long x, long y, long p) {\n            long res = 1;\n            x = x % p;\n\n            while (y > 0) {\n                if ((y & 1) == 1)\n                    res = (res * x) % p;\n                y = y >> 1;\n                x = (x * x) % p;\n            }\n            return res;\n        }\n\n        // Returns modulo inverse of a\n        // with respect to m using extended\n        // Euclid Algorithm. Refer below post for details:\n        // https://www.geeksforgeeks.org/multiplicative-inverse-under-modulo-m/\n        static long inv(long a, long m) {\n            long m0 = m, t, q;\n            long x0 = 0, x1 = 1;\n\n            if (m == 1)\n                return 0;\n\n            // Apply extended Euclid Algorithm\n            while (a > 1) {\n                q = a / m;\n                t = m;\n                m = a % m;\n                a = t;\n                t = x0;\n                x0 = x1 - q * x0;\n                x1 = t;\n            }\n\n            // Make x1 positive\n            if (x1 < 0)\n                x1 += m0;\n\n            return x1;\n        }\n\n        // k is size of num[] and rem[].\n        // Returns the smallest number\n        // x such that:\n        // x % num[0] = rem[0],\n        // x % num[1] = rem[1],\n        // ..................\n        // x % num[k-2] = rem[k-1]\n        // Assumption: Numbers in num[] are pairwise\n        // coprime (gcd for every pair is 1)\n        static long findMinX(long num[], long rem[], long k) {\n            int prod = 1;\n            for (int i = 0; i < k; i++)\n                prod *= num[i];\n\n            int result = 0;\n            for (int i = 0; i < k; i++) {\n                long pp = prod / num[i];\n                result += rem[i] * inv(pp, num[i]) * pp;\n            }\n\n            return result % prod;\n        }\n    }\n\n    private static class BS {\n        //  Binary search\n        private static int binarySearch(int[] arr, int ele) {\n            int low = 0;\n            int high = arr.length - 1;\n            while (low <= high) {\n                int mid = (low + high) / 2;\n                if (arr[mid] == ele) {\n                    return mid;\n                } else if (ele < arr[mid]) {\n                    high = mid - 1;\n                } else {\n                    low = mid + 1;\n                }\n            }\n            return -1;\n        }\n\n        //    First occurence using binary search\n        private static int binarySearchFirstOccurence(int[] arr, int ele) {\n            int low = 0;\n            int high = arr.length - 1;\n            int ans = -1;\n            while (low <= high) {\n                int mid = (low + high) / 2;\n                if (arr[mid] == ele) {\n                    ans = mid;\n                    high = mid - 1;\n                } else if (ele < arr[mid]) {\n                    high = mid - 1;\n                } else {\n                    low = mid + 1;\n                }\n            }\n            return ans;\n        }\n\n\n        //    Last occurenece using binary search\n        private static int binarySearchLastOccurence(int[] arr, int ele) {\n            int low = 0;\n            int high = arr.length - 1;\n            int ans = -1;\n            while (low <= high) {\n                int mid = (low + high) / 2;\n                if (arr[mid] == ele) {\n                    ans = mid;\n                    low = mid + 1;\n                } else if (ele < arr[mid]) {\n                    high = mid - 1;\n                } else {\n                    low = mid + 1;\n                }\n            }\n            return ans;\n        }\n    }\n\n    private static class arrays {\n        // Merge sort\n        static void merge(int arr[], int l, int m, int r) {\n            int n1 = m - l + 1;\n            int n2 = r - m;\n            int L[] = new int[n1];\n            int R[] = new int[n2];\n            for (int i = 0; i < n1; ++i)\n                L[i] = arr[l + i];\n            for (int j = 0; j < n2; ++j)\n                R[j] = arr[m + 1 + j];\n            int i = 0, j = 0;\n            int k = l;\n            while (i < n1 && j < n2) {\n                if (L[i] <= R[j]) {\n                    arr[k] = L[i];\n                    i++;\n                } else {\n                    arr[k] = R[j];\n                    j++;\n                }\n                k++;\n            }\n\n            while (i < n1) {\n                arr[k] = L[i];\n                i++;\n                k++;\n            }\n\n            while (j < n2) {\n                arr[k] = R[j];\n                j++;\n                k++;\n            }\n        }\n\n        static void sort(int arr[], int l, int r) {\n            if (l < r) {\n                int m = (l + r) / 2;\n                sort(arr, l, m);\n                sort(arr, m + 1, r);\n                merge(arr, l, m, r);\n            }\n        }\n\n        static void sort(int[] arr) {\n            sort(arr, 0, arr.length - 1);\n        }\n    }\n\n    private static class UnionFindDisjointSet {\n        int[] parent;\n        int[] size;\n        int n;\n        int size1;\n\n        public UnionFindDisjointSet(int n) {\n            this.n = n;\n            this.parent = new int[n];\n            this.size = new int[n];\n            for (int i = 0; i < n; i++) {\n                parent[i] = i;\n            }\n\n            for (int i = 0; i < n; i++) {\n                size[i] = 1;\n            }\n\n            this.size1 = n;\n        }\n\n        private int numDisjointSets() {\n            System.out.println(size1);\n            return size1;\n        }\n\n        private boolean find(int a, int b) {\n            int rootA = root(a);\n            int rootB = root(b);\n            if (rootA == rootB) {\n                return true;\n            }\n            return false;\n        }\n\n        private int root(int b) {\n            if (parent[b] != b) {\n                return parent[b] = root(parent[b]);\n            }\n            return b;\n        }\n\n        private void union(int a, int b) {\n            int rootA = root(a);\n            int rootB = root(b);\n            if (rootA == rootB) {\n                return;\n            }\n\n            if (size[rootA] < size[rootB]) {\n                parent[rootA] = parent[rootB];\n                size[rootB] += size[rootA];\n            } else {\n                parent[rootB] = parent[rootA];\n                size[rootA] += size[rootB];\n            }\n            size1--;\n            System.out.println(Arrays.toString(parent));\n        }\n    }\n\n    private static class SegTree {\n        int[] st;\n        int[] arr;\n\n        public SegTree(int[] arr) {\n            this.arr = arr;\n            int size = (int) Math.ceil(Math.log(arr.length) / Math.log(2));\n            st = new int[(int) ((2 * Math.pow(2, size)) - 1)];\n            buildSegmentTree(1, 0, arr.length - 1);\n        }\n\n        //**********JUST CALL THE CONSTRUCTOR, THIS FUNCTION WILL BE CALLED AUTOMATICALLY******\n        private void buildSegmentTree(int index, int L, int R) {\n            if (L == R) {\n                st[index] = arr[L];\n                return;\n            }\n\n            buildSegmentTree(index * 2, L, (L + R) / 2);\n            buildSegmentTree(index * 2 + 1, (L + R) / 2 + 1, R);\n//          Replace this line if you want to change the function of the Segment tree.\n            st[index] = Math.min(st[index * 2], st[index * 2 + 1]);\n        }\n\n        //***********We have to use this function **************\n        private int Query(int queL, int queR) {\n            return Query1(1, 0, arr.length - 1, queL, queR);\n        }\n\n        //This is a helper function.\n        //************* DO NOT USE THIS ****************\n        private int Query1(int index, int segL, int segR, int queL, int queR) {\n            if (queL > segR || queR < segL) {\n                return -1;\n            }\n\n            if (queL <= segL && queR >= segR) {\n                return st[index];\n            }\n\n            int ans1 = Query1(index * 2, segL, (segL + segR) / 2, queL, queR);\n            int ans2 = Query1(index * 2 + 1, (segL + segR) / 2 + 1, segR, queL, queR);\n            if (ans1 == -1) {\n                return ans2;\n            }\n\n            if (ans2 == -1) {\n                return ans1;\n            }\n//             Segment tree implemented for range minimum query. Change the below line to change the function.\n            return Math.min(ans1, ans2);\n        }\n\n        private void update(int idx, int val) {\n            update1(1, 0, arr.length - 1, idx, val);\n        }\n\n        private void update1(int node, int queL, int queR, int idx, int val) {\n            // idx - index to be updated in the array\n            // node - index to be updated in the seg tree\n            if (queL == queR) {\n                // Leaf node\n                arr[idx] += val;\n                st[node] += val;\n            } else {\n                int mid = (queL + queR) / 2;\n                if (queL <= idx && idx <= mid) {\n                    // If idx is in the left child, recurse on the left child\n                    update1(2 * node, queL, mid, idx, val);\n                } else {\n                    // if idx is in the right child, recurse on the right child\n                    update1(2 * node + 1, mid + 1, queR, idx, val);\n                }\n                // Internal node will have the min of both of its children\n                st[node] = Math.min(st[2 * node], st[2 * node + 1]);\n            }\n        }\n    }\n\n    private static class FastReader {\n        InputStream is;\n\n        public FastReader(boolean onlineJudge) {\n            is = onlineJudge ? System.in : new ByteArrayInputStream(INPUT.getBytes());\n        }\n\n        byte[] inbuf = new byte[1024];\n        public int lenbuf = 0, ptrbuf = 0;\n\n        int readByte() {\n            if (lenbuf == -1)\n                throw new InputMismatchException();\n            if (ptrbuf >= lenbuf) {\n                ptrbuf = 0;\n                try {\n                    lenbuf = is.read(inbuf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (lenbuf <= 0)\n                    return -1;\n            }\n            return inbuf[ptrbuf++];\n        }\n\n        boolean isSpaceChar(int c) {\n            return !(c >= 33 && c <= 126);\n        }\n\n        int skip() {\n            int b;\n            while ((b = readByte()) != -1 && isSpaceChar(b))\n                ;\n            return b;\n        }\n\n        double nextDouble() {\n            return Double.parseDouble(next());\n        }\n\n        char nextChar() {\n            return (char) skip();\n        }\n\n        String next() {\n            int b = skip();\n            StringBuilder sb = new StringBuilder();\n            while (!(isSpaceChar(b))) { // when nextLine, (isSpaceChar(b) && b != ' ')\n                sb.appendCodePoint(b);\n                b = readByte();\n            }\n            return sb.toString();\n        }\n\n        String nextLine() {\n            int b = skip();\n            StringBuilder sb = new StringBuilder();\n            while ((!isSpaceChar(b) || b == ' ')) { // when nextLine, (isSpaceChar(b) && b != ' ')\n                sb.appendCodePoint(b);\n                b = readByte();\n            }\n            return sb.toString();\n        }\n\n        char[] next(int n) {\n            char[] buf = new char[n];\n            int b = skip(), p = 0;\n            while (p < n && !(isSpaceChar(b))) {\n                buf[p++] = (char) b;\n                b = readByte();\n            }\n            return n == p ? buf : Arrays.copyOf(buf, p);\n        }\n\n        int nextInt() {\n            int num = 0, b;\n            boolean minus = false;\n            while ((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'))\n                ;\n            if (b == '-') {\n                minus = true;\n                b = readByte();\n            }\n\n            while (true) {\n                if (b >= '0' && b <= '9') {\n                    num = num * 10 + (b - '0');\n                } else {\n                    return minus ? -num : num;\n                }\n                b = readByte();\n            }\n        }\n\n        long nextLong() {\n            long num = 0;\n            int b;\n            boolean minus = false;\n            while ((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'))\n                ;\n            if (b == '-') {\n                minus = true;\n                b = readByte();\n            }\n\n            while (true) {\n                if (b >= '0' && b <= '9') {\n                    num = num * 10 + (b - '0');\n                } else {\n                    return minus ? -num : num;\n                }\n                b = readByte();\n            }\n        }\n\n        char[][] nextMatrix(int n, int m) {\n            char[][] map = new char[n][];\n            for (int i = 0; i < n; i++)\n                map[i] = next(m);\n            return map;\n        }\n\n        int[] nextIntArray(int n) {\n            int[] a = new int[n];\n            for (int i = 0; i < n; i++)\n                a[i] = nextInt();\n            return a;\n        }\n\n        long[] nextLongArray(int n) {\n            long[] a = new long[n];\n            for (int i = 0; i < n; i++)\n                a[i] = nextLong();\n            return a;\n        }\n\n        int[][] next2DInt(int n, int m) {\n            int[][] arr = new int[n][];\n            for (int i = 0; i < n; i++) {\n                arr[i] = nextIntArray(m);\n            }\n            return arr;\n        }\n\n        long[][] next2DLong(int n, int m) {\n            long[][] arr = new long[n][];\n            for (int i = 0; i < n; i++) {\n                arr[i] = nextLongArray(m);\n            }\n            return arr;\n        }\n\n        int[] shuffle(int[] arr) {\n            Random r = new Random();\n            for (int i = 1, j; i < arr.length; i++) {\n                j = r.nextInt(i);\n                arr[i] = arr[i] ^ arr[j];\n                arr[j] = arr[i] ^ arr[j];\n                arr[i] = arr[i] ^ arr[j];\n            }\n            return arr;\n        }\n\n        int[] uniq(int[] arr) {\n            Arrays.sort(arr);\n            int[] rv = new int[arr.length];\n            int pos = 0;\n            rv[pos++] = arr[0];\n            for (int i = 1; i < arr.length; i++) {\n                if (arr[i] != arr[i - 1]) {\n                    rv[pos++] = arr[i];\n                }\n            }\n            return Arrays.copyOf(rv, pos);\n        }\n    }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, m, A, B;\npriority_queue<int> Q;\nsigned main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &m);\n    for (int j = 1, x; j <= m; j++) {\n      scanf(\"%d\", &x);\n      if (m & 1 && j == (m + 1) >> 1)\n        Q.push(x);\n      else {\n        if (j <= m >> 1)\n          A += x;\n        else\n          B += x;\n      }\n    }\n  }\n  int p = 1;\n  while (!Q.empty()) p ? A += Q.top() : B += Q.top(), Q.pop(), p ^= 1;\n  printf(\"%d %d\", A, B);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool comp(int a, int b) { return a > b; }\nint main() {\n  long long n, s, x;\n  vector<long long> middle;\n  long long uppe = 0;\n  long long lowe = 0;\n  cin >> n;\n  for (long long i = 0; i < n; i++) {\n    cin >> s;\n    long long m = s / 2;\n    for (long long j = 0; j < s; j++) {\n      cin >> x;\n      if (j < m) uppe += x;\n      if (s % 2 && j == m) middle.push_back(x);\n      if (!(s % 2) && j == m) lowe += x;\n      if (j > m) lowe += x;\n    }\n  }\n  sort(middle.begin(), middle.end(), comp);\n  for (long long i = 0; i < middle.size(); i++) {\n    if (!(i % 2)) {\n      uppe += middle[i];\n    } else {\n      lowe += middle[i];\n    }\n  }\n  cout << uppe << \" \" << lowe << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  cin >> n;\n  vector<int> arr;\n  long long a = 0, b = 0;\n  while (n--) {\n    int s;\n    cin >> s;\n    for (int i = 0; i < s / 2; i++) {\n      int x;\n      cin >> x;\n      a += x;\n    }\n    if (s % 2) {\n      int x;\n      cin >> x;\n      arr.push_back(x);\n    }\n    for (int i = 0; i < s / 2; i++) {\n      int x;\n      cin >> x;\n      b += x;\n    }\n  }\n  sort((arr).begin(), (arr).end());\n  for (int i = 0; i < arr.size(); i++) {\n    if (i % 2)\n      b += arr[arr.size() - i - 1];\n    else\n      a += arr[arr.size() - i - 1];\n  }\n  cout << a << \" \" << b << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma comment(linker, \"/STACK:65777216\")\nusing namespace std;\nconst long double EPS = 1e-11;\nconst int INF = 2000000000;\nconst long long lINF = 9223372036854775800;\nconst long double PI = 3.14159265358979323846;\nconst int MAXN = 4000;\nconst int BASE = 524288 * 2;\nconst long long MOD = 1000000007;\nint main() {\n  int n, m, a[101][101], s[101], f[101], i, j, ans1 = 0, ans2 = 0;\n  cin >> n;\n  for (i = 0; i < n; i++) {\n    cin >> m;\n    for (j = 0; j < m; j++) {\n      cin >> a[i][j];\n    }\n    s[i] = 0;\n    f[i] = m - 1;\n  }\n  while (true) {\n    int mx = 0, mxi;\n    for (i = 0; i < n; i++) {\n      if (s[i] > f[i]) continue;\n      m = (s[i] + f[i]) / 2;\n      if ((f[i] - s[i]) % 2 == 1) m++;\n      if (mx < a[i][m]) {\n        mx = a[i][m];\n        mxi = i;\n      }\n    }\n    if (mx == 0) break;\n    for (i = 0; i < n; i++) {\n      if (s[i] > f[i]) continue;\n      m = (s[i] + f[i]) / 2;\n      if ((f[i] - s[i]) % 2 == 1) m++;\n      if (a[i][m] == mx) {\n        ans1 += a[i][s[i]];\n        s[i]++;\n        break;\n      }\n    }\n    mx = 0;\n    for (i = 0; i < n; i++) {\n      if (s[i] > f[i]) continue;\n      m = (s[i] + f[i]) / 2;\n      if (mx < a[i][m]) {\n        mx = a[i][m];\n        mxi = i;\n      }\n    }\n    if (mx == 0) break;\n    for (i = 0; i < n; i++) {\n      if (s[i] > f[i]) continue;\n      m = (s[i] + f[i]) / 2;\n      if (a[i][m] == mx) {\n        ans2 += a[i][f[i]];\n        f[i]--;\n        break;\n      }\n    }\n  }\n  cout << ans1 << ' ' << ans2;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.math.BigInteger;\nimport java.util.*;\n\n\npublic class C {\n\n    void solve() throws IOException {\n        int n=nextInt();\n        int[][] a=new int[n][];\n        for(int i=0;i<n;i++){\n            int k=nextInt();\n            a[i]=new int[k];\n            for(int j=0;j<k;j++)\n                a[i][j]=nextInt();\n        }\n        ArrayList<Integer> b=new ArrayList<Integer>();\n        int s1=0,s2=0;\n        for(int i=0;i<n;i++){\n            int k=a[i].length;\n            int k2=k/2;\n            int k3=k2;\n            if(k%2==1)k3++;\n            for(int j=0;j<k2;j++)s1+=a[i][j];\n            for(int j=k3;j<k;j++)s2+=a[i][j];\n            if(k3!=k2)b.add(-a[i][k2]);\n        }\n        Collections.sort(b);\n        for(int i=0;i<b.size();i+=2){\n            s1-=b.get(i);\n            if(i+1!=b.size())\n                s2-=b.get(i+1);\n        }\n        out.println(s1+\" \"+s2);\n\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        new C().run();\n    }\n\n    void run() throws IOException {\n        reader = new BufferedReader(new InputStreamReader(System.in));\n//      reader = new BufferedReader(new FileReader(\"input.txt\"));\n        tokenizer = null;\n        out = new PrintWriter(new OutputStreamWriter(System.out));\n//      out = new PrintWriter(new FileWriter(\"output.txt\"));\n        solve();\n        reader.close();\n        out.flush();\n\n    }\n\n    BufferedReader reader;\n    StringTokenizer tokenizer;\n    PrintWriter out;\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(nextToken());\n    }\n\n    long nextLong() throws IOException {\n        return Long.parseLong(nextToken());\n    }\n\n    double nextDouble() throws IOException {\n        return Double.parseDouble(nextToken());\n    }\n\n    String nextToken() throws IOException {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1000010;\nint gcd(int a, int b) { return b ? gcd(b, a % b) : a; }\nint lcm(int a, int b) { return a * b / gcd(a, b); }\nstruct data {\n  int num;\n  int init;\n};\nbool byNum(const data &left, const data &right) { return left.num > right.num; }\nbool descend(const int &left, const int &right) { return left > right; }\ndata total[105];\npair<int, int> pile[105];\nint sisa[105], card[105];\nint main(void) {\n  int temp, n, i, j;\n  scanf(\"%d\", &n);\n  for (i = 0; i <= n - 1; i++) {\n    scanf(\"%d\", &card[i]);\n    sisa[i] = 0;\n    for (j = 0; j <= card[i] / 2 - 1; j++) {\n      scanf(\"%d\", &temp);\n      pile[i].first += temp;\n    }\n    if (card[i] % 2) {\n      scanf(\"%d\", &temp);\n      sisa[i] = temp;\n    }\n    for (j = 0; j <= card[i] / 2 - 1; j++) {\n      scanf(\"%d\", &temp);\n      pile[i].second += temp;\n    }\n    total[i].num = pile[i].first + sisa[i] + pile[i].second;\n    total[i].init = i;\n  }\n  sort(total, total + n, byNum);\n  sort(sisa, sisa + n, descend);\n  long long a = 0, b = 0;\n  for (i = 0; i <= n - 1; i++) {\n    a += pile[total[i].init].first;\n    b += pile[total[i].init].second;\n  }\n  for (i = 0; i <= n - 1; i++) {\n    if (i % 2)\n      b += sisa[i];\n    else\n      a += sisa[i];\n    if (!sisa[i]) break;\n  }\n  cout << a << \" \" << b << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nint sc1, sc2;\nint sz;\nint s;\nint a[200];\nint b[200];\nint main() {\n  sz = 0;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &s);\n    for (int j = 0; j < s; j++) scanf(\"%d\", &a[j]);\n    if (s % 2 == 1) {\n      b[sz] = a[s / 2];\n      sz++;\n    }\n    for (int j = 0; j < s / 2; j++) sc1 += a[j];\n    for (int j = (s + 1) / 2; j < s; j++) sc2 += a[j];\n  }\n  sort(b, b + sz);\n  if (sz % 2 == 1) {\n    for (int i = 0; i < sz; i++) {\n      if (i % 2 == 0)\n        sc1 += b[i];\n      else\n        sc2 += b[i];\n    }\n  } else {\n    for (int i = 0; i < sz; i++) {\n      if (i % 2 == 1)\n        sc1 += b[i];\n      else\n        sc2 += b[i];\n    }\n  }\n  printf(\"%d %d\\n\", sc1, sc2);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\npublic class FoxAndCardGame\n{\n\tpublic static void main(String[] args)\n\t{\n\t\tScanner in = new Scanner(System.in);\n\t\t\n\t\tint n = in.nextInt();\n\t\t\n\t\tint ciel = 0;\n\t\tint jiro = 0;\n\t\t\n\t\tArrayList<Integer> middle = new ArrayList<Integer>();\n\t\tfor(int x = 0; x < n; x++)\n\t\t{\n\t\t\tint s = in.nextInt();\n\t\t\t\n\t\t\tfor(int y = 0; y < s; y++)\n\t\t\t{\n\t\t\t\tint card = in.nextInt();\n\t\t\t\tif(s % 2 == 1 && y == s / 2)\n\t\t\t\t{\n\t\t\t\t\tmiddle.add(card);\n\t\t\t\t}\n\t\t\t\telse if(y < s / 2)\n\t\t\t\t{\n\t\t\t\t\tciel += card;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tjiro += card;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tCollections.sort(middle);\n\t\t\n\t\tfor(int z = 0; z < middle.size(); z++)\n\t\t{\n\t\t\tif((middle.size() - z) % 2 == 1)\n\t\t\t{\n\t\t\t\tciel += middle.get(z);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tjiro += middle.get(z);\n\t\t\t}\n\t\t}\n\t\t\n\t\tSystem.out.println(ciel + \" \" + jiro);\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n  ;\n  int n;\n  cin >> n;\n  int s1 = 0, s2 = 0;\n  vector<int> v;\n  for (int i = 0; i < n; i++) {\n    int x;\n    cin >> x;\n    for (int j = 0; j < x; j++) {\n      int a;\n      cin >> a;\n      if (j == x / 2 && x & 1) {\n        v.push_back(a);\n        continue;\n      }\n      if (j < x / 2) {\n        s1 += a;\n      } else {\n        s2 += a;\n      }\n    }\n  }\n  sort(v.begin(), v.end(), greater<int>());\n  for (int i = 0; i < v.size(); i++) {\n    if (i & 1) {\n      s2 += v[i];\n    } else {\n      s1 += v[i];\n    }\n  }\n  cout << s1 << \" \" << s2;\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "n = int(input())\na,b = 0,0\nl = []\nfor _ in range(n):\n    inpt = list(map(int,input().split()))[1:]\n    li = len(inpt)\n    if li%2:\n        l.append(inpt[li//2])\n    a += sum((inpt[:li//2]))\n    b += sum((inpt[(li + 1)//2:]))\nl.sort(reverse=True)\na += sum(l[::2])\nb += sum(l[1::2])\nprint(a, b)"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 111;\ninline bool cmp(int x, int y) { return x > y; }\ninline int read() {\n  char ch = getchar();\n  int x = 0;\n  while (!isdigit(ch)) ch = getchar();\n  for (; isdigit(ch); ch = getchar()) x = x * 10 + ch - '0';\n  return x;\n}\nint n, a[maxn], ans0, ans1, tot, x;\nint main() {\n  n = read();\n  ans0 = ans1 = tot = 0;\n  for (int i = 1; i <= n; ++i) {\n    for (int i = (x = read()) >> 1; i; --i) ans0 += read();\n    if (x & 1) a[++tot] = read();\n    for (int i = x >> 1; i; --i) ans1 += read();\n  }\n  sort(a + 1, a + tot + 1, cmp);\n  for (int i = 1; i <= n; i += 2) ans0 += a[i];\n  for (int i = 2; i <= n; i += 2) ans1 += a[i];\n  printf(\"%d %d\\n\", ans0, ans1);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nint v[150][150];\nint s[150];\nint ans1 = 0, ans2 = 0;\nint pi = 0;\nint p[150];\nbool cmp(const int &a, const int &b) { return a > b; }\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; ++i) {\n    scanf(\"%d\", &s[i]);\n    for (int j = 1; j <= s[i]; ++j) {\n      scanf(\"%d\", &v[i][j]);\n    }\n    if (s[i] & 1) {\n      int t = s[i] / 2;\n      for (int j = 1; j <= t; ++j) {\n        ans1 += v[i][j];\n      }\n      for (int j = t + 2; j <= s[i]; ++j) {\n        ans2 += v[i][j];\n      }\n      p[++pi] = v[i][t + 1];\n    } else {\n      int t = s[i] / 2;\n      for (int j = 1; j <= t; ++j) {\n        ans1 += v[i][j];\n      }\n      for (int j = t + 1; j <= s[i]; ++j) {\n        ans2 += v[i][j];\n      }\n    }\n  }\n  sort(p + 1, p + pi + 1, cmp);\n  for (int i = 1; i <= pi; ++i) {\n    if (i & 1)\n      ans1 += p[i];\n    else\n      ans2 += p[i];\n  }\n  printf(\"%d %d\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint n, Ciel(0), Jiro(0), rem[105];\nint main() {\n  scanf(\"%d\", &n);\n  for (int s, i = 0; i < n; i++) {\n    scanf(\"%d\", &s);\n    for (int c, j = 0; j < s; j++) {\n      scanf(\"%d\", &c);\n      if (s % 2 && j == s / 2)\n        rem[++rem[0]] = c;\n      else if (j < s / 2)\n        Ciel += c;\n      else\n        Jiro += c;\n    }\n  }\n  if (rem[0]) {\n    std::sort(rem + 1, rem + rem[0] + 1);\n    for (int i = rem[0]; i; i--)\n      if ((rem[0] - i) % 2)\n        Jiro += rem[i];\n      else\n        Ciel += rem[i];\n  }\n  printf(\"%d %d\\n\", Ciel, Jiro);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<long long> v[105];\nint main() {\n  long long n;\n  cin >> n;\n  for (long long i = (long long)1; i <= (long long)n; i++) {\n    long long s;\n    cin >> s;\n    for (long long j = (long long)1; j <= (long long)s; j++) {\n      long long c;\n      cin >> c;\n      v[i].push_back(c);\n    }\n  }\n  long long a = 0, b = 0;\n  vector<long long> grab;\n  for (long long i = (long long)1; i <= (long long)n; i++) {\n    if (v[i].size() % 2) {\n      for (long long j = (long long)0; j <= (long long)(v[i].size() / 2) - 1;\n           j++)\n        a += v[i][j];\n      for (long long j = (long long)(v[i].size() / 2) + 1;\n           j <= (long long)v[i].size() - 1; j++)\n        b += v[i][j];\n      grab.push_back(v[i][v[i].size() / 2]);\n    } else {\n      for (long long j = (long long)0; j <= (long long)(v[i].size() / 2) - 1;\n           j++)\n        a += v[i][j];\n      for (long long j = (long long)(v[i].size() / 2);\n           j <= (long long)v[i].size() - 1; j++)\n        b += v[i][j];\n    }\n  }\n  sort(grab.rbegin(), grab.rend());\n  for (long long i = (long long)0; i <= (long long)grab.size() - 1; i++) {\n    if (i & 1)\n      b += grab[i];\n    else\n      a += grab[i];\n  }\n  cout << a << ' ' << b;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool cmp(int a, int b) { return a > b; }\nint n, ans1, ans2, i, j, mid, num, a, cnt, cut[1001];\nint main() {\n  scanf(\"%d\", &n);\n  for (i = 1; i <= n; ++i) {\n    scanf(\"%d\", &num);\n    mid = num >> 1;\n    for (j = 1; j <= mid; ++j) {\n      scanf(\"%d\", &a);\n      ans1 += a;\n    }\n    if (num & 1) {\n      scanf(\"%d\", &a);\n      cut[++cnt] = a;\n      j++;\n    }\n    for (; j <= num; ++j) {\n      scanf(\"%d\", &a);\n      ans2 += a;\n    }\n  }\n  sort(cut + 1, cut + 1 + cnt, cmp);\n  for (i = 1; i <= cnt; ++i)\n    if (i & 1)\n      ans1 += cut[i];\n    else\n      ans2 += cut[i];\n  printf(\"%d %d\\n\", ans1, ans2);\n}\n"
        },
        {
            "language": 4,
            "solution": "//package que_a;\n\nimport java.io.*;\nimport java.util.*;\nimport java.math.*;\n\npublic class utkarsh {\n\n    InputStream is;\n    PrintWriter out;\n    \n    long mod = (long) (1e9 + 7), inf = (long) (3e18);\n    \n    void solve() {\n        int n = ni();\n        long x = 0, y = 0;\n        ArrayList <Integer> a = new ArrayList<>();\n        while(n-- > 0) {\n            int l = 0, r = ni()-1;\n            int d[] = na(r+1);\n            while(l < r) {\n                x += d[l++];\n                y += d[r--];\n            }\n            if(l == r)  a.add(d[l]);\n        }\n        Collections.sort(a);\n        Collections.reverse(a);\n        for(int i = 0; i < a.size(); i++) {\n            if((i&1) == 0)  x += a.get(i);\n            else    y += a.get(i);\n        }\n        out.println(x +\" \"+ y);\n    }\n    \n    long mp(long b, long e) {\n        long r = 1;\n        while(e > 0) {\n            if((e&1) == 1)  r = (r * b) % mod;\n            b = (b * b) % mod;\n            e >>= 1;\n        }\n        return r;\n    }\n\n    //---------- I/O Template ----------\n    \n    public static void main(String[] args) { new utkarsh().run(); }\n    void run() { \n        is = System.in;\n        out = new PrintWriter(System.out);\n        solve();\n        out.flush();\n    }\n    \n    byte input[] = new byte[1024];\n    int len = 0, ptr = 0;\n    \n    int readByte() { \n        if(ptr >= len) { ptr = 0; \n            try { len = is.read(input); } \n            catch(IOException e) { throw new InputMismatchException(); } \n            if(len <= 0) { return -1; } \n        } return input[ptr++];\n    }\n    boolean isSpaceChar(int c) { return !( c >= 33 && c <= 126 ); }\n    int skip() { \n        int b = readByte(); \n        while(b != -1 && isSpaceChar(b)) { b = readByte(); } \n        return b;\n    }\n    \n    char nc() { return (char)skip(); }\n    String ns() { \n        int b = skip(); \n        StringBuilder sb = new StringBuilder(); \n        while(!isSpaceChar(b)) { sb.appendCodePoint(b); b = readByte(); } \n        return sb.toString();\n    }\n    String nLine() { \n        int b = skip(); \n        StringBuilder sb = new StringBuilder(); \n        while( !(isSpaceChar(b) && b != ' ') ) { sb.appendCodePoint(b); b = readByte(); } \n        return sb.toString();\n    }\n    int ni() { \n        int n = 0, b = readByte(); \n        boolean minus = false; \n        while(b != -1 && !( (b >= '0' && b <= '9') || b == '-')) { b = readByte(); } \n        if(b == '-') { minus = true; b = readByte(); } \n        if(b == -1) { return -1; }  //no input \n        while(b >= '0' && b <= '9') { n = n * 10 + (b - '0'); b = readByte(); } \n        return minus ? -n : n;\n    }\n    long nl() { \n        long n = 0L;    int b = readByte(); \n        boolean minus = false; \n        while(b != -1 && !( (b >= '0' && b <= '9') || b == '-')) { b = readByte(); } \n        if(b == '-') { minus = true; b = readByte(); } \n        while(b >= '0' && b <= '9') { n = n * 10 + (b - '0'); b = readByte(); } \n        return minus ? -n : n;\n    }\n\n    double nd() { return Double.parseDouble(ns()); }\n    float nf() { return Float.parseFloat(ns()); }\n    int[] na(int n) { \n        int a[] = new int[n]; \n        for(int i = 0; i < n; i++) { a[i] = ni(); } \n        return a;\n    }\n    char[] ns(int n) { \n        char c[] = new char[n]; \n        int i, b = skip(); \n        for(i = 0; i < n; i++) { \n            if(isSpaceChar(b)) { break; } \n            c[i] = (char)b; b = readByte(); \n        } return i == n ? c : Arrays.copyOf(c,i);\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  cin >> n;\n  int ans1 = 0, ans2 = 0;\n  vector<int> tbd;\n  for (int i = 0; i < n; i++) {\n    int s;\n    cin >> s;\n    vector<int> g(s);\n    for (int j = 0; j < s; j++) cin >> g[j];\n    if (s % 2 == 0) {\n      for (int j = 0; j < s / 2; j++) {\n        ans1 += g[j];\n      }\n      for (int j = s / 2; j < s; j++) {\n        ans2 += g[j];\n      }\n    } else {\n      for (int j = 0; j < s / 2; j++) {\n        ans1 += g[j];\n      }\n      for (int j = s / 2 + 1; j < s; j++) {\n        ans2 += g[j];\n      }\n      tbd.push_back(g[s / 2]);\n    }\n  }\n  sort(tbd.rbegin(), tbd.rend());\n  for (int i = 0; i < tbd.size(); i++) {\n    if (i % 2 == 0) {\n      ans1 += tbd[i];\n    } else {\n      ans2 += tbd[i];\n    }\n  }\n  cout << ans1 << \" \" << ans2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[107];\nint le[107], ri[107];\nint n;\nint main() {\n  while (scanf(\"%d\", &n) != EOF) {\n    int to, bo;\n    to = bo = 0;\n    int num = 0;\n    int len = 0;\n    for (int i = 0; i < n; i++) {\n      le[i] = 0;\n      scanf(\"%d\", &ri[i]);\n      num = ri[i] / 2;\n      for (int j = 0; j < num; j++) {\n        int x;\n        scanf(\"%d\", &x);\n        to += x;\n      }\n      if (ri[i] % 2) {\n        int x;\n        scanf(\"%d\", &x);\n        a[len++] = x;\n      }\n      for (int j = 0; j < num; j++) {\n        int x;\n        scanf(\"%d\", &x);\n        bo += x;\n      }\n    }\n    int swi = 0;\n    sort(a, a + len);\n    for (int i = len - 1; i >= 0; i--) {\n      if (swi == 0) {\n        swi = 1;\n        to += a[i];\n      } else {\n        swi = 0;\n        bo += a[i];\n      }\n    }\n    printf(\"%d %d\\n\", to, bo);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma comment(linker, \"/STACK:512000000\")\nusing namespace std;\ntemplate <class T>\ninline T sqr(T x) {\n  return x * x;\n}\ntemplate <class T>\ninline string tostr(const T &x) {\n  stringstream ss;\n  ss << x;\n  return ss.str();\n}\nconst long double EPS = 1e-10;\nconst int INF = 1000 * 1000 * 1000;\nconst char CINF = 102;\nconst long long LINF = INF * 1ll * INF;\nconst long double DINF = 1e200;\nconst long double PI = 3.1415926535897932384626433832795l;\nint gcd(int a, int b) { return a ? gcd(b % a, a) : b; }\nlong long gcd(long long a, long long b) { return a ? gcd(b % a, a) : b; }\nlong long powmod(long long a, long long p, long long m) {\n  long long r = 1;\n  while (p) {\n    if (p & 1) r = r * a % m;\n    p >>= 1;\n    a = a * a % m;\n  }\n  return r;\n}\nlong long myabs(long long a) { return a < 0 ? -a : a; }\nstruct vec {\n  long long x, y, z;\n  vec() {}\n  vec(long long x, long long y, long long z) : x(x), y(y), z(z) {}\n  void read() { cin >> x >> y >> z; }\n  long long dot(const vec &b) const { return x * b.x + y * b.y + z * b.z; }\n  vec operator-(const vec &b) const { return vec(x - b.x, y - b.y, z - b.z); }\n  vec operator+(const vec &b) const { return vec(x + b.x, y + b.y, z + b.z); }\n  vec cross(const vec &b) const {\n    return vec(y * b.z - z * b.y, b.x * z - b.z * x, x * b.y - y * b.x);\n  }\n  bool operator!() const { return !x && !y && !z; }\n  bool operator<(const vec &b) const {\n    return make_pair(make_pair(x, y), z) < make_pair(make_pair(b.x, b.y), b.z);\n  }\n  vec operator-() const { return vec(-x, -y, -z); }\n  vec norm() const {\n    vec r = *this;\n    if (r < vec(0, 0, 0)) r = -r;\n    long long g = gcd(gcd(myabs(x), myabs(y)), myabs(z));\n    r.x /= g;\n    r.y /= g;\n    r.z /= g;\n    return r;\n  }\n  bool operator==(const vec &b) const {\n    return x == b.x && y == b.y && z == b.z;\n  }\n};\nstruct frac {\n  long long a, b;\n  void norm() {\n    if (b < 0) {\n      b *= -1;\n      a *= -1;\n    }\n    long long g = gcd(abs(a), b);\n    a /= g;\n    b /= g;\n  }\n  frac() {}\n  frac(long long a, long long b = 1) : a(a), b(b) { norm(); }\n  frac operator+(const frac &f) const {\n    return frac(a * f.b + b * f.a, b * f.b);\n  }\n  frac operator*(const frac &f) const { return frac(a * f.a, b * f.b); }\n  bool operator<(const frac &f) const {\n    return make_pair(a, b) < make_pair(f.a, f.b);\n  }\n  bool operator==(const frac &f) const { return a == f.a && b == f.b; }\n};\nstruct fvec {\n  frac x, y, z;\n  fvec() {}\n  fvec(frac x, frac y, frac z) : x(x), y(y), z(z) {}\n  fvec(const vec &v) : x(v.x), y(v.y), z(v.z) {}\n  fvec operator*(frac &f) const { return fvec(x * f, y * f, z * f); }\n  fvec operator+(const fvec &b) const {\n    return fvec(x + b.x, y + b.y, z + b.z);\n  }\n  bool operator<(const fvec &b) const {\n    return make_pair(make_pair(x, y), z) < make_pair(make_pair(b.x, b.y), b.z);\n  }\n  bool operator==(const fvec &b) const {\n    return x == b.x && y == b.y && z == b.z;\n  }\n};\nstruct plane {\n  vec n;\n  long long d;\n  vec v1, v2;\n  bool init(const vec &a, const vec &b, const vec &c, const vec &dd,\n            fvec &inters) {\n    v1 = (b - a).norm();\n    v2 = (c - dd).norm();\n    n = v1.cross(v2);\n    if (!n) return false;\n    n = n.norm();\n    d = n.dot(a);\n    if (n.dot(c) != d) return false;\n    vec tn = vec(0, 0, 1).cross(v2);\n    frac t((c - a).dot(tn), v1.dot(tn));\n    inters = fvec(a) + fvec(v1) * t;\n    return true;\n  }\n  bool operator<(const plane &b) const {\n    return make_pair(n, d) < make_pair(b.n, b.d);\n  }\n};\nint n;\npair<vec, vec> A[1100];\nint main() {\n  int n;\n  cin >> n;\n  vector<int> v;\n  int s1 = 0, s2 = 0;\n  for (int i = 0; i < (n); ++i) {\n    int k;\n    cin >> k;\n    for (int j = 0; j < (k); ++j) {\n      int a;\n      cin >> a;\n      if (k % 2 && j == k / 2) {\n        v.push_back(a);\n      } else if (j < k / 2)\n        s1 += a;\n      else\n        s2 += a;\n    }\n  }\n  sort((v).begin(), (v).end());\n  reverse((v).begin(), (v).end());\n  for (int i = 0; i < (((int)(v).size())); ++i) {\n    if (i % 2)\n      s2 += v[i];\n    else\n      s1 += v[i];\n  }\n  cout << s1 << ' ' << s2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int oo = 0x3f3f3f3f;\nint main() {\n  int n, totalSum = 0, firstSum = 0;\n  vector<int> middleValues;\n  cin >> n;\n  for (; n > 0; --n) {\n    int size;\n    cin >> size;\n    vector<int> values = vector<int>(size);\n    for (int i = 0; i < size; ++i) {\n      cin >> values[i];\n      totalSum += values[i];\n      if (i < size / 2) firstSum += values[i];\n    }\n    if (size % 2 == 1) middleValues.push_back(values[size / 2]);\n  }\n  sort(middleValues.rbegin(), middleValues.rend());\n  for (int i = 0; i < int(middleValues.size()); i += 2)\n    firstSum += middleValues[i];\n  cout << firstSum << \" \" << totalSum - firstSum << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "if __name__ == '__main__':\n    n = int(raw_input())\n    piles = list()\n    for i in range(n):\n        piles.append([int(x) for x in raw_input().split()][1:])\n    rc, rj, rem = 0, 0, []\n    for pile in piles:\n        rc += sum(pile[:len(pile) // 2])\n        rj += sum(pile[len(pile) - len(pile) // 2:])\n        if len(pile) % 2 == 1:\n            rem.append(pile[len(pile) // 2])\n    rem = list(reversed(sorted(rem)))\n    rc += sum(rem[i] for i in range(0, len(rem), 2))\n    rj += sum(rem[i] for i in range(1, len(rem), 2))\n    print '%d %d' % (rc, rj)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> V;\nint main(void) {\n  int n;\n  scanf(\"%d\", &n);\n  int suma = 0, sumb = 0;\n  for (; n; n--) {\n    int x;\n    scanf(\"%d\", &x);\n    for (int i = 0; i < x; i++) {\n      int z;\n      scanf(\"%d\", &z);\n      if (x % 2 == 1) {\n        if (i == x / 2)\n          V.push_back(z);\n        else if (i < x / 2)\n          suma += z;\n        else\n          sumb += z;\n      } else {\n        if (i < x / 2)\n          suma += z;\n        else\n          sumb += z;\n      }\n    }\n  }\n  sort(V.begin(), V.end());\n  reverse(V.begin(), V.end());\n  for (int i = 0; i < V.size(); i++) {\n    if (i % 2 == 0)\n      suma += V[i];\n    else\n      sumb += V[i];\n  }\n  printf(\"%d %d\\n\", suma, sumb);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.StringTokenizer;\n\npublic class A {\n\t\n\tpublic static void main(String[] args) throws IOException \n\t{\n\t\tScanner sc = new Scanner(System.in);\n\t\tPrintWriter out = new PrintWriter(System.out);\n\n\t\tint n = sc.nextInt();\n\t\tArrayList<Integer> extra = new ArrayList<>();\n\t\tint s1 = 0, s2 = 0;\n\t\twhile(n-->0)\n\t\t{\n\t\t\tint k = sc.nextInt();\n\t\t\tfor(int i = 0; i < k / 2; ++i)\n\t\t\t\ts1 += sc.nextInt();\n\t\t\tif((k & 1) == 1)\n\t\t\t\textra.add(sc.nextInt());\n\t\t\tfor(int i = 0; i < k / 2; ++i)\n\t\t\t\ts2 += sc.nextInt();\n\t\t}\n\t\tCollections.sort(extra);\n\t\tfor(int i = extra.size() - 1; i >= 0; i -= 2)\n\t\t{\n\t\t\ts1 += extra.get(i);\n\t\t\tif(i > 0)\n\t\t\t\ts2 += extra.get(i - 1);\n\t\t}\n\t\tout.println(s1 + \" \" + s2);\n\t\tout.flush();\n\t\tout.close();\n\t}\n\n\tstatic class Scanner \n\t{\n\t\tStringTokenizer st;\t\n\t\tBufferedReader br;\n\n\t\tpublic Scanner(InputStream s){\tbr = new BufferedReader(new InputStreamReader(s));}\n\n\t\tpublic Scanner(FileReader r){\tbr = new BufferedReader(r);}\n\n\t\tpublic String next() throws IOException \n\t\t{\n\t\t\twhile (st == null || !st.hasMoreTokens()) \n\t\t\t\tst = new StringTokenizer(br.readLine());\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() throws IOException {return Integer.parseInt(next());}\n\n\t\tpublic long nextLong() throws IOException {return Long.parseLong(next());}\n\n\t\tpublic String nextLine() throws IOException {return br.readLine();}\n\n\t\tpublic double nextDouble() throws IOException { return Double.parseDouble(next()); }\n\n\t\tpublic boolean ready() throws IOException {return br.ready();}\n\n\n\t}\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  scanf(\"%d \", &n);\n  pair<int, int> res = pair<int, int>(0, 0);\n  vector<int> aux, g;\n  for (int i = 0; i < n; i++) {\n    int s;\n    scanf(\"%d \", &s);\n    g.assign(s, 0);\n    for (int j = 0; j < s; j++) scanf(\"%d \", &g[j]);\n    ;\n    for (int j = 0; j < s / 2; j++) res.first += g[j];\n    reverse(g.begin(), g.end());\n    for (int j = 0; j < s / 2; j++) res.second += g[j];\n    if (s % 2) aux.push_back(g[s / 2]);\n  }\n  sort(aux.begin(), aux.end());\n  reverse(aux.begin(), aux.end());\n  for (int i = 0; i < aux.size(); i++)\n    if (i % 2)\n      res.second += aux[i];\n    else\n      res.first += aux[i];\n  printf(\"%d %d\", res.first, res.second);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nnamespace RA {\nint r(int p) { return 1ll * rand() * rand() % p; }\nint r(int L, int R) { return r(R - L + 1) + L; }\n}  // namespace RA\nint n;\nint a[1000], b[1000], lb;\nint A, B;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = (1); i <= (n); ++i) {\n    int x;\n    scanf(\"%d\", &x);\n    for (int i = (1); i <= (x); ++i) scanf(\"%d\", &a[i]);\n    for (int i = 1, j = x; i < j; i++, j--) A += a[i], B += a[j];\n    if (x & 1) b[++lb] = a[x / 2 + 1];\n  }\n  sort(b + 1, b + lb + 1);\n  reverse(b + 1, b + lb + 1);\n  for (int i = (1); i <= (lb); ++i) i& 1 ? A += b[i] : B += b[i];\n  printf(\"%d %d\\n\", A, B);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\nint n;\nint s[N];\nvector<int> rem;\nint main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  cin >> n;\n  int sum1 = 0, sum2 = 0;\n  for (int i = 0; i < n; i++) {\n    cin >> s[i];\n    for (int j = 0; j < s[i]; j++) {\n      int x;\n      cin >> x;\n      if (j < s[i] / 2) {\n        sum1 += x;\n      } else if (j == s[i] / 2 && s[i] & 1) {\n        rem.push_back(x);\n      } else {\n        sum2 += x;\n      }\n    }\n  }\n  sort(rem.begin(), rem.end(), greater<int>());\n  for (int i = 0; i < (int)rem.size(); i++) {\n    if (i & 1)\n      sum2 += rem[i];\n    else\n      sum1 += rem[i];\n  }\n  cout << sum1 << ' ' << sum2 << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "n=int(input())\n\ns1,s2=0,0\n\ntab = []\n\nfor i in range(n):\n\n    c = list(map(int,input().split()))\n\n    for j in range(1,c[0]+1):\n\n        if(j*2<=c[0]): s1+=c[j]\n\n        else: s2+=c[j]\n\n    if(c[0] & 1):\n\n        s2-=c[(c[0]+1)//2]\n\n        tab.append(c[(c[0]+1)//2])\n\nif(len(tab)):\n\n    tab.sort()\n\n    tab.reverse()\n\n    for i in range(len(tab)):\n\n        if(i & 1): s2+=tab[i]\n\n        else: s1+=tab[i]\n\nprint(s1,s2)\n\n\n\n\n\n# Made By Mostafa_Khaled"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 111;\nint c[N][N];\nint r[N];\nint n;\nint main() {\n  ios::sync_with_stdio(false);\n  cout.precision(10);\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    cin >> r[i];\n    for (int j = 1; j <= r[i]; j++) {\n      cin >> c[i][j];\n    }\n  }\n  priority_queue<int> q;\n  int aans = 0, bans = 0;\n  for (int i = 1; i <= n; i++) {\n    for (int j = 1; j <= r[i]; j++) {\n      if (r[i] & 1 && j == r[i] + 1 >> 1) {\n        q.push(c[i][j]);\n      } else if (j <= r[i] >> 1) {\n        aans += c[i][j];\n      } else {\n        bans += c[i][j];\n      }\n    }\n  }\n  bool turn = true;\n  while (q.size()) {\n    if (turn) {\n      aans += q.top();\n    } else {\n      bans += q.top();\n    }\n    q.pop();\n    turn = !turn;\n  }\n  cout << aans << \" \" << bans << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.StringTokenizer;\nimport java.util.List;\n import java.util.*;\n public class realfast implements Runnable \n  {\n    private static final int INF = (int) 1e9;\n    long in= 1000000007;\n    long fac[]= new long[1000001];\n    long inv[]=new long[1000001];\n    public  void solve() throws IOException \n    {\n\n      int n = readInt();\n      ArrayList<Integer> arr = new ArrayList<Integer>();\n      int sum1=0;\n         int sum2=0;\n      for(int f =0;f<n;f++)\n      {\n         int s = readInt();\n         \n         int g =s/2;\n         for(int i =0;i<s;i++)\n         {\n             int a= readInt();\n              if(i==g&&(s%2)==1)\n              {\n                arr.add(a);\n              }\n              else if(i<g)\n              {\n                sum1=sum1+a;\n              }\n              else\n              {\n                sum2=sum2+a;\n              }\n         }\n         \n\n      }\n      Collections.sort(arr);\n         for(int i=0;i<arr.size();i++)\n         {\n            if(i%2==0)\n            {\n                sum1=sum1+arr.get(arr.size()-i-1);\n            }\n            else\n                sum2=sum2+arr.get(arr.size()-i-1);\n         }\n\n        out.println(sum1+\" \"+sum2);\n\n\n    }\n    \n    public int value (int seg[], int left , int right ,int index, int l, int r)\n    {\n            \n            if(left>right)\n            {\n              return -100000000;\n            }\n            if(right<l||left>r)\n                return -100000000;\n            if(left>=l&&right<=r)\n                return seg[index];\n            int mid = left+(right-left)/2;\n            int val = value(seg,left,mid,2*index+1,l,r);\n            int val2 = value(seg,mid+1,right,2*index+2,l,r);\n            return Math.max(val,val2);\n\n    }\n   \n    public int gcd(int a , int b )\n    {\n      if(a<b)\n      {\n        int t =a;\n        a=b;\n        b=t;\n      }\n      if(a%b==0)\n        return b ;\n      return gcd(b,a%b);\n    }\n    public long pow(long n , long p,long m)\n    {\n         if(p==0)\n            return 1;\n        long val = pow(n,p/2,m);;\n        val= (val*val)%m;\n        if(p%2==0)\n            return val;\n        else\n            return (val*n)%m;\n    }\n    \n    \n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    public static void main(String[] args) {\n        new Thread(null, new realfast(), \"\", 128 * (1L << 20)).start();\n    }\n \n    private static final boolean ONLINE_JUDGE = System.getProperty(\"ONLINE_JUDGE\") != null;\n    private BufferedReader reader;\n    private StringTokenizer tokenizer;\n    private PrintWriter out;\n \n    @Override\n    public void run() {\n        try {\n            if (ONLINE_JUDGE || !new File(\"input.txt\").exists()) {\n                reader = new BufferedReader(new InputStreamReader(System.in));\n                out = new PrintWriter(System.out);\n            } else {\n                reader = new BufferedReader(new FileReader(\"input.txt\"));\n                out = new PrintWriter(\"output.txt\");\n            }\n            solve();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        } finally {\n            try {\n                reader.close();\n            } catch (IOException e) {\n                // nothing\n            }\n            out.close();\n        }\n    }\n \n    private String readString() throws IOException {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n \n    @SuppressWarnings(\"unused\")\n    private int readInt() throws IOException {\n        return Integer.parseInt(readString());\n    }\n \n    @SuppressWarnings(\"unused\")\n    private long readLong() throws IOException {\n        return Long.parseLong(readString());\n    }\n \n    @SuppressWarnings(\"unused\")\n    private double readDouble() throws IOException {\n        return Double.parseDouble(readString());\n    }\n}\nclass edge implements Comparable<edge>{\n    int u ;\n    int v;\n    \n    edge(int u, int v)\n    {\n       this.u=u;\n       this.v=v;\n    }\n    public int compareTo(edge e)\n    {\n        return this.v-e.v;\n    }\n}"
        },
        {
            "language": 3,
            "solution": "chef_sum = 0\nramsay_sum = 0\nodds_mids = []\nfor n in range(int(input())):\n    c, *c_list = map(int, input().split())\n    if c%2 == 1:\n        odds_mids.append(c_list.pop(c//2))\n    for index,element in enumerate(c_list):\n        if index < len(c_list)/2:\n            chef_sum += element\n        else:\n            ramsay_sum += element\nodds_mids.sort(reverse = True)\nfor index, element in enumerate(odds_mids):\n    if index%2 == 0:\n        chef_sum += element\n    else:\n        ramsay_sum += element\nprint(chef_sum, ramsay_sum)"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 1e4 + 5;\nconst int inf = 0x3f3f3f3f;\nint n, m, a[maxn], tt[maxn];\nlong long sua, sub;\nint main() {\n  scanf(\"%d\", &n);\n  int pr = 0;\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &m);\n    for (int j = 1; j <= m; j++) scanf(\"%d\", a + j);\n    if (m & 1) tt[++pr] = a[m / 2 + 1];\n    int l = 1, r = m;\n    while (l < r) {\n      sua += a[l++];\n      sub += a[r--];\n    }\n  }\n  sort(tt + 1, tt + pr + 1);\n  int flag = 1;\n  for (int i = pr; i > 0; i--) {\n    if (flag++ & 1)\n      sua += tt[i];\n    else\n      sub += tt[i];\n  }\n  printf(\"%lld %lld\\n\", sua, sub);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid _fill_int(int* p, int val, int rep) {\n  int i;\n  for (i = 0; i < rep; i++) p[i] = val;\n}\nsigned long long GETi() {\n  signed long long i;\n  scanf(\"%lld\", &i);\n  return i;\n}\nint N;\nint S[101];\nvector<int> V;\nvoid solve() {\n  int f, i, j, k, l, x, y;\n  int sa = 0, sb = 0;\n  cin >> N;\n  for (i = 0; i < N; i++) {\n    cin >> S[i];\n    for (j = 0; j < S[i]; j++) {\n      cin >> x;\n      if (j < S[i] / 2)\n        sa += x;\n      else if (S[i] % 2 && j == S[i] / 2)\n        V.push_back(x);\n      else\n        sb += x;\n    }\n  }\n  sort(V.begin(), V.end());\n  reverse(V.begin(), V.end());\n  for (i = 0; i < V.size(); i++) {\n    if (i % 2)\n      sb += V[i];\n    else\n      sa += V[i];\n  }\n  (void)printf(\"%d %d\\n\", sa, sb);\n}\nint main(int argc, char** argv) {\n  string s;\n  if (argc == 1) ios::sync_with_stdio(false);\n  for (int i = 1; i < argc; i++) s += argv[i], s += '\\n';\n  for (int i = s.size() - 1; i >= 0; i--) ungetc(s[i], stdin);\n  solve();\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long n, a, b, i, sum, sum1, j;\nvector<long long> v;\nint main() {\n  cin >> n;\n  for (i = 1; i <= n; i++) {\n    cin >> a;\n    if (a % 2 == 0) {\n      for (j = 1; j <= a; j++) {\n        cin >> b;\n        if (j <= a / 2) {\n          sum += b;\n        } else {\n          sum1 += b;\n        }\n      }\n    } else {\n      for (j = 1; j <= a; j++) {\n        cin >> b;\n        if (j <= (a - 1) / 2) {\n          sum += b;\n        } else if (j == a / 2 + 1) {\n          v.push_back(b);\n        } else {\n          sum1 += b;\n        }\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (i = 0; i < v.size(); i++) {\n    if (i % 2 == 0) {\n      sum += v[i];\n    } else {\n      sum1 += v[i];\n    }\n  }\n  cout << sum << \" \" << sum1 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint cd[101];\nint main() {\n  int n;\n  int da = 0, db = 0;\n  int zs = 0;\n  cin >> n;\n  for (int xx = 1; xx <= n; xx++) {\n    int x, y;\n    cin >> x;\n    for (int yy = 1; yy <= x / 2; yy++) cin >> y, da += y;\n    if (x & 1) zs++, cin >> cd[zs];\n    for (int yy = 1; yy <= x / 2; yy++) cin >> y, db += y;\n  }\n  sort(cd + 1, cd + zs + 1);\n  for (int xx = zs; xx >= 1; xx -= 2) da += cd[xx];\n  zs--;\n  for (int xx = zs; xx >= 1; xx -= 2) db += cd[xx];\n  cout << da << ' ' << db;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.List;\nimport java.io.IOException;\nimport java.util.InputMismatchException;\nimport java.util.ArrayList;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.Collections;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author George Marcus\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tPrintWriter out = new PrintWriter(outputStream);\n\t\tTaskC solver = new TaskC();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskC {\n    public void solve(int testNumber, InputReader in, PrintWriter out) {\n        int N = in.nextInt();\n        ArrayList<Integer> middle = new ArrayList<Integer>();\n        int ciel = 0;\n        int fox = 0;\n        for(int i = 0; i < N; i++) {\n            int count = in.nextInt();\n            for(int j = 0; j < count; j++) {\n                int crt = in.nextInt();\n                if(2 * j + 1 == count)\n                    middle.add(crt);\n                else if(2 * j + 1 < count)\n                    ciel += crt;\n                else\n                    fox += crt;\n            }\n        }\n\n        Collections.sort(middle);\n        boolean t = true;\n        for(int i = middle.size() - 1; i >= 0; i--) {\n            if(t)\n                ciel += middle.get(i);\n            else\n                fox += middle.get(i);\n            t = !t;\n        }\n\n        out.println(ciel + \" \" + fox);\n    }\n}\n\nclass InputReader {\n    private InputStream stream;\n    private byte[] buf = new byte[1024];\n    private int curChar;\n    private int numChars;\n\n    public InputReader(InputStream stream) {\n        this.stream = stream;\n    }\n\n    public int read() {\n        if (numChars == -1)\n            throw new InputMismatchException();\n        if (curChar >= numChars) {\n            curChar = 0;\n            try {\n                numChars = stream.read(buf);\n            } catch (IOException e) {\n                throw new InputMismatchException();\n            }\n            if (numChars <= 0)\n                return -1;\n        }\n        return buf[curChar++];\n    }\n\n    public int nextInt() {\n        return Integer.parseInt(nextString());\n    }\n\n    public String nextString() {\n        int c = read();\n        while (isSpaceChar(c))\n            c = read();\n        StringBuffer res = new StringBuffer();\n        do {\n            res.appendCodePoint(c);\n            c = read();\n        } while (!isSpaceChar(c));\n\n        return res.toString();\n    }\n\n    private boolean isSpaceChar(int c) {\n        return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n    }\n\n    }\n\n"
        },
        {
            "language": 3,
            "solution": "#!/usr/bin/env python3\n\nodd, even = [], []\nplayer1_turn = True\nplayer1 = player2 = 0\npile_number = int(input())\n\nfor _ in range(pile_number):\n    n, *pile = tuple(map(int, input().split()))\n    if n % 2 == 0:\n        even.append(pile)\n    else:\n        odd.append(pile)\n\nfor pile in even:\n    n = len(pile)\n    player1 += sum(pile[:n//2])\n    player2 += sum(pile[n//2:])\n\nfor pile in sorted(odd, reverse=True, key=lambda x: x[len(x)//2]):\n    n = len(pile)\n    top, middle, bottom = pile[:n//2], pile[n//2], pile[n//2+1:]\n    player1 += sum(top)\n    player2 += sum(bottom)\n    if player1_turn:\n        player1 += middle\n        player1_turn = not player1_turn\n    else:\n        player2 += middle\n        player1_turn = not player1_turn\n\nprint(player1, player2)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma comment(linker, \"/stack:20000000\")\nusing namespace std;\ndouble __begin;\ntemplate <typename T1, typename T2, typename T3>\nstruct triple {\n  T1 a;\n  T2 b;\n  T3 c;\n  triple(){};\n  triple(T1 _a, T2 _b, T3 _c) : a(_a), b(_b), c(_c) {}\n};\ntemplate <typename T1, typename T2, typename T3>\nbool operator<(const triple<T1, T2, T3> &t1, const triple<T1, T2, T3> &t2) {\n  if (t1.a != t2.a)\n    return t1.a < t2.a;\n  else\n    return t1.b < t2.b;\n}\ntemplate <typename T1, typename T2, typename T3>\ninline std::ostream &operator<<(std::ostream &os, const triple<T1, T2, T3> &t) {\n  return os << \"(\" << t.a << \", \" << t.b << \", \" << t.c << \")\";\n}\ninline int bits_count(int v) {\n  v = v - ((v >> 1) & 0x55555555);\n  v = (v & 0x33333333) + ((v >> 2) & 0x33333333);\n  return ((v + (v >> 4) & 0xF0F0F0F) * 0x1010101) >> 24;\n}\nunsigned int reverse_bits(register unsigned int x) {\n  x = (((x & 0xaaaaaaaa) >> 1) | ((x & 0x55555555) << 1));\n  x = (((x & 0xcccccccc) >> 2) | ((x & 0x33333333) << 2));\n  x = (((x & 0xf0f0f0f0) >> 4) | ((x & 0x0f0f0f0f) << 4));\n  x = (((x & 0xff00ff00) >> 8) | ((x & 0x00ff00ff) << 8));\n  return ((x >> 16) | (x << 16));\n}\ninline int sign(int x) { return (x >> 31) | (-x >> 31); }\ninline bool ispow2(int x) { return (x != 0 && (x & (x - 1)) == 0); }\ntemplate <typename T1, typename T2>\ninline std::ostream &operator<<(std::ostream &os, const std::pair<T1, T2> &p) {\n  return os << \"(\" << p.first << \", \" << p.second << \")\";\n}\ntemplate <typename T>\ninline std::ostream &operator<<(std::ostream &os, const std::vector<T> &v) {\n  bool first = true;\n  os << \"[\";\n  for (unsigned int i = 0; i < v.size(); i++) {\n    if (!first) os << \", \";\n    os << v[i];\n    first = false;\n  }\n  return os << \"]\";\n}\ntemplate <typename T>\ninline std::ostream &operator<<(std::ostream &os, const std::set<T> &v) {\n  bool first = true;\n  os << \"[\";\n  for (typename std::set<T>::const_iterator ii = v.begin(); ii != v.end();\n       ++ii) {\n    if (!first) os << \", \";\n    os << *ii;\n    first = false;\n  }\n  return os << \"]\";\n}\ntemplate <typename T1, typename T2>\ninline std::ostream &operator<<(std::ostream &os, const std::map<T1, T2> &v) {\n  bool first = true;\n  os << \"[\";\n  for (typename std::map<T1, T2>::const_iterator ii = v.begin(); ii != v.end();\n       ++ii) {\n    if (!first) os << \", \";\n    os << *ii;\n    first = false;\n  }\n  return os << \"]\";\n}\ntemplate <typename T, typename T2>\nvoid printarray(T a[], T2 sz, T2 beg = 0) {\n  for (T2 i = beg; i < sz; i++) cout << a[i] << \" \";\n  cout << endl;\n}\ninline long long binpow(long long x, long long n) {\n  long long res = 1;\n  while (n) {\n    if (n & 1) res *= x;\n    x *= x;\n    n >>= 1;\n  }\n  return res;\n}\ninline long long powmod(long long x, long long n, long long _mod) {\n  long long res = 1;\n  while (n) {\n    if (n & 1) res = (res * x) % _mod;\n    x = (x * x) % _mod;\n    n >>= 1;\n  }\n  return res;\n}\ninline long long gcd(long long a, long long b) {\n  long long t;\n  while (b) {\n    a = a % b;\n    t = a;\n    a = b;\n    b = t;\n  }\n  return a;\n}\ninline int gcd(int a, int b) {\n  int t;\n  while (b) {\n    a = a % b;\n    t = a;\n    a = b;\n    b = t;\n  }\n  return a;\n}\ninline long long lcm(int a, int b) { return a / gcd(a, b) * (long long)b; }\ninline long long lcm(long long a, long long b) { return a / gcd(a, b) * b; }\ninline long long gcd(long long a, long long b, long long c) {\n  return gcd(gcd(a, b), c);\n}\ninline int gcd(int a, int b, int c) { return gcd(gcd(a, b), c); }\ninline long long lcm(long long a, long long b, long long c) {\n  return lcm(lcm(a, b), c);\n}\ninline long long lcm(int a, int b, int c) {\n  return lcm(lcm(a, b), (long long)c);\n}\ninline long long max(long long a, long long b) { return (a > b) ? a : b; }\ninline int max(int a, int b) { return (a > b) ? a : b; }\ninline double max(double a, double b) { return (a > b) ? a : b; }\ninline long long max(long long a, long long b, long long c) {\n  return max(a, max(b, c));\n}\ninline int max(int a, int b, int c) { return max(a, max(b, c)); }\ninline double max(double a, double b, double c) { return max(a, max(b, c)); }\ninline long long min(long long a, long long b) { return (a < b) ? a : b; }\ninline int min(int a, int b) { return (a < b) ? a : b; }\ninline double min(double a, double b) { return (a < b) ? a : b; }\ninline long long min(long long a, long long b, long long c) {\n  return min(a, min(b, c));\n}\ninline int min(int a, int b, int c) { return min(a, min(b, c)); }\ninline double min(double a, double b, double c) { return min(a, min(b, c)); }\ntemplate <class T>\ninline void getar(T a, int n, int m) {\n  for (int i = 0; i < n; i++)\n    for (int j = 0; j < m; ++j) {\n      scanf(\"%d\", &a[i][j]);\n    }\n}\ninline void getar(int *a, int n) {\n  for (int ii = 0; ii < n; ii++) {\n    scanf(\"%d\", a + ii);\n  }\n}\ninline void getar(pair<int, int> *a, int n) {\n  for (int ii = 0; ii < n; ii++) {\n    scanf(\"%d%d\", &a[ii].first, &a[ii].second);\n  }\n}\ninline void getar(long long *a, int n) {\n  for (int ii = 0; ii < n; ii++) {\n    scanf(\"%I64d\", a + ii);\n  }\n}\nvector<int> v[100];\nvector<int> *a[101];\nbool cmp(const vector<int> *v1, const vector<int> *v2) {\n  int s1 = v1->size();\n  int s2 = v2->size();\n  return (*v1)[s1 / 2] > (*v2)[s2 / 2];\n}\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  int a1 = 0, a2 = 0;\n  int k = 0;\n  for (int i = 0; i < n; ++i) {\n    int s;\n    scanf(\"%d\", &s);\n    v[i].reserve(s);\n    for (int j = 0; j < s; ++j) {\n      int x;\n      scanf(\"%d\", &x);\n      v[i].push_back(x);\n    }\n    if (s & 1) {\n      a[k++] = v + i;\n    } else {\n      for (int j = 0; j < s / 2; ++j) {\n        a1 += v[i][j];\n        a2 += v[i][s - 1 - j];\n      }\n    }\n  }\n  sort(a, a + k, cmp);\n  for (int i = 0; i < k; ++i) {\n    vector<int> &v = *a[i];\n    int s = v.size();\n    for (int i = 0; i < s / 2; ++i) {\n      a1 += v[i];\n      a2 += v[s - i - 1];\n    }\n    if (i & 1) {\n      a2 += v[s / 2];\n    } else {\n      a1 += v[s / 2];\n    }\n  }\n  cout << a1 << \" \" << a2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  long long t, l, r, i, x, n, y, m, j, z, k, v, q, w, mini, g;\n  cin >> n;\n  vector<long long> a;\n  l = 0;\n  r = 0;\n  for (j = 0; j < n; j++) {\n    cin >> m;\n    for (i = 0; i < m / 2; i++) {\n      cin >> x;\n      l = l + x;\n    }\n    if (m % 2 == 1) {\n      cin >> x;\n      a.push_back(x);\n    }\n    for (i = 0; i < m / 2; i++) {\n      cin >> x;\n      r = r + x;\n    }\n  }\n  sort(a.begin(), a.end());\n  n = a.size();\n  for (i = n - 1; i >= 0; i--) {\n    if (i % 2 == (n - 1) % 2) {\n      l = l + a[i];\n    } else {\n      r = r + a[i];\n    }\n  }\n  cout << l << \" \" << r << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint INT_MAX_VAL = (int)0x3F3F3F3F;\nint INT_MIN_VAL = (int)-0x3F3F3F3F;\nlong long LONG_MAX_VAL = (long long)0x3F3F3F3F3F3F3F3F;\nlong long LONG_MIN_VAL = (long long)-0x3F3F3F3F3F3F3F3F;\nint main() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  vector<int> vs;\n  int s1 = 0, s2 = 0;\n  for (long long(i) = 0LL; (i) < (n); (i)++) {\n    int s;\n    cin >> s;\n    for (long long(i) = 0LL; (i) < (s / 2); (i)++) {\n      int a;\n      cin >> a;\n      s1 += a;\n    }\n    if ((s % 2) == 1) {\n      int a;\n      cin >> a;\n      vs.push_back(a);\n    }\n    for (long long(i) = 0LL; (i) < (s / 2); (i)++) {\n      int a;\n      cin >> a;\n      s2 += a;\n    }\n  }\n  sort(vs.rbegin(), vs.rend());\n  for (long long(i) = 0LL; (i) < (vs.size()); (i)++) {\n    if (i % 2 == 0) {\n      s1 += vs[i];\n    } else {\n      s2 += vs[i];\n    }\n  }\n  cout << s1 << \" \" << s2 << '\\n';\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint a[105][105], n;\nint b[105];\nbool vis[105];\nusing namespace std;\nstruct node {\n  int v, i;\n  bool operator<(const node b) const {\n    if (this->v == b.v) return this->i < b.i;\n    return this->v > b.v;\n  };\n};\nset<node> q;\nint main() {\n  scanf(\"%d\", &n);\n  int sum = 0;\n  int sum2 = 0;\n  int ans1 = 0, ans2 = 0;\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &b[i]);\n    for (int j = 1; j <= b[i]; j++) {\n      scanf(\"%d\", &a[i][j]);\n      if (j == b[i] / 2 + 1 && b[i] % 2 == 1) {\n        node tmp;\n        tmp.v = a[i][j];\n        tmp.i = i;\n        q.insert(tmp);\n      }\n      if (j != 1) {\n        a[i][j] += a[i][j - 1];\n      }\n    }\n  }\n  for (int i = 1; i <= n; i++) {\n    if (b[i] % 2 == 0) {\n      ans1 += a[i][b[i] / 2];\n      ans2 += a[i][b[i]] - a[i][b[i] / 2];\n    } else {\n      ans1 += a[i][b[i] / 2];\n      ans2 += a[i][b[i]] - a[i][b[i] / 2 + 1];\n    }\n  }\n  set<node>::const_iterator pos;\n  int i;\n  for (pos = q.begin(), i = 0; pos != q.end(); pos++, i++) {\n    if (i % 2 == 0) {\n      ans1 += pos->v;\n    } else {\n      ans2 += pos->v;\n    }\n  }\n  printf(\"%d %d\", ans1, ans2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long int inf = (long long int)1e18 + 10;\nvector<long long int> v;\nsigned main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n  long long int n, ans1 = 0, ans2 = 0, sz, x;\n  cin >> n;\n  for (long long int i = 1; i <= n; i++) {\n    cin >> sz;\n    for (long long int j = 1; j <= (sz / 2); j++) {\n      cin >> x;\n      ans1 += x;\n    }\n    cin >> x;\n    if (sz % 2 == 1)\n      v.push_back(x);\n    else\n      ans2 += x;\n    for (long long int j = (sz / 2) + 2; j <= sz; j++) cin >> x, ans2 += x;\n  }\n  if (v.size() == 0) {\n    cout << ans1 << \" \" << ans2 << endl;\n    return 0;\n  }\n  sort(v.begin(), v.end());\n  long long int k = 0;\n  for (long long int i = v.size() - 1; i >= 0; i--) {\n    if (k % 2 == 0)\n      ans1 += v[i];\n    else\n      ans2 += v[i];\n    k++;\n  }\n  cout << ans1 << \" \" << ans2 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[200][200];\nint s[200];\nvector<int> v;\nint n;\nint main() {\n  cin >> n;\n  int sum1 = 0, sum2 = 0;\n  for (int i = 0; i < n; i++) {\n    cin >> s[i];\n    for (int j = 0; j < s[i]; j++) {\n      cin >> a[i][j];\n      if (j < s[i] / 2)\n        sum1 += a[i][j];\n      else if (j == s[i] / 2 && s[i] % 2)\n        v.push_back(a[i][j]);\n      else\n        sum2 += a[i][j];\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < v.size(); i++) {\n    if (i % 2 == 0)\n      sum1 += v[i];\n    else\n      sum2 += v[i];\n  }\n  cout << sum1 << \" \" << sum2 << endl;\n}\n"
        },
        {
            "language": 3,
            "solution": "import sys\nfrom functools import reduce\n\nfor n in sys.stdin:\n    n = int(n)\n    cards = [list(map(int, input().split()[1:])) for i in range(n)]\n    mid = []\n    a, b = 0, 0\n    add = lambda x=0, y=0: x + y\n    for c in cards:\n        s = len(c)\n        m = s >> 1\n        if s & 1 == 0:\n            a += reduce(add, c[:m])\n            b += reduce(add, c[m:])\n        else:\n            a += reduce(add, c[:m] or [0])\n            b += reduce(add, c[m + 1:] or [0])\n            mid.append(c[m])\n    mid.sort(reverse=True)\n    j = True\n    for c in mid:\n        if j:\n            a += c\n        else:\n            b += c\n        j = not j\n    print(a, b)\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\npublic class c {\n    static int oo = 987654321;\npublic static void main(String[] args) throws IOException\n{\n    input.init(System.in);\n    PrintWriter out = new PrintWriter(System.out);\n    \n    int n = input.nextInt();\n    \n    data = new int[n][];\n    for(int i = 0; i<n; i++)\n    {\n        data[i] = new int[input.nextInt()];\n        for(int j = 0; j<data[i].length; j++) data[i][j] = input.nextInt();\n    }\n    memo = new int[n][100][100][2];\n    for(int[][][] A: memo) for(int[][] B: A) for(int[] C: B) Arrays.fill(C, oo);\n    for(int i = 0; i<n; i++)\n        for(int j =0; j<2; j++)\n            dp(i, 0, data[i].length-1, j);\n    int[] res = new int[2];\n    int turn = 1;\n    int sum = 0;\n    for(int i = 0; i<n; i++) sum += data[i].length;\n    int[] as = new int[n], bs = new int[n];\n    for(int i = 0; i<n; i++) bs[i] = data[i].length - 1;\n    for(int i= 0; i<sum; i++)\n    {\n        turn = 1 - turn;\n        int idx = -1;\n        int bestScore = -oo;\n        for(int p = 0; p<n; p++)\n        {\n            if(as[p] > bs[p]) continue;\n            int score = dp(p, as[p], bs[p], turn);\n            int other = dp(p, as[p], bs[p], 1 - turn);\n            if(score+other > bestScore)\n            {\n                bestScore = score+other;\n                idx = p;\n            }\n        }\n        if(turn == 0)\n        {\n            res[turn] += data[idx][as[idx]];\n            as[idx]++;\n        }\n        else\n        {\n            res[turn] += data[idx][bs[idx]];\n            bs[idx]--;\n        }\n    }\n    out.println(res[0]+\" \"+res[1]);\n    \n    out.close();\n}\nstatic int[][][][] memo;\nstatic int[][] data;\nstatic int dp(int pile, int a, int b, int turn)\n{\n    if(memo[pile][a][b][turn] != oo) return memo[pile][a][b][turn];\n    if(a == b) return memo[pile][a][b][turn] = data[pile][a];\n    if(turn == 0) return memo[pile][a][b][turn] = data[pile][a] - dp(pile, a+1, b, 1-turn);\n    else return memo[pile][a][b][turn] = data[pile][b] - dp(pile, a, b-1, 1-turn);\n}\npublic static class input {\n    static BufferedReader reader;\n    static StringTokenizer tokenizer;\n\n    /** call this method to initialize reader for InputStream */\n    static void init(InputStream input) {\n        reader = new BufferedReader(\n                     new InputStreamReader(input) );\n        tokenizer = new StringTokenizer(\"\");\n    }\n\n    /** get next word */\n    static String next() throws IOException {\n        while ( ! tokenizer.hasMoreTokens() ) {\n            //TODO add check for eof if necessary\n            tokenizer = new StringTokenizer(\n                   reader.readLine() );\n        }\n        return tokenizer.nextToken();\n    }\n\n    static int nextInt() throws IOException {\n        return Integer.parseInt( next() );\n    }\n    \n    static double nextDouble() throws IOException {\n        return Double.parseDouble( next() );\n    }\n    static long nextLong() throws IOException {\n        return Long.parseLong( next() );\n    }\n}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint diru[] = {-1, -1, -1, 0, 0, 1, 1, 1};\nint dirv[] = {-1, 0, 1, -1, 1, -1, 0, 1};\nusing namespace std;\nclass Debugger {\n public:\n  Debugger(const string& _separator = \" \")\n      : first(true), separator(_separator) {}\n  template <typename ObjectType>\n  Debugger& operator,(const ObjectType& v) {\n    if (!first) cerr << separator;\n    cerr << v;\n    first = false;\n    return *this;\n  }\n  ~Debugger() { cerr << endl; }\n\n private:\n  bool first;\n  string separator;\n};\ntemplate <typename T1, typename T2>\ninline ostream& operator<<(ostream& os, const pair<T1, T2>& p) {\n  return os << \"(\" << p.first << \",\" << p.second << \")\";\n}\ntemplate <typename T>\ninline ostream& operator<<(ostream& os, const vector<T>& v) {\n  bool first = true;\n  os << \"{\";\n  for (unsigned int i = 0; i < v.size(); i++) {\n    if (!first) os << \",\";\n    os << v[i];\n    first = false;\n  }\n  return os << \"}\";\n}\ntemplate <typename T>\ninline ostream& operator<<(ostream& os, const set<T>& v) {\n  bool first = true;\n  os << \"{\";\n  for (typename set<T>::const_iterator ii = v.begin(); ii != v.end(); ++ii) {\n    if (!first) os << \",\";\n    os << *ii;\n    first = false;\n  }\n  return os << \"}\";\n}\ntemplate <typename T1, typename T2>\ninline ostream& operator<<(ostream& os, const map<T1, T2>& v) {\n  bool first = true;\n  os << \"{\";\n  for (typename map<T1, T2>::const_iterator ii = v.begin(); ii != v.end();\n       ++ii) {\n    if (!first) os << \",\";\n    os << *ii;\n    first = false;\n  }\n  return os << \"}\";\n}\ntemplate <class T>\nT sq(T n) {\n  return n * n;\n}\ntemplate <class T>\nT gcd(T a, T b) {\n  return (b != 0 ? gcd<T>(b, a % b) : a);\n}\ntemplate <class T>\nT lcm(T a, T b) {\n  return (a / gcd<T>(a, b) * b);\n}\ntemplate <class T>\nbool inside(T a, T b, T c) {\n  return a <= b && b <= c;\n}\ntemplate <class T>\nvoid setmax(T& a, T b) {\n  if (a < b) a = b;\n}\ntemplate <class T>\nvoid setmin(T& a, T b) {\n  if (b < a) a = b;\n}\ntemplate <class T>\nT power(T N, T P) {\n  return (P == 0) ? 1 : N * power(N, P - 1);\n}\npriority_queue<int> q;\nint main() {\n  int n, T, t = 1, m, i, j, k;\n  scanf(\"%d\", &n);\n  int tot = 0;\n  int ans = 0;\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    for (j = 0; j < m; j++) {\n      scanf(\"%d\", &k);\n      if (j < m / 2) {\n        ans += k;\n      } else if (m % 2 && j == m / 2)\n        q.push(k);\n      tot += k;\n    }\n  }\n  bool f = 1;\n  while (!q.empty()) {\n    if (f) ans += q.top();\n    q.pop();\n    f = !f;\n  }\n  printf(\"%d %d\\n\", ans, tot - ans);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\nint s[N];\nint ma[N][N];\nint main() {\n  int n;\n  vector<int> v;\n  cin >> n;\n  for (int i = 0; i < n; ++i) {\n    cin >> s[i];\n    for (int j = 0; j < s[i]; ++j) {\n      cin >> ma[i][j];\n    }\n  }\n  int r1 = 0, r2 = 0;\n  for (int i = 0; i < n; ++i) {\n    for (int j = 0; j < s[i] / 2; ++j) {\n      r1 += ma[i][j];\n      r2 += ma[i][s[i] - 1 - j];\n    }\n    if (s[i] % 2) v.push_back(ma[i][s[i] / 2]);\n  }\n  sort(v.begin(), v.end(), greater<int>());\n  for (int i = 0; i < v.size(); ++i) {\n    if (i % 2)\n      r2 += v[i];\n    else\n      r1 += v[i];\n  }\n  cout << r1 << \" \" << r2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nvector<int> v;\nint a1, a2;\nvoid init() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int sz, a;\n    scanf(\"%d\", &sz);\n    for (int j = 0; j < sz; j++) {\n      scanf(\"%d\", &a);\n      if (j < sz / 2)\n        a1 += a;\n      else if (j > (sz - 1) / 2)\n        a2 += a;\n      else\n        v.push_back(a);\n    }\n  }\n  sort(v.begin(), v.end(), [&](int x, int y) { return x > y; });\n}\nvoid process() {\n  for (int i = 0; i < (int)v.size(); i++) {\n    if (i % 2 == 0)\n      a1 += v[i];\n    else\n      a2 += v[i];\n  }\n  printf(\"%d %d\\n\", a1, a2);\n}\nint main() {\n  init();\n  process();\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import static java.lang.Math.*;\nimport static java.lang.System.currentTimeMillis;\nimport static java.lang.System.exit;\nimport static java.lang.System.arraycopy;\nimport static java.util.Arrays.sort;\nimport static java.util.Arrays.binarySearch;\nimport static java.util.Arrays.fill;\nimport java.util.*;\nimport java.io.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        new Main().run();       \n    }\n\n    BufferedReader in;\n    PrintWriter out;\n    StringTokenizer st = new StringTokenizer(\"\");\n\n    private void run() throws IOException {\n        if (new File(\"input.txt\").exists())\n            in = new BufferedReader(new FileReader(\"input.txt\"));\n        else\n            in = new BufferedReader(new InputStreamReader(System.in));\n        out = new PrintWriter(System.out);\n        solve();\n        in.close();\n        out.close();\n    }\n    \n    final int M = 20000;\n    \n    private void solve() throws IOException {\n        \n        int n = nextInt();\n        int cnt = 0;\n        int a[] = new int[n];\n        int b[] = new int[M];\n        int l = 0;\n        int r = 0;\n        for (int i = 0; i < n; i++) {\n            int s = nextInt();\n            for (int j = 0; j < s; j++)\n                b[j] = nextInt();\n            for (int j = 0; j < (s / 2); j++) {\n                l += b[j];\n                r += b[s - 1 - j];\n            }\n            if ((s & 1) == 1)\n                a[cnt++] = b[s / 2];\n        }\n        sort(a, 0, cnt);\n        for (int i = 0; i < cnt; i++) {\n            if ((i & 1) == 0)\n                l += a[cnt - 1 - i];\n            else\n                r += a[cnt - 1 - i];\n        }\n        out.println(l + \" \" + r);\n    }\n    \n    void chk(boolean b) {\n        if (b)\n            return;\n        System.out.println(new Error().getStackTrace()[1]);\n        exit(999);\n    }\n    void deb(String fmt, Object... args) {\n        System.out.printf(Locale.US, fmt + \"%n\", args);\n    }\n    String nextToken() throws IOException {\n        while (!st.hasMoreTokens())\n            st = new StringTokenizer(in.readLine());\n        return st.nextToken();\n    }\n    int nextInt() throws IOException {\n        return Integer.parseInt(nextToken());\n    }\n    long nextLong() throws IOException {\n        return Long.parseLong(nextToken());\n    }\n    double nextDouble() throws IOException {\n        return Double.parseDouble(nextToken());\n    }\n    String nextLine() throws IOException {\n        st = new StringTokenizer(\"\");\n        return in.readLine();\n    }\n    boolean EOF() throws IOException {\n        while (!st.hasMoreTokens()) {\n            String s = in.readLine();\n            if (s == null)\n                return true;\n            st = new StringTokenizer(s);\n        }\n        return false;\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid speed() {\n  ios::sync_with_stdio(false);\n  cin.tie(NULL);\n}\nconst int MOd = 1e9 + 7;\nint main() {\n  long long n, m, p1 = 0, p2 = 0;\n  vector<long long> v;\n  cin >> n;\n  while (n--) {\n    long long x;\n    cin >> m;\n    for (int i = 0; i < m / 2; i++) {\n      cin >> x;\n      p1 += x;\n    }\n    if (m % 2) {\n      cin >> x;\n      v.push_back(x);\n    }\n    for (int i = 0; i < m / 2; i++) {\n      cin >> x;\n      p2 += x;\n    }\n  }\n  bool ok = 0;\n  sort(v.begin(), v.end());\n  while (!(v.empty())) {\n    if (!ok)\n      p1 += v.back();\n    else\n      p2 += v.back();\n    v.pop_back();\n    ok = !ok;\n  }\n  cout << p1 << \" \" << p2;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long INF = 1LL << 60;\nconst int inf = 1 << 30;\nconst int maxn = 2e5 + 5;\ninline void fastio() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n}\nint n;\nint main() {\n  fastio();\n  cin >> n;\n  int ans1 = 0, ans2 = 0;\n  vector<int> g;\n  for (int i = (1); i <= (n); i++) {\n    int t, x;\n    cin >> t;\n    if (t & 1) {\n      for (int j = (1); j <= (t / 2); j++) {\n        cin >> x;\n        ans1 += x;\n      }\n      cin >> x;\n      g.push_back(x);\n      for (int j = (t / 2 + 2); j <= (t); j++) {\n        cin >> x;\n        ans2 += x;\n      }\n    } else {\n      for (int j = (1); j <= (t / 2); j++) {\n        cin >> x;\n        ans1 += x;\n      }\n      for (int j = (t / 2 + 1); j <= (t); j++) {\n        cin >> x;\n        ans2 += x;\n      }\n    }\n  }\n  sort(g.begin(), g.end());\n  reverse(g.begin(), g.end());\n  int o = 1;\n  for (int x : g) {\n    if (o)\n      ans1 += x;\n    else\n      ans2 += x;\n    o ^= 1;\n  }\n  cout << ans1 << \" \" << ans2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint arr[101], x[101];\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  int a = 0, b = 0, cnt = 0, sz;\n  for (int i = 1; i <= n; ++i) {\n    scanf(\"%d\", &sz);\n    for (int j = 1; j <= sz; ++j) scanf(\"%d\", x + j);\n    if (sz & 1) arr[++cnt] = x[(sz >> 1) + 1];\n    for (int j = sz >> 1; j >= 1; --j) a += x[j];\n    for (int j = (sz >> 1) + 1 + (sz & 1); j <= sz; ++j) b += x[j];\n  }\n  std::sort(arr + 1, arr + cnt + 1, std::greater<int>());\n  for (int i = 1; i <= cnt; i += 2) a += arr[i];\n  for (int i = 2; i <= cnt; i += 2) b += arr[i];\n  printf(\"%d %d\", a, b);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\nint n, m, c[N], s[N];\nbool cmp(const int& a, const int& b) { return a > b; }\nint main() {\n  int cnt = 0, p = 0, q = 0;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    int tmp = m / 2;\n    for (int j = 0; j < m; j++) {\n      scanf(\"%d\", &c[j]);\n      if (j < tmp)\n        p += c[j];\n      else\n        q += c[j];\n    }\n    if (m & 1) {\n      q -= c[tmp];\n      s[cnt++] = c[tmp];\n    }\n  }\n  sort(s, s + cnt, cmp);\n  for (int i = 0; i < cnt; i++) {\n    if (i & 1)\n      q += s[i];\n    else\n      p += s[i];\n  }\n  printf(\"%d %d\\n\", p, q);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, s[110], a[110][110], id[110], suml[110], sumr[110];\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  ;\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    cin >> s[i];\n    for (int j = 1; j <= s[i]; j++) {\n      cin >> a[i][j];\n      if (j <= (s[i] + 1) / 2) suml[i] += a[i][j];\n      if (j > s[i] / 2) sumr[i] += a[i][j];\n    }\n  }\n  int ans1 = 0, ans2 = 0;\n  vector<int> t;\n  for (int i = 1; i <= n; i++) {\n    if (s[i] % 2 == 0) {\n      ans1 += suml[i];\n      ans2 += sumr[i];\n    } else {\n      ans1 += suml[i] - a[i][s[i] / 2 + 1];\n      ans2 += sumr[i] - a[i][s[i] / 2 + 1];\n      t.push_back(a[i][s[i] / 2 + 1]);\n    }\n  }\n  sort(t.rbegin(), t.rend());\n  if (t.size())\n    for (int i = 0; i <= t.size() - 1; i++)\n      if (i % 2 == 0)\n        ans1 += t[i];\n      else\n        ans2 += t[i];\n  cout << ans1 << \" \" << ans2;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Random;\nimport java.util.StringTokenizer;\n\npublic class Solution{\n\t\n\t\n\t\n    public static void main(String[] args) throws IOException {\n    \t\n\t\t\n    \tFastScanner fs = new FastScanner();\n    \tPrintWriter out = new PrintWriter(System.out);\n    \t\t\n    \tint tt = 1;\n    \twhile(tt-->0) {\n    \t\t\n    \t\t\n    \t\tint n = fs.nextInt();\n    \t\tArrayList<Integer>[] p = new ArrayList[n];\n    \t\tfor(int i=0;i<n;i++) p[i] = new ArrayList<Integer>();\n    \t\t\n    \t\tArrayList<Integer> l = new ArrayList<Integer>();\n    \t\t\n    \t\t\n    \t\tint ans1 = 0, ans2 = 0;\n    \t\t\n    \t\tfor(int i=0;i<n;i++) {\n    \t\t\tint s = fs.nextInt();\n    \t\t\tfor(int j=1;j<=s;j++) {\n    \t\t\t\tint c = fs.nextInt();\n    \t\t\t\tp[i].add(c);\n    \t\t\t\tif(j<=s/2) ans1 += c;\n    \t\t\t\telse if(j > s - s/2) ans2 += c;\n    \t\t\t}\n    \t\t\tif(s%2!=0) {\n    \t\t\t\tl.add(p[i].get(s/2));\n    \t\t\t}\n    \t\t}\n    \t\t\n    \t\t\n    \t\tCollections.sort(l, Collections.reverseOrder());\n    \t\t\n    \t\tfor(int i=0;i<l.size();i++) {\n    \t\t\tif(i%2==0) ans1 += l.get(i);\n    \t\t\telse ans2 += l.get(i);\n    \t\t}\n    \t\t\n    \t\tout.println(ans1 + \" \" + ans2);\n    \t\t\n    \t\t\n    \t\t\n    \t\t\n    \t\n    \t\t\n    \t\t\n    \t\t\n    \t}\n    \t\n    \tout.close();\n    \t\t\n    }\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    static final Random random=new Random();\n    \n    static <T> void shuffle(T[] arr) {\n    \tint n = arr.length;\n    \tfor(int i=0;i<n;i++\t) {\n    \t\tint k = random.nextInt(n);\n    \t\tT temp = arr[k]; arr[k] = arr[i]; arr[i] = temp;\n    \t}\n    }\n    \n    \t\n    static void ruffleSort(int[] a) {\n    \tint n=a.length;//shuffle, then sort \n    \tfor (int i=0; i<n; i++) {\n    \t\tint oi=random.nextInt(n); int temp=a[oi];\n    \t\ta[oi]=a[i]; a[i]=temp;\n    \t}\n    \tArrays.sort(a);\n    }\n    \n    static void ruffleSort(long[] a) {\n    \tint n=a.length;//shuffle, then sort \n    \tfor (int i=0; i<n; i++) {\n    \t\tint oi=random.nextInt(n); long temp=a[oi];\n    \t\ta[oi]=a[i]; a[i]=temp;\n    \t}\n    \tArrays.sort(a);\n    }\n   \n  \n    \n    static void reverse(int[] arr, int l, int r) {\n    \tfor(int i=l;i<l+(r-l)/2;i++){\n    \t\tint temp = arr[i]; arr[i] = arr[r-i+l-1]; arr[r-i+l-1] = temp;\n    \t}\n    }\n    \n    static void reverse(long[] arr, int l, int r) {\n    \tfor(int i=l;i<l+(r-l)/2;i++){\n    \t\tlong temp = arr[i]; arr[i] = arr[r-i+l-1]; arr[r-i+l-1] = temp;\n    \t}\n    }\n    \n    \n    static <T> void reverse(T[] arr, int l, int r) {\n    \tfor(int i=l;i<l+(r-l)/2;i++) {\n    \t\tT temp = arr[i]; arr[i] = arr[r-i+l-1]; arr[r-i+l-1] = temp;\n    \t}\n    }\n    \t\n    \t\n    static class FastScanner{\n    \tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    \tStringTokenizer st = new StringTokenizer(\"\");\n     \n    \tpublic String next(){\n    \t\twhile(!st.hasMoreElements()){\n    \t\t\ttry{\n    \t\t\t\tst = new StringTokenizer(br.readLine());\n    \t\t\t} catch(IOException e){\n    \t\t\t\te.printStackTrace();\n    \t\t\t}\n    \t\t}\n    \t\treturn st.nextToken();\n    \t}\n    \t\t\n    \tpublic String nextLine() throws IOException {\n    \t\treturn br.readLine();\n    \t}\n    \t\t\n    \tpublic int nextInt(){\n    \t\treturn Integer.parseInt(next());\n    \t}\n     \n    \tpublic int[] readArray(int n){\n    \t\tint[] a = new int[n];\n    \t\tfor(int i=0;i<n;i++)\n    \t\t\ta[i] = nextInt();\n    \t\treturn a;\n    \t}\n    \t\t\n    \tpublic long nextLong() {\n    \t\treturn Long.parseLong(next());\n    \t}\n    \t\t\n    \tpublic char nextChar() {\n    \t\treturn next().toCharArray()[0];\n    \t}\n    }\n   \t\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid itval(istream_iterator<string> it) {}\ntemplate <typename T, typename... Args>\nvoid itval(istream_iterator<string> it, T a, Args... args) {\n  cerr << *it << \" = \" << a << endl;\n  itval(++it, args...);\n}\nconst long long int MOD = 1e9 + 7;\ntemplate <typename T>\ninline void print(T x) {\n  cout << x << \"\\n\";\n}\ntemplate <typename T>\ninline void printvec(T x) {\n  for (auto a : x) cout << a << ' ';\n  cout << '\\n';\n}\nstruct custom {\n  bool operator()(\n      const pair<long long int, pair<long long int, long long int> > &p1,\n      const pair<long long int, pair<long long int, long long int> > &p2)\n      const {\n    return p1.first < p2.first;\n  }\n};\nlong long int get_pow(long long int a, long long int b, long long int M = MOD) {\n  long long int res = 1;\n  while (b) {\n    if (b & 1) res = (res * a) % M;\n    a = (a * a) % M;\n    b >>= 1;\n  }\n  return res;\n}\nconst long long int N = 1e6 + 5, inf = 1e18;\nvoid solve() {\n  long long int n;\n  cin >> n;\n  std::vector<long long int> v[n];\n  std::vector<bool> used[n];\n  long long int sa = 0, sb = 0;\n  vector<long long> t;\n  for (long long int i = (long long int)0; i < (long long int)(n); i++) {\n    int k, x;\n    cin >> x;\n    for (long long int j = (long long int)0; j < (long long int)(x); j++) {\n      cin >> k;\n      v[i].push_back(k);\n    }\n    for (long long int j = (long long int)0; j < (long long int)(x / 2); j++) {\n      sa += v[i][j];\n    }\n    if (x & 1) {\n      for (long long int j = (long long int)x / 2 + 1; j < (long long int)(x);\n           j++) {\n        sb += v[i][j];\n      }\n      t.push_back(v[i][x / 2]);\n    } else {\n      for (long long int j = (long long int)x / 2; j < (long long int)(x);\n           j++) {\n        sb += v[i][j];\n      }\n    }\n  }\n  sort(t.begin(), t.end(), greater<long long int>());\n  for (long long int i = (long long int)0; i < (long long int)(t.size()); i++) {\n    if (i & 1)\n      sb += t[i];\n    else\n      sa += t[i];\n  }\n  cout << sa << ' ' << sb;\n}\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  cout.tie(NULL);\n  int test = 1;\n  clock_t z = clock();\n  for (long long int tes = (long long int)0; tes < (long long int)(test);\n       tes++) {\n    solve();\n  }\n  fprintf(stderr, \"Total Time:%.4f\\n\", (double)(clock() - z) / CLOCKS_PER_SEC),\n      fflush(stderr);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\n#pragma comment(linker, \"/stack:200000000\")\n#pragma GCC optimize(\"Ofast\")\n#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,tune=native\")\ntemplate <typename T>\nbool mmax(T &m, const T q) {\n  if (m < q) {\n    m = q;\n    return true;\n  } else\n    return false;\n}\ntemplate <typename T>\nbool mmin(T &m, const T q) {\n  if (m > q) {\n    m = q;\n    return true;\n  } else\n    return false;\n}\nvoid __print(long long first) { cerr << first; }\nvoid __print(long first) { cerr << first; }\nvoid __print(unsigned first) { cerr << first; }\nvoid __print(unsigned long first) { cerr << first; }\nvoid __print(unsigned long long first) { cerr << first; }\nvoid __print(float first) { cerr << first; }\nvoid __print(double first) { cerr << first; }\nvoid __print(long double first) { cerr << first; }\nvoid __print(char first) { cerr << '\\'' << first << '\\''; }\nvoid __print(const char *first) { cerr << '\\\"' << first << '\\\"'; }\nvoid __print(const string &first) { cerr << '\\\"' << first << '\\\"'; }\nvoid __print(bool first) { cerr << (first ? \"true\" : \"false\"); }\ntemplate <typename T, typename V>\nvoid __print(const pair<T, V> &first) {\n  cerr << '{';\n  __print(first.first);\n  cerr << ',';\n  __print(first.second);\n  cerr << '}';\n}\ntemplate <typename T>\nvoid __print(const T &first) {\n  long long f = 0;\n  cerr << '{';\n  for (auto &i : first) cerr << (f++ ? \",\" : \"\"), __print(i);\n  cerr << \"}\";\n}\nvoid _print() { cerr << \"]\\n\"; }\ntemplate <typename T, typename... V>\nvoid _print(T t, V... v) {\n  __print(t);\n  if (sizeof...(v)) cerr << \", \";\n  _print(v...);\n}\nstd::mt19937 rng(\n    (long long)std::chrono::steady_clock::now().time_since_epoch().count());\nint32_t main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(0);\n  cout.tie(0);\n  cout << fixed << setprecision(12);\n  long long n;\n  cin >> n;\n  long long c = 0, ji = 0;\n  vector<long long> v;\n  for (long long i = 0; i < n; i++) {\n    long long s;\n    cin >> s;\n    long long a[s];\n    for (long long j = 0; j < s; j++) {\n      cin >> a[j];\n      if (j < s / 2)\n        c += a[j];\n      else if (j == s / 2 and s & 1) {\n        v.push_back(a[j]);\n      } else\n        ji += a[j];\n    }\n  }\n  sort((v).begin(), (v).end());\n  reverse((v).begin(), (v).end());\n  for (long long i = 0; i < v.size(); i++) {\n    if (i & 1)\n      ji += v[i];\n    else\n      c += v[i];\n  }\n  cout << c << \" \" << ji;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, ans1, ans2;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  vector<int> v;\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int m;\n    cin >> m;\n    for (int j = 0; j < m; j++) {\n      int t;\n      cin >> t;\n      if (m % 2 and j == m / 2)\n        v.push_back(t);\n      else if (j < m / 2)\n        ans1 += t;\n      else\n        ans2 += t;\n    }\n  }\n  sort(v.begin(), v.end());\n  for (int i = v.size() - 1; i >= 0; i--) {\n    if ((v.size() - 1 - i) % 2 == 0)\n      ans1 += v[i];\n    else\n      ans2 += v[i];\n  }\n  cout << ans1 << endl << ans2 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MX = 101;\nvector<int> ip;\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  int N;\n  cin >> N;\n  int a1 = 0, a2 = 0;\n  for (int i = 0; i < N; i++) {\n    int k;\n    cin >> k;\n    for (int j = 0; j < k; j++) {\n      int a;\n      cin >> a;\n      if (j < k / 2)\n        a1 += a;\n      else if (j >= (k + 1) / 2)\n        a2 += a;\n      else\n        ip.push_back(a);\n    }\n  }\n  sort(ip.begin(), ip.end());\n  reverse(ip.begin(), ip.end());\n  for (int i = 0; i < (int)ip.size(); i++) {\n    if (not(i & 1))\n      a1 += ip[i];\n    else\n      a2 += ip[i];\n  }\n  cout << a1 << ' ' << a2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint crit(const void* a, const void* b);\nint main() {\n  int i, j, n, s, x;\n  int arriba = 0;\n  scanf(\"%d\", &n);\n  int cartas[101];\n  int ciel = 0;\n  int jiro = 0;\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &s);\n    for (j = 0; j < s; j++) {\n      scanf(\"%d\", &x);\n      if (j < s / 2) {\n        ciel = ciel + x;\n      } else if (s % 2 != 0 && j == s / 2) {\n        cartas[arriba] = x;\n        arriba++;\n      } else {\n        jiro = jiro + x;\n      }\n    }\n  }\n  qsort(cartas, arriba, sizeof(int), crit);\n  for (i = 0; i < arriba; i++) {\n    if (i % 2) {\n      jiro = jiro + cartas[i];\n    } else {\n      ciel = ciel + cartas[i];\n    }\n  }\n  printf(\"%d %d\", ciel, jiro);\n  return 0;\n}\nint crit(const void* a, const void* b) { return (*(int*)b - *(int*)a); }\n"
        },
        {
            "language": 4,
            "solution": "import java.util.List;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.util.Collections;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author sheep\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tInputReader in = new InputReader(inputStream);\n\t\tPrintWriter out = new PrintWriter(outputStream);\n\t\tTaskC solver = new TaskC();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskC {\n\n    public void solve(int testNumber, InputReader in, PrintWriter out) {\n        int n = in.nextInt();\n        int leftSum = 0, rightSum = 0;\n        List<Integer> middles = new ArrayList<Integer>();\n        for (int i = 0; i < n; ++i) {\n            int num = in.nextInt();\n            int[] arr = in.nextIntArray(num);\n            for (int j = 0; j < num; ++j) {\n                if (j < num / 2) {\n                    leftSum += arr[j];\n                } else if (j >= (num + 1) / 2) {\n                    rightSum += arr[j];\n                } else {\n                    if (num % 2 == 0) {\n                        throw new IllegalStateException();\n                    }\n                    middles.add(arr[j]);\n                }\n            }\n        }\n\n        Collections.sort(middles, new Comparator<Integer>() {\n            @Override\n            public int compare(Integer o, Integer o2) {\n                return o2 - o;\n            }\n        });\n\n        for (int i = 0; i < middles.size(); ++i) {\n            if (i % 2 == 0) {\n                leftSum += middles.get(i);\n            } else {\n                rightSum += middles.get(i);\n            }\n        }\n\n        out.println(leftSum + \" \" + rightSum);\n    }\n\n    }\n\nclass InputReader {\n    BufferedReader reader;\n    StringTokenizer tokenizer;\n\n    public InputReader(InputStream stream) {\n        reader = new BufferedReader(new InputStreamReader(stream));\n        tokenizer = null;\n    }\n\n    public String next() {\n        while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n            try {\n                tokenizer = new StringTokenizer(reader.readLine());\n            } catch (Exception e) {\n                throw new UnknownError();\n            }\n        }\n        return tokenizer.nextToken();\n    }\n\n    public int nextInt() {\n        return Integer.parseInt(next());\n    }\n\n    public int[] nextIntArray(int size) {\n        int[] result = new int[size];\n        for (int i = 0; i < size; ++i) {\n            result[i] = nextInt();\n        }\n        return result;\n    }\n\n    }\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, v[105], rm[105];\nint main() {\n  scanf(\"%d\", &n);\n  int ans1 = 0, ans2 = 0, m = 0, l;\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &l);\n    for (int j = 1; j <= l; j++) scanf(\"%d\", &v[j]);\n    for (int j = 1; j <= l / 2; j++) ans1 += v[j], ans2 += v[l - j + 1];\n    if (l % 2 == 1) rm[++m] = -v[(l + 1) / 2];\n  }\n  sort(rm + 1, rm + 1 + m);\n  for (int i = 1; i <= m; i++)\n    if (i & 1)\n      ans1 -= rm[i];\n    else\n      ans2 -= rm[i];\n  printf(\"%d %d\\n\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int i, j, t;\n  int n;\n  scanf(\"%d\", &n);\n  ;\n  vector<int> v;\n  long long answer = 0, chu = 0;\n  for (i = 0; i < n; i++) {\n    int siz;\n    scanf(\"%d\", &siz);\n    ;\n    if (siz % 2) {\n      for (j = 0; j < siz; j++) {\n        int num;\n        scanf(\"%d\", &num);\n        ;\n        if ((j * 2 + 1) != siz && j * 2 < siz)\n          chu += num;\n        else if (j * 2 + 1 == siz)\n          v.push_back(num);\n        answer += num;\n      }\n    } else {\n      for (j = 0; j < siz; j++) {\n        int num;\n        scanf(\"%d\", &num);\n        ;\n        if (j * 2 < siz) chu += num;\n        answer += num;\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  int siz = v.size();\n  for (i = 0; i < siz; i++) {\n    if (i % 2 == 0) chu += v[i];\n  }\n  printf(\"%lld %lld\\n\", chu, answer - chu);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\nbool elem(set<T> st, T val) {\n  return (st.find(val) != st.end());\n}\ntemplate <typename T>\nvoid printv(vector<T> vt) {\n  if (vt.size() == 0) return;\n  for (int i = 0; i < (int)vt.size() - 1; ++i) cout << vt[i] << \" \";\n  cout << vt[vt.size() - 1] << endl;\n}\nvector<vector<int> > p;\nint main(void) {\n  ios::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  for (int i = 0; i < (int)n; ++i) {\n    int m;\n    cin >> m;\n    vector<int> a(m);\n    for (int j = 0; j < (int)m; ++j) cin >> a[j];\n    p.push_back(a);\n  }\n  int sum = 0;\n  for (int i = 0; i < (int)n; ++i)\n    for (int j = 0; j < (int)p[i].size(); ++j) sum += p[i][j];\n  int sc = 0;\n  vector<int> rem;\n  for (int i = 0; i < (int)n; ++i) {\n    for (int j = 0; j < (int)p[i].size() / 2; ++j) sc += p[i][j];\n    if (p[i].size() % 2 == 1) rem.push_back(p[i][p[i].size() / 2]);\n  }\n  sort(rem.begin(), rem.end(), greater<int>());\n  for (int i = 0; i < (int)rem.size(); i += 2) sc += rem[i];\n  cout << sc << \" \" << sum - sc << endl;\n  return 0;\n}\n"
        },
        {
            "language": 3,
            "solution": "import sys\nfrom functools import reduce\n\nfor n in sys.stdin:\n    n = int(n)\n    cards = [list(map(int, input().split()[1:])) for i in range(n)]\n    mid = []\n    a, b = 0, 0\n    add = lambda x=0, y=0: x + y\n    for c in cards:\n        s = len(c)\n        m = s >> 1\n        a += reduce(add, c[:m] or [0])\n        b += reduce(add, c[m + (s & 1):] or [0])\n        if s & 1 == 1:\n            mid.append(c[m])\n    mid.sort(reverse=True)\n    j = True\n    for c in mid:\n        if j:\n            a += c\n        else:\n            b += c\n        j = not j\n    print(a, b)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, v[110], sum, sol;\npair<int, int> dif[110];\ninline bool Sortare(pair<int, int> a, pair<int, int> b) {\n  return a.first - a.second > b.first - b.second;\n}\nint main() {\n  int i, j, size, sa, sb;\n  cin >> n;\n  for (i = 1; i <= n; ++i) {\n    cin >> size;\n    for (j = 1; j <= size; ++j) {\n      cin >> v[j];\n      sum += v[j];\n    }\n    if (size % 2 == 1) {\n      sa = sb = 0;\n      for (j = 1; j <= size / 2; ++j) sa += v[j];\n      for (j = size / 2 + 2; j <= size; ++j) sb += v[j];\n      j = size / 2 + 1;\n      dif[i].first = sa + v[j] - sb;\n      dif[i].second = sa - v[j] - sb;\n    } else {\n      sa = sb = 0;\n      for (j = 1; j <= size / 2; ++j) sa += v[j];\n      for (j = size / 2 + 1; j <= size; ++j) sb += v[j];\n      dif[i].first = sa - sb;\n      dif[i].second = sa - sb;\n    }\n  }\n  sort(dif + 1, dif + n + 1, Sortare);\n  for (i = 1; i <= n; ++i) {\n    if (i % 2 == 1)\n      sol += dif[i].first;\n    else\n      sol += dif[i].second;\n  }\n  sa = (sum - sol) / 2 + sol;\n  sb = (sum - sol) / 2;\n  cout << sa << ' ' << sb << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nvoid insercion_rev(int impares[], int odd);\nint main(void) {\n  int n, odd = 0, i, j, A, B, ciel = 0, jiro = 0;\n  scanf(\"%d\", &n);\n  int impares[100];\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &A);\n    if (A == 1) {\n      scanf(\"%d\", &B);\n      impares[odd] = B;\n      odd++;\n    } else {\n      for (j = 1; j <= A / 2; j++) {\n        scanf(\"%d\", &B);\n        ciel += B;\n      }\n      if (A % 2 != 0 && A > 1) {\n        scanf(\"%d\", &B);\n        impares[odd] = B;\n        odd++;\n        j++;\n      }\n      for (; j <= A; j++) {\n        scanf(\"%d\", &B);\n        jiro += B;\n      }\n    }\n  }\n  if (odd > 0) {\n    insercion_rev(impares, odd);\n    for (i = 0; i < odd; i++) {\n      if (i % 2 == 0)\n        ciel += impares[i];\n      else\n        jiro += impares[i];\n    }\n  }\n  printf(\"%d %d\", ciel, jiro);\n  return 0;\n}\nvoid insercion_rev(int impares[], int odd) {\n  int i, k, j;\n  for (i = 1; i < odd; i++) {\n    k = impares[i];\n    j = i - 1;\n    while (j >= 0 && impares[j] < k) {\n      impares[j + 1] = impares[j];\n      j = j - 1;\n    }\n    impares[j + 1] = k;\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T1, typename T2>\nusing pr = pair<T1, T2>;\ntemplate <typename T>\nusing vec = vector<T>;\nint n, s[102], a[102][102];\nint up[102], down[102], diff[102];\nint main() {\n  int answ1 = 0;\n  int sum = 0;\n  cin >> n;\n  vector<int> mids;\n  for (int(i) = (0); (i) < (n); ++(i)) {\n    cin >> s[i];\n    int sm = 0;\n    for (int(j) = (0); (j) < (s[i]); ++(j)) {\n      cin >> a[i][j];\n      sm += a[i][j];\n      sum += a[i][j];\n    }\n    for (int(j) = (0); (j) < (s[i] / 2); ++(j)) {\n      answ1 += a[i][j];\n    }\n    if (s[i] % 2 == 1) mids.push_back(a[i][s[i] / 2]);\n  }\n  sort(mids.begin(), mids.end());\n  for (int(i) = (((int)mids.size())) - (1); (i) >= (0); --(i)) {\n    if ((((int)mids.size()) - i) % 2 == 1) answ1 += mids[i];\n  }\n  cout << answ1 << \" \" << sum - answ1 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <class T>\ninline T bigmod(T p, T e, T M) {\n  if (e == 0) return 1;\n  if (e % 2 == 0) {\n    long long t = bigmod(p, e / 2, M);\n    return (T)((t * t) % M);\n  }\n  return (T)((long long)bigmod(p, e - 1, M) * (long long)p) % M;\n}\ntemplate <class T>\ninline T gcd(T a, T b) {\n  if (b == 0) return a;\n  return gcd(b, a % b);\n}\ntemplate <class T>\ninline T modinverse(T a, T M) {\n  return bigmod(a, M - 2, M);\n}\nint ar[101][101], sz[101];\nint tmp[101];\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  long long a = 0, b = 0, c, d, e = 0, f = 0, g, h = 0, x, y, z;\n  cin >> a;\n  for (int i = (0); i < (a); ++i) {\n    cin >> sz[i];\n    for (int j = (0); j < (sz[i]); ++j) cin >> ar[i][j];\n    c = sz[i] / 2;\n    for (int j = (0); j < (c); ++j) e += ar[i][j];\n    for (int j = sz[i] - 1; j >= sz[i] - c; j--) f += ar[i][j];\n    if (sz[i] % 2 == 0)\n      tmp[i] = 0;\n    else {\n      tmp[i] = ar[i][sz[i] - c - 1];\n      b++;\n    }\n  }\n  sort(tmp, tmp + a);\n  reverse(tmp, tmp + a);\n  for (int i = 0; i < a; i++) {\n    if (i % 2 == 0)\n      e += tmp[i];\n    else\n      f += tmp[i];\n  }\n  cout << e << \" \" << f << endl;\n}\n"
        },
        {
            "language": 1,
            "solution": "n=input()\nans=[]\nv1=0\nv2=0\np=0\nans2=[]\nfor i in range(0,n):\n    lst=map(int,raw_input().split())\n    s=lst[0]\n    rk=lst[1:]\n    p=p+s-(s%2)\n    if s%2==0:\n        ans.append(rk)\n        v1=v1+sum(rk[0:s/2])\n        v2=v2+sum(rk[s/2:])\n\n    else:\n        ans.append(rk[0:s/2]+rk[s/2+1:s])\n        ans2.append(rk[s/2])\n        v1=v1+sum(rk[0:s/2])\n        v2=v2+sum(rk[s/2+1:])\n\nt=0\n\n#print ans\nwhile p>0:\n    #ans.sort(reverse=True)\n    e=-1\n    if t%2==0:\n\n        for i in range(0,len(ans)):\n            if len(ans[i])>0:\n                if e<=ans[i][0]:\n                    e=ans[i][0]\n                    st=i\n        #print ans\n        #v1=v1+ans[st].pop(0)\n        t=t+1\n        p=p-1\n    else:\n        for i in range(0,len(ans)):\n            if len(ans[i])>0:\n                if e<=ans[i][-1]:\n                    e=ans[i][-1]\n                    st=i\n        #v2=v2+ans[st].pop()\n        t=t+1\n        p=p-1\nans2.sort(reverse=True)\n#print ans2,v1,v2\nfor i in range(0,len(ans2)):\n    if i%2==0:\n        v1=v1+ans2[i]\n    else:\n        v2=v2+ans2[i]\nprint v1,v2\n\n\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[110][110], s[110], ans1, ans2, n;\nvector<int> mids;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &s[i]);\n    for (int j = 1; j <= s[i]; j++) {\n      scanf(\"%d\", &a[i][j]);\n      if (j <= s[i] / 2)\n        ans1 += a[i][j];\n      else if (j == (s[i] + 1) / 2 && (s[i] & 1))\n        mids.push_back(a[i][j]);\n      else\n        ans2 += a[i][j];\n    }\n  }\n  sort(mids.begin(), mids.end());\n  reverse(mids.begin(), mids.end());\n  for (int i = 0; i < mids.size(); i++) {\n    if (i & 1)\n      ans2 += mids[i];\n    else\n      ans1 += mids[i];\n  }\n  printf(\"%d %d\\n\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool debug = 1;\nint n, m, k;\nint dx[4] = {0, 1, 0, -1}, dy[4] = {1, 0, -1, 0};\nlong long ln, lk, lm;\nint toto, other;\nvector<int> ps;\nint main() {\n  scanf(\"%d\", &n);\n  for (int(i) = 0; (i) < (int)(n); (i)++) {\n    scanf(\"%d\", &k);\n    int l = (k - 1) / 2, r = l + 1, mid = -1;\n    if (k & 1) {\n      mid = l;\n      l--;\n    }\n    for (int(j) = 0; (j) < (int)(k); (j)++) {\n      scanf(\"%d\", &m);\n      if (j <= l)\n        toto += m;\n      else if (r <= j)\n        other += m;\n      else\n        ps.push_back(m);\n    }\n  }\n  sort(ps.begin(), ps.end());\n  for (int i = ps.size() - 1, t = 0; i >= 0; i--, t ^= 1) {\n    if (t == 0)\n      toto += ps[i];\n    else\n      other += ps[i];\n  }\n  printf(\"%d %d\\n\", toto, other);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Scanner;\n\n\n/**\n *\n * @author AL_DEEB\n */\npublic class a2 {\n        public static void main(String[] args) {\n  \n \n        Scanner sc=new Scanner(System.in);  \n        \n        int  n=sc.nextInt();\n      \n        Object[] a=new Object[n];\n            Queue<Integer> q=new PriorityQueue<Integer>();\n           int top=0,ciel=0;\n            for (int i = 0; i < n; i++) {\n              \n                int s=sc.nextInt();\n                \n                if(s==1){q.add(sc.nextInt());continue;}\n                \n                if(s%2==0)\n                {\n                     for (int j = 0; j < s/2; j++) {\n                    \n                    top+=sc.nextInt();\n                    \n                }\n                         for (int j = 0; j < s/2; j++) {\n                    \n                    ciel+=sc.nextInt();\n                    \n                }\n                }\n                else\n                {\n                       for (int j = 0; j < s/2; j++) {\n                    \n                    top+=sc.nextInt();\n                    \n                }\n                       q.add(sc.nextInt());\n                         for (int j = 0; j < s/2; j++) {\n                    \n                    ciel+=sc.nextInt();\n                    \n                }\n                    \n                }\n              \n            }\n//          System.out.println(top+\" \"+ciel);\n           // System.out.println(q);\n            a=q.toArray();\n            Arrays.sort(a);\n            boolean f=false;\n            for (int i = a.length-1; i >=0 ; i--) {\n                \n           \n               \n            //   System.out.println(q.peek());\n                if(!f) { top+= (int)a[i];f=!f;  }\n                else\n                {  ciel+= (int)a[i];f=!f;   }\n            }\n            \n            \n            System.out.println(top+\" \"+ciel);\n            \n//           10\n//3 10 20 10\n//2 100 8\n//5 2 2 2 2 2\n//7 1 2 3 4 5 6 7\n//6 1 1 2 2 3 1\n//1 1 \n//1 3\n//1 10\n//2 9 7\n//2 67 76 \n            \n        \n        }\n}\n "
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 110;\nstruct Niz {\n  int val, sum;\n  Niz() {}\n  Niz(int _a, int _b) {\n    val = _a;\n    sum = _b;\n  }\n} niz[maxn];\nbool cmp1(const Niz &a, const Niz &b) { return a.val > b.val; }\nint main() {\n  int n, z = 0, d = 0, a = 0;\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    int s, sum = 0, sum1 = 0;\n    scanf(\"%d\", &s);\n    for (int j = 1; j <= s; j++) {\n      int x;\n      scanf(\"%d\", &x);\n      z += x;\n      if (j <= s >> 1) sum1 += x;\n      if (j == (s >> 1) + (s & 1)) sum = x;\n    }\n    if (s & 1)\n      niz[++d] = Niz(sum, sum1);\n    else\n      a += sum1;\n  }\n  sort(niz + 1, niz + d + 1, cmp1);\n  for (int i = 1; i <= d; i++)\n    if (i & 1)\n      a += niz[i].sum + niz[i].val;\n    else\n      a += niz[i].sum;\n  printf(\"%d %d\\n\", a, z - a);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint N;\nvector<int> for_battle;\nint main() {\n  scanf(\"%d\", &N);\n  long long a = 0, b = 0;\n  for (int i = 0; i < N; i++) {\n    int x;\n    scanf(\"%d \", &x);\n    int mid = x % 2 == 0 ? (x / 2) - 1 : (x / 2) - 1;\n    int right_mid = x % 2 == 0 ? (x / 2) : (x / 2) + 1;\n    for (int j = 0; j < x; j++) {\n      int y;\n      scanf(\"%d \", &y);\n      if (j <= mid)\n        a += y;\n      else if (j >= right_mid)\n        b += y;\n      else\n        for_battle.push_back(y);\n    }\n  }\n  sort(for_battle.begin(), for_battle.end());\n  for (int i = for_battle.size() - 1, j = 0; i >= 0; i--, j++)\n    if (j % 2 == 0)\n      a += for_battle[i];\n    else\n      b += for_battle[i];\n  printf(\"%I64d %I64d\\n\", a, b);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\nimport java.awt.geom.*;\n\nimport static java.lang.Math.*;\n\npublic class Solution implements Runnable {\n    \n    public void solve() throws Exception {\n        int n = sc.nextInt();\n        int ans1 = 0, ans2 = 0;\n        ArrayList<Integer> centers = new ArrayList<Integer>();\n        for (int i = 0; i < n; i++) {\n            int s = sc.nextInt();\n            for (int j = 0; j < s; j++) {\n                int c = sc.nextInt();\n                if (j < s - j - 1) {\n                    ans1 += c;\n                } else if (j > s - j - 1) {\n                    ans2 += c;\n                } else {\n                    centers.add(c);\n                }\n            }\n        }\n        Collections.sort(centers);\n        boolean first = true;\n        for (int i = centers.size() - 1; i >= 0; i--) {\n            if (first) {\n                ans1 += centers.get(i);\n            } else {\n                ans2 += centers.get(i);\n            }\n            first = !first;\n        }\n        out.println(ans1 + \" \" + ans2);\n    }\n\n    static Throwable uncaught;\n\n    BufferedReader in;\n    FastScanner sc;\n    PrintWriter out;\n\n    @Override\n    public void run() {\n        try {\n            in = new BufferedReader(new InputStreamReader(System.in));\n            out = new PrintWriter(System.out);\n            sc = new FastScanner(in);\n            solve();\n        } catch (Throwable uncaught) {\n            Solution.uncaught = uncaught;\n        } finally {\n            out.close();\n        }\n    }\n\n    public static void main(String[] args) throws Throwable {\n        Thread thread = new Thread(null, new Solution(), \"\", (1 << 26));\n        thread.start();\n        thread.join();\n        if (Solution.uncaught != null) {\n            throw Solution.uncaught;\n        }\n    }\n\n}\n\nclass FastScanner {\n\n    BufferedReader in;\n    StringTokenizer st;\n\n    public FastScanner(BufferedReader in) {\n        this.in = in;\n    }\n\n    public String nextToken() throws Exception {\n        while (st == null || !st.hasMoreTokens()) {\n            st = new StringTokenizer(in.readLine());\n        }\n        return st.nextToken();\n    }\n\n    public int nextInt() throws Exception {\n        return Integer.parseInt(nextToken());\n    }\n\n    public long nextLong() throws Exception {\n        return Long.parseLong(nextToken());\n    }\n\n    public double nextDouble() throws Exception {\n        return Double.parseDouble(nextToken());\n    }\n\n}"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedInputStream;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.PriorityQueue;\nimport java.util.StringTokenizer;\n\npublic class E228 {\n\tstatic int[][] rowSum;\n\tstatic int N;\n\tstatic final int oo = 2000000000;\n\tpublic static void main(String[] args) {\n\t\tFS scan = new FS(System.in);\n\t\tN = scan.nextInt();\n\t\trowSum = new int[N][];\n\t\tint sol = 0, sum = 0;\n\t\tPriorityQueue<Integer> q = new PriorityQueue<>();\n\t\tfor(int i=0;i<N;i++){\n\t\t\tint K = scan.nextInt();\n\t\t\tint mid = 0;\n\t\t\trowSum[i] = new int[K];\n\t\t\tfor(int j=0;j<K;j++){\n\t\t\t\trowSum[i][j] = scan.nextInt();\n\t\t\t\tif(K%2==1&&j==K/2)mid=rowSum[i][j];\n\t\t\t\tif(j!=0)rowSum[i][j]+=rowSum[i][j-1];\n\t\t\t}\n\t\t\tsum+=rowSum[i][K-1];\n\t\t\tif(K/2-1 >=0)sol+=rowSum[i][K/2 - 1];\n\t\t\tif(K%2==1)q.add(-mid);\n\t\t}\n\t\tint bit = 0;\n\t\twhile(!q.isEmpty()){\n\t\t\tint x = -q.poll();\n\t\t\tif(bit==0)sol+=x;\n\t\t\tbit^=1;\n\t\t}\n\t\t\n\t\tSystem.out.println(sol+\" \"+(sum-sol));\n\t}\n\tprivate static class FS {\n\t\tBufferedReader br;\n\t\tStringTokenizer st;\n\t\tpublic FS(InputStream in) {\n\t\t\tbr = new BufferedReader(new InputStreamReader(in));\n\t\t}\n\t\tString next(){\n\t\t\twhile(st==null||!st.hasMoreElements()){\n\t\t\t\ttry{st = new StringTokenizer(br.readLine());}\n\t\t\t\tcatch(IOException e){e.printStackTrace();}\n\t\t\t}\n\t\t\treturn st.nextToken();\n\t\t}\n\t\tint nextInt() {return Integer.parseInt(next());}\n\t\tlong nextLong() {return Long.parseLong(next());}\n\t\tdouble nextDouble() { return Double.parseDouble(next());}\n\t}\n\tprivate static class Jolty{\n\t\tstatic final int BASE_SPEED = 130;\n\t\tstatic final int BUFFER_SIZE = 1<<16;\n\t\tstatic final char NULL_CHAR = (char)-1;\n\t\t\n\t\tBufferedInputStream in;\n\t\tStringBuilder str = new StringBuilder();\n\t\tbyte[] buffer = new byte[BUFFER_SIZE];\n\t\t\n\t\tchar c = NULL_CHAR;\n\t\tint bufferIdx = 0, size = 0;\n\t\t\n\t\tpublic Jolty(InputStream in) {\n\t\t\tthis.in = new BufferedInputStream(in,BUFFER_SIZE);\n\t\t}\n\t\tpublic int nextInt() {return (int)nextLong();}\n\t\tpublic double nextDouble() {return Double.parseDouble(next());}\n\t\tpublic long nextLong() {\n\t\t\tlong negative = 0, res = 0;\n\t\t\tif(c==NULL_CHAR)c=nextChar();\n\t\t\tfor(;(c<'0'||c>'9');c=nextChar())\n\t\t\t\tnegative = (c=='-')?1:0;\n\t\t\tfor(;c>='0'&&c<='9';c=nextChar())\n\t\t\t\tres = (res<<3)+(res<<1)+c-'0';\n\t\t\treturn negative==1 ? -res : res;\n\t\t}\n\t\t\n\t\tpublic String nextLine() {\n\t\t\tstr.setLength(0);\n\t\t\tfor(c = c == NULL_CHAR ? nextChar() : c; c!='\\n'; c= nextChar())\n\t\t\t\tstr.append(c);\n\t\t\tc = NULL_CHAR;\n\t\t\treturn str.toString();\n\t\t}\n\t\tpublic String next() {\n\t\t\tfor(c = c == NULL_CHAR ? nextChar() : c; Character.isWhitespace(c);)\n\t\t\t\tc = nextChar();\n\t\t\tstr.setLength(0);\n\t\t\tfor(;!Character.isWhitespace(c);c=nextChar())\n\t\t\t\tstr.append(c);\n\t\t\treturn str.toString();\n\t\t}\n\t\tpublic char nextChar() {\n\t\t\twhile(bufferIdx == size) {\n\t\t\t\ttry{\n\t\t\t\t\tsize = in.read(buffer);\n\t\t\t\t\tif(size == -1)throw new Exception();\n\t\t\t\t} catch (Exception e){}\n\t\t\t\tif(size == -1)size = BUFFER_SIZE;\n\t\t\t\tbufferIdx = 0;\n\t\t\t}\n\t\t\treturn (char) buffer[bufferIdx++];\n\t\t}\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long C = 106;\nconst long long N = 2e5 + 17;\nconst long long mod = 1e9 + 7;\ndeque<long long> v[C];\nvoid solve() {\n  long long n, cnt = 0;\n  cin >> n;\n  multiset<pair<long long, long long>> s;\n  multiset<pair<long long, long long>> q;\n  vector<long long> p;\n  for (long long i = (long long)1; i <= (long long)n; i++) {\n    long long m;\n    cin >> m;\n    for (long long j = (long long)1; j <= (long long)m; j++) {\n      long long x;\n      cin >> x;\n      v[i].push_back(x);\n      cnt++;\n    }\n    if (m % 2 == 1) {\n      cnt--;\n      p.push_back(v[i][v[i].size() / 2]);\n      v[i].erase(v[i].begin() + (long long)v[i].size() / 2ll);\n    }\n    if ((long long)v[i].size()) {\n      s.insert({v[i][0], i});\n      q.insert({v[i].back(), i});\n    }\n  }\n  long long cur_A = 0, cur_B = 0, ind = -1;\n  for (long long i = (long long)1; i <= (long long)cnt; i++) {\n    if (i & 1) {\n      auto x = *s.rbegin();\n      s.erase(s.find(x));\n      cur_A += x.first;\n      v[x.second].pop_front();\n      if (!v[x.second].size()) {\n        q.erase(q.find({x.first, x.second}));\n        ind = -1;\n      } else {\n        ind = x.second;\n        s.insert({v[x.second][0], x.second});\n      }\n    } else {\n      if (ind == -1) {\n        auto x = *q.rbegin();\n        q.erase(q.find(x));\n        cur_B += x.first;\n        v[x.second].pop_back();\n        if (!v[x.second].size())\n          s.erase(s.find({x.first, x.second}));\n        else {\n          q.insert({v[x.second].back(), x.second});\n        }\n      } else {\n        auto x = make_pair(v[ind].back(), ind);\n        q.erase(q.find(x));\n        cur_B += x.first;\n        v[x.second].pop_back();\n        if (!v[x.second].size())\n          s.erase(s.find({x.first, x.second}));\n        else\n          q.insert({v[x.second].back(), x.second});\n      }\n    }\n  }\n  sort(p.begin(), p.end());\n  reverse(p.begin(), p.end());\n  for (long long i = (long long)0; i <= (long long)(long long)p.size() - 1;\n       i++) {\n    if (i & 1)\n      cur_B += p[i];\n    else\n      cur_A += p[i];\n  }\n  cout << cur_A << \" \" << cur_B;\n}\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  srand(time(0));\n  long long t24 = 1ll;\n  while (t24--) {\n    solve();\n    cout << \"\\n\";\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long cn1, cn2;\nvector<int> v;\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  int n;\n  cin >> n;\n  cn1 = cn2 = 0;\n  for (int i = 0; i < (n); i++) {\n    int x;\n    cin >> x;\n    for (int j = 0; j < x; j++) {\n      int y;\n      cin >> y;\n      if (x % 2 == 1 && j == x / 2)\n        v.push_back(y);\n      else if (j < x / 2)\n        cn1 += y;\n      else\n        cn2 += y;\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < (((int)v.size())); i++)\n    if (i % 2 == 0)\n      cn1 += v[i];\n    else\n      cn2 += v[i];\n  cout << cn1 << \" \" << cn2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int T, N, S, C;\n  T = 1;\n  while (T--) {\n    scanf(\"%d\", &N);\n    vector<int> X;\n    int A = 0, B = 0;\n    for (int i = 0; i < N; i++) {\n      scanf(\"%d\", &S);\n      for (int j = 0; j < S; j++) {\n        scanf(\"%d\", &C);\n        if (2 * j + 1 < S) A += C;\n        if (2 * j + 1 > S) B += C;\n        if (2 * j + 1 == S) X.push_back(C);\n      }\n    }\n    sort(X.begin(), X.end(), greater<int>());\n    for (int i = 0; i < (int)X.size(); i++) i % 2 ? B += X[i] : A += X[i];\n    printf(\"%d %d\\n\", A, B);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ninline int read() {\n  int f = 1, x = 0;\n  char ch = getchar();\n  while (!isdigit(ch)) {\n    if (ch == '-') f = -1;\n    ch = getchar();\n  }\n  while (isdigit(ch)) {\n    x = x * 10 + ch - '0';\n    ch = getchar();\n  }\n  return x * f;\n}\ninline long long readll() {\n  long long f = 1, x = 0;\n  char ch = getchar();\n  while (!isdigit(ch)) {\n    if (ch == '-') f = -1;\n    ch = getchar();\n  }\n  while (isdigit(ch)) {\n    x = x * 10 + ch - '0';\n    ch = getchar();\n  }\n  return x * f;\n}\nint c[105];\nint main() {\n  int n = read();\n  long long ans = 0, sum = 0;\n  vector<int> vec;\n  for (int i = 1; i <= n; ++i) {\n    int s = read();\n    for (int j = 1; j <= s; ++j) c[j] = read(), sum += c[j];\n    if (s & 1) vec.push_back(c[s / 2 + 1]);\n    for (int j = 1; j <= s / 2; ++j) ans += c[j];\n  }\n  sort(vec.begin(), vec.end());\n  reverse(vec.begin(), vec.end());\n  for (int i = 0; i < (int)vec.size(); i += 2) ans += vec[i];\n  cout << ans << \" \" << sum - ans << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.lang.reflect.Array;\nimport java.math.BigDecimal;\nimport java.sql.Time;\nimport java.util.*;\n\nimport java.math.BigInteger;\n\nimport static java.lang.Math.*;\nimport static java.math.BigInteger.*;\nimport static java.util.Arrays.*;\n\n\npublic class Main{\n\n    void run(){\n        Locale.setDefault(Locale.US);\n        boolean oj = System.getProperty(\"ONLINE_JUDGE\") != null;\n//        boolean oj = true;\n        try{\n            if( oj ){\n                sc  = new FastScanner( new InputStreamReader(System.in  ) );\n                out = new PrintWriter(   new OutputStreamWriter(System.out) );\n            } else{\n                sc  = new FastScanner(new FileReader(\"in.txt\") );\n//                sc  = new FastScanner(new FileReader(\"D:\\\\JavaOlymp\\\\FatalError\\\\output.txt\") );\n                out = new PrintWriter(   new FileWriter(\"out.txt\") );\n            }\n        } catch (Exception e) {\n            System.exit(-1);\n        }\n        long tB = System.currentTimeMillis();\n        solve();\n        if( !oj ) System.err.println( \"Time: \" + (System.currentTimeMillis()-tB)/1e3 );\n        out.flush();\n    }\n\n\n    class FastScanner{\n        BufferedReader br;\n        StringTokenizer st = new StringTokenizer(\"\");\n        FastScanner( InputStreamReader a ){\n            br = new BufferedReader(a);\n        }\n        FastScanner( FileReader a ){\n            br = new BufferedReader(a);\n        }\n        String next(){\n            while( !st.hasMoreTokens() )\n                try {\n                    st = new StringTokenizer(br.readLine());\n                } catch (IOException e) {\n                    return null;\n                }\n            return st.nextToken();\n        }\n        String readLine(){\n            try {\n                return br.readLine();\n            } catch (Exception e) {\n                return null;\n            }\n        }\n        int nextInt(){ return Integer.parseInt(next()); }\n        long nextLong(){ return Long.parseLong(next()); }\n    }\n\n    FastScanner sc;\n    PrintWriter out;\n\n\n\n    public static void main(String[] args){\n        new Main().run();\n//        new Thread( null, new Runnable() {\n//            @Override\n//            public void run() {\n//                new Main().run();\n//            }\n//            }, \"LOL\", 256L * 1024 * 1024 / 2 ).run();\n//        }, \"LOL\", 2000 * 1024 * 1024 ).run();\n    }\n\n\n\n    void TLE(){ for(;;); }\n\n    void MLE(){\n        int[][] adj = new int[1024*1024][];\n        for( int i = 0; i < adj.length; ++i )\n            adj[i] = new int[1024*1024];\n    }\n\n    void exit( int val ){\n        out.flush();\n        System.exit(val);\n    }\n    //////////////////////////////////////////////////////////////////////////////////////////\n\n\n    int n, sum0, sum1;\n    ArrayList<Integer> arr;\n\n    void solve(){\n        n = sc.nextInt();\n        arr = new ArrayList<Integer>();\n        for( int it = 0; it < n; ++it ){\n            int s = sc.nextInt();\n            for( int i = 0; i < s/2; ++i )\n                sum0 += sc.nextInt();\n            if( s%2==1 ) arr.add( sc.nextInt() );\n            for( int i = (s+1)/2; i < s; ++i )\n                sum1 += sc.nextInt();\n        }\n        Collections.sort(arr);\n        Collections.reverse(arr);\n        for( int i = 0; i < arr.size(); ++i )\n            if( i%2==0 )\n                sum0 += arr.get(i);\n            else\n                sum1 += arr.get(i);\n        out.println( sum0 +\" \"+ sum1 );\n    }\n\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint main() {\n  int n, i, j, k, d = 0, cartas = 0, raro = 0;\n  int sumanena = 0, sumanene = 0;\n  int aux1 = 0;\n  scanf(\"%d\", &n);\n  int aux[n];\n  for (i = 0; i < n; i++) {\n    aux[i] = 0;\n  }\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &cartas);\n    if (cartas % 2 == 0) {\n      for (j = 0; j < (cartas / 2); j++) {\n        scanf(\"%d\", &k);\n        sumanena = sumanena + k;\n      }\n      for (j = cartas / 2; j < (cartas); j++) {\n        scanf(\"%d\", &k);\n        sumanene = sumanene + k;\n      }\n    } else if (cartas % 2 != 0 && cartas != 1) {\n      for (j = 0; j < cartas / 2; j++) {\n        scanf(\"%d\", &k);\n        sumanena = sumanena + k;\n      }\n      scanf(\"%d\", &k);\n      aux[d] = k;\n      d++;\n      raro++;\n      for (j = (cartas / 2) + 1; j < cartas; j++) {\n        scanf(\"%d\", &k);\n        sumanene = sumanene + k;\n      }\n    } else if (cartas == 1) {\n      scanf(\"%d\", &k);\n      aux[d] = k;\n      d++;\n    }\n  }\n  int cambio;\n  cambio = 1;\n  j = 0;\n  while (cambio == 1) {\n    cambio = 0;\n    j++;\n    for (i = 0; i < n - j; i++) {\n      if (aux[i] < aux[i + 1]) {\n        aux1 = aux[i];\n        aux[i] = aux[i + 1];\n        aux[i + 1] = aux1;\n        cambio = 1;\n      }\n    }\n  }\n  for (i = 0; i < n; i++) {\n    if (aux[i] != 0) {\n      if (i % 2 == 0) {\n        sumanena = sumanena + aux[i];\n      } else if (i % 2 != 0) {\n        sumanene = sumanene + aux[i];\n      }\n    }\n  }\n  printf(\"%d %d\", sumanena, sumanene);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class Main implements Runnable {\n\n\tpublic void _main() throws IOException {\n\t\tint n = nextInt();\t\t\n\t\tint sum = 0;\n\t\tint ans = 0;\n\t\tList<Integer> middles = new ArrayList<Integer>();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint k = nextInt();\t\t\t\n\t\t\tfor (int j = 0; j < k; j++) {\n\t\t\t\tint x = nextInt();\n\t\t\t\tsum += x;\n\t\t\t\tif (j < k / 2) {\n\t\t\t\t\tans += x;\n\t\t\t\t}\n\t\t\t\tif (k % 2 == 1 && j == k / 2) {\n\t\t\t\t\tmiddles.add(x);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tCollections.sort(middles);\n\t\tCollections.reverse(middles);\n\t\tfor (int i = 0; i < middles.size(); i += 2) {\n\t\t\tans += middles.get(i);\n\t\t}\n\t\tout.println(ans + \" \" + (sum - ans));\n\t}\n\n\n\tprivate BufferedReader in;\n\tprivate PrintWriter out;\n\tprivate StringTokenizer st;\n\n\tprivate String next() throws IOException {\n\t\twhile (st == null || !st.hasMoreTokens()) {\n\t\t\tString rl = in.readLine();\n\t\t\tif (rl == null)\n\t\t\t\treturn null;\n\t\t\tst = new StringTokenizer(rl);\n\t\t}\n\t\treturn st.nextToken();\n\t}\n\n\tprivate int nextInt() throws IOException {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tprivate long nextLong() throws IOException {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tprivate double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(next());\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tLocale.setDefault(Locale.UK);\n\t\tnew Thread(new Main()).start();\n\t}\n\n\tpublic void run() {\n\t\ttry {\n\t\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\t\tout = new PrintWriter(System.out);\n\t\t\t//in = new BufferedReader(new FileReader(\"a.in\"));\n\t\t\t//out = new PrintWriter(new FileWriter(\"a.out\"));\n\n\t\t\t_main();\n\n\t\t\tout.close();\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\tSystem.exit(202);\n\t\t}\n\t}\n\n}\n"
        },
        {
            "language": 4,
            "solution": "//package round228;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\n\npublic class C {\n\tInputStream is;\n\tPrintWriter out;\n\tString INPUT = \"\";\n\t\n\tvoid solve()\n\t{\n\t\tint n = ni();\n\t\tlong left = 0, right = 0;\n\t\tint[] mid = new int[n];\n\t\tint p = 0;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tint K = ni();\n\t\t\tint[] a = na(K);\n\t\t\tfor(int j = 0;j < K/2;j++){\n\t\t\t\tleft += a[j];\n\t\t\t\tright += a[K-1-j];\n\t\t\t}\n\t\t\tif(K % 2 == 1){\n\t\t\t\tmid[p++] = a[K/2];\n\t\t\t}\n\t\t}\n\t\tArrays.sort(mid, 0, p);\n\t\tfor(int i = 0;i < p;i++){\n\t\t\tif(i%2 == 0){\n\t\t\t\tleft += mid[p-1-i];\n\t\t\t}else{\n\t\t\t\tright += mid[p-1-i];\n\t\t\t}\n\t\t}\n\t\tout.println(left + \" \" + right);\n\t}\n\t\n\tvoid run() throws Exception\n\t{\n\t\tis = oj ? System.in : new ByteArrayInputStream(INPUT.getBytes());\n\t\tout = new PrintWriter(System.out);\n\t\t\n\t\tlong s = System.currentTimeMillis();\n\t\tsolve();\n\t\tout.flush();\n\t\ttr(System.currentTimeMillis()-s+\"ms\");\n\t}\n\t\n\tpublic static void main(String[] args) throws Exception { new C().run(); }\n\t\n\tprivate byte[] inbuf = new byte[1024];\n\tprivate int lenbuf = 0, ptrbuf = 0;\n\t\n\tprivate int readByte()\n\t{\n\t\tif(lenbuf == -1)throw new InputMismatchException();\n\t\tif(ptrbuf >= lenbuf){\n\t\t\tptrbuf = 0;\n\t\t\ttry { lenbuf = is.read(inbuf); } catch (IOException e) { throw new InputMismatchException(); }\n\t\t\tif(lenbuf <= 0)return -1;\n\t\t}\n\t\treturn inbuf[ptrbuf++];\n\t}\n\t\n\tprivate boolean isSpaceChar(int c) { return !(c >= 33 && c <= 126); }\n\tprivate int skip() { int b; while((b = readByte()) != -1 && isSpaceChar(b)); return b; }\n\t\n\tprivate double nd() { return Double.parseDouble(ns()); }\n\tprivate char nc() { return (char)skip(); }\n\t\n\tprivate String ns()\n\t{\n\t\tint b = skip();\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile(!(isSpaceChar(b))){ // when nextLine, (isSpaceChar(b) && b != ' ')\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\t\n\tprivate char[] ns(int n)\n\t{\n\t\tchar[] buf = new char[n];\n\t\tint b = skip(), p = 0;\n\t\twhile(p < n && !(isSpaceChar(b))){\n\t\t\tbuf[p++] = (char)b;\n\t\t\tb = readByte();\n\t\t}\n\t\treturn n == p ? buf : Arrays.copyOf(buf, p);\n\t}\n\t\n\tprivate char[][] nm(int n, int m)\n\t{\n\t\tchar[][] map = new char[n][];\n\t\tfor(int i = 0;i < n;i++)map[i] = ns(m);\n\t\treturn map;\n\t}\n\t\n\tprivate int[] na(int n)\n\t{\n\t\tint[] a = new int[n];\n\t\tfor(int i = 0;i < n;i++)a[i] = ni();\n\t\treturn a;\n\t}\n\t\n\tprivate int ni()\n\t{\n\t\tint num = 0, b;\n\t\tboolean minus = false;\n\t\twhile((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'));\n\t\tif(b == '-'){\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\t\n\t\twhile(true){\n\t\t\tif(b >= '0' && b <= '9'){\n\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t}else{\n\t\t\t\treturn minus ? -num : num;\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t\n\tprivate long nl()\n\t{\n\t\tlong num = 0;\n\t\tint b;\n\t\tboolean minus = false;\n\t\twhile((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'));\n\t\tif(b == '-'){\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\t\n\t\twhile(true){\n\t\t\tif(b >= '0' && b <= '9'){\n\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t}else{\n\t\t\t\treturn minus ? -num : num;\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t\n\tprivate boolean oj = System.getProperty(\"ONLINE_JUDGE\") != null;\n\tprivate void tr(Object... o) { if(!oj)System.out.println(Arrays.deepToString(o)); }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\ntypedef struct {\n  int vector[100];\n} cartas;\nvoid cerar(int *vect, int dim);\nint pivot(int *unarray, int izq, int der);\nvoid Quicksort(int *unarray, int izq, int der);\nint main() {\n  int k, n, i, j, aux = 0, sumaCiel = 0, sumaJiro = 0;\n  scanf(\"%d\", &n);\n  cartas pilas[n];\n  int dimension[n];\n  int sobrante[n];\n  int div = 0;\n  int encontrado = 0, controlador = 0;\n  int resto, indice = 0;\n  cerar(sobrante, n);\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &dimension[i]);\n    aux = dimension[i];\n    for (j = 0; j < aux; j++) {\n      scanf(\"%d\", &pilas[i].vector[j]);\n    }\n  }\n  for (i = 0; i < n; i++) {\n    aux = dimension[i];\n    resto = aux % 2;\n    div = aux / 2;\n    if (resto == 0) {\n      for (j = 0; j < div; j++) {\n        sumaCiel += pilas[i].vector[j];\n        pilas[i].vector[j] = 0;\n      }\n      for (k = div; k < aux; k++) {\n        sumaJiro += pilas[i].vector[k];\n        pilas[i].vector[k] = 0;\n      }\n    } else {\n      for (j = 0; j < div; j++) {\n        sumaCiel += pilas[i].vector[j];\n      }\n      for (k = div + 1; k < aux; k++) {\n        sumaJiro += pilas[i].vector[k];\n      }\n      sobrante[indice] = pilas[i].vector[div];\n      indice++;\n    }\n  }\n  Quicksort(sobrante, 0, n - 1);\n  for (i = 0; i < n; i++) {\n    if (sobrante[i] != 0) {\n      if (encontrado == 0) {\n        sumaCiel += sobrante[i];\n        encontrado = 1;\n      } else {\n        sumaJiro += sobrante[i];\n        encontrado = 0;\n      }\n    } else {\n      i = n;\n    }\n  }\n  printf(\"%d %d\", sumaCiel, sumaJiro);\n  return 0;\n}\nvoid cerar(int *vect, int dim) {\n  int i = 0;\n  for (i = 0; i < dim; i++) {\n    vect[i] = 0;\n  }\n}\nint pivot(int *unarray, int izq, int der) {\n  int i;\n  int pivote, valor_pivote;\n  int aux;\n  pivote = izq;\n  valor_pivote = unarray[pivote];\n  for (i = izq + 1; i <= der; i++) {\n    if (unarray[i] > valor_pivote) {\n      pivote++;\n      aux = unarray[i];\n      unarray[i] = unarray[pivote];\n      unarray[pivote] = aux;\n    }\n  }\n  aux = unarray[izq];\n  unarray[izq] = unarray[pivote];\n  unarray[pivote] = aux;\n  return pivote;\n}\nvoid Quicksort(int *unarray, int izq, int der) {\n  int pivote;\n  if (izq < der) {\n    pivote = pivot(unarray, izq, der);\n    Quicksort(unarray, izq, pivote - 1);\n    Quicksort(unarray, pivote + 1, der);\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\npublic class Cdiv1 {\n\n\tpublic static void main(String[] args) {\n\t\tFastScanner sc = new FastScanner();\n\t\tint n = sc.nextInt();\n\t\tint[][] arr = new int[n][];\n\t\tlong a = 0, b = 0;\n\t\tArrayList<Long> mids = new ArrayList<>();\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tint m = sc.nextInt();\n\t\t\tarr[i] = new int[m];\n\t\t\tfor(int j = 0; j < m; j++) {\n\t\t\t\tarr[i][j] = sc.nextInt();\n\t\t\t}\n\t\t\tif(m % 2 == 0) {\n\t\t\t\tfor(int j = 0; j < m; j++) {\n\t\t\t\t\tif(j < m/2) a += arr[i][j];\n\t\t\t\t\telse b += arr[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor(int j = 0; j < m; j++) {\n\t\t\t\t\tif(j < m/2) a += arr[i][j];\n\t\t\t\t\telse if(j == m/2) mids.add((long)arr[i][j]);\n\t\t\t\t\telse b += arr[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tCollections.sort(mids, Collections.reverseOrder());\n\t\tfor(int i = 0; i < mids.size(); i++) {\n\t\t\tif(i % 2 == 0) a += mids.get(i);\n\t\t\telse b += mids.get(i);\n\t\t}\n\t\tSystem.out.println(a+\" \"+b);\n\t}\n\tstatic class FastScanner {\n        public BufferedReader reader;\n        public StringTokenizer tokenizer;\n        public FastScanner() {\n            reader = new BufferedReader(new InputStreamReader(System.in), 32768);\n            tokenizer = null;\n        }\n        public String next() {\n            while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n                try {\n                    tokenizer = new StringTokenizer(reader.readLine());\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n            return tokenizer.nextToken();\n        }\n        public int nextInt() {\n            return Integer.parseInt(next());\n        }\n        public long nextLong() {\n        \treturn Long.parseLong(next());\n        }\n        public double nextDouble() {\n        \treturn Double.parseDouble(next());\n        }\n        public String nextLine() {\n        \ttry {\n        \t\treturn reader.readLine();\n        \t} catch(IOException e) {\n        \t\tthrow new RuntimeException(e);\n        \t}\n        }\n    }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint i, j, k, n, temp;\nlong long int cei, jiro;\nint main() {\n  cin >> n;\n  vector<int> a;\n  for (i = 0; i < n; i++) {\n    cin >> k;\n    if (k % 2) {\n      for (j = 1; j <= k; j++) {\n        cin >> temp;\n        if ((k + 1) / 2 > j)\n          cei += temp;\n        else if ((k + 1) / 2 < j)\n          jiro += temp;\n        else\n          a.push_back(temp);\n      }\n    } else {\n      for (j = 1; j <= k; j++) {\n        cin >> temp;\n        if ((k + 1) / 2 >= j)\n          cei += temp;\n        else if ((k + 1) / 2 < j)\n          jiro += temp;\n      }\n    }\n  }\n  sort(a.begin(), a.end());\n  j = 0;\n  for (i = a.size() - 1; i >= 0; i--) {\n    if (j % 2 == 0)\n      cei += a[i];\n    else\n      jiro += a[i];\n    j++;\n  }\n  cout << cei << \" \" << jiro << \"\\n\";\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Scanner;\n\n/**\n * Created by Dudin Victor (duviteck@gmail.com)\n * SPbSU, Faculty of Mathematics and Mechanics\n * 2014 year\n */\npublic class Problem_C {\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        int n = s.nextInt();\n\n        int ans1 = 0;\n        int ans2 = 0;\n        ArrayList<Integer> common = new ArrayList<Integer>(n);\n        for (int i = 0; i < n; i++) {\n            int len = s.nextInt();\n            int l1 = len / 2;\n            for (int j = 0; j < l1; j++) {\n                ans1 += s.nextInt();\n            }\n            if (len % 2 == 1) {\n                common.add(s.nextInt());\n            }\n            for (int j = len - l1; j < len; j++) {\n                ans2 += s.nextInt();\n            }\n        }\n\n        Collections.sort(common, Collections.reverseOrder());\n        int order = 0;\n        int[] ansAr = new int[2];\n        for (int j : common) {\n            ansAr[order] += j;\n            order = (order + 1) % 2;\n        }\n\n        ans1 += ansAr[0];\n        ans2 += ansAr[1];\n\n        System.out.println(ans1 + \" \" + ans2);\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, m, C, J;\nvector<int> c[100], sr;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    for (int j = 0; j < m; j++) {\n      int card;\n      scanf(\"%d\", &card);\n      if ((m & 1) && (j == m / 2))\n        sr.push_back(card);\n      else if (j < m / 2)\n        C += card;\n      else\n        J += card;\n    }\n  }\n  sort(sr.begin(), sr.end());\n  for (int i = sr.size() - 1; i >= 0; i--) {\n    if ((i & 1) != ((sr.size() - 1) & 1))\n      J += sr[i];\n    else\n      C += sr[i];\n  }\n  printf(\"%d %d\", C, J);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ninline void R(int &x) {\n  char ch = getchar();\n  x = 0;\n  for (; ch < '0'; ch = getchar())\n    ;\n  for (; ch >= '0'; ch = getchar()) x = x * 10 + ch - '0';\n}\nconst int N = 105;\nint n, cnt[N], a[N][N];\nint main() {\n  R(n);\n  int m, s1 = 0, s2 = 0;\n  vector<int> rem;\n  for (int i = 1; i <= n; ++i) {\n    R(cnt[i]);\n    for (int j = 1; j <= cnt[i]; ++j) R(a[i][j]);\n    m = cnt[i] / 2;\n    for (int j = 1; j <= m; ++j) s1 += a[i][j], s2 += a[i][cnt[i] + 1 - j];\n    if (cnt[i] & 1) rem.push_back(a[i][m + 1]);\n  }\n  sort(rem.begin(), rem.end());\n  reverse(rem.begin(), rem.end());\n  for (int i = 0; i < rem.size(); ++i)\n    if (i & 1)\n      s2 += rem[i];\n    else\n      s1 += rem[i];\n  printf(\"%d %d\\n\", s1, s2);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\n\npublic class First3 {\n    public static void main(String[] args) throws IOException {\n        BufferedReader rd = new BufferedReader(new InputStreamReader(System.in));\n        PrintWriter pw = new PrintWriter(System.out);\n        StringTokenizer st;\n        int n = Integer.parseInt(rd.readLine());\n        P = new ArrayList[n];\n        for(int i=0; i<n; i++){\n            st = new StringTokenizer(rd.readLine());\n            int cnt = Integer.parseInt(st.nextToken());\n            P[i] = new ArrayList<Integer>();\n            for(int j=0; j<cnt; j++) P[i].add(Integer.parseInt(st.nextToken()));\n        }\n        ArrayList<Integer> odds = new ArrayList<Integer>();\n        for(int i=0; i<n; i++){\n            if(P[i].size()%2==0) continue;\n            odds.add(P[i].get((P[i].size()-1)/2));\n        }\n        Collections.sort(odds);\n        int first = 0, second = 0;\n        for(int i=0; i<odds.size(); i++){\n            if(i%2==0) first += odds.get(odds.size()-1-i);\n            else second += odds.get(odds.size()-1-i);\n        }\n        for(int i=0; i<n; i++){\n            for(int j=0; j<=(P[i].size()/2-1); j++){\n                first += P[i].get(j);\n            }\n            for(int j=0; j<=(P[i].size()/2-1); j++){\n                second += P[i].get(P[i].size()-1-j);\n            }\n        }\n        System.out.println(first+\" \"+second);\n    }\n    \n    \n    \n    static ArrayList<Integer>[] P;\n    \n    \n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\nimport static java.lang.Math.*;\n\npublic class Solution implements Runnable {\n\t\n\tpublic void solve() throws Exception {\n\t\tint n = sc.nextInt();\n\t\tint a[][] = new int [n][];\n\t\tint first = 0;\n\t\tint total = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint k = sc.nextInt();\n\t\t\ta[i] = new int [k];\n\t\t\tfor (int j = 0; j < k; j++) {\n\t\t\t\ta[i][j] = sc.nextInt();\n\t\t\t\ttotal += a[i][j];\n\t\t\t}\n\t\t\tfor (int j = 0; j < k / 2; j++) {\n\t\t\t\tfirst += a[i][j];\n\t\t\t}\n\t\t}\n\t\tArrayList<Integer> list = new ArrayList<>();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (a[i].length % 2 != 0) {\n\t\t\t\tlist.add(a[i][a[i].length / 2]);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(list);\n\t\tfor (int i = list.size() - 1; i >= 0; i -= 2) {\n\t\t\tfirst += list.get(i);\n\t\t}\n\t\tout.println(first+\" \"+(total - first));\n\t}\n\n\n\tstatic Throwable t;\n\n\tBufferedReader in;\n\tFastScanner sc;\n\tPrintWriter out;\n\n\t@Override\n\tpublic void run() {\n\t\ttry {\n\t\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\t\tout = new PrintWriter(System.out);\n\t\t\tsc = new FastScanner(in);\n\t\t\tsolve();\n\t\t} catch (Throwable t) {\n\t\t\tSolution.t = t;\n\t\t} finally {\n\t\t\tout.close();\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws Throwable {\n\t\tThread thread = new Thread(null, new Solution(), \"\", 1 << 26);\n\t\tthread.start();\n\t\tthread.join();\n\t\tif (Solution.t != null)\n\t\t\tthrow t;\n\t}\n\n}\n\nclass FastScanner {\n\n\tBufferedReader in;\n\tStringTokenizer st;\n\n\tpublic FastScanner(BufferedReader in) {\n\t\tthis.in = in;\n\t}\n\n\tpublic String nextToken() throws Exception {\n\t\twhile (st == null || !st.hasMoreTokens())\n\t\t\tst = new StringTokenizer(in.readLine());\n\t\treturn st.nextToken();\n\t}\n\n\tpublic int nextInt() throws Exception {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tpublic long nextLong() throws Exception {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tpublic double nextDouble() throws Exception {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 100 + 10;\nint a[maxn][maxn];\nint main() {\n  int n, m;\n  while (scanf(\"%d\", &n) != EOF) {\n    int sum1 = 0, sum2 = 0;\n    int N = 0;\n    set<pair<int, int> > S;\n    for (int i = 1; i <= n; i++) {\n      scanf(\"%d\", &m);\n      for (int j = 1; j <= m; j++) scanf(\"%d\", &a[i][j]);\n      if (m % 2 == 0) {\n        for (int j = 1; j <= m / 2; j++) sum1 += a[i][j];\n        for (int j = m / 2 + 1; j <= m; j++) sum2 += a[i][j];\n      } else {\n        for (int j = 1; j <= m / 2; j++) sum1 += a[i][j];\n        for (int j = m / 2 + 2; j <= m; j++) sum2 += a[i][j];\n        N++;\n        S.insert(make_pair(a[i][m / 2 + 1], N));\n      }\n    }\n    int flag = 0;\n    while (!S.empty()) {\n      if (flag == 0) {\n        int u = S.rbegin()->first;\n        int v = S.rbegin()->second;\n        sum1 += u;\n        S.erase(make_pair(u, v));\n        flag = 1 - flag;\n      } else {\n        int u = S.rbegin()->first;\n        int v = S.rbegin()->second;\n        sum2 += u;\n        S.erase(make_pair(u, v));\n        flag = 1 - flag;\n      }\n    }\n    printf(\"%d %d\\n\", sum1, sum2);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  vector<int> v;\n  int n;\n  cin >> n;\n  int p[2] = {0, 0};\n  while (n--) {\n    int s;\n    cin >> s;\n    int x;\n    for (int i = 0; i <= (s / 2 - 1); i++) {\n      cin >> x;\n      p[0] += x;\n    }\n    if (s % 2 == 1) {\n      cin >> x;\n      v.push_back(x);\n    }\n    for (int i = ((s % 2 == 0) ? (s / 2) : (s / 2) + 1); i < s; i++) {\n      cin >> x;\n      p[1] += x;\n    }\n  }\n  sort(v.begin(), v.end());\n  int gamer = 0;\n  for (int i = (v.size() - 1); i >= 0; i--) {\n    p[gamer] += v[i];\n    gamer = (gamer + 1) % 2;\n  }\n  cout << p[0] << \" \" << p[1] << endl;\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "n = input()\nA,ans = [],[0,0]\nfor i in range(n):\n\ta = map(int,raw_input().split())[1:]\n\tif len(a)%2 == 1:A += [a[len(a)/2]]\n\tans[0] += sum(a[:len(a)/2])\n\tans[1] += sum(a[(len(a)+1)/2:])\nA = sorted(A)[::-1]\nans[0] += sum(A[::2])\nans[1] += sum(A[1::2])\nprint ' '.join(map(str,ans))\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long N = 2e5 + 7, NS = 5e3 + 7, lg = 20, sq = 550, inf = 1e9 + 7,\n                mod = 1e9 + 7;\nconst long double eps = 1e-7;\nmt19937 rnd(chrono::steady_clock::now().time_since_epoch().count());\nvector<long long> c[N], t;\nsigned main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  ;\n  long long n, ans1 = 0, ans2 = 0;\n  cin >> n;\n  for (long long i = 0; i < n; i++) {\n    long long s, a;\n    cin >> s;\n    while (s--) {\n      cin >> a;\n      c[i].push_back(a);\n    }\n    if (c[i].size() % 2) t.push_back(c[i][c[i].size() / 2]);\n    for (long long j = 0; j < c[i].size() / 2; j++) {\n      ans1 += c[i][j];\n      ans2 += c[i][c[i].size() - j - 1];\n    }\n  }\n  sort((t).begin(), (t).end());\n  reverse((t).begin(), (t).end());\n  for (long long i = 0; i < t.size(); i++) {\n    if (i % 2)\n      ans2 += t[i];\n    else\n      ans1 += t[i];\n  }\n  cout << ans1 << ' ' << ans2 << '\\n';\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 100, S = 100, M = N * S, INF = 1e9;\nint c[N][S], s[N], n;\nint main() {\n  cin >> n;\n  int ciel = 0, jiro = 0;\n  vector<int> remain;\n  for (int i = 0; i < n; ++i) {\n    cin >> s[i];\n    for (int j = 0; j < s[i]; ++j) cin >> c[i][j];\n    for (int x = 0, y = s[i] - 1; x <= y; ++x, --y) {\n      if (x == y)\n        remain.push_back(c[i][x]);\n      else\n        ciel += c[i][x], jiro += c[i][y];\n    }\n  }\n  sort(remain.rbegin(), remain.rend());\n  for (unsigned i = 0; i < remain.size(); ++i) {\n    if ((i & 1) == 0)\n      ciel += remain[i];\n    else\n      jiro += remain[i];\n  }\n  cout << ciel << ' ' << jiro;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long MOD = 1e9 + 7;\nconst long long n_ = 1e5 + 1000;\nconst long double PI = acos(-1.0);\nlong long gcd(long long a, long long b) { return (a ? gcd(b % a, a) : b); }\nlong long power(long long a, long long n) {\n  long long p = 1;\n  while (n > 0) {\n    if (n % 2) {\n      p = p * a;\n    }\n    n >>= 1;\n    a *= a;\n  }\n  return p;\n}\nlong long power(long long a, long long n, long long mod) {\n  long long p = 1;\n  while (n > 0) {\n    if (n % 2) {\n      p = p * a;\n      p %= mod;\n    }\n    n >>= 1;\n    a *= a;\n    a %= mod;\n  }\n  return p % mod;\n}\nclass UnionFind {\n private:\n  vector<long long> p, rank, setSize;\n  long long numSets;\n\n public:\n  UnionFind(long long N) {\n    setSize.assign(N, 1);\n    numSets = N;\n    rank.assign(N, 0);\n    p.assign(N, 0);\n    for (long long i = 0; i < N; i++) p[i] = i;\n  }\n  long long findSet(long long i) {\n    return (p[i] == i) ? i : (p[i] = findSet(p[i]));\n  }\n  bool isSameSet(long long i, long long j) { return findSet(i) == findSet(j); }\n  void unionSet(long long i, long long j) {\n    if (!isSameSet(i, j)) {\n      numSets--;\n      long long x = findSet(i), y = findSet(j);\n      if (rank[x] > rank[y]) {\n        p[y] = x;\n        setSize[x] += setSize[y];\n      } else {\n        p[x] = y;\n        setSize[y] += setSize[x];\n        if (rank[x] == rank[y]) rank[y]++;\n      }\n    }\n  }\n  long long numDisjointSets() { return numSets; }\n  long long sizeOfSet(long long i) { return setSize[findSet(i)]; }\n};\nlong long a[3000005];\nsigned main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  long long n, s, x;\n  cin >> n;\n  vector<long long> v[n];\n  for (long long i = 0; i < n; i++) {\n    cin >> s;\n    for (long long j = 0; j < s; j++) {\n      cin >> x;\n      v[i].push_back(x);\n    }\n  }\n  long long a = 0, b = 0;\n  vector<long long> c;\n  for (long long i = 0; i < n; i++) {\n    long long l = v[i].size();\n    if (l % 2) {\n      for (long long j = 0; j < l; j++) {\n        if (j < l / 2)\n          a += v[i][j];\n        else if (j > l / 2)\n          b += v[i][j];\n        else\n          c.push_back(v[i][j]);\n      }\n    } else {\n      for (long long j = 0; j < l; j++) {\n        if (j < l / 2)\n          a += v[i][j];\n        else\n          b += v[i][j];\n      }\n    }\n  }\n  sort(c.rbegin(), c.rend());\n  for (long long i = 0; i < c.size(); i++) {\n    if (i % 2 == 0)\n      a += c[i];\n    else\n      b += c[i];\n  }\n  cout << a << \" \" << b;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 100 + 10;\nstruct dong {\n  int x, y, z;\n  friend bool operator<(dong a, dong b) {\n    return a.z > b.z || a.z == b.z && a.x < b.x ||\n           a.z == b.z && a.x == b.x && a.y < b.y;\n  }\n} zlt, wdc;\nmultiset<dong> s1, s2, s3;\nint a[maxn][maxn], f[maxn][maxn * maxn], s[maxn], b[maxn];\nint i, j, k, l, t, n, m, num, sum, ans1, ans2, now, top;\nint main() {\n  scanf(\"%d\", &n);\n  for (i = 1; i <= n; i++) {\n    scanf(\"%d\", &s[i]);\n    num += s[i];\n    for (j = 1; j <= s[i]; j++) scanf(\"%d\", &a[i][j]), sum += a[i][j];\n    if (s[i] % 2 == 0) {\n      for (j = 1; j <= s[i] / 2; j++) ans1 += a[i][j];\n      for (j = s[i] / 2 + 1; j <= s[i]; j++) ans2 += a[i][j];\n    } else {\n      for (j = 1; j <= s[i] / 2; j++) ans1 += a[i][j];\n      for (j = s[i] / 2 + 2; j <= s[i]; j++) ans2 += a[i][j];\n      b[++top] = a[i][s[i] / 2 + 1];\n    }\n  }\n  sort(b + 1, b + top + 1);\n  now = 0;\n  for (i = top; i >= 1; i--) {\n    if (!now)\n      ans1 += b[i];\n    else\n      ans2 += b[i];\n    now = 1 - now;\n  }\n  printf(\"%d %d\\n\", ans1, ans2);\n}\n"
        },
        {
            "language": 3,
            "solution": "n = int(input())\n\nlista = []\naux = []\n\nsomaA = 0\nsomaB = 0\n\nfor i in range(n):\n    a = [int(i) for i in input().split()][1:]\n    if len(a) > 1:\n        somaA += sum(a[0:len(a)//2])\n        somaB += sum(a[-(len(a)//2):])\n\n    if len(a) % 2 == 1:\n        aux.append(a[len(a)//2])\n\n\naux.sort(reverse=True)\n\nfor i in range(0, len(aux), 2):\n    somaA += aux[i]\nfor i in range(1, len(aux), 2):\n    somaB += aux[i]\n    \nprint(somaA, somaB)"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> v;\nint main() {\n  int n;\n  int a;\n  int i;\n  int c = 0;\n  int j = 0;\n  int f;\n  int m;\n  int k;\n  cin >> n;\n  for (i = 0; i < n; i++) {\n    cin >> a;\n    for (f = 0; f < a / 2; f++) {\n      cin >> k;\n      c = c + k;\n    }\n    if (a % 2) {\n      cin >> m;\n      v.push_back(m);\n    }\n    for (f = 0; f < a / 2; f++) {\n      cin >> k;\n      j = j + k;\n    }\n  }\n  sort(v.begin(), v.end());\n  for (i = v.size() - 1; i >= 0; i -= 2) {\n    c += v[i];\n    if (i - 1 >= 0) j += v[i - 1];\n  }\n  cout << c << \" \" << j << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N_MAX = 100 + 10;\nint N, a[N_MAX], fir = 0, sec = 0;\nvector<int> mid;\nint main() {\n  scanf(\"%d\", &N);\n  for (int i = 1; i <= N; ++i) {\n    memset(a, 0, sizeof(a));\n    int tmp;\n    scanf(\"%d\", &tmp);\n    for (int j = 1; j <= tmp; ++j) scanf(\"%d\", &a[j]);\n    if (tmp % 2 == 0) {\n      for (int j = 1; j <= tmp / 2; ++j) fir += a[j];\n      for (int j = tmp / 2 + 1; j <= tmp; ++j) sec += a[j];\n    } else {\n      for (int j = 1; j <= tmp / 2; ++j) fir += a[j];\n      for (int j = tmp / 2 + 2; j <= tmp; ++j) sec += a[j];\n      if (tmp / 2 + 1 <= tmp) mid.push_back(a[tmp / 2 + 1]);\n    }\n  }\n  sort(mid.begin(), mid.end(), greater<int>());\n  for (int j = 0, size = mid.size(); j < size; ++j)\n    if (j % 2 == 0)\n      fir += mid[j];\n    else\n      sec += mid[j];\n  printf(\"%d %d\\n\", fir, sec);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> v;\nint N, M, s1, s2;\nint ok = 1;\nint main() {\n  scanf(\"%d\", &N);\n  for (int i = 1; i <= N; ++i) {\n    scanf(\"%d\", &M);\n    for (int i = 1; i <= M; ++i) {\n      int x;\n      scanf(\"%d\", &x);\n      if (i == (M + 1) / 2 && M % 2 == 1) {\n        v.push_back(x);\n      } else if (i <= M / 2) {\n        s1 += x;\n      } else {\n        s2 += x;\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < v.size(); ++i) {\n    if (i % 2 == 0) {\n      s1 += v[i];\n    } else {\n      s2 += v[i];\n    }\n  }\n  printf(\"%d %d\", s1, s2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nconst int N = 998244;\ninline int gi() {\n  char c = getchar();\n  int s = 0, f = 1;\n  while (c > '9' || c < '0') {\n    if (c == '-') f = -f;\n    c = getchar();\n  }\n  while (c <= '9' && c >= '0')\n    s = (s << 3) + (s << 1) + (c - '0'), c = getchar();\n  return s * f;\n}\nint n, m, aan, ban;\nbool a;\nstd::priority_queue<int> q;\nsigned main() {\n  n = gi();\n  for (int i = 1; i <= n; i++) {\n    m = gi();\n    if (m % 2) {\n      for (int o = 1; o <= (m >> 1); o++) aan += gi();\n      q.push(gi());\n      for (int o = 1; o <= (m >> 1); o++) ban += gi();\n    } else {\n      for (int o = 1; o <= (m >> 1); o++) aan += gi();\n      for (int o = 1; o <= (m >> 1); o++) ban += gi();\n    }\n  }\n  while (!q.empty()) {\n    if (!a)\n      aan += q.top();\n    else\n      ban += q.top();\n    q.pop();\n    a ^= 1;\n  }\n  printf(\"%d %d\\n\", aan, ban);\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.Arrays;\n\npublic class CF388C {\n\n    public static void solve(Input in, PrintWriter out) throws IOException {\n        int n = in.nextInt();\n        long a = 0, b = 0;\n        long[] ar = new long[n];\n        int arLen = 0;\n        for (int i = 0; i < n; ++i) {\n            int c = in.nextInt();\n            for (int j = 0; j < c; ++j) {\n                long x = in.nextLong();\n                if (2 * j < c - 1) {\n                    a += x;\n                } else if (2 * j > c - 1) {\n                    b += x;\n                } else if (2 * j == c - 1) {\n                    ar[arLen++] = x;\n                }\n            }\n        }\n        ar = Arrays.copyOf(ar, arLen);\n        Arrays.sort(ar);\n        for (int i = ar.length - 1; i >= 0; --i) {\n            if ((ar.length - i) % 2 == 1) {\n                a += ar[i];\n            } else {\n                b += ar[i];\n            }\n        }\n        out.println(a + \" \" + b);\n    }\n\n    public static void main(String[] args) throws IOException {\n        PrintWriter out = new PrintWriter(System.out);\n        solve(new Input(new BufferedReader(new InputStreamReader(System.in))), out);\n        out.close();\n    }\n\n    static class Input {\n        BufferedReader in;\n        StringBuilder sb = new StringBuilder();\n\n        public Input(BufferedReader in) {\n            this.in = in;\n        }\n\n        public Input(String s) {\n            this.in = new BufferedReader(new StringReader(s));\n        }\n\n        public String next() throws IOException {\n            sb.setLength(0);\n            while (true) {\n                int c = in.read();\n                if (c == -1) {\n                    return null;\n                }\n                if (\" \\n\\r\\t\".indexOf(c) == -1) {\n                    sb.append((char)c);\n                    break;\n                }\n            }\n            while (true) {\n                int c = in.read();\n                if (c == -1 || \" \\n\\r\\t\".indexOf(c) != -1) {\n                    break;\n                }\n                sb.append((char)c);\n            }\n            return sb.toString();\n        }\n\n        public int nextInt() throws IOException {\n            return Integer.parseInt(next());\n        }\n\n        public long nextLong() throws IOException {\n            return Long.parseLong(next());\n        }\n\n        public double nextDouble() throws IOException {\n            return Double.parseDouble(next());\n        }\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  {\n    int n;\n    cin >> n;\n    long long int sumchef = 0;\n    long long int sumram = 0;\n    vector<int> arr(1000000, 0);\n    int noodd = 0;\n    int noofpair = 0;\n    vector<int> arrextra;\n    for (int i = 1; i <= n; i++) {\n      int c;\n      cin >> c;\n      for (int j = 0; j < c; j++) {\n        cin >> arr[j];\n      }\n      if (c % 2 == 0) {\n        for (int x = 0; x < c / 2; x++) sumchef += arr[x];\n        for (int x = c / 2; x < c; x++) sumram += arr[x];\n      } else if (c % 2 != 0) {\n        for (int x = 0; x < c / 2; x++) sumchef += arr[x];\n        for (int x = c / 2 + 1; x < c; x++) sumram += arr[x];\n        arrextra.push_back(arr[c / 2]);\n        noodd++;\n      }\n      noofpair += c / 2;\n    }\n    bool turnchef = true;\n    if (noofpair % 2 == 0) turnchef = true;\n    sort(arrextra.begin(), arrextra.end(), greater<int>());\n    for (int idx = 0; idx < noodd; idx++) {\n      if (turnchef == true) {\n        sumchef += arrextra[idx];\n      } else {\n        sumram += arrextra[idx];\n      }\n      turnchef = (turnchef == 1) ? 0 : 1;\n    }\n    cout << sumchef << \" \" << sumram << endl;\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[105];\nint b[105];\nbool cmp(int a, int b) { return a > b; }\nint main() {\n  int n, x = 0, y = 0, m;\n  int cnt = 0;\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &m);\n    for (int j = 1; j <= m; j++) {\n      scanf(\"%d\", &a[j]);\n    }\n    if (m & 1) {\n      for (int j = 1; j <= m / 2; j++) {\n        x += a[j];\n      }\n      b[cnt++] = a[m / 2 + 1];\n      for (int j = m / 2 + 2; j <= m; j++) {\n        y += a[j];\n      }\n    } else {\n      for (int j = 1; j <= m / 2; j++) {\n        x += a[j];\n      }\n      for (int j = m / 2 + 1; j <= m; j++) {\n        y += a[j];\n      }\n    }\n  }\n  sort(b, b + cnt, cmp);\n  for (int i = 0; i < cnt; i++) {\n    if (i & 1)\n      y += b[i];\n    else\n      x += b[i];\n  }\n  printf(\"%d %d\", x, y);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.math.BigInteger;\nimport java.util.*;\n\nimport static java.lang.Double.parseDouble;\nimport static java.lang.Integer.bitCount;\nimport static java.lang.Integer.parseInt;\nimport static java.lang.Long.parseLong;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        new Solver().run();\n    }\n}\n\nclass Solver {\n    BufferedReader in;\n    PrintWriter out;\n    StringTokenizer tok;\n\n    void run() throws IOException {\n        in = new BufferedReader(new InputStreamReader(System.in));\n        out = new PrintWriter(System.out);\n        //in = new BufferedReader(new FileReader(\"input.txt\"));\n        //out = new PrintWriter(new File(\"output.txt\"));\n        solve();\n        out.close();\n    }\n\n    public void solve() throws IOException {\n        int n = nextInt();\n        ArrayList<Integer> a = new ArrayList<Integer>();\n        int first = 0, second = 0;\n        while (n-- > 0) {\n            int k = nextInt();\n            for (int i = 0; i < k / 2; ++i) {\n                first += nextInt();\n            }\n            if (k % 2 == 1) a.add(nextInt());\n            for (int i = 0; i < k / 2; ++i) {\n                second += nextInt();\n            }\n        }\n        Integer[] aa = new Integer[a.size()];\n        aa = a.toArray(aa);\n        Arrays.sort(aa);\n        for (int i = 0; i < aa.length; ++i) {\n            if (i % 2 == 0) first += aa[aa.length - 1 - i];\n            else second += aa[aa.length - 1 - i];\n        }\n        out.println(first + \" \" + second);\n    }\n\n    String next() throws IOException {\n        if (tok == null || !tok.hasMoreTokens()) {\n            tok = new StringTokenizer(in.readLine());\n        }\n        return tok.nextToken();\n    }\n\n    BigInteger nextBigInteger() throws IOException {\n        return new BigInteger(next());\n    }\n\n    int nextInt() throws IOException {\n        return parseInt(next());\n    }\n\n    long nextLong() throws IOException {\n        return parseLong(next());\n    }\n\n    double nextDouble() throws IOException {\n        return parseDouble(next());\n    }\n}"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Arrays;\nimport java.io.IOException;\nimport java.util.Random;\nimport java.io.UncheckedIOException;\nimport java.io.Closeable;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        Thread thread = new Thread(null, new TaskAdapter(), \"\", 1 << 29);\n        thread.start();\n        thread.join();\n    }\n\n    static class TaskAdapter implements Runnable {\n        @Override\n        public void run() {\n            InputStream inputStream = System.in;\n            OutputStream outputStream = System.out;\n            FastInput in = new FastInput(inputStream);\n            FastOutput out = new FastOutput(outputStream);\n            CFoxAndCardGame solver = new CFoxAndCardGame();\n            solver.solve(1, in, out);\n            out.close();\n        }\n    }\n\n    static class CFoxAndCardGame {\n        public void solve(int testNumber, FastInput in, FastOutput out) {\n            int n = in.ri();\n            int[][] piles = new int[n][];\n            for (int i = 0; i < n; i++) {\n                int m = in.ri();\n                piles[i] = in.ri(m);\n            }\n            long first = 0;\n            long second = 0;\n            IntegerArrayList chance = new IntegerArrayList(n);\n            for (int[] p : piles) {\n                int l = 0;\n                int r = p.length - 1;\n                while (l < r) {\n                    first += p[l];\n                    second += p[r];\n                    l++;\n                    r--;\n                }\n                if (l == r) {\n                    chance.add(p[l]);\n                }\n            }\n            chance.sort();\n            chance.reverse();\n            for (int i = 0; i < chance.size(); i++) {\n                if (i % 2 == 0) {\n                    first += chance.get(i);\n                } else {\n                    second += chance.get(i);\n                }\n            }\n            out.println(first);\n            out.println(second);\n        }\n\n    }\n\n    static class FastInput {\n        private final InputStream is;\n        private byte[] buf = new byte[1 << 13];\n        private int bufLen;\n        private int bufOffset;\n        private int next;\n\n        public FastInput(InputStream is) {\n            this.is = is;\n        }\n\n        public void populate(int[] data) {\n            for (int i = 0; i < data.length; i++) {\n                data[i] = readInt();\n            }\n        }\n\n        private int read() {\n            while (bufLen == bufOffset) {\n                bufOffset = 0;\n                try {\n                    bufLen = is.read(buf);\n                } catch (IOException e) {\n                    bufLen = -1;\n                }\n                if (bufLen == -1) {\n                    return -1;\n                }\n            }\n            return buf[bufOffset++];\n        }\n\n        public void skipBlank() {\n            while (next >= 0 && next <= 32) {\n                next = read();\n            }\n        }\n\n        public int ri() {\n            return readInt();\n        }\n\n        public int[] ri(int n) {\n            int[] ans = new int[n];\n            populate(ans);\n            return ans;\n        }\n\n        public int readInt() {\n            int sign = 1;\n\n            skipBlank();\n            if (next == '+' || next == '-') {\n                sign = next == '+' ? 1 : -1;\n                next = read();\n            }\n\n            int val = 0;\n            if (sign == 1) {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 + next - '0';\n                    next = read();\n                }\n            } else {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 - next + '0';\n                    next = read();\n                }\n            }\n\n            return val;\n        }\n\n    }\n\n    static class SequenceUtils {\n        public static void swap(int[] data, int i, int j) {\n            int tmp = data[i];\n            data[i] = data[j];\n            data[j] = tmp;\n        }\n\n        public static void reverse(int[] data, int l, int r) {\n            while (l < r) {\n                swap(data, l, r);\n                l++;\n                r--;\n            }\n        }\n\n        public static boolean equal(int[] a, int al, int ar, int[] b, int bl, int br) {\n            if ((ar - al) != (br - bl)) {\n                return false;\n            }\n            for (int i = al, j = bl; i <= ar; i++, j++) {\n                if (a[i] != b[j]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n    }\n\n    static class Randomized {\n        public static void shuffle(int[] data, int from, int to) {\n            to--;\n            for (int i = from; i <= to; i++) {\n                int s = nextInt(i, to);\n                int tmp = data[i];\n                data[i] = data[s];\n                data[s] = tmp;\n            }\n        }\n\n        public static int nextInt(int l, int r) {\n            return RandomWrapper.INSTANCE.nextInt(l, r);\n        }\n\n    }\n\n    static class RandomWrapper {\n        private Random random;\n        public static final RandomWrapper INSTANCE = new RandomWrapper();\n\n        public RandomWrapper() {\n            this(new Random());\n        }\n\n        public RandomWrapper(Random random) {\n            this.random = random;\n        }\n\n        public RandomWrapper(long seed) {\n            this(new Random(seed));\n        }\n\n        public int nextInt(int l, int r) {\n            return random.nextInt(r - l + 1) + l;\n        }\n\n    }\n\n    static class IntegerArrayList implements Cloneable {\n        private int size;\n        private int cap;\n        private int[] data;\n        private static final int[] EMPTY = new int[0];\n\n        public IntegerArrayList(int cap) {\n            this.cap = cap;\n            if (cap == 0) {\n                data = EMPTY;\n            } else {\n                data = new int[cap];\n            }\n        }\n\n        public IntegerArrayList(int[] data) {\n            this(0);\n            addAll(data);\n        }\n\n        public IntegerArrayList(IntegerArrayList list) {\n            this.size = list.size;\n            this.cap = list.cap;\n            this.data = Arrays.copyOf(list.data, size);\n        }\n\n        public IntegerArrayList() {\n            this(0);\n        }\n\n        public void reverse(int l, int r) {\n            SequenceUtils.reverse(data, l, r);\n        }\n\n        public void reverse() {\n            reverse(0, size - 1);\n        }\n\n        public void ensureSpace(int req) {\n            if (req > cap) {\n                while (cap < req) {\n                    cap = Math.max(cap + 10, 2 * cap);\n                }\n                data = Arrays.copyOf(data, cap);\n            }\n        }\n\n        private void checkRange(int i) {\n            if (i < 0 || i >= size) {\n                throw new ArrayIndexOutOfBoundsException(\"Access [\" + i + \"]\");\n            }\n        }\n\n        public int get(int i) {\n            checkRange(i);\n            return data[i];\n        }\n\n        public void add(int x) {\n            ensureSpace(size + 1);\n            data[size++] = x;\n        }\n\n        public void addAll(int[] x) {\n            addAll(x, 0, x.length);\n        }\n\n        public void addAll(int[] x, int offset, int len) {\n            ensureSpace(size + len);\n            System.arraycopy(x, offset, data, size, len);\n            size += len;\n        }\n\n        public void addAll(IntegerArrayList list) {\n            addAll(list.data, 0, list.size);\n        }\n\n        public void sort() {\n            if (size <= 1) {\n                return;\n            }\n            Randomized.shuffle(data, 0, size);\n            Arrays.sort(data, 0, size);\n        }\n\n        public int size() {\n            return size;\n        }\n\n        public int[] toArray() {\n            return Arrays.copyOf(data, size);\n        }\n\n        public String toString() {\n            return Arrays.toString(toArray());\n        }\n\n        public boolean equals(Object obj) {\n            if (!(obj instanceof IntegerArrayList)) {\n                return false;\n            }\n            IntegerArrayList other = (IntegerArrayList) obj;\n            return SequenceUtils.equal(data, 0, size - 1, other.data, 0, other.size - 1);\n        }\n\n        public int hashCode() {\n            int h = 1;\n            for (int i = 0; i < size; i++) {\n                h = h * 31 + Integer.hashCode(data[i]);\n            }\n            return h;\n        }\n\n        public IntegerArrayList clone() {\n            IntegerArrayList ans = new IntegerArrayList();\n            ans.addAll(this);\n            return ans;\n        }\n\n    }\n\n    static class FastOutput implements AutoCloseable, Closeable, Appendable {\n        private static final int THRESHOLD = 32 << 10;\n        private final Writer os;\n        private StringBuilder cache = new StringBuilder(THRESHOLD * 2);\n\n        public FastOutput append(CharSequence csq) {\n            cache.append(csq);\n            return this;\n        }\n\n        public FastOutput append(CharSequence csq, int start, int end) {\n            cache.append(csq, start, end);\n            return this;\n        }\n\n        private void afterWrite() {\n            if (cache.length() < THRESHOLD) {\n                return;\n            }\n            flush();\n        }\n\n        public FastOutput(Writer os) {\n            this.os = os;\n        }\n\n        public FastOutput(OutputStream os) {\n            this(new OutputStreamWriter(os));\n        }\n\n        public FastOutput append(char c) {\n            cache.append(c);\n            afterWrite();\n            return this;\n        }\n\n        public FastOutput append(long c) {\n            cache.append(c);\n            afterWrite();\n            return this;\n        }\n\n        public FastOutput println(long c) {\n            return append(c).println();\n        }\n\n        public FastOutput println() {\n            return append('\\n');\n        }\n\n        public FastOutput flush() {\n            try {\n//            boolean success = false;\n//            if (stringBuilderValueField != null) {\n//                try {\n//                    char[] value = (char[]) stringBuilderValueField.get(cache);\n//                    os.write(value, 0, cache.length());\n//                    success = true;\n//                } catch (Exception e) {\n//                }\n//            }\n//            if (!success) {\n                os.append(cache);\n//            }\n                os.flush();\n                cache.setLength(0);\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n            return this;\n        }\n\n        public void close() {\n            flush();\n            try {\n                os.close();\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        }\n\n        public String toString() {\n            return cache.toString();\n        }\n\n    }\n}\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> v;\nint main() {\n  int ciel = 0, jiro = 0, i, j, s[105], n, m;\n  scanf(\"%d\", &n);\n  s[0] = 0;\n  while (n--) {\n    scanf(\"%d\", &m);\n    for (i = 1; i <= m; ++i) {\n      scanf(\"%d\", &j);\n      s[i] = s[i - 1] + j;\n    }\n    ciel += s[m >> 1];\n    jiro += s[m] - s[(m + 1) >> 1];\n    if (m & 1) v.push_back(-s[(m >> 1) + 1] + s[m >> 1]);\n  }\n  sort(v.begin(), v.end());\n  for (i = 0; i < v.size(); ++i)\n    if (i & 1)\n      jiro -= v[i];\n    else\n      ciel -= v[i];\n  printf(\"%d %d\", ciel, jiro);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  int x = 0, y = 0;\n  vector<int> odd;\n  for (int i = (0); i < (n); ++i) {\n    int u;\n    scanf(\"%d\", &u);\n    if (u % 2 == 0) {\n      for (int j = (0); j < (u); ++j) {\n        int a;\n        scanf(\"%d\", &a);\n        if (j < u / 2)\n          x += a;\n        else\n          y += a;\n      }\n    } else {\n      for (int j = (0); j < (u); ++j) {\n        int a;\n        scanf(\"%d\", &a);\n        if (j < u / 2)\n          x += a;\n        else if (2 * j + 1 == u)\n          odd.push_back(a);\n        else\n          y += a;\n      }\n    }\n  }\n  sort(odd.begin(), odd.end(), greater<int>());\n  for (int i = (0); i < (odd.size()); ++i) {\n    if (i % 2)\n      y += odd[i];\n    else\n      x += odd[i];\n  }\n  cout << x << \" \" << y << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[1000];\nint main() {\n  int n, m, x, t1, t2;\n  while (scanf(\"%d\", &n) != EOF) {\n    t1 = t2 = 0;\n    for (int i = 1; i <= n; i++) {\n      scanf(\"%d\", &m);\n      a[i] = 0;\n      for (int j = 1; j <= m; j++) {\n        scanf(\"%d\", &x);\n        if (j == (m + 1) / 2 && m % 2 == 1) a[i] = x;\n        t1 += (j <= m / 2 ? x : 0);\n        t2 += x;\n      }\n    }\n    sort(a + 1, a + 1 + n);\n    for (int i = n; i >= 1; i--) t1 += ((n - i) % 2 == 0 ? a[i] : 0);\n    printf(\"%d %d\\n\", t1, t2 - t1);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst long long MOD = 1000000007;\nlong long POW(long long a, long long b, long long MMM = MOD) {\n  long long ret = 1;\n  for (; b; b >>= 1, a = (a * a) % MMM)\n    if (b & 1) ret = (ret * a) % MMM;\n  return ret;\n}\nint gcd(int a, int b) { return b ? gcd(b, a % b) : a; }\nlong long lcm(long long a, long long b) {\n  if (a == 0 || b == 0) return a + b;\n  return a * (b / gcd(a, b));\n}\nint dx[] = {0, 1, 0, -1}, dy[] = {1, 0, -1, 0};\nint ddx[] = {0, 0, 1, 1, 1, -1, -1, -1}, ddy[] = {1, -1, 1, 0, -1, 1, 0, -1};\nint ans[2];\nint main() {\n  priority_queue<int> q;\n  int n;\n  scanf(\"%d\", &n);\n  for (int(i) = (0); (i) <= (n - 1); (i) += (1)) {\n    int k;\n    scanf(\"%d\", &k);\n    int m = k / 2;\n    if (k & 1) {\n      for (int(t) = (0); (t) <= (k - 1); (t) += (1)) {\n        int x;\n        scanf(\"%d\", &x);\n        if (t < m)\n          ans[0] += x;\n        else if (t == m)\n          q.push(x);\n        else\n          ans[1] += x;\n      }\n    } else {\n      for (int(t) = (0); (t) <= (k - 1); (t) += (1)) {\n        int x;\n        scanf(\"%d\", &x);\n        if (t < m)\n          ans[0] += x;\n        else\n          ans[1] += x;\n      }\n    }\n  }\n  int now = 0;\n  while (!q.empty()) {\n    ans[now] += q.top();\n    q.pop();\n    now = 1 - now;\n  }\n  printf(\"%d %d\", ans[0], ans[1]);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\nint n, i, j;\nstruct Pipe {\n  int s[N], top, bottom, sum;\n} p[N];\nbool cmp(Pipe a, Pipe b) { return a.sum > b.sum; }\nint main() {\n  memset(p, 0, sizeof(p));\n  scanf(\"%d\", &n);\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &p[i].bottom);\n    for (j = 0; j < p[i].bottom; j++) {\n      scanf(\"%d\", &p[i].s[j]);\n      p[i].sum = p[i].s[p[i].bottom / 2];\n    }\n  }\n  sort(p, p + n, cmp);\n  int ans1 = 0, ans2 = 0, bo = 0;\n  for (i = 0; i < n; i++) {\n    if (p[i].bottom % 2 == 0) {\n      for (j = 0; j < p[i].bottom / 2; j++) {\n        ans1 += p[i].s[j];\n      }\n      for (; j < p[i].bottom; j++) ans2 += p[i].s[j];\n    } else {\n      for (j = 0; j < p[i].bottom / 2 + (bo % 2 == 0); j++) ans1 += p[i].s[j];\n      for (; j < p[i].bottom; j++) ans2 += p[i].s[j];\n      bo++;\n    }\n  }\n  printf(\"%d %d\\n\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.Iterator;\nimport java.io.BufferedWriter;\nimport java.util.InputMismatchException;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.util.NoSuchElementException;\nimport java.util.Collections;\nimport java.io.InputStream;\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        InputReader in = new InputReader(inputStream);\n        OutputWriter out = new OutputWriter(outputStream);\n        TaskC solver = new TaskC();\n        solver.solve(1, in, out);\n        out.close();\n    }\n    static class TaskC {\n        public void solve(int testNumber, InputReader in, OutputWriter out) {\n            int n = in.readInt(), tot = 0;\n            int[][] tab = new int[n][];\n            for (int i = 0; i < n; i++) {\n                int len = in.readInt();\n                tab[i] = IOUtils.readIntArray(in, len);\n                tot += ArrayUtils.sumArray(tab[i]);\n            }\n            int leftsum = 0;\n            ArrayList<Integer> middles = new ArrayList<>();\n            for (int row = 0; row < tab.length; row++) {\n                for (int i = 0; i < tab[row].length / 2; i++) {\n                    leftsum += tab[row][i];\n                }\n                if (tab[row].length % 2 == 1) middles.add(tab[row][tab[row].length / 2]);\n            }\n            Collections.sort(middles, Collections.reverseOrder());\n            for (int i = 0; i < middles.size(); i += 2) {\n                leftsum += middles.get(i);\n            }\n            out.printLine(leftsum, tot - leftsum);\n        }\n    }\n    static class IntArray extends IntAbstractStream implements IntList {\n        private int[] data;\n        public IntArray(int[] arr) {\n            data = arr;\n        }\n        public int size() {\n            return data.length;\n        }\n        public int get(int at) {\n            return data[at];\n        }\n        public void removeAt(int index) {\n            throw new UnsupportedOperationException();\n        }\n    }\n    static abstract class IntAbstractStream implements IntStream {\n        public String toString() {\n            StringBuilder builder = new StringBuilder();\n            boolean first = true;\n            for (IntIterator it = intIterator(); it.isValid(); it.advance()) {\n                if (first) {\n                    first = false;\n                } else {\n                    builder.append(' ');\n                }\n                builder.append(it.value());\n            }\n            return builder.toString();\n        }\n        public boolean equals(Object o) {\n            if (!(o instanceof IntStream)) {\n                return false;\n            }\n            IntStream c = (IntStream) o;\n            IntIterator it = intIterator();\n            IntIterator jt = c.intIterator();\n            while (it.isValid() && jt.isValid()) {\n                if (it.value() != jt.value()) {\n                    return false;\n                }\n                it.advance();\n                jt.advance();\n            }\n            return !it.isValid() && !jt.isValid();\n        }\n        public int hashCode() {\n            int result = 0;\n            for (IntIterator it = intIterator(); it.isValid(); it.advance()) {\n                result *= 31;\n                result += it.value();\n            }\n            return result;\n        }\n    }\n    static interface IntCollection extends IntStream {\n        public int size();\n    }\n    static class IOUtils {\n        public static int[] readIntArray(InputReader in, int size) {\n            int[] array = new int[size];\n            for (int i = 0; i < size; i++)\n                array[i] = in.readInt();\n            return array;\n        }\n    }\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n        private InputReader.SpaceCharFilter filter;\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n        public int read() {\n            if (numChars == -1)\n                throw new InputMismatchException();\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0)\n                    return -1;\n            }\n            return buf[curChar++];\n        }\n        public int readInt() {\n            int c = read();\n            while (isSpaceChar(c))\n                c = read();\n            int sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = read();\n            }\n            int res = 0;\n            do {\n                if (c < '0' || c > '9')\n                    throw new InputMismatchException();\n                res *= 10;\n                res += c - '0';\n                c = read();\n            } while (!isSpaceChar(c));\n            return res * sgn;\n        }\n        public boolean isSpaceChar(int c) {\n            if (filter != null)\n                return filter.isSpaceChar(c);\n            return isWhitespace(c);\n        }\n        public static boolean isWhitespace(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n        }\n    }\n    static interface IntList extends IntReversableCollection {\n        public abstract int get(int index);\n        public abstract void removeAt(int index);\n        default public IntIterator intIterator() {\n            return new IntIterator() {\n                private int at;\n                private boolean removed;\n                public int value() {\n                    if (removed) {\n                        throw new IllegalStateException();\n                    }\n                    return get(at);\n                }\n                public boolean advance() {\n                    at++;\n                    removed = false;\n                    return isValid();\n                }\n                public boolean isValid() {\n                    return !removed && at < size();\n                }\n                public void remove() {\n                    removeAt(at);\n                    at--;\n                    removed = true;\n                }\n            };\n        }\n    }\n    static interface IntReversableCollection extends IntCollection {\n    }\n    static class ArrayUtils {\n        public static long sumArray(int[] array) {\n            return new IntArray(array).sum();\n        }\n    }\n    static interface IntStream extends Iterable<Integer>, Comparable<IntStream> {\n        public IntIterator intIterator();\n        default public Iterator<Integer> iterator() {\n            return new Iterator<Integer>() {\n                private IntIterator it = intIterator();\n                public boolean hasNext() {\n                    return it.isValid();\n                }\n                public Integer next() {\n                    int result = it.value();\n                    it.advance();\n                    return result;\n                }\n            };\n        }\n        default public int compareTo(IntStream c) {\n            IntIterator it = intIterator();\n            IntIterator jt = c.intIterator();\n            while (it.isValid() && jt.isValid()) {\n                int i = it.value();\n                int j = jt.value();\n                if (i < j) {\n                    return -1;\n                } else if (i > j) {\n                    return 1;\n                }\n                it.advance();\n                jt.advance();\n            }\n            if (it.isValid()) {\n                return 1;\n            }\n            if (jt.isValid()) {\n                return -1;\n            }\n            return 0;\n        }\n        default public long sum() {\n            long result = 0;\n            for (IntIterator it = intIterator(); it.isValid(); it.advance()) {\n                result += it.value();\n            }\n            return result;\n        }\n    }\n    static class OutputWriter {\n        private final PrintWriter writer;\n        public OutputWriter(OutputStream outputStream) {\n            writer = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));\n        }\n        public OutputWriter(Writer writer) {\n            this.writer = new PrintWriter(writer);\n        }\n        public void print(Object... objects) {\n            for (int i = 0; i < objects.length; i++) {\n                if (i != 0)\n                    writer.print(' ');\n                writer.print(objects[i]);\n            }\n        }\n        public void printLine(Object... objects) {\n            print(objects);\n            writer.println();\n        }\n        public void close() {\n            writer.close();\n        }\n    }\n    static interface IntIterator {\n        public int value() throws NoSuchElementException;\n        public boolean advance();\n        public boolean isValid();\n    }\n}\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\ntypedef struct mazo {\n  struct mazo* sigmazo;\n  int dato;\n  struct mazo* sigcarta;\n  struct mazo* antcarta;\n} CARTAS;\nCARTAS* crearMazo(int, long int*, long int*);\nvoid eliminar(CARTAS*);\nint main() {\n  long int sumPar = 0, sumImpar = 0;\n  int mazos, i, sum = 0, mayor, menor, cartas;\n  CARTAS *cabeza, *ptr, *ptrcartas, *nodoeliminar, *mazo;\n  scanf(\"%d\", &mazos);\n  for (i = 0; i < mazos; i++) {\n    scanf(\"%d\", &cartas);\n    sum += cartas;\n    if (i == 0) {\n      cabeza = crearMazo(cartas, &sumPar, &sumImpar);\n      ptr = cabeza;\n    } else {\n      ptr->sigmazo = crearMazo(cartas, &sumPar, &sumImpar);\n      ptr = ptr->sigmazo;\n    }\n  }\n  for (i = 0; i < sum; i++) {\n    ptr = cabeza;\n    mayor = -10;\n    if (i % 2 == 0) {\n      while (ptr != NULL) {\n        if (ptr->dato != 0) {\n          if (ptr->sigcarta->dato > mayor) {\n            mayor = ptr->sigcarta->dato;\n            nodoeliminar = ptr->sigcarta;\n            mazo = ptr;\n          }\n        }\n        ptr = ptr->sigmazo;\n      }\n      if (nodoeliminar != NULL) {\n        eliminar(nodoeliminar);\n        mazo->dato--;\n        sumPar += (long int)mayor;\n        nodoeliminar = NULL;\n      }\n    } else {\n      mayor = -10;\n      while (ptr != NULL) {\n        if (ptr->dato != 0) {\n          if (ptr->antcarta->dato > mayor) {\n            mayor = ptr->antcarta->dato;\n            nodoeliminar = ptr->antcarta;\n            mazo = ptr;\n          }\n        }\n        ptr = ptr->sigmazo;\n      }\n      if (nodoeliminar != NULL) {\n        eliminar(nodoeliminar);\n        mazo->dato--;\n        sumImpar += (long int)mayor;\n        nodoeliminar = NULL;\n      }\n    }\n  }\n  printf(\"%ld %ld\", sumPar, sumImpar);\n  return 0;\n}\nCARTAS* crearMazo(int cartas, long int* sumPar, long int* sumImpar) {\n  CARTAS *cabezamazo, *ptr, *nodo;\n  int dato = 0, i;\n  cabezamazo = (CARTAS*)malloc(sizeof(CARTAS));\n  if (cartas % 2 == 0) {\n    cabezamazo->dato = 0;\n  } else {\n    cabezamazo->dato = 1;\n  }\n  cabezamazo->antcarta = cabezamazo;\n  cabezamazo->sigcarta = cabezamazo;\n  ptr = cabezamazo;\n  for (i = 0; i < cartas; i++) {\n    scanf(\"%d\", &dato);\n    if (i < (cartas / 2)) {\n      *sumPar += dato;\n    } else if (i == (cartas / 2) && cartas % 2 == 1) {\n      nodo = (CARTAS*)malloc(sizeof(CARTAS));\n      nodo->dato = dato;\n      nodo->sigmazo = NULL;\n      nodo->sigcarta = cabezamazo;\n      nodo->antcarta = ptr;\n      cabezamazo->antcarta = nodo;\n      ptr->sigcarta = nodo;\n      ptr = ptr->sigcarta;\n    } else if (i == (cartas / 2) && cartas % 2 == 0) {\n      *sumImpar += dato;\n    } else if (i > (cartas / 2)) {\n      *sumImpar += dato;\n    }\n  }\n  cabezamazo->sigmazo = NULL;\n  return cabezamazo;\n}\nvoid eliminar(CARTAS* nodo) {\n  nodo->antcarta->sigcarta = nodo->sigcarta;\n  nodo->sigcarta->antcarta = nodo->antcarta;\n  free(nodo);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nstd::mt19937 rng(\n    (int)std::chrono::steady_clock::now().time_since_epoch().count());\nint main() {\n  std::ios_base::sync_with_stdio(false);\n  std::cin.tie(NULL);\n  int n;\n  std::cin >> n;\n  std::vector<int> middle;\n  int ans[2] = {0, 0};\n  while (n--) {\n    int size;\n    std::cin >> size;\n    std::vector<int> a(size);\n    for (int i = 0; i < size; i++) {\n      std::cin >> a[i];\n    }\n    int l = 0, r = size - 1;\n    while (l < r) {\n      ans[0] += a[l++];\n      ans[1] += a[r--];\n    }\n    if (l == r) {\n      middle.push_back(a[l]);\n    }\n  }\n  std::sort(middle.rbegin(), middle.rend());\n  for (int i = 0; i < (int)middle.size(); i++) {\n    ans[i % 2] += middle[i];\n  }\n  std::cout << ans[0] << ' ' << ans[1] << '\\n';\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class C {\n    public static void main(String[] args) throws Exception {\n        new C().solve();\n    }\n\n    void solve() throws IOException {\n        BufferedReader in = new BufferedReader(new\n                InputStreamReader(System.in));\n        String[] sp;\n        Scanner sc = new Scanner(System.in);\n\n        int n = Integer.parseInt(in.readLine());\n\n        int csum = 0;\n        int jsum = 0;\n\n        ArrayList<Integer> o = new ArrayList<Integer>();\n\n        for (int i = 0; i < n; i++) {\n            sp = in.readLine().split(\" \");\n            int s = Integer.parseInt(sp[0]);\n\n            for (int jj = 0; jj < s / 2; jj++) {\n                csum += Integer.parseInt(sp[jj + 1]);\n                jsum += Integer.parseInt(sp[s - jj]);\n            }\n\n            if (s % 2 == 1) {\n                o.add(Integer.parseInt(sp[1 + s / 2]));\n            }\n        }\n\n        Collections.sort(o);\n        for (int i = 0; i + 1 < o.size(); i += 2) {\n            csum += o.get(o.size() - 1 - i);\n            jsum += o.get(o.size() - 1 - i - 1);\n        }\n\n        if (o.size() % 2 == 1) {\n            csum += o.get(0);\n        }\n\n        System.out.println(csum + \" \" + jsum);\n\n    }\n}\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m, F = 0, sum = 0, x, lim, s, y;\n  scanf(\"%d\", &n);\n  vector<int> V;\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    lim = m / 2;\n    s = y = 0;\n    for (int j = 0; j < m; j++) {\n      scanf(\"%d\", &x);\n      sum += x;\n      if (j < lim) s += x;\n      if (j == lim) y = x;\n    }\n    if (m & 1) V.push_back(y);\n    F += s;\n  }\n  sort((V.rbegin()), (V.rend()));\n  for (int i = 0; i < ((int)V.size()); i += 2) {\n    F += V[i];\n  }\n  printf(\"%d %d\\n\", F, sum - F);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 105;\nint a[maxn];\nvector<int> vc;\nint main() {\n  ios::sync_with_stdio(false);\n  int n, m;\n  int tot = 0;\n  int i, j, k;\n  int sa = 0, sb = 0;\n  scanf(\"%d\", &n);\n  for (i = 0; i < n; ++i) {\n    scanf(\"%d\", &m);\n    for (j = 0; j < m; ++j) scanf(\"%d\", &a[j]);\n    for (j = 0, k = m - 1; j < k; ++j, --k) {\n      sa += a[j];\n      sb += a[k];\n    }\n    if (m & 1) vc.push_back(a[m >> 1]);\n  }\n  sort((vc).begin(), (vc).end(), greater<int>());\n  n = ((int)(vc).size());\n  for (i = 0; i < n; ++i) {\n    if (i & 1) {\n      sb += vc[i];\n    } else {\n      sa += vc[i];\n    }\n  }\n  printf(\"%d %d\\n\", sa, sb);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint t, ans1, ans2;\nvector<int> v;\nint main() {\n  cin >> t;\n  for (int i = 1; i <= t; ++i) {\n    int n;\n    cin >> n;\n    int sum1 = 0, sum2 = 0;\n    for (int j = 0; j < n; ++j) {\n      int a;\n      cin >> a;\n      if (j < (n / 2))\n        sum1 += a;\n      else if (j >= ((n + 1) / 2))\n        sum2 += a;\n      else\n        v.push_back(a);\n    }\n    ans1 += sum1;\n    ans2 += sum2;\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < (int)(v.size()); ++i) {\n    if (i % 2)\n      ans2 += v[i];\n    else\n      ans1 += v[i];\n  }\n  cout << ans1 << ' ' << ans2;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.List;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.InputMismatchException;\nimport java.util.ArrayList;\nimport java.io.PrintStream;\nimport java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.Reader;\nimport java.io.Writer;\nimport java.util.Collections;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n * @author Nipuna Samarasekara\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tFastScanner in = new FastScanner(inputStream);\n\t\tFastPrinter out = new FastPrinter(outputStream);\n\t\tTaskC solver = new TaskC();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskC {\n    /////////////////////////////////////////////////////////////\n\n    public void solve(int testNumber, FastScanner in, FastPrinter out) {\n    int n=in.nextInt();\n        ArrayList<Integer> al= new ArrayList<Integer>();\n        int t1=0,t2=0;\n        for (int i = 0; i < n; i++) {\n            int m=in.nextInt();\n            int[] A= in.readIntArray(m);\n           {\n                for (int j = 0; j < m / 2; j++) {\n                    t1+=A[j];\n                    t2+=A[m-1-j];\n                }\n\n            }\n           if(m%2==1){\n               al.add(A[(m-1)/2]);\n           }\n        }\n        Collections.sort(al);\n        int ss=al.size();\n        for (int i = ss-1; i >=0 ; i--) {\n         if((ss-1-i)%2==0)t1+=al.get(i);\n            else t2+=al.get(i);\n        }\n        out.println(t1+\" \"+t2);\n    }\n}\n\nclass FastScanner extends BufferedReader {\n\n    public FastScanner(InputStream is) {\n        super(new InputStreamReader(is));\n    }\n\n    public int read() {\n        try {\n            int ret = super.read();\n//            if (isEOF && ret < 0) {\n//                throw new InputMismatchException();\n//            }\n//            isEOF = ret == -1;\n            return ret;\n        } catch (IOException e) {\n            throw new InputMismatchException();\n        }\n    }\n\n    static boolean isWhiteSpace(int c) {\n        return c >= 0 && c <= 32;\n    }\n\n    public int nextInt() {\n        int c = read();\n        while (isWhiteSpace(c)) {\n            c = read();\n        }\n        int sgn = 1;\n        if (c == '-') {\n            sgn = -1;\n            c = read();\n        }\n        int ret = 0;\n        while (c >= 0 && !isWhiteSpace(c)) {\n            if (c < '0' || c > '9') {\n                throw new NumberFormatException(\"digit expected \" + (char) c\n                        + \" found\");\n            }\n            ret = ret * 10 + c - '0';\n            c = read();\n        }\n        return ret * sgn;\n    }\n\n    public String readLine() {\n        try {\n            return super.readLine();\n        } catch (IOException e) {\n            return null;\n        }\n    }\n\n    public int[] readIntArray(int n) {\n        int[] ret = new int[n];\n        for (int i = 0; i < n; i++) {\n            ret[i] = nextInt();\n        }\n        return ret;\n    }\n\n    }\n\nclass FastPrinter extends PrintWriter {\n\n    public FastPrinter(OutputStream out) {\n        super(out);\n    }\n\n    public FastPrinter(Writer out) {\n        super(out);\n    }\n\n\n}\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace ::std;\nint n, m, s;\nint in[105];\nint mid[105];\nint ans1, ans2;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &s);\n    for (int j = 0; j < s; j++) scanf(\"%d\", &in[j]);\n    for (int j = 0; j < s - j - 1; j++) {\n      ans1 += in[j];\n      ans2 += in[s - j - 1];\n    }\n    if (s % 2 == 1) mid[m++] = in[(s - 1) / 2];\n  }\n  sort(mid, mid + m);\n  for (int i = m - 1; i >= 0; i--) {\n    if ((m - i - 1) % 2 == 0)\n      ans1 += mid[i];\n    else\n      ans2 += mid[i];\n  }\n  printf(\"%d %d\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool compare(int a, int b) { return a > b; }\ninline long long int fastRead() {\n  long long int a = 0;\n  char c = getchar();\n  while (c < '0' || c > '9') c = getchar();\n  while (c >= '0' && c <= '9') {\n    a = (a << 3) + (a << 1) + c - '0';\n    c = getchar();\n  }\n  return a;\n}\nint main() {\n  int n;\n  cin >> n;\n  int temp[104], chef = 0, jiro = 0;\n  int k = 0, i, j, s, a;\n  for (i = 0; i < n; i++) {\n    s = fastRead();\n    if (s % 2) {\n      for (j = 0; j < s / 2; j++) {\n        a = fastRead();\n        chef += a;\n      }\n      a = fastRead();\n      temp[k++] = a;\n      j++;\n      for (; j < s; j++) {\n        a = fastRead();\n        jiro += a;\n      }\n    } else {\n      for (j = 0; j < s / 2; j++) {\n        a = fastRead();\n        chef += a;\n      }\n      for (; j < s; j++) {\n        a = fastRead();\n        jiro += a;\n      }\n    }\n  }\n  sort(temp, temp + k, compare);\n  int flag = 1;\n  for (i = 0; i < k; i++) {\n    if (flag)\n      chef += temp[i];\n    else\n      jiro += temp[i];\n    flag = !flag;\n  }\n  cout << chef << \" \" << jiro << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint score[2];\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int n;\n  cin >> n;\n  multiset<int> left;\n  for (int i = 0; i < n; i++) {\n    int s;\n    cin >> s;\n    for (int j = 0; j < s; j++) {\n      int x;\n      cin >> x;\n      if (j < s / 2) {\n        score[0] += x;\n      } else if (j >= (s + 1) / 2)\n        score[1] += x;\n      if (s % 2 && j == s / 2) left.insert(x);\n    }\n  }\n  int f = 0;\n  while (!left.empty()) {\n    score[f] += *(--left.end());\n    f = 1 - f;\n    left.erase(--left.end());\n  }\n  cout << score[0] << \" \" << score[1];\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nvoid swap(int* a, int* b);\nvoid ordena(int n, int v[n]);\nint main() {\n  int n, i, s, k, c = 0, pos, ceil = 0, jiro = 0, p, cant = 0;\n  int vecs[100];\n  scanf(\"%d\", &n);\n  int sobra[n];\n  for (p = 0; p < n; p++) sobra[p] = 0;\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &s);\n    for (k = 0; k < s; k++) {\n      scanf(\"%d\", &vecs[k]);\n    }\n    if (s % 2 == 0) {\n      for (p = 0; p < s / 2; p++) ceil += vecs[p];\n      for (p = s / 2; p < s; p++) jiro += vecs[p];\n    } else {\n      for (p = 0; p < s / 2; p++) ceil += vecs[p];\n      for (p = s / 2 + 1; p < s; p++) jiro += vecs[p];\n      sobra[c] = vecs[s / 2];\n      c++;\n    }\n    for (p = 0; p < s; p++) vecs[p] = 0;\n  }\n  ordena(n, sobra);\n  for (i = 0; i < c; i++) {\n    if (i % 2 == 0)\n      ceil += sobra[i];\n    else\n      jiro += sobra[i];\n  }\n  printf(\"%d %d\", ceil, jiro);\n  return 0;\n}\nvoid ordena(int n, int v[n]) {\n  int i, j;\n  for (i = 0; i < n - 1; i++) {\n    for (j = 0; j < n - 1 - i; j++) {\n      if (v[j] < v[j + 1]) swap(&v[j], &v[j + 1]);\n    }\n  }\n}\nvoid swap(int* a, int* b) {\n  int f;\n  f = *a;\n  *a = *b;\n  *b = f;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int a, b, c, d, i, j, k, l, m, n;\n  cin >> n;\n  int l1 = 0;\n  int l2 = 0;\n  vector<int> v1;\n  for (i = 0; i < n; i++) {\n    cin >> m;\n    if (m % 2 == 0) {\n      for (j = 1; j <= m; j++) {\n        cin >> a;\n        if (j <= m / 2)\n          l1 += a;\n        else\n          l2 += a;\n      }\n    } else {\n      for (j = 1; j <= m; j++) {\n        cin >> a;\n        if (j <= m / 2)\n          l1 += a;\n        else\n          l2 += a;\n        if (j == (m / 2) + 1) {\n          v1.push_back(a);\n          l2 -= a;\n        }\n      }\n    }\n  }\n  sort(v1.rbegin(), v1.rend());\n  for (i = 0; i < v1.size(); i++) {\n    if (i % 2 == 0)\n      l1 += v1[i];\n    else\n      l2 += v1[i];\n  }\n  cout << l1 << \" \" << l2 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid RI(int& x) {\n  x = 0;\n  char c = getchar();\n  while (!(c >= '0' && c <= '9' || c == '-')) c = getchar();\n  bool flag = 1;\n  if (c == '-') {\n    flag = 0;\n    c = getchar();\n  }\n  while (c >= '0' && c <= '9') {\n    x = x * 10 + c - '0';\n    c = getchar();\n  }\n  if (!flag) x = -x;\n}\nvoid RII(int& x, int& y) { RI(x), RI(y); }\nvoid RIII(int& x, int& y, int& z) { RI(x), RI(y), RI(z); }\nvoid RC(char& c) {\n  c = getchar();\n  while (c == ' ' || c == '\\n') c = getchar();\n}\nchar RC() {\n  char c = getchar();\n  while (c == ' ' || c == '\\n') c = getchar();\n  return c;\n}\nconst long long mod = 1e9 + 7;\nconst long long LINF = 1e18;\nconst int INF = 1e9;\nconst double EPS = 1e-8;\nint main() {\n  int n;\n  cin >> n;\n  int ans1 = 0, ans2 = 0;\n  vector<int> vec;\n  for (int i = 1; i <= n; i++) {\n    int num;\n    cin >> num;\n    if (num & 1) {\n      for (int i = 1; i <= num / 2; i++) {\n        int t;\n        cin >> t;\n        ans1 += t;\n      }\n      int t;\n      cin >> t;\n      vec.push_back(t);\n      for (int i = num / 2 + 2; i <= num; i++) {\n        int t;\n        cin >> t;\n        ans2 += t;\n      }\n    } else {\n      for (int i = 1; i <= num / 2; i++) {\n        int t;\n        cin >> t;\n        ans1 += t;\n      }\n      for (int i = num / 2 + 1; i <= num; i++) {\n        int t;\n        cin >> t;\n        ans2 += t;\n      }\n    }\n  }\n  sort((vec).begin(), (vec).end());\n  int t = 0;\n  for (int i = (int)vec.size() - 1; i >= 0; i--) {\n    if (t == 0)\n      ans1 += vec[i];\n    else\n      ans2 += vec[i];\n    t ^= 1;\n  }\n  cout << ans1 << \" \" << ans2 << endl;\n}\n"
        },
        {
            "language": 4,
            "solution": "\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.Comparator;\nimport java.util.PriorityQueue;\nimport java.util.StringTokenizer;\n\npublic class Main {\n    static BufferedReader br;\n    static StringTokenizer st;\n    static PrintWriter out;\n    \n    public static String next() throws IOException {\n        while (st == null || !st.hasMoreTokens())\n            st = new StringTokenizer(br.readLine());\n        return st.nextToken();\n    }\n    \n    public static int nextInt() throws IOException {\n        return Integer.parseInt(next());\n    }\n    \n    public static void main(String[] args) throws IOException {\n        br = new BufferedReader(new InputStreamReader(System.in));\n        out = new PrintWriter(System.out);\n        int n = nextInt();\n        int[] s = new int[n];\n        \n        PriorityQueue<Integer> pq = new PriorityQueue<Integer>(100, new Comparator<Integer>() {\n            public int compare(Integer x, Integer y) {\n                return -Integer.valueOf(x).compareTo(y);\n            }\n        });     \n        \n        int t1 = 0, t2 = 0;\n        int[][] c = new int[n][];\n        \n        for (int i = 0; i < n; ++i) {\n            s[i] = nextInt();\n            // System.out.println(s[i]);\n            c[i] = new int[s[i]];\n            int t = 0;\n            for (int j = 0; j < s[i]; ++j) {\n                c[i][j] = nextInt();\n                //System.out.println(c[i][j]);\n            }\n            int hf = s[i] / 2;\n            for (int j = 0; j < hf; ++j) {\n                t1 += c[i][j];\n                t2 += c[i][s[i] - j - 1];\n            }\n            \n            if (s[i] % 2 == 1) {\n                pq.add(c[i][s[i] / 2]);\n            }\n        }\n        \n        int turn = 0;\n        while (!pq.isEmpty()) {\n            int x = pq.poll();\n            // out.println(x);\n            if (turn == 0) {\n                t1 += x;\n            } else {\n                t2 += x;\n            }\n            turn ^= 1;\n        }\n        out.println(t1 + \" \" + t2);\n        \n        out.close();\n    }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[110][110];\nint s[110];\nvector<int> f;\nint main() {\n  int n, m = 0, sum = 0;\n  scanf(\"%d\", &n);\n  f.clear();\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &s[i]);\n    for (int j = 0; j < s[i]; j++) scanf(\"%d\", &a[i][j]), sum += a[i][j];\n    if (s[i] & 1) f.push_back(a[i][s[i] / 2]);\n  }\n  int ans = 0;\n  sort(f.begin(), f.end());\n  for (int i = f.size() - 1, j = 1; i >= 0; i--, j ^= 1)\n    if (j) ans += f[i];\n  for (int i = 0; i < n; i++)\n    for (int j = 0; j < s[i] / 2; j++) ans += a[i][j];\n  printf(\"%d %d\\n\", ans, sum - ans);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = (int)1E9;\nconst long long LINF = (long long)4E18;\nconst long double PI = acos(-1.0);\nconst long double E = 2.718281828459045L;\ntemplate <typename T>\nT gcd(T a, T b) {\n  return (b = 0) ? abs(a) : gcd(b, a % b);\n}\ntemplate <typename T>\ninline T lcm(T a, T b) {\n  return a / gcd(a, b) * b;\n}\ntemplate <typename T>\ninline T mod(T a, T b) {\n  return (a % b + b) % b;\n}\ntemplate <typename T>\ninline T sqr(T x) {\n  return x * x;\n}\ntemplate <typename T>\ninline string toString(const T& x) {\n  ostringstream os;\n  os << x;\n  return os.str();\n}\ninline long long toInt(const string& s) {\n  istringstream is(s);\n  long long x;\n  is >> x;\n  return x;\n}\ninline long double toDouble(const string& s) {\n  istringstream is(s);\n  long double x;\n  is >> x;\n  return x;\n}\ninline string toLower(string s) {\n  for (typeof((s).begin()) it = (s).begin(); it != (s).end(); ++it)\n    *it = tolower(*it);\n  return s;\n}\ninline string toUpper(string s) {\n  for (typeof((s).begin()) it = (s).begin(); it != (s).end(); ++it)\n    *it = toupper(*it);\n  return s;\n}\nconst char DEBUG_PARAM[] = \"__LOCAL_TESTING\";\nconst char IN[] = \"e.in\";\nconst char OUT[] = \"e.out\";\nint ntest = 1, test;\nconst int dx[] = {-1, 0, 0, 1};\nconst int dy[] = {0, -1, 1, 0};\nconst long double EPS = 1E-9;\nconst long long MODULO = 1000000007LL;\nint main() {\n  ios_base::sync_with_stdio(false);\n  int t, n, d = 0, x, t1;\n  int a[1001];\n  cin >> t;\n  int s = 0, c = 0;\n  for (int j = (1); j <= (t); j++) {\n    cin >> n;\n    for (int i = 1; i <= n; i++) {\n      cin >> x;\n      s += x;\n      t1 = i * 2 - n;\n      if (t1 == 1)\n        a[c++] = -x;\n      else if (t1 <= 0)\n        d += x;\n    }\n  }\n  sort(a, a + c);\n  for (int i = 0; i < c; i += 2) d -= a[i];\n  cout << d << \" \" << s - d;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class C {\n\n\tstatic void solve() throws IOException {\n\t\tint n = nextInt();\n\t\tint[][] stacks = new int[n][];\n\t\tList<Integer> middles = new ArrayList<>();\n\t\tint firstMan = 0;\n\t\tint secondMan = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tstacks[i] = new int[nextInt()];\n\t\t\tint len = stacks[i].length;\n\t\t\tfor (int j = 0; j < len; j++) {\n\t\t\t\tstacks[i][j] = nextInt();\n\t\t\t}\n\t\t\tif (len % 2 != 0) {\n\t\t\t\tmiddles.add(stacks[i][len / 2]);\n\t\t\t}\n\t\t\tfor (int j = 0; j < len / 2; j++) {\n\t\t\t\tfirstMan += stacks[i][j];\n\t\t\t\tsecondMan += stacks[i][len - 1 - j];\n\t\t\t}\n\t\t}\n\t\tCollections.sort(middles);\n\t\tCollections.reverse(middles);\n\t\tfor (int i = 0; i < middles.size(); i++) {\n\t\t\tif ((i & 1) == 0) {\n\t\t\t\tfirstMan += middles.get(i);\n\t\t\t} else {\n\t\t\t\tsecondMan += middles.get(i);\n\t\t\t}\n\t\t}\n\t\tout.println(firstMan+\" \"+secondMan);\n\t}\n\n\tstatic BufferedReader br;\n\tstatic StringTokenizer st;\n\tstatic PrintWriter out;\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tInputStream input = System.in;\n\t\tPrintStream output = System.out;\n\t\tFile file = new File(\"c.in\");\n\t\tif (file.exists() && file.canRead()) {\n\t\t\tinput = new FileInputStream(file);\n\t\t}\n\t\tbr = new BufferedReader(new InputStreamReader(input));\n\t\tout = new PrintWriter(output);\n\t\tsolve();\n\t\tout.close();\n\t}\n\n\tstatic long nextLong() throws IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tstatic double nextDouble() throws IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\n\tstatic int nextInt() throws IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tstatic String nextToken() throws IOException {\n\t\twhile (st == null || !st.hasMoreTokens()) {\n\t\t\tString line = br.readLine();\n\t\t\tif (line == null) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tst = new StringTokenizer(line);\n\t\t}\n\t\treturn st.nextToken();\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, s[200], a[200][200], b[200];\nint main() {\n  while (~scanf(\"%d\", &n)) {\n    for (int i = 1; i <= n; i++) {\n      scanf(\"%d\", &s[i]);\n      for (int j = 1; j <= s[i]; j++) scanf(\"%d\", &a[i][j]);\n    }\n    int s1 = 0;\n    int s2 = 0;\n    int k = 0;\n    for (int i = 1; i <= n; i++) {\n      if (s[i] % 2 == 1) {\n        k++;\n        b[k] = a[i][s[i] / 2 + 1];\n      }\n      for (int j = 1; j <= s[i] / 2; j++) s1 += a[i][j];\n      for (int j = (s[i] + 3) / 2; j <= s[i]; j++) s2 += a[i][j];\n    }\n    sort(b + 1, b + k + 1);\n    for (int i = k; i >= 1; i--)\n      if (i % 2 == k % 2)\n        s1 += b[i];\n      else\n        s2 += b[i];\n    printf(\"%d %d\\n\", s1, s2);\n  }\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  cin >> n;\n  int t;\n  int first = 0;\n  int second = 0;\n  int temp;\n  vector<int> middle;\n  for (int i = 0; i < n; i++) {\n    cin >> t;\n    for (int i = 0; i < t / 2; i++) {\n      cin >> temp;\n      first += temp;\n    }\n    if (t % 2 == 1) {\n      cin >> temp;\n      middle.push_back(temp);\n    }\n    for (int i = 0; i < t / 2; i++) {\n      cin >> temp;\n      second += temp;\n    }\n  }\n  sort(middle.begin(), middle.end());\n  while (true) {\n    if (middle.empty()) break;\n    temp = middle.back();\n    middle.pop_back();\n    first += temp;\n    if (middle.empty()) break;\n    temp = middle.back();\n    middle.pop_back();\n    second += temp;\n  }\n  cout << first << \" \" << second << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint t[105], a[105], sum1, sum2, n, m, tot;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; ++i) {\n    scanf(\"%d\", &m);\n    for (int i = 0; i < m; ++i) {\n      int t;\n      scanf(\"%d\", &t);\n      if ((m & 1) && i == m / 2)\n        a[tot++] = t;\n      else if (i < m / 2)\n        sum1 += t;\n      else\n        sum2 += t;\n    }\n  }\n  sort(a, a + tot, greater<int>());\n  for (int i = 0; i < tot; ++i)\n    if (i & 1)\n      sum2 += a[i];\n    else\n      sum1 += a[i];\n  printf(\"%d %d\", sum1, sum2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  long long int ans1 = 0, ans2 = 0;\n  long long int n;\n  cin >> n;\n  vector<long long int> v;\n  for (int i = 1; i <= n; i++) {\n    long long int second, t;\n    cin >> second;\n    for (int j = 1; j <= second; j++) {\n      cin >> t;\n      if (second % 2 == 0) {\n        if (j <= second / 2)\n          ans1 += t;\n        else\n          ans2 += t;\n      } else {\n        if (j <= second / 2)\n          ans1 += t;\n        else if (j > second / 2 + 1)\n          ans2 += t;\n        else\n          v.push_back(t);\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < v.size(); i++) {\n    if (i % 2 == 0)\n      ans1 += v[i];\n    else\n      ans2 += v[i];\n  }\n  cout << ans1 << \" \" << ans2;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool sor(int x, int y) { return x >= y; }\nint main() {\n  int n, s, c;\n  int ret0 = 0, ret1 = 0;\n  vector<int> z;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &s);\n    for (int j = 0; j < s / 2; j++) {\n      scanf(\"%d\", &c);\n      ret0 += c;\n    }\n    if (s % 2 == 1) {\n      scanf(\"%d\", &c);\n      z.push_back(c);\n    }\n    for (int j = 0; j < s / 2; j++) {\n      scanf(\"%d\", &c);\n      ret1 += c;\n    }\n  }\n  sort(z.begin(), z.end(), sor);\n  s = z.size();\n  for (int i = 0; i < s; i++) {\n    if (i % 2 == 0)\n      ret0 += z[i];\n    else\n      ret1 += z[i];\n  }\n  printf(\"%d %d\\n\", ret0, ret1);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint pile[105][105], buf[105];\nint main() {\n  int n, first = 0, second = 0, cnt = 0;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int k, t;\n    scanf(\"%d\", &k);\n    for (int i = 0; i < k / 2; i++) {\n      scanf(\"%d\", &t);\n      first += t;\n    }\n    if (k % 2) scanf(\"%d\", &buf[cnt++]);\n    for (int i = 0; i < k / 2; i++) {\n      scanf(\"%d\", &t);\n      second += t;\n    }\n  }\n  std::sort(buf, buf + cnt);\n  for (int i = cnt - 1, flg = 1; i >= 0; i--, flg = !flg) {\n    if (flg)\n      first += buf[i];\n    else\n      second += buf[i];\n  }\n  printf(\"%d %d\\n\", first, second);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 1000000000;\nstruct debugger {\n  template <typename T>\n  debugger& operator,(const T& v) {\n    cerr << v << \" \";\n    return *this;\n  }\n} dbg;\nint main() {\n  int N;\n  scanf(\"%d\", &N);\n  int C = 0, J = 0;\n  vector<int> mid;\n  for (int i = 0; i < (N); i++) {\n    int s;\n    scanf(\"%d\", &s);\n    for (int j = 0; j < (s / 2); j++) {\n      int c;\n      scanf(\"%d\", &c);\n      C += c;\n    }\n    if (s & 1) {\n      int c;\n      scanf(\"%d\", &c);\n      mid.push_back(c);\n    }\n    for (int j = 0; j < (s / 2); j++) {\n      int c;\n      scanf(\"%d\", &c);\n      J += c;\n    }\n  }\n  sort((mid).begin(), (mid).end());\n  for (int i = 0; i < (((int)(mid).size())); i++) {\n    (i % 2 ? J : C) += mid[((int)(mid).size()) - 1 - i];\n  }\n  printf(\"%d \", C);\n  printf(\"%d\\n\", J);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 105;\nint n, m, c[N], s[N];\nbool cmp(int a, int b) { return a > b; }\nint main() {\n  int cnt = 0, p = 0, q = 0;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    int tmp = m / 2;\n    for (int j = 0; j < m; j++) {\n      scanf(\"%d\", &c[j]);\n      if (j < tmp)\n        p += c[j];\n      else\n        q += c[j];\n    }\n    if (m & 1) {\n      q -= c[tmp];\n      s[cnt++] = c[tmp];\n    }\n  }\n  sort(s, s + cnt, cmp);\n  for (int i = 0; i < cnt; i++) {\n    if (i & 1)\n      q += s[i];\n    else\n      p += s[i];\n  }\n  printf(\"%d %d\\n\", p, q);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.StringTokenizer;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\npublic class C388 \n{\n    static class Scanner\n    {\n        BufferedReader br;\n        StringTokenizer tk=new StringTokenizer(\"\");\n        public Scanner(InputStream is) \n        {\n            br=new BufferedReader(new InputStreamReader(is));\n        }\n        public int nextInt() throws IOException\n        {\n            if(tk.hasMoreTokens())\n                return Integer.parseInt(tk.nextToken());\n            tk=new StringTokenizer(br.readLine());\n            return nextInt();\n        }\n        public long nextLong() throws IOException\n        {\n            if(tk.hasMoreTokens())\n                return Long.parseLong(tk.nextToken());\n            tk=new StringTokenizer(br.readLine());\n            return nextLong();\n        }\n        public String next() throws IOException\n        {\n            if(tk.hasMoreTokens())\n                return (tk.nextToken());\n            tk=new StringTokenizer(br.readLine());\n            return next();\n        }\n        public String nextLine() throws IOException\n        {\n            tk=new StringTokenizer(\"\");\n            return br.readLine();\n        }\n        public double nextDouble() throws IOException\n        {\n            if(tk.hasMoreTokens())\n                return Double.parseDouble(tk.nextToken());\n            tk=new StringTokenizer(br.readLine());\n            return nextDouble();\n        }\n        public char nextChar() throws IOException\n        {\n            if(tk.hasMoreTokens())\n                return (tk.nextToken().charAt(0));\n            tk=new StringTokenizer(br.readLine());\n            return nextChar();\n        }\n        public int[] nextIntArray(int n) throws IOException\n        {\n            int a[]=new int[n];\n            for(int i=0;i<n;i++)\n                a[i]=nextInt();\n            return a;\n        }\n        public long[] nextLongArray(int n) throws IOException\n        {\n            long a[]=new long[n];\n            for(int i=0;i<n;i++)\n                a[i]=nextLong();\n            return a;\n        }\n        public int[] nextIntArrayOneBased(int n) throws IOException\n        {\n            int a[]=new int[n+1];\n            for(int i=1;i<=n;i++)\n                a[i]=nextInt();\n            return a;\n        }\n        public long[] nextLongArrayOneBased(int n) throws IOException\n        {\n            long a[]=new long[n+1];\n            for(int i=1;i<=n;i++)\n                a[i]=nextLong();\n            return a;\n        }\n    \n    \n    }\n    \n    public static void main(String args[]) throws IOException\n    {\n        Scanner in=new Scanner(System.in);\n        PrintWriter out=new PrintWriter(System.out);\n        int n=in.nextInt();\n        int a[]=new int[n];\n        int C=0,J=0;\n        for(int i=0;i<n;i++)\n        {\n            int s=in.nextInt();\n            if(s%2==1)\n            {\n                for(int j=0;j<s;j++)\n                {\n                    if(j==(s)/2)\n                    {\n                        a[i]=in.nextInt();\n                    }\n                    else if(j<(s/2))\n                        C+=in.nextInt();\n                    else\n                        J+=in.nextInt();\n                }\n            }\n            else\n            {\n                for(int j=0;j<s;j++)\n                {\n                    if(j<s/2)\n                        C+=in.nextInt();\n                    else\n                        J+=in.nextInt();\n                }\n            }\n        }\n        Arrays.sort(a);\n        for(int i=n-1;i>=0;i--)\n        {\n            if(i%2==(n-1)%2)\n                C+=a[i];\n            else\n                J+=a[i];\n        }\n        out.println(C+\" \"+J);\n        out.close();\n    }\n\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint sum[110], a, ans[110];\nbool cmp(int a, int b) { return a > b; }\nint main() {\n  int i, j, n, m;\n  scanf(\"%d\", &n);\n  int r = 0;\n  int C = 0, J = 0;\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    scanf(\"%d\", &a);\n    sum[0] = a;\n    for (j = 1; j < m; j++) {\n      scanf(\"%d\", &a);\n      sum[j] = sum[j - 1] + a;\n    }\n    if (m & 1) {\n      ans[r++] = sum[m / 2] - sum[m / 2 - 1];\n      J += sum[m - 1] - sum[m / 2];\n    } else\n      J += sum[m - 1] - sum[m / 2 - 1];\n    C += sum[m / 2 - 1];\n  }\n  sort(ans, ans + r, cmp);\n  for (i = 0; i < r; i++)\n    if ((i & 1) == 0)\n      C += ans[i];\n    else\n      J += ans[i];\n  printf(\"%d %d\\n\", C, J);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvector<long long> v;\nlong long n, second, sum, sum2, a;\nint32_t main() {\n  cin >> n;\n  for (long long i = 0; i < n; i++) {\n    cin >> second;\n    for (long long j = 1; j <= second; j++) {\n      cin >> a;\n      if (j <= second / 2) sum += a;\n      if (j > (second + 1) / 2) sum2 += a;\n      if (second % 2)\n        if (j == (second + 1) / 2) v.push_back(a);\n    }\n  }\n  sort(v.begin(), v.end(), greater<long long>());\n  for (long long i = 0; i < (long long)v.size(); i++)\n    if (i % 2)\n      sum2 += v[i];\n    else\n      sum += v[i];\n  return cout << sum << \" \" << sum2 << endl, 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint N;\nvector<int> v;\nint ans[2];\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(0);\n  cin >> N;\n  for (int i = 1; i <= N; i++) {\n    int t, x;\n    cin >> t;\n    for (int j = 1; j <= t; j++) {\n      cin >> x;\n      if (j <= t / 2)\n        ans[0] += x;\n      else if (j >= ((t + 1) / 2) + 1)\n        ans[1] += x;\n      else\n        v.push_back(x);\n    }\n  }\n  sort(v.begin(), v.end());\n  int idx = 0;\n  for (int i = v.size() - 1; i >= 0; i--) {\n    ans[idx] += v[i];\n    idx = !idx;\n  }\n  cout << ans[0] << \" \" << ans[1] << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 100 + 10;\nint a[maxn], cnt;\nbool cmp(int x, int y) { return x > y; }\nint main() {\n  int n;\n  int ans1 = 0, ans2 = 0;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int k, kk;\n    scanf(\"%d\", &k);\n    kk = k / 2;\n    for (int i = 1; i <= kk; i++) {\n      int tmp;\n      scanf(\"%d\", &tmp);\n      ans1 += tmp;\n    }\n    if (k & 1) {\n      int tmp;\n      scanf(\"%d\", &tmp);\n      a[cnt++] = tmp;\n    }\n    for (int i = 1; i <= kk; i++) {\n      int tmp;\n      scanf(\"%d\", &tmp);\n      ans2 += tmp;\n    }\n  }\n  sort(a, a + cnt, cmp);\n  for (int i = 0; i < cnt; i++) {\n    if ((i & 1) == 0)\n      ans1 += a[i];\n    else\n      ans2 += a[i];\n  }\n  printf(\"%d %d\\n\", ans1, ans2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\n#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,tune=native\")\nusing uint8 = unsigned char;\nusing uint16 = unsigned short int;\nusing uint32 = unsigned int;\nusing uint64 = unsigned long long;\nusing int8 = signed char;\nusing int16 = short int;\nusing int32 = int;\nusing int64 = long long;\nusing pi32 = std::pair<int32, int32>;\nusing pi64 = std::pair<int64, int64>;\nnamespace Useful {\nconst int Dirx4[4] = {1, 0, -1, 0};\nconst int Diry4[4] = {0, 1, 0, -1};\nconst int Dirx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int Diry8[8] = {-1, 0, 1, -1, 1, -1, 0, 1};\nconst double exp = 1e-8;\ntemplate <typename _Tp>\ninline _Tp Gcd(_Tp x, _Tp y) {\n  return y ? gcd(x, y) : x;\n}\ntemplate <typename _Tp>\ninline void Sort(_Tp &x, _Tp &y) {\n  if (x > y) std::swap(x, y);\n}\ntemplate <typename _Tp>\ninline bool InRange(_Tp x, _Tp l, _Tp r) {\n  return l <= x && x <= r;\n}\ntemplate <typename _Tp>\ninline bool InMap(_Tp x, _Tp y, _Tp n, _Tp m) {\n  return 1 <= x && x <= n && 1 <= y && y <= m;\n}\ntemplate <typename _Tp>\ninline _Tp Power(_Tp x, int64 m) {\n  return m == 1 ? x : (m & 1 ? power(x * x, m / 2) * x : power(x * x, m / 2));\n}\ntemplate <typename _Tp1, typename _Tp2>\ninline std::pair<_Tp1, _Tp2> operator+(std::pair<_Tp1, _Tp2> x,\n                                       std::pair<_Tp1, _Tp2> y) {\n  return x.first += y.first, x.second += y.second, x;\n}\n}  // namespace Useful\nusing namespace std;\nusing namespace Useful;\nconst int maxn = 1000;\nint a[maxn], cnt;\nint main() {\n  int n;\n  int ans1 = 0, ans2 = 0;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int k, kk;\n    scanf(\"%d\", &k);\n    kk = k / 2;\n    for (int i = 1; i <= kk; i++) {\n      int tmp;\n      scanf(\"%d\", &tmp);\n      ans1 += tmp;\n    }\n    if (k & 1) {\n      int tmp;\n      scanf(\"%d\", &tmp);\n      a[cnt++] = tmp;\n    }\n    for (int i = 1; i <= kk; i++) {\n      int tmp;\n      scanf(\"%d\", &tmp);\n      ans2 += tmp;\n    }\n  }\n  sort(a, a + cnt);\n  reverse(a, a + cnt);\n  for (int i = 0; i < cnt; i++)\n    if ((i & 1) == 0)\n      ans1 += a[i];\n    else\n      ans2 += a[i];\n  printf(\"%d %d\\n\", ans1, ans2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nbool cmp(const vector<int> &a, const vector<int> &b) {\n  return a.size() % 2 > b.size() % 2;\n}\nvector<vector<int> > s;\nint main() {\n  ios_base::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  s.resize(n);\n  for (int i = 0; i < n; i++) {\n    int tmp;\n    cin >> tmp;\n    for (int j = 0; j < tmp; j++) {\n      int tt;\n      cin >> tt;\n      s[i].push_back(tt);\n    }\n  }\n  sort(s.begin(), s.end(), &cmp);\n  int it = 0;\n  while (it < n && s[it].size() % 2 == 1) it++;\n  long long sc[2] = {};\n  vector<int> odd;\n  for (int i = 0; i < it; i++) odd.push_back(s[i][s[i].size() / 2]);\n  sort(odd.begin(), odd.end());\n  for (int i = it - 1; i >= 0; i--) sc[(it - 1 - i) % 2] += odd[i];\n  for (int i = 0; i < n; i++)\n    for (int j = 0; j < (int)s[i].size() / 2; j++)\n      sc[0] += s[i][j], sc[1] += s[i][s[i].size() - 1 - j];\n  cout << sc[0] << \" \" << sc[1] << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 105;\nint n, s, c[maxn], res[maxn], res0;\nbool cmp(int a, int b) { return a > b; }\nint main() {\n  scanf(\"%d\", &n);\n  int sa = 0, sb = 0;\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &s);\n    for (int j = 1; j <= s; j++) scanf(\"%d\", &c[j]);\n    for (int j = 1; j <= s / 2; j++) sa += c[j], sb += c[s - j + 1];\n    if (s & 1) res[++res0] = c[s / 2 + 1];\n  }\n  sort(res + 1, res + 1 + res0, cmp);\n  for (int i = 1; i <= res0; i++)\n    if (i & 1)\n      sa += res[i];\n    else\n      sb += res[i];\n  printf(\"%d %d\\n\", sa, sb);\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\npublic final class code\n// public class Main\n// class code\n// public class Solution\n{\n    static void solve()throws IOException\n    {\n        long sum1=0,sum2=0;\n        ArrayList<Integer> list=new ArrayList<>();\n        int n=nextInt();\n        for(int j=1;j<=n;j++)\n        {\n            int s=nextInt();\n            for(int i=1;i<=s/2;i++)\n                sum1+=nextInt();\n            if(s%2!=0)\n                list.add(nextInt());\n            for(int i=1;i<=s/2;i++)\n                sum2+=nextInt();\n        }\n        Collections.sort(list,Collections.reverseOrder());\n        for(int i=0;i<list.size();i+=2)\n        {\n            sum1+=list.get(i);\n            if(i!=list.size()-1)\n            sum2+=list.get(i+1);\n        }\n        out.println(sum1+\" \"+sum2);\n    }\n\n     \n    ///////////////////////////////////////////////////////////\n\n    static final long mod=(long)(1e9+7);\n    static final int inf=(int)(1e9+1);\n    static final int maxn=(int)(1e6);\n    static final long lim=(long)(1e18);\n\n    public static void main(String args[])throws IOException\n    {\n        br=new BufferedReader(new InputStreamReader(System.in));\n        out=new PrintWriter(new BufferedOutputStream(System.out));\n        \n        solve();\n         \n        // int t=nextInt();\n        // for(int i=1;i<=t;i++)\n        // {\n        //    // out.print(\"Case #\"+i+\": \");\n        //     solve();\n        // }\n         \n        out.close();\n    }\n    \n    static int max(int ... a)\n    {\n    int ret=a[0];\n    for(int i=1;i<a.length;i++)\n    ret=Math.max(ret,a[i]);\n    return ret;\n    }\n    static int min(int ... a)\n    {\n    int ret=a[0];\n    for(int i=1;i<a.length;i++)\n    ret=Math.min(ret,a[i]);\n    return ret;\n    }\n    static void debug(Object ... a)\n    {\n    System.out.print(\"> \");\n    for(int i=0;i<a.length;i++)\n    System.out.print(a[i]+\" \");\n    System.out.println();\n    }\n    static void debug(int a[]){debuga(Arrays.stream(a).boxed().toArray());}\n    static void debug(long a[]){debuga(Arrays.stream(a).boxed().toArray());}\n    static void debuga(Object a[])\n    {\n    System.out.print(\"> \");\n    for(int i=0;i<a.length;i++)\n    System.out.print(a[i]+\" \");\n    System.out.println();\n    }\n    static Random random;\n    static BufferedReader br;\n    static StringTokenizer st;\n    static PrintWriter out;\n    static String nextToken()throws IOException\n    {\n    while(st==null || !st.hasMoreTokens())\n    st=new StringTokenizer(br.readLine());\n    return st.nextToken();\n    }\n    static String nextLine()throws IOException\n    {\n    return br.readLine();\n    }\n    static int nextInt()throws IOException\n    {\n    return Integer.parseInt(nextToken());\n    }\n    static long nextLong()throws IOException\n    {\n    return Long.parseLong(nextToken());\n    }\n    static double nextDouble()throws IOException\n    {\n    return Double.parseDouble(nextToken());\n    }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  ios::sync_with_stdio(0);\n  int n, m, x;\n  cin >> n;\n  int s1(0), s2(0);\n  vector<int> v;\n  for (int i = 0; i < n; ++i) {\n    cin >> m;\n    for (int j = 0; j < m; ++j) {\n      cin >> x;\n      if (m % 2) {\n        if (j == m / 2)\n          v.push_back(x);\n        else if (2 * j < m)\n          s1 += x;\n        else\n          s2 += x;\n      } else {\n        if (2 * j < m)\n          s1 += x;\n        else\n          s2 += x;\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  for (int i = 0; i < v.size(); ++i)\n    if (i % 2)\n      s2 += v[v.size() - 1 - i];\n    else\n      s1 += v[v.size() - 1 - i];\n  cout << s1 << \" \" << s2 << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.BigInteger;\npublic class code {\n\t//String[] ss=br.readLine().trim().split(\" \");\n\tstatic BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n\t\n\tpublic static void main(String[] args) throws NumberFormatException, IOException {\n//\t\tint w=Integer.parseInt(br.readLine());\n\t\tint w=1;\n\t\twhile(w-->0) {\n\t\t\tsolve();\n\t\t}\n\t}\n\t\n\tpublic static void solve() throws NumberFormatException, IOException {\n\t\tArrayList<Integer> list=new ArrayList<>();\n\t\tint n=Integer.parseInt(br.readLine());\n\t\tlong ceil=0,jiro=0;\n\t\tfor(int i=0 ; i<n ; i++) {\n\t\t\tString[] ss=br.readLine().trim().split(\" \");\n\t\t\tint m=Integer.parseInt(ss[0]);\n\t\t\tint[] arr=new int[m];\n\t\t\tfor(int j=0 ; j<m ; j++) {\n\t\t\t\tarr[j]=Integer.parseInt(ss[j+1]);\n\t\t\t}\n\t\t\t\n\t\t\tfor(int j=0 ; j<m/2 ; j++) {\n\t\t\t\tceil+=arr[j];\n\t\t\t}\n\t\t\tfor(int j=m-1 ; j>=(m+1)/2 ; j--) {\n\t\t\t\tjiro+=arr[j];\n\t\t\t}\n\t\t\tif(m%2!=0) {\n\t\t\t\tlist.add(arr[m/2]);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(list);\n\t\tfor(int i=list.size()-1 ; i>=0 ; i-=2) {\n\t\t\tceil+=list.get(i);\n\t\t\tif(i>0) {\n\t\t\t\tjiro+=list.get(i-1);\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(ceil+\" \"+jiro);\n\t}\n\t\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 100;\nint n, m, a[maxn + 3], k, b[maxn + 3], sum, num;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &m);\n    for (int j = 1; j <= m; j++) {\n      scanf(\"%d\", &a[j]);\n      sum += a[j];\n      if (j * 2 <= m) {\n        num += a[j];\n      }\n    }\n    if (m & 1) {\n      b[++k] = a[(m + 1) >> 1];\n    }\n  }\n  sort(b + 1, b + k + 1);\n  reverse(b + 1, b + k + 1);\n  for (int i = 1; i <= k; i += 2) {\n    num += b[i];\n  }\n  printf(\"%d %d\\n\", num, sum - num);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main(void) {\n  long long int n, x;\n  cin >> n;\n  vector<vector<long long int> > a(n);\n  for (long long int i = 0; i < n; i++) {\n    cin >> x;\n    for (long long int j = 0; j < x; j++) {\n      long long int tp;\n      cin >> tp;\n      a[i].push_back(tp);\n    }\n  }\n  long long int a1 = 0, b = 0;\n  vector<long long int> q;\n  for (long long int i = 0; i < n; i++) {\n    long long int f = a[i].size();\n    if (f % 2 != 0) {\n      for (long long int j = 0; j < (f - 1) / 2; j++) {\n        a1 += a[i][j];\n      }\n      for (long long int j = (f - 1) / 2 + 1; j < f; j++) {\n        b += a[i][j];\n      }\n      q.push_back(a[i][(f - 1) / 2]);\n    } else {\n      for (long long int j = 0; j < f / 2; j++) {\n        a1 += a[i][j];\n      }\n      for (long long int j = f / 2; j < f; j++) {\n        b += a[i][j];\n      }\n    }\n  }\n  sort(q.begin(), q.end(), greater<long long int>());\n  for (long long int k = 0; k < q.size(); k++) {\n    if (k % 2 == 0)\n      a1 += q[k];\n    else\n      b += q[k];\n  }\n  cout << a1 << \" \" << b;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nstruct __timestamper {};\nvector<int> v;\nint ans[2];\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    int k;\n    scanf(\"%d\", &k);\n    for (int i = 0; i < k; i++) {\n      int x;\n      scanf(\"%d\", &x);\n      if (i < k / 2)\n        ans[0] += x;\n      else if (i >= (k + 1) / 2)\n        ans[1] += x;\n      else\n        v.push_back(x);\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < (int)v.size(); i++) ans[i % 2] += v[i];\n  printf(\"%d %d\\n\", ans[0], ans[1]);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  long long n, i, j, k, t, id, x, v, ans, nn, r, total;\n  cin >> n;\n  vector<vector<int>> a(n);\n  ans = 0;\n  total = 0;\n  vector<int> qq;\n  for (i = 0; i < n; i++) {\n    cin >> r;\n    a[i].resize(r);\n    for (j = 0; j < r; j++) {\n      cin >> a[i][j];\n      total += a[i][j];\n      if (j < r / 2) ans += a[i][j];\n      if ((j == r / 2) && (r % 2 == 1)) qq.push_back(a[i][j]);\n    }\n  }\n  sort(qq.rbegin(), qq.rend());\n  for (i = 0; i < qq.size(); i += 2) ans += qq[i];\n  cout << ans << \" \" << total - ans << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int DEBUG = 0;\nnamespace defs {\ntemplate <class Type>\nType read() {\n  Type aa;\n  int bb = 1, ch;\n  while (ch = getchar(), (ch < '0' || ch > '9') && ch != '-')\n    ;\n  ch == '-' ? aa = 0, bb = -1 : aa = ch - '0';\n  while (ch = getchar(), ch >= '0' && ch <= '9') aa = aa * 10 + ch - '0';\n  return bb == 1 ? aa : -aa;\n}\nconst unsigned int rand_x = 11309;\nconst unsigned int rand_y = 1000000019;\nunsigned int rand_cur;\nunsigned int rand_int() { return rand_cur = rand_cur * rand_x + rand_y; }\nconst int inf = 1071026353;\nconst int mod = 1000000007;\nconst int modx = 998244353;\n}  // namespace defs\nnamespace lightningwork {\nint (*read)() = defs::read<int>;\nint n, t[110];\nint num[110][110];\nint s1, s2;\nint que[110], tot;\nvoid work() {\n  n = read();\n  for (int i = 1; i <= n; ++i) {\n    t[i] = read();\n    for (int j = 1; j <= t[i]; ++j) {\n      num[i][j] = read();\n    }\n    int mid = t[i] / 2;\n    for (int j = 1; j <= mid; ++j) {\n      s1 += num[i][j];\n      s2 += num[i][t[i] + 1 - j];\n    }\n    if (t[i] & 1) {\n      que[++tot] = num[i][mid + 1];\n    }\n  }\n  sort(que + 1, que + tot + 1);\n  for (int i = 1; i <= tot; ++i) {\n    if (i & 1)\n      s1 += que[tot + 1 - i];\n    else\n      s2 += que[tot + 1 - i];\n  }\n  printf(\"%d %d\\n\", s1, s2);\n}\n}  // namespace lightningwork\nint main() {\n  if (0)\n    freopen(\n        \"work\"\n        \".in\",\n        \"r\", stdin),\n        freopen(\n            \"work\"\n            \".out\",\n            \"w\", stdout);\n  lightningwork::work();\n  if (0) fclose(stdin), fclose(stdout);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\n/**\n *\n * @author HaNS3\n */\npublic class main {\n\n    public static boolean checkArray(ArrayList[] ar, int n) {\n        for (int i = 0; i < n; i++) {\n            if (!ar[i].isEmpty()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        ArrayList[] arr = new ArrayList[n];\n\n        for (int i = 0; i < n; i++) {\n            int k = sc.nextInt();\n            arr[i] = new ArrayList<Integer>();\n            for (int j = 0; j < k; j++) {\n                int h = sc.nextInt();\n                arr[i].add(h);\n            }\n        }\n\n        int scoreA = 0;\n        int scoreB = 0;\n\n        ArrayList<Integer> m = new ArrayList<Integer>();\n\n        for (int i = 0; i < n; i++) {\n            if (arr[i].size() % 2 != 0) {\n                for (int j = 0; j < (arr[i].size() - 1) / 2; j++) {\n                    scoreA += (int) arr[i].get(j);\n                }\n                for (int j = arr[i].size() - 1; j > (arr[i].size() - 1) / 2; j--) {\n                    scoreB += (int) arr[i].get(j);\n                }\n                int middle = (arr[i].size() - 1) / 2;\n                m.add((Integer) arr[i].get(middle));\n            } else {\n                for (int j = 0; j <= (arr[i].size() - 1) / 2; j++) {\n                    scoreA += (int) arr[i].get(j);\n                }\n                for (int j = arr[i].size() - 1; j > (arr[i].size() - 1) / 2; j--) {\n                    scoreB += (int) arr[i].get(j);\n                }\n            }\n        }\n        \n        for (int i = 0; i < m.size(); i++) {\n            for (int j = 0; j < m.size(); j++) {\n                if(m.get(i) < m.get(j)){\n                    int swap = m.get(i);\n                    m.add(i, m.get(j)); m.remove(i + 1);\n                    m.add(j, swap); m.remove(j + 1);\n                }\n            }\n        }\n        \n        for (int i = 0; i < m.size(); i++) {\n            if(i % 2 == (m.size() - 1) % 2) {\n                scoreA += m.get(i);\n            } else {\n                scoreB += m.get(i);\n            }\n        }\n        System.out.println(scoreA + \" \" + scoreB);\n    }\n}\n"
        },
        {
            "language": 3,
            "solution": "n = int(input())\nc = [list(map(int, input().split())) for _ in range(n)]\na, b = 0, 0\nd = []\nfor i in range(n):\n    if len(c[i]) % 2:\n        a += sum(c[i][1:c[i][0]//2+1])\n        b += sum(c[i][c[i][0]//2+1:])\n    else:\n        a += sum(c[i][1:c[i][0]//2+1])\n        b += sum(c[i][c[i][0]//2+2:])\n        d.append(c[i][c[i][0]//2+1])\nd.sort(reverse=True)\nprint(a+sum(d[0::2]), b+sum(d[1::2]))"
        },
        {
            "language": 1,
            "solution": "#!/usr/bin/env python\n#-*- coding:utf-8 -*-\n\nimport sys, math, random, operator\nfrom string import ascii_lowercase\nfrom string import ascii_uppercase\nfrom fractions import Fraction, gcd\nfrom decimal import Decimal, getcontext\nfrom itertools import product, permutations, combinations\nfrom Queue import Queue, PriorityQueue\nfrom collections import deque, defaultdict, Counter\ngetcontext().prec = 100\n\nMOD = 10**9 + 7\nINF = float(\"+inf\")\n\nif sys.subversion[0] != \"CPython\":  # PyPy?\n    raw_input = lambda: sys.stdin.readline().rstrip()\npr = lambda *args: sys.stdout.write(\" \".join(str(x) for x in args) + \"\\n\")\nepr = lambda *args: sys.stderr.write(\" \".join(str(x) for x in args) + \"\\n\")\ndie = lambda *args: pr(*args) ^ exit(0)\n\nread_str = raw_input\nread_strs = lambda: raw_input().split()\nread_int = lambda: int(raw_input())\nread_ints = lambda: map(int, raw_input().split())\nread_float = lambda: float(raw_input())\nread_floats = lambda: map(float, raw_input().split())\n\n\"---------------------------------------------------------------\"\n\nn = read_int()\ndecks = []\ncnt = 0\nfor i in xrange(n):\n    d = read_ints()[1:]\n    decks.append(d)\n    cnt += len(d)\n\nvals1 = []\nvals2 = []\nodd = []\nfor d in decks:\n    mid = len(d) / 2\n    if len(d) % 2 == 0:\n        vals1 += d[:mid]\n        vals2 += d[mid:]\n    else:\n        vals1 += d[:mid]\n        vals2 += d[mid+1:]\n        odd.append(d[mid])\n\nodd = sorted(odd, reverse=True)\nvals1 += odd[::2]\nvals2 += odd[1::2]\nprint sum(vals1), sum(vals2)\n\n"
        },
        {
            "language": 4,
            "solution": "import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Scanner;\n\npublic class R228_Div1_C {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\tint[] score = new int[2];\n\t\tArrayList<Integer> spare = new ArrayList();\n\t\t\n\t\tfor(int i = 0; i < n; ++i) {\n\t\t\tint s = sc.nextInt();\n\t\t\tfor(int j = 0; j < s/2; ++j)\n\t\t\t\tscore[0] += sc.nextInt();\n\t\t\tif(s%2 == 1)\n\t\t\t\tspare.add(sc.nextInt());\n\t\t\tfor(int j = 0; j < s/2; ++j)\n\t\t\t\tscore[1] += sc.nextInt();\n\t\t}\n\t\t\n\t\tCollections.sort(spare, Collections.reverseOrder());\n\t\tfor(int i = 0; i < spare.size(); ++i)\n\t\t\tscore[i%2] += spare.get(i);\n\t\t\n\t\tSystem.out.println(score[0]+\" \"+score[1]);\n\t}\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint sum[110][110], a[110][110], ans[110];\nbool cmp(int a, int b) { return a > b; }\nint main() {\n  int i, j, n, m;\n  scanf(\"%d\", &n);\n  int r = 0;\n  int C = 0, J = 0;\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    scanf(\"%d\", &a[i][0]);\n    sum[i][0] = a[i][0];\n    for (j = 1; j < m; j++) {\n      scanf(\"%d\", &a[i][j]);\n      sum[i][j] = sum[i][j - 1] + a[i][j];\n    }\n    if (m & 1) {\n      ans[r++] = a[i][m / 2];\n      J += sum[i][m - 1] - sum[i][m / 2];\n    } else\n      J += sum[i][m - 1] - sum[i][m / 2 - 1];\n    C += sum[i][m / 2 - 1];\n  }\n  sort(ans, ans + r, cmp);\n  for (i = 0; i < r; i++)\n    if ((i & 1) == 0)\n      C += ans[i];\n    else\n      J += ans[i];\n  printf(\"%d %d\\n\", C, J);\n  return 0;\n}\n"
        },
        {
            "language": 1,
            "solution": "a=b=s=[]\nfor i in[0]*input():u=map(int,raw_input().split());l=u.pop(0);s=s+u[l/2:-~l/2];b=b+u;a+=u[:l/2]\na=sum(a+sorted(s)[::-2]);print a,sum(b)-a\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int inf = 1000000000;\nconst int mo = 1000000007;\nconst int N = 2005;\nint a[N], b[N];\nint main() {\n  int t, sum = 0, sub = 0;\n  cin >> t;\n  vector<int> c;\n  while (t--) {\n    int n;\n    cin >> n;\n    for (int i = 0; i < n; ++i) {\n      cin >> a[i];\n      sum += a[i];\n    }\n    if (n % 2 == 1) c.push_back(a[n / 2]);\n    for (int l = 0, r = n - 1; l < r;) {\n      sub += a[l];\n      sub -= a[r];\n      ++l;\n      --r;\n    }\n  }\n  sort(c.begin(), c.end());\n  reverse(c.begin(), c.end());\n  for (int i = 0; i < ((int)((c).size())); ++i)\n    if (i % 2 == 0)\n      sub += c[i];\n    else\n      sub -= c[i];\n  int A = (sum + sub) / 2;\n  int B = sum - A;\n  cout << A << ' ' << B << endl;\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.StringTokenizer;\n\n\n\npublic class Abood2B {\n\n\t\n\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner sc = new Scanner(System.in);\n\t\tPrintWriter out = new PrintWriter(System.out);\n\n\t\tint n = sc.nextInt();\n\t\t\n\t\tint a = 0;\n\t\tint b = 0;\n\t\t\n\t\tArrayList<Integer> h = new ArrayList<>();\n\t\t\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint c = sc.nextInt();\n\t\t\t\n\t\t\tfor (int j = 0; j < c / 2; j++) {\n\t\t\t\ta += sc.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tif(c % 2 == 1)\n\t\t\t\th.add(sc.nextInt());\n\t\t\t\n\t\t\tfor (int j = (c + 1) / 2; j < c; j++) {\n\t\t\t\tb += sc.nextInt();\n\t\t\t}\n\t\t}\n\t\t\n\t\tCollections.sort(h, new Comparator<Integer>() {\n\n\t\t\t@Override\n\t\t\tpublic int compare(Integer o1, Integer o2) {\n\t\t\t\treturn o2 - o1;\n\t\t\t}\n\t\t});\n\t\t\n\t\tfor (int i = 0; i < h.size(); i++) {\n\t\t\tif(i %2 == 0)\n\t\t\t\ta += h.get(i);\n\t\t\telse\n\t\t\t\tb += h.get(i);\n\t\t}\n\t\t\n\t\tSystem.out.println(a + \" \" + b);\n\t\t\n\t\tout.flush();\n\t\tout.close();\n\t}\n\n\n\n\n\tstatic class Scanner \n\n\n\n\t{\n\t\tStringTokenizer st;\n\t\tBufferedReader br;\n\n\t\tpublic Scanner(InputStream s){\tbr = new BufferedReader(new InputStreamReader(s));}\n\n\t\tpublic String next() throws IOException \n\t\t{\n\t\t\twhile (st == null || !st.hasMoreTokens()) \n\t\t\t\tst = new StringTokenizer(br.readLine());\n\t\t\treturn st.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() throws IOException {return Integer.parseInt(next());}\n\n\t\tpublic long nextLong() throws IOException {return Long.parseLong(next());}\n\n\t\tpublic String nextLine() throws IOException {return br.readLine();}\n\n\n\t\tpublic double nextDouble() throws IOException\n\t\t{\n\t\t\tString x = next();\n\t\t\tStringBuilder sb = new StringBuilder(\"0\");\n\t\t\tdouble res = 0, f = 1;\n\t\t\tboolean dec = false, neg = false;\n\t\t\tint start = 0;\n\t\t\tif(x.charAt(0) == '-')\n\t\t\t{\n\t\t\t\tneg = true;\n\t\t\t\tstart++;\n\t\t\t}\n\t\t\tfor(int i = start; i < x.length(); i++)\n\t\t\t\tif(x.charAt(i) == '.')\n\t\t\t\t{\n\t\t\t\t\tres = Long.parseLong(sb.toString());\n\t\t\t\t\tsb = new StringBuilder(\"0\");\n\t\t\t\t\tdec = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsb.append(x.charAt(i));\n\t\t\t\t\tif(dec)\n\t\t\t\t\t\tf *= 10;\n\t\t\t\t}\n\t\t\tres += Long.parseLong(sb.toString()) / f;\n\t\t\treturn res * (neg?-1:1);\n\t\t}\n\n\t\tpublic boolean ready() throws IOException {return br.ready();}\n\n\n\n\t}\n\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, k, t, suma, sumb, midc;\nint mid[200];\nint main() {\n  scanf(\"%d\", &n);\n  suma = 0;\n  sumb = 0;\n  midc = 0;\n  for (int j = 0; j < n; ++j) {\n    scanf(\"%d\", &k);\n    for (int i = 0; i < k / 2; ++i) {\n      scanf(\"%d\", &t);\n      suma += t;\n    }\n    if (k & 1) {\n      scanf(\"%d\", &t);\n      mid[midc++] = t;\n    }\n    for (int i = 0; i < k / 2; ++i) {\n      scanf(\"%d\", &t);\n      sumb += t;\n    }\n  }\n  sort(mid, mid + midc);\n  for (int i = 0; i < midc; ++i) {\n    if (i % 2 == midc % 2)\n      sumb += mid[i];\n    else\n      suma += mid[i];\n  }\n  printf(\"%d %d\\n\", suma, sumb);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ntemplate <class T>\ninline void read(T& x) {\n  bool fu = 0;\n  char c;\n  for (c = getchar(); c <= 32; c = getchar())\n    ;\n  if (c == '-') fu = 1, c = getchar();\n  for (x = 0; c > 32; c = getchar()) x = x * 10 + c - '0';\n  if (fu) x = -x;\n};\ninline char getc() {\n  char c;\n  for (c = getchar(); c <= 32; c = getchar())\n    ;\n  return c;\n}\nint n, i, j, k, p;\nint V[110][110], l[110], r[110];\nint ans1, ans2, c[110];\nint main() {\n  read(n);\n  for (i = 1; i <= n; i++) {\n    read(V[i][0]);\n    for (j = 1; j <= V[i][0]; j++) read(V[i][j]);\n    for (j = 1; j <= V[i][0] / 2; j++) ans1 += V[i][j];\n    for (j = V[i][0]; j >= V[i][0] - (V[i][0] / 2) + 1; j--) ans2 += V[i][j];\n    if (V[i][0] & 1) c[++c[0]] = V[i][(V[i][0] + 1) / 2];\n  }\n  sort(c + 1, c + 1 + c[0], greater<int>());\n  for (i = 1; i <= n; i++)\n    if (i & 1)\n      ans1 += c[i];\n    else\n      ans2 += c[i];\n  printf(\"%d %d\\n\", ans1, ans2);\n  scanf(\"\\n\");\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  cin >> n;\n  int ciel = 0, jiro = 0;\n  vector<int> mid;\n  for (int i = 0; i < n; i++) {\n    int sz;\n    cin >> sz;\n    int j;\n    for (j = 0; j < sz / 2; j++) {\n      int num;\n      cin >> num;\n      ciel += num;\n    }\n    if (sz % 2 == 1) {\n      int num;\n      cin >> num;\n      mid.push_back(num);\n      j++;\n    }\n    for (; j < sz; j++) {\n      int num;\n      cin >> num;\n      jiro += num;\n    }\n  }\n  sort(mid.begin(), mid.end());\n  int sz = mid.size();\n  for (int i = sz - 1; i >= 0; i--) {\n    if ((sz - i) % 2 == 1)\n      ciel += mid[i];\n    else\n      jiro += mid[i];\n  }\n  cout << ciel << \" \" << jiro << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n;\nvector<int> v;\nint a[1000];\nlong long ansl = 0, ansr = 0;\nvoid solve() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; ++i) {\n    int m;\n    scanf(\"%d\", &m);\n    for (int j = 0; j < m; ++j) scanf(\"%d\", &a[j]);\n    for (int j = 0; j < m / 2; ++j) ansl += a[j], ansr += a[m - j - 1];\n    if (m % 2) v.push_back(a[m / 2]);\n  }\n  sort(v.begin(), v.end());\n  for (int i = v.size() - 1, j = 0; i >= 0; --i, ++j)\n    if (j % 2)\n      ansr += v[i];\n    else\n      ansl += v[i];\n  cout << ansl << ' ' << ansr << endl;\n}\nint main() {\n  solve();\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.util.*;\n\npublic class C {\n\n\tvoid solve() throws IOException {\n\t\tint n = nextInt();\n\t\tint sumL = 0;\n\t\tint sumR = 0;\n\t\tArrayList<Integer> left = new ArrayList<>();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint si = nextInt();\n\t\t\tint[] a = new int[si];\n\t\t\tfor (int j = 0; j < si; j++) {\n\t\t\t\ta[j] = nextInt();\n\t\t\t}\n\t\t\tfor (int j = 1; j * 2 <= si; j++) {\n\t\t\t\tsumL += a[j - 1];\n\t\t\t\tsumR += a[si - j];\n\t\t\t}\n\t\t\tif (si % 2 == 1) {\n\t\t\t\tleft.add(a[si / 2]);\n\t\t\t}\n\t\t}\n\t\tif (left.size() % 2 == 1) {\n\t\t\tleft.add(0);\n\t\t}\n\t\tCollections.sort(left);\n\t\tfor (int i = left.size() - 1; i >= 0; i-=2) {\n\t\t\tsumL += left.get(i);\n\t\t\tsumR += left.get(i - 1);\n\t\t}\n\t\tout.println(sumL+\" \"+sumR);\n\t}\n\n\tvoid run() throws IOException {\n\t\tin = new BufferedReader(new InputStreamReader(System.in));\n\t\tout = new PrintWriter(System.out);\n\t\tsolve();\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tnew C().run();\n\t}\n\n\tBufferedReader in;\n\tPrintWriter out;\n\tStringTokenizer st;\n\n\tString next() throws IOException {\n\t\twhile (st == null || !st.hasMoreTokens()) {\n\t\t\tString temp = in.readLine();\n\t\t\tif (temp == null) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tst = new StringTokenizer(temp);\n\t\t}\n\t\treturn st.nextToken();\n\t}\n\n\tint nextInt() throws IOException {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tdouble nextDouble() throws IOException {\n\t\treturn Double.parseDouble(next());\n\t}\n\n\tlong nextLong() throws IOException {\n\t\treturn Long.parseLong(next());\n\t}\n\n}\n"
        },
        {
            "language": 3,
            "solution": "from functools import reduce\n\nn = int(input())\ncards = [list(map(int, input().split()[1:])) for i in range(n)]\nmid = sorted((c[len(c) >> 1] for c in cards if len(c) & 1 == 1), reverse=True)\nadd = lambda x=0, y=0: x + y\na, b = reduce(add, mid[::2] or [0]), reduce(add, mid[1::2] or [0])\nfor c in cards:\n    m = len(c) >> 1\n    a += reduce(add, c[:m] or [0])\n    b += reduce(add, c[m + (len(c) & 1):] or [0])\nprint(a, b)\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint odd_mid[100];\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  int odd_n = 0;\n  std::pair<int, int> ans(0, 0);\n  for (int i = 0; i < n; i++) {\n    int s, c;\n    scanf(\"%d\", &s);\n    for (int j = 0; j < s / 2; j++) {\n      scanf(\"%d\", &c);\n      ans.first += c;\n    }\n    if (s % 2) {\n      scanf(\"%d\", &c);\n      odd_mid[odd_n++] = c;\n    }\n    for (int j = (s + 1) / 2; j < s; j++) {\n      scanf(\"%d\", &c);\n      ans.second += c;\n    }\n  }\n  std::sort(odd_mid, odd_mid + odd_n);\n  for (int i = 0; i < odd_n; i++) {\n    if (i % 2 == 0)\n      ans.first += odd_mid[odd_n - i - 1];\n    else\n      ans.second += odd_mid[odd_n - i - 1];\n  }\n  printf(\"%d %d\\n\", ans.first, ans.second);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.StringTokenizer;\n\npublic class Solver {\n\n\tpublic static void main(String[] Args) throws NumberFormatException,\n\t\t\tIOException {\n\t\tnew Solver().Run();\n\t}\n\n\tPrintWriter pw;\n\tStringTokenizer Stok;\n\tBufferedReader br;\n\n\tpublic String nextToken() throws IOException {\n\t\twhile (Stok == null || !Stok.hasMoreTokens()) {\n\t\t\tStok = new StringTokenizer(br.readLine());\n\t\t}\n\t\treturn Stok.nextToken();\n\t}\n\n\tpublic int nextInt() throws NumberFormatException, IOException {\n\t\treturn Integer.parseInt(nextToken());\n\t}\n\n\tpublic double nextDouble() throws NumberFormatException, IOException {\n\t\treturn Double.parseDouble(nextToken());\n\t}\n\n\tpublic long nextLong() throws NumberFormatException, IOException {\n\t\treturn Long.parseLong(nextToken());\n\t}\n\n\tint kolRows;\n\tint[] kolInRow;\n\tint[][] values;\n\tint resTop, resBottom;\n\t\n\t\n\tpublic void Run() throws NumberFormatException, IOException {\n\t\t//br = new BufferedReader(new FileReader(\"input.txt\")); pw = new PrintWriter(\"output.txt\");\n\t\tbr=new BufferedReader(new InputStreamReader(System.in));  pw=new PrintWriter(new OutputStreamWriter(System.out));\n\t\t\n\t\tkolRows=nextInt();\n\t\tkolInRow=new int[kolRows];\n\t\tvalues=new int[kolRows][];\n\t\tfor (int i=0; i<kolRows; i++){\n\t\t\tkolInRow[i]=nextInt();\n\t\t\tvalues[i]=new int[kolInRow[i]];\n\t\t\tfor (int j=0; j<kolInRow[i]; j++){\n\t\t\t\tvalues[i][j]=nextInt();\n\t\t\t}\n\t\t}\n\t\t\n\t\tArrayList<Integer> middles=new ArrayList<Integer>();\n\t\tfor (int i=0; i<kolRows; i++){\n\t\t\tint half=kolInRow[i]/2;\n\t\t\tfor (int j=0; j<half; j++){\n\t\t\t\tresTop+=values[i][j];\n\t\t\t}\n\t\t\tfor (int j=kolInRow[i]-1; j>=kolInRow[i]-half; j--){\n\t\t\t\tresBottom+=values[i][j];\n\t\t\t}\n\t\t\tif ((kolInRow[i]&1)>0){\n\t\t\t\tmiddles.add(values[i][half]);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(middles, new Comparator<Integer>() {\n\n\t\t\t@Override\n\t\t\tpublic int compare(Integer o1, Integer o2) {\n\t\t\t\treturn o2-o1;\n\t\t\t}\n\t\t\t\n\t\t});\n\t\tint size=middles.size();\n\t\tfor (int i=0; i<size; i++){\n\t\t\tif ((i&1)==0)\n\t\t\t\tresTop+=middles.get(i);\n\t\t\telse\n\t\t\t\tresBottom+=middles.get(i);\n\t\t}\n\t\tpw.print(resTop);\n\t\tpw.print(' ');\n\t\tpw.println(resBottom);\n\t\tpw.flush();\n\t\tpw.close();\n\t}\n\n}\n"
        },
        {
            "language": 4,
            "solution": "\npublic class C {\n\n\tprivate final static boolean autoflush = false;\n\n\tpublic C () {\n\t\tint N = sc.nextInt();\n\t\tint [] S = new int [N];\n\t\tInteger [][] C = new Integer [N][];\n\t\tfor (int i : rep(N)) {\n\t\t\tS[i] = sc.nextInt();\n\t\t\tC[i] = sc.nextInt(S[i]);\n\t\t}\n\n\t\tint [] B = new int [N], E = new int [N];\n\t\tfor (int i : rep(N))\n\t\t\tE[i] = S[i] - 1;\n\n\t\tint X = 0, Y = 0;\n\t\tfor(;;) {\n\t\t\t{\n\t\t\t\tint b = -1, q = 0;\n\t\t\t\tfor (int i : rep(N))\n\t\t\t\t\tif ((B[i] + E[i]) % 2 == 0) {\n\t\t\t\t\t\tint m = (B[i] + E[i]) / 2;\n\t\t\t\t\t\tif (C[i][m] > q) {\n\t\t\t\t\t\t\tq = C[i][m];\n\t\t\t\t\t\t\tb = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tif (b >= 0)\n\t\t\t\t\tX += C[b][B[b]++];\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t{\n\t\t\t\tint b = -1, q = 0;\n\t\t\t\tfor (int i : rep(N))\n\t\t\t\t\tif ((B[i] + E[i]) % 2 == 0) {\n\t\t\t\t\t\tint m = (B[i] + E[i]) / 2;\n\t\t\t\t\t\tif (C[i][m] > q) {\n\t\t\t\t\t\t\tq = C[i][m];\n\t\t\t\t\t\t\tb = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tif (b >= 0)\n\t\t\t\t\tY += C[b][E[b]--];\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (int i : rep(N))\n\t\t\tif (B[i] < E[i]) {\n\t\t\t\tint m = (B[i] + E[i]) / 2;\n\t\t\t\tfor (int j : req(B[i], m))\n\t\t\t\t\tX += C[i][j];\n\t\t\t\tfor (int j : req(m+1, E[i]))\n\t\t\t\t\tY += C[i][j];\n\t\t\t}\n\n\t\texit(X, Y);\n\t}\n\n\t///////////////////////////////////////////////////////////////////////////\n\tprivate static int [] rep(int N) { return rep(0, N); }\n\tprivate static int [] rep(int S, int T) { if (T <= S) return new int [0]; int [] res = new int [T-S]; for (int i = S; i < T; ++i) res[i-S] = i; return res; }\n\tprivate static int [] req(int S, int T) { return rep(S, T+1); }\n\t////////////////////////////////////////////////////////////////////////////////////\n\tprivate final static MyScanner sc = new MyScanner();\n\tprivate static class MyScanner {\n\t\tpublic String next() { newLine(); return line[index++]; }\n\t\tpublic int nextInt() { return Integer.parseInt(next()); }\n\t\tpublic Integer [] nextInt (int N) {\n\t\t\tInteger [] res = new Integer [N];\n\t\t\tfor (int i = 0; i < N; ++i)\n\t\t\t\tres[i] = nextInt();\n\t\t\treturn res;\n\t\t}\n\t\t//////////////////////////////////////////////\n\t\tprivate boolean eol() { return index == line.length; }\n\t\tprivate String readLine() {\n\t\t\ttry {\n\t\t\t\treturn r.readLine();\n\t\t\t} catch (Exception e) {\n\t\t\t\tthrow new Error (e);\n\t\t\t}\n\t\t}\n\t\tprivate final java.io.BufferedReader r;\n\t\tprivate MyScanner () { this(new java.io.BufferedReader(new java.io.InputStreamReader(System.in))); }\n\t\tprivate MyScanner (java.io.BufferedReader r) {\n\t\t\ttry {\n\t\t\t\tthis.r = r;\n\t\t\t\twhile (!r.ready())\n\t\t\t\t\tThread.sleep(1);\n\t\t\t\tstart();\n\t\t\t} catch (Exception e) {\n\t\t\t\tthrow new Error(e);\n\t\t\t}\n\t\t}\n\t\tprivate String [] line;\n\t\tprivate int index;\n\t\tprivate void newLine() {\n\t\t\tif (line == null || eol()) {\n\t\t\t\tline = readLine().split(\" \");\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t}\n\t}\n\tprivate static void print (Object o, Object... a) { printDelim(\" \", o, a); }\n\tprivate static void printDelim (String delim, Object o, Object... a) { pw.println(build(delim, o, a)); }\n\tprivate static void exit (Object o, Object... a) { print(o, a); exit(); }\n\tprivate static void exit() {\n\t\tpw.close();\n\t\tSystem.out.flush();\n\t\tSystem.err.println(\"------------------\");\n\t\tSystem.err.println(\"Time: \" + ((millis() - t) / 1000.0));\n\t\tSystem.exit(0);\n\t}\n\t////////////////////////////////////////////////////////////////////////////////////\n\tprivate static String build (String delim, Object o, Object... a) {\n\t\tStringBuilder b = new StringBuilder();\n\t\tappend(b, o, delim);\n\t\tfor (Object p : a)\n\t\t\tappend(b, p, delim);\n\t\treturn b.substring(delim.length());\n\t}\n\tprivate static void append(StringBuilder b, Object o, String delim) {\n\t\tif (o.getClass().isArray()) {\n\t\t\tint L = java.lang.reflect.Array.getLength(o);\n\t\t\tfor (int i = 0; i < L; ++i)\n\t\t\t\tappend(b, java.lang.reflect.Array.get(o, i), delim);\n\t\t} else if (o instanceof Iterable<?>)\n\t\t\tfor (Object p : (Iterable<?>)o)\n\t\t\t\tappend(b, p, delim);\n\t\telse\n\t\t\tb.append(delim).append(o);\n\t}\n\t////////////////////////////////////////////////////////////////////////////////////\n\tprivate static void start() { t = millis(); }\n\tprivate static java.io.PrintWriter pw = new java.io.PrintWriter(System.out, autoflush);\n\tprivate static long t;\n\tprivate static long millis() { return System.currentTimeMillis(); }\n\tpublic static void main (String[] args) { new C(); exit(); }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, s, arr[105];\nint foxSum, totalSum, ct, foxCt;\nvector<int> extras;\nint main(int argc, const char* argv[]) {\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    cin >> s;\n    ct += s;\n    foxCt += s / 2;\n    for (int j = 0; j < s; j++) {\n      cin >> arr[j];\n      totalSum += arr[j];\n    }\n    for (int j = 0; j < s / 2; j++) foxSum += arr[j];\n    if (s % 2 == 1) extras.push_back(arr[s / 2]);\n  }\n  sort(extras.begin(), extras.end());\n  for (int i = 0; i < (ct + 1) / 2 - foxCt; i++) {\n    foxSum += extras[extras.size() - 1 - 2 * i];\n  }\n  cout << foxSum << \" \" << totalSum - foxSum << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint arr[100010], cnt;\nint n, k, x;\nlong long sum1, sum2;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &k);\n    for (int i = 1; i <= k; i++) {\n      scanf(\"%d\", &x);\n      if (i <= k / 2)\n        sum1 += x;\n      else if (i * 2 == k + 1) {\n        arr[cnt++] = x;\n      } else\n        sum2 += x;\n    }\n  }\n  sort(arr, arr + cnt, greater<int>());\n  for (int i = 0; i < cnt; i++) {\n    if (i & 1)\n      sum2 += arr[i];\n    else\n      sum1 += arr[i];\n  }\n  cout << sum1 << \" \" << sum2 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[100];\nvoid qs(int q, int w) {\n  int e = q, r = w, t = a[q + (rand() % (w - q + 1))], y;\n  do {\n    while (a[e] > t) e++;\n    while (a[r] < t) r--;\n    if (e <= r) {\n      y = a[e];\n      a[e] = a[r];\n      a[r] = y;\n      e++;\n      r--;\n    }\n  } while (e <= r);\n  if (q < r) qs(q, r);\n  if (e < w) qs(e, w);\n}\nint main() {\n  int q, w, e, r, t = 0, c = 0, v = 0;\n  for (cin >> q; q; q--) {\n    cin >> w;\n    for (e = 0; e < w / 2; e++) {\n      cin >> r;\n      c += r;\n    }\n    if (w % 2) {\n      cin >> a[t];\n      t++;\n    }\n    for (e = 0; e < w / 2; e++) {\n      cin >> r;\n      v += r;\n    }\n  }\n  if (t) qs(0, t - 1);\n  for (w = 0; w < t; w++)\n    if (w % 2)\n      v += a[w];\n    else\n      c += a[w];\n  cout << c << \" \" << v;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint comparar(const void* a, const void* b);\nint main(void) {\n  int n, i, j, carta, puntajeCiel = 0, puntajeJiro = 0, m, sobra = 0;\n  scanf(\"%d\", &n);\n  int medio[n];\n  for (i = 0; i < n; ++i) {\n    scanf(\"%d\", &m);\n    for (j = 0; j < m; ++j) {\n      scanf(\"%d\", &carta);\n      if (j < m / 2) {\n        puntajeCiel += carta;\n      } else if ((m % 2 == 1) && (j == m / 2)) {\n        medio[sobra++] = carta;\n      } else\n        puntajeJiro += carta;\n    }\n  }\n  qsort(medio, sobra, sizeof(int), comparar);\n  for (i = 0; i < sobra; ++i) {\n    if (i % 2 == 0)\n      puntajeCiel += medio[i];\n    else\n      puntajeJiro += medio[i];\n  }\n  printf(\"%d %d\", puntajeCiel, puntajeJiro);\n}\nint comparar(const void* a, const void* b) { return (*(int*)b - *(int*)a); }\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nvoid ordenacionshell(int v[], int n);\nint main() {\n  int n, i, tam, ciel = 0, jiro = 0, m = 0, j;\n  scanf(\"%d\", &n);\n  int v[n];\n  for (i = 0; i < n; i++) {\n    v[i] = 0;\n  }\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &tam);\n    int pila[tam];\n    if (tam % 2 == 0) {\n      for (j = 0; j < tam; j++) {\n        scanf(\"%d\", &pila[j]);\n        if (j < tam / 2) {\n          ciel = ciel + pila[j];\n        } else {\n          jiro = jiro + pila[j];\n        }\n      }\n    } else {\n      for (j = 0; j < tam; j++) {\n        scanf(\"%d\", &pila[j]);\n        if (j < tam / 2) {\n          ciel = ciel + pila[j];\n        } else if (j > tam / 2) {\n          jiro = jiro + pila[j];\n        } else {\n          v[m] = pila[j];\n          m++;\n        }\n      }\n    }\n  }\n  ordenacionshell(v, n);\n  i = 0;\n  while (i < m) {\n    if (i % 2 == 0) {\n      ciel = ciel + v[i];\n    } else {\n      jiro = jiro + v[i];\n    }\n    i++;\n  }\n  printf(\"%d %d\", ciel, jiro);\n  return 0;\n}\nvoid ordenacionshell(int v[], int n) {\n  int intervalo, i, j, k;\n  int temp;\n  intervalo = n / 2;\n  while (intervalo > 0) {\n    for (i = intervalo; i < n; i++) {\n      j = i - intervalo;\n      while (j >= 0) {\n        k = j + intervalo;\n        if (v[j] >= v[k]) {\n          j = -1;\n        } else {\n          temp = v[j];\n          v[j] = v[k];\n          v[k] = temp;\n          j -= intervalo;\n        }\n      }\n    }\n    intervalo = intervalo / 2;\n  }\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.*;\nimport java.math.BigInteger;\nimport java.util.*;\nimport java.util.function.Function;\n\npublic class Template implements Runnable {\n\n    BufferedReader in;\n    PrintWriter out;\n    StringTokenizer tok = new StringTokenizer(\"\");\n\n    void init() throws FileNotFoundException {\n        try {\n            in = new BufferedReader(new FileReader(\"input.txt\"));\n            out = new PrintWriter(\"output.txt\");\n        } catch (Exception e) {\n            in = new BufferedReader(new InputStreamReader(System.in));\n            out = new PrintWriter(System.out);\n        }\n    }\n\n    class GraphBuilder {\n        int n, m;\n        int[] x, y;\n        int index;\n        int[] size;\n\n\n        GraphBuilder(int n, int m) {\n            this.n = n;\n            this.m = m;\n            x = new int[m];\n            y = new int[m];\n            size = new int[n];\n        }\n\n        void add(int u, int v) {\n            x[index] = u;\n            y[index] = v;\n            size[u]++;\n            size[v]++;\n            index++;\n        }\n\n        int[][] build() {\n            int[][] graph = new int[n][];\n            for (int i = 0; i < n; i++) {\n                graph[i] = new int[size[i]];\n            }\n            for (int i = index - 1; i >= 0; i--) {\n                int u = x[i];\n                int v = y[i];\n                graph[u][--size[u]] = v;\n                graph[v][--size[v]] = u;\n            }\n            return graph;\n        }\n    }\n\n    String readString() throws IOException {\n        while (!tok.hasMoreTokens()) {\n            try {\n                tok = new StringTokenizer(in.readLine());\n            } catch (Exception e) {\n                return null;\n            }\n        }\n        return tok.nextToken();\n    }\n\n    int readInt() throws IOException {\n        return Integer.parseInt(readString());\n    }\n\n    int[] readIntArray(int size) throws IOException {\n        int[] res = new int[size];\n        for (int i = 0; i < size; i++) {\n            res[i] = readInt();\n        }\n        return res;\n    }\n\n    long[] readLongArray(int size) throws IOException {\n        long[] res = new long[size];\n        for (int i = 0; i < size; i++) {\n            res[i] = readLong();\n        }\n        return res;\n    }\n\n    long readLong() throws IOException {\n        return Long.parseLong(readString());\n    }\n\n    double readDouble() throws IOException {\n        return Double.parseDouble(readString());\n    }\n\n    <T> List<T>[] createGraphList(int size) {\n        List<T>[] list = new List[size];\n        for (int i = 0; i < size; i++) {\n            list[i] = new ArrayList<>();\n        }\n        return list;\n    }\n\n    public static void main(String[] args) {\n        new Template().run();\n        // new Thread(null, new Template(), \"\", 1l * 200 * 1024 * 1024).start();\n    }\n\n    long timeBegin, timeEnd;\n\n    void time() {\n        timeEnd = System.currentTimeMillis();\n        System.err.println(\"Time = \" + (timeEnd - timeBegin));\n    }\n\n    long memoryTotal, memoryFree;\n\n    void memory() {\n        memoryFree = Runtime.getRuntime().freeMemory();\n        System.err.println(\"Memory = \" + ((memoryTotal - memoryFree) >> 10)\n                + \" KB\");\n    }\n\n    public void run() {\n        try {\n            timeBegin = System.currentTimeMillis();\n            memoryTotal = Runtime.getRuntime().freeMemory();\n            init();\n            solve();\n            out.close();\n            if (System.getProperty(\"ONLINE_JUDGE\") == null) {\n                time();\n                memory();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(-1);\n        }\n    }\n\n    void solve() throws IOException {\n        int n = readInt();\n        List<Integer> list = new ArrayList<>();\n        long x = 0;\n        long y = 0;\n        for (int i = 0; i < n; i++) {\n            int s = readInt();\n            int[] c = readIntArray(s);\n            int l = 0;\n            int r = c.length - 1;\n            while (l < r) {\n                x += c[l++];\n                y += c[r--];\n            }\n            if (l == r) {\n                list.add(c[l]);\n            }\n        }\n\n        Collections.sort(list);\n        for (int i = list.size() - 1; i >= 0; i--) {\n            if ((list.size() - 1 - i) % 2 == 0) {\n                x += list.get(i);\n            } else {\n                y += list.get(i);\n            }\n        }\n        out.println(x + \" \" + y);\n\n    }\n\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nlong long int n, s, x, cnt1, cnt2;\nvector<int> vect;\nint main() {\n  cin >> n;\n  while (n--) {\n    cin >> s;\n    for (int i = 0; i < s / 2; i++) cin >> x, cnt1 += x;\n    if (s % 2) cin >> x, vect.push_back(x);\n    for (int i = 0; i < s / 2; i++) cin >> x, cnt2 += x;\n  }\n  sort(vect.begin(), vect.end());\n  for (int i = vect.size() - 1; i >= 0; i--)\n    (vect.size() - i) % 2 ? cnt1 += vect[i] : cnt2 += vect[i];\n  cout << cnt1 << ' ' << cnt2 << endl;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int mod = 1e9 + 7;\nconst int maxe = 1e6 + 85;\nlong long n, a, b, k;\nvector<int> v;\nint main() {\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int s;\n    cin >> s;\n    for (int j = 0; j < s / 2; j++) {\n      int c;\n      cin >> c;\n      a += c;\n    }\n    if (s % 2) {\n      int c;\n      cin >> c;\n      v.push_back(-c);\n    }\n    for (int j = 0; j < s / 2; j++) {\n      int c;\n      cin >> c;\n      b += c;\n    }\n  }\n  sort(v.begin(), v.end());\n  for (int i = 0; i < v.size(); i++) {\n    if (i % 2) {\n      b += -v[i];\n    } else {\n      a += -v[i];\n    }\n  }\n  cout << a << ' ' << b;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[150];\nint ans[150];\nbool cmp(int s1, int s2) { return s1 > s2; }\nint main() {\n  int n;\n  cin >> n;\n  int s1 = 0, s2 = 0;\n  int cnt = 0;\n  while (n--) {\n    int t;\n    cin >> t;\n    for (int i = 1; i <= t; i++) {\n      cin >> a[i];\n    }\n    for (int i = 1; i <= t / 2; i++) {\n      s1 += a[i];\n      s2 += a[t - i + 1];\n    }\n    if (t % 2 != 0) {\n      ans[cnt++] = a[t / 2 + 1];\n    }\n  }\n  sort(ans, ans + cnt, cmp);\n  for (int i = 0; i < cnt; i++) {\n    if (i % 2 == 0)\n      s1 += ans[i];\n    else\n      s2 += ans[i];\n  }\n  printf(\"%d %d\\n\", s1, s2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\ntypedef struct nodo {\n  int dato;\n  struct nodo *anterior;\n  struct nodo *siguiente;\n} nodo;\ntypedef struct pila {\n  nodo *primero;\n  nodo *ultimo;\n} mazos;\nvoid agregar(mazos *mazo, int valor);\nvoid CrearMazo(mazos *mazo, int n);\nvoid imprimir(mazos mazo[], int dim);\nvoid eliminar(mazos *mazo, nodo *actual);\nint main() {\n  int n, i, j, valor, turno = 1, ciel = 0, mayor, jiro = 0, ban = 1, cont,\n                      indice;\n  nodo *direccion;\n  scanf(\"%d\", &n);\n  int x[n];\n  mazos mazo[n];\n  CrearMazo(mazo, n);\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &x[i]);\n    for (j = 0; j < x[i]; j++) {\n      scanf(\"%d\", &valor);\n      agregar(&mazo[i], valor);\n    }\n  }\n  for (i = 0; i < n; i++) {\n    if (x[i] % 2 == 0) {\n      while (mazo[i].primero != NULL) {\n        if (turno % 2 != 0) {\n          ciel += mazo[i].primero->dato;\n          eliminar(&mazo[i], mazo[i].primero);\n        } else {\n          jiro += mazo[i].ultimo->dato;\n          eliminar(&mazo[i], mazo[i].ultimo);\n        }\n        turno++;\n      }\n    } else {\n      while (mazo[i].primero != mazo[i].ultimo) {\n        if (turno % 2 != 0) {\n          ciel += mazo[i].primero->dato;\n          eliminar(&mazo[i], mazo[i].primero);\n        } else {\n          jiro += mazo[i].ultimo->dato;\n          eliminar(&mazo[i], mazo[i].ultimo);\n        }\n        turno++;\n      }\n    }\n  }\n  while (ban == 1) {\n    ban = 0;\n    indice = -1;\n    mayor = 0;\n    for (i = 0; i < n; i++) {\n      if (mazo[i].primero != NULL) {\n        if (turno % 2 == 0) {\n          if (mayor < mazo[i].ultimo->dato) {\n            mayor = mazo[i].ultimo->dato;\n            direccion = mazo[i].ultimo;\n            indice = i;\n          }\n        } else {\n          if (mayor < mazo[i].primero->dato) {\n            mayor = mazo[i].primero->dato;\n            direccion = mazo[i].primero;\n            indice = i;\n          }\n        }\n      }\n    }\n    if (turno % 2 != 0 && indice != -1) {\n      ciel += mayor;\n      eliminar(&mazo[indice], direccion);\n      ban = 1;\n    } else if (turno % 2 == 0 && indice != -1) {\n      jiro += mayor;\n      eliminar(&mazo[indice], direccion);\n      ban = 1;\n    }\n    turno++;\n  }\n  printf(\"%d %d\", ciel, jiro);\n  return 0;\n}\nvoid agregar(mazos *mazo, int valor) {\n  nodo *nuevo = (nodo *)malloc(sizeof(nodo));\n  if (mazo->ultimo != NULL) {\n    nuevo->anterior = mazo->ultimo;\n    mazo->ultimo->siguiente = nuevo;\n  } else {\n    nuevo->anterior = NULL;\n    mazo->primero = nuevo;\n  }\n  mazo->ultimo = nuevo;\n  nuevo->siguiente = NULL;\n  nuevo->dato = valor;\n}\nvoid CrearMazo(mazos *mazo, int n) {\n  int i;\n  for (i = 0; i < n; i++) {\n    mazo[i].primero = NULL;\n    mazo[i].ultimo = NULL;\n  }\n}\nvoid imprimir(mazos mazo[], int dim) {\n  int i;\n  nodo *actual;\n  for (i = 0; i < dim; i++) {\n    actual = mazo[i].primero;\n    while (actual != NULL) {\n      printf(\"%d \", actual->dato);\n      actual = actual->siguiente;\n    }\n    printf(\"\\n\");\n  }\n}\nvoid eliminar(mazos *mazo, nodo *actual) {\n  nodo *temp = (nodo *)malloc(sizeof(nodo));\n  if (mazo->ultimo == mazo->primero) {\n    mazo->primero = NULL;\n    mazo->ultimo = NULL;\n    temp = actual;\n  } else {\n    if (actual->siguiente == NULL) {\n      actual->anterior->siguiente = NULL;\n      mazo->ultimo = actual->anterior;\n    } else {\n      actual->siguiente->anterior = NULL;\n      mazo->primero = actual->siguiente;\n    }\n    temp = actual;\n  }\n  free(temp);\n}\n"
        },
        {
            "language": 4,
            "solution": "//package com.company;\n\nimport java.io.*;\nimport java.util.*;\n\npublic class Main {\n    static long TIME_START, TIME_END;\n    public static void main(String[] args) throws IOException {\n        MyScanner sc = new MyScanner(System.in);\n//        MyScanner sc = new MyScanner(new FileInputStream(\"Test.in\"));\n        PrintWriter pw = new PrintWriter(System.out);\n        TIME_START = System.currentTimeMillis();\n        Task.solve(sc, pw);\n        TIME_END = System.currentTimeMillis();\n//        pw.println(\"Time used: \" + (TIME_END - TIME_START) + \".\");\n        pw.close();\n    }\n    public static class Task {\n\n        public static void solve(MyScanner sc, PrintWriter pw) throws IOException {\n            int n = sc.nextInt();\n            List<Integer>[] cp = new List[n];\n            int ca = 0;\n            int cb = 0;\n            List<Integer> remainder = new ArrayList<>();\n            for (int i = 0; i < n; i++) {\n                cp[i] = new ArrayList<>();\n                int a = sc.nextInt();\n                for (int j = 0; j < a; j++) {\n                    int b = sc.nextInt();\n                    cp[i].add(b);\n                    if (j < a / 2) {\n                        ca += b;\n                    } else if (j >= (a + 1) / 2) {\n                        cb += b;\n                    } else {\n                        remainder.add(b);\n                    }\n                }\n            }\n            Collections.sort(remainder);\n            int which  = 0;\n            for (int i = remainder.size() - 1; i >=0 ; i--) {\n                if (which == 0) {\n                    ca += remainder.get(i);\n                    which = 1;\n                } else {\n                    cb += remainder.get(i);\n                    which = 0;\n                }\n            }\n            pw.println(ca + \" \" + cb);\n\n        }\n\n    }\n\n    static class MyScanner {\n        StringTokenizer st;\n        BufferedReader br;\n\n        public MyScanner(InputStream s){  br = new BufferedReader(new InputStreamReader(s));}\n\n        public MyScanner(FileReader s) throws FileNotFoundException {br = new BufferedReader(s);}\n\n        public String next() throws IOException\n        {\n            while (st == null || !st.hasMoreTokens())\n                st = new StringTokenizer(br.readLine());\n            return st.nextToken();\n        }\n\n        public int nextInt() throws IOException {return Integer.parseInt(next());}\n\n        public long nextLong() throws IOException {return Long.parseLong(next());}\n\n        public String nextLine() throws IOException {return br.readLine();}\n\n        public double nextDouble() throws IOException { return Double.parseDouble(next()); }\n\n        public boolean ready() throws IOException {return br.ready();}\n    }\n}\n"
        },
        {
            "language": 1,
            "solution": "n=int(raw_input())\nleft=0\nright=0\nrest=[]\nfor i in range(n):\n    cs = map(int, raw_input().split())\n    cs.pop(0)\n    for j,c in enumerate(cs):\n        if j < len(cs)/2:\n            left+=c\n        elif j >= (len(cs)+1)/2:\n            right+=c\n        else:\n            rest.append(c)\nrest.sort()\nrest.reverse()\nfor j,r in enumerate(rest):\n    if j%2 == 0:\n        left+=r\n    else:\n        right+=r\nprint left,right\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 1e9;\nconst long long INF64 = 1e18;\nconst double PI = acos(-1.0);\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\nconst int N = 110;\nint n;\nvector<int> a[N];\nint main() {\n  int ans1 = 0, ans2 = 0;\n  cin >> n;\n  vector<int> mids;\n  for (int i = 0; i < int(n); i++) {\n    int m;\n    cin >> m;\n    a[i].resize(m);\n    for (int j = 0; j < int(m); j++) {\n      cin >> a[i][j];\n    }\n    for (int l = 0, r = m - 1; l < r; l++, r--) {\n      ans1 += a[i][l];\n      ans2 += a[i][r];\n    }\n    if (m & 1) mids.push_back(a[i][m / 2]);\n  }\n  sort(mids.begin(), mids.end());\n  reverse(mids.begin(), mids.end());\n  for (int i = 0; i < int((int)mids.size()); i++) {\n    if (i & 1)\n      ans2 += mids[i];\n    else\n      ans1 += mids[i];\n  }\n  cout << ans1 << \" \" << ans2;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing pii = pair<int, int>;\nusing vi = vector<int>;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n  cout.tie(NULL);\n  int n;\n  cin >> n;\n  vector<int> vec;\n  int clei = 0, jiro = 0;\n  for (int i = 0; i < n; i++) {\n    int s, e;\n    cin >> s;\n    int h = s / 2;\n    for (int j = 0; j < h; j++) {\n      cin >> e;\n      clei += e;\n    }\n    if (s & 1) cin >> e, vec.push_back(e), h++;\n    for (int j = h; j < s; j++) {\n      cin >> e;\n      jiro += e;\n    }\n  }\n  sort((vec).rbegin(), (vec).rend());\n  int f = 1;\n  for (int& e : vec) {\n    if (f)\n      clei += e;\n    else\n      jiro += e;\n    f ^= 1;\n  }\n  cout << clei << \" \" << jiro << '\\n';\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, s[110], a[110][110], b[110];\nint main() {\n  long long k;\n  while (cin >> n) {\n    int ans = 0;\n    k = 0;\n    for (int i = 1; i <= n; i++) {\n      cin >> s[i];\n      int sum = 0, tot = 0;\n      for (int j = 1; j <= s[i]; j++) {\n        cin >> a[i][j];\n        if (j <= s[i] / 2) sum += a[i][j];\n        tot += a[i][j];\n      }\n      k += tot;\n      if (s[i] % 2 == 0) {\n        b[i] = 1000000000;\n        ans += sum - (tot - sum);\n      } else {\n        b[i] = a[i][s[i] / 2 + 1];\n        ans += sum - (tot - sum - b[i]);\n      }\n    }\n    sort(b + 1, b + 1 + n);\n    b[n + 1] = 1000000000;\n    for (int i = 1; i <= n + 1; i++) {\n      if (b[i] == 1000000000) {\n        int ss = 1;\n        while (--i) {\n          ans += ss * b[i];\n          ss *= (-1);\n        }\n        break;\n      }\n    }\n    cout << (k + ans) / 2 << \" \" << (k - ans) / 2 << endl;\n  }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, m, c[150], s[150];\nint main() {\n  int cnt = 0, p = 0, q = 0;\n  scanf(\"%d\", &n);\n  for (int i = 0; i < n; i++) {\n    scanf(\"%d\", &m);\n    int tmp = m / 2;\n    for (int j = 0; j < m; j++) {\n      scanf(\"%d\", &c[j]);\n      if (j < tmp)\n        p += c[j];\n      else\n        q += c[j];\n    }\n    if (m & 1) {\n      q -= c[tmp];\n      s[cnt++] = c[tmp];\n    }\n  }\n  sort(s, s + cnt, greater<int>());\n  for (int i = 0; i < cnt; i++) {\n    if (i & 1)\n      q += s[i];\n    else\n      p += s[i];\n  }\n  printf(\"%d %d\\n\", p, q);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\n\npublic class C {\n  public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int numPiles = in.nextInt();\n    int p1Score = 0;\n    int p2Score = 0;\n    ArrayList<Integer> middles = new ArrayList<Integer>();\n    for (int j = 0; j < numPiles; ++j) {\n      int size = in.nextInt();\n      int[] pile = new int[size];\n      for (int i = 0; i < pile.length; ++i)\n        pile[i] = in.nextInt();\n      if (size % 2 == 1) {\n        middles.add(pile[size/2]);\n        pile[size/2] = 0;\n      }\n      for (int i = 0; i < size; ++i) {\n        if (i < size/2)\n          p1Score += pile[i];\n        else\n          p2Score += pile[i];\n      }\n    }\n    Collections.sort(middles);\n    boolean isP1Turn = true;\n    for (int i = middles.size() - 1; i >= 0; --i) {\n      if (isP1Turn) {\n        p1Score += middles.get(i);\n        isP1Turn = false;\n      } else {\n        p2Score += middles.get(i);\n        isP1Turn = true;\n      }\n    }\n    System.out.printf(\"%d %d\\n\", p1Score, p2Score);\n  }\n}"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint record[110];\nint final[110];\nint Cnt;\nint main() {\n  int heap;\n  scanf(\"%d\", &heap);\n  int i, j;\n  int ret1 = 0, ret2 = 0;\n  for (i = 0; i < heap; i++) {\n    int num, temp;\n    scanf(\"%d\", &num);\n    for (j = 0; j < num / 2; j++) {\n      scanf(\"%d\", &temp);\n      ret1 += temp;\n    }\n    if (num % 2) scanf(\"%d\", &final[Cnt++]);\n    for (j = 0; j < num / 2; j++) {\n      scanf(\"%d\", &temp);\n      ret2 += temp;\n    }\n  }\n  sort(final, final + Cnt);\n  for (i = Cnt - 1; i >= 0; i--) {\n    if ((Cnt - 1 - i) % 2 == 0)\n      ret1 += final[i];\n    else\n      ret2 += final[i];\n  }\n  printf(\"%d %d\\n\", ret1, ret2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\ninline long long read() {\n  register long long x = 0, f = 0;\n  register char c = getchar();\n  while (c < '0' || c > '9') {\n    if (c == '-') f = 1;\n    c = getchar();\n  }\n  while (c >= '0' && c <= '9')\n    x = (x << 3) + (x << 1) + (c ^ '0'), c = getchar();\n  return f ? -x : x;\n}\ninline void write(long long x) {\n  if (x < 0) putchar('-'), x = -x;\n  if (x > 9) write(x / 10);\n  putchar(x % 10 + '0');\n}\nconst long long N = 201 + 10;\nlong long n, s, c, ansa, ansb, f;\npriority_queue<long long> q;\nsigned main() {\n  n = read();\n  for (register long long i = 1; i <= n; ++i) {\n    s = read();\n    for (register long long j = 1; j <= s; ++j) {\n      c = read();\n      if ((s & 1) && j == (s + 1) / 2)\n        q.push(c);\n      else {\n        if (j <= s / 2)\n          ansa += c;\n        else\n          ansb += c;\n      }\n    }\n  }\n  while (!q.empty()) !f ? ansa += q.top() : ansb += q.top(), q.pop(), f ^= 1;\n  cout << ansa << \" \" << ansb;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[105][105];\nint k[105];\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  int zuo = 0;\n  int you = 0;\n  int r = 0;\n  for (int i = 0; i < n; i++) {\n    int p;\n    scanf(\"%d\", &p);\n    for (int j = 0; j < p; j++) scanf(\"%d\", &a[i][j]);\n    if (p % 2 == 0) {\n      int u;\n      for (u = 0; u < p / 2; u++) zuo += a[i][u];\n      for (; u < p; u++) you += a[i][u];\n    } else {\n      int u;\n      for (u = 0; u < p / 2; u++) zuo += a[i][u];\n      k[r++] = a[i][u++];\n      for (; u < p; u++) you += a[i][u];\n    }\n  }\n  sort(k, k + r);\n  for (int i = r - 1; i >= 0; i--) {\n    int j = r - 1 - i;\n    if (j % 2 == 0)\n      zuo += k[i];\n    else\n      you += k[i];\n  }\n  printf(\"%d %d\\n\", zuo, you);\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class ProblemC {\n    public static void main(String[] args) throws Exception {\n        Scanner sc = new Scanner(new InputStreamReader(System.in));\n        int n = sc.nextInt();\n        List<Integer> argue = new ArrayList<Integer>();\n        int ciel = 0, jiro = 0;\n        for (int i=0; i<n; i++) {\n            int len = sc.nextInt();\n            for (int j=0; j<len; j++) {\n                int val = sc.nextInt();\n                if (j < len - j - 1) {\n                    ciel += val;\n                } else if (j > len - j - 1) {\n                    jiro += val;\n                } else {\n                    argue.add(val);\n                }\n            }\n        }\n        sc.close();\n        Collections.sort(argue);\n        for (int i = argue.size() - 1; i >= 0; i--) {\n            if ((argue.size() - i) % 2 == 1) ciel += argue.get(i);\n            else jiro += argue.get(i);\n        }\n\n        System.out.println(ciel + \" \" + jiro);\n    }\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint ciel, jiro, n, s, lim, tmp;\nvector<int> mVal;\nint main() {\n  ios_base::sync_with_stdio(0);\n  cin.tie(0);\n  cout.tie(0);\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    cin >> s;\n    if (s & 1)\n      lim = (s - 1) >> 1;\n    else\n      lim = s >> 1;\n    for (int j = 0; j < lim; j++) {\n      cin >> tmp;\n      ciel += tmp;\n    }\n    if (s & 1) {\n      cin >> tmp;\n      mVal.push_back(tmp);\n    }\n    for (int j = 0; j < lim; j++) {\n      cin >> tmp;\n      jiro += tmp;\n    }\n  }\n  sort(mVal.begin(), mVal.end(), greater<int>());\n  for (int i = 0; i < mVal.size(); i++) {\n    if (i & 1)\n      jiro += mVal[i];\n    else\n      ciel += mVal[i];\n  }\n  cout << ciel << \" \" << jiro << \"\\n\";\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, s, jum, x;\nint ar[105], ki[105], ka[105], gan[105], tem[105], tot[105];\nint main() {\n  memset(ar, 0, sizeof(ar));\n  memset(ki, 0, sizeof(ki));\n  memset(ka, 0, sizeof(ka));\n  memset(gan, 0, sizeof(gan));\n  memset(tem, 0, sizeof(tem));\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &s);\n    jum = 0;\n    for (int j = 1; j <= s; j++) {\n      scanf(\"%d\", &x);\n      jum += x;\n      if (j <= s / 2) ki[i] += x;\n      if (j > (s + 1) / 2) ka[i] += x;\n      if (s % 2 != 0)\n        if (j == (s + 1) / 2) gan[i] = x;\n    }\n    tot[i] = s;\n    ar[i] = jum;\n  }\n  vector<pair<int, int> > v;\n  vector<pair<int, int> > v2;\n  for (int i = 1; i <= n; i++)\n    if (gan[i] == 0)\n      v.push_back(make_pair(ar[i], i));\n    else {\n      v2.push_back(make_pair(gan[i], i));\n    }\n  int ciel, jiro;\n  ciel = jiro = 0;\n  for (int i = 0; i < v.size(); i++) {\n    ciel += ki[v[i].second];\n    jiro += ka[v[i].second];\n  }\n  sort(v2.begin(), v2.end());\n  reverse(v2.begin(), v2.end());\n  int mark = 1;\n  for (int i = 0; i < v2.size(); i++) {\n    ciel += ki[v2[i].second];\n    jiro += ka[v2[i].second];\n    if (mark == 1) {\n      ciel += v2[i].first;\n      mark = 0;\n    } else {\n      jiro += v2[i].first;\n      mark = 1;\n    }\n  }\n  printf(\"%d %d\\n\", ciel, jiro);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n, m, x, y, sz, i, j;\n  scanf(\"%d\", &n);\n  vector<int> lft, right, mid;\n  for (i = 0; i < n; ++i) {\n    scanf(\"%d\", &m);\n    y = m / 2;\n    for (j = 0; j < m; ++j) {\n      scanf(\"%d\", &x);\n      if (j < y)\n        lft.push_back(x);\n      else if (m % 2 && j == y)\n        mid.push_back(x);\n      else\n        right.push_back(x);\n    }\n  }\n  int ans[2] = {};\n  ans[0] = accumulate(lft.begin(), lft.end(), 0);\n  ans[1] = accumulate(right.begin(), right.end(), 0);\n  sort(mid.rbegin(), mid.rend());\n  sz = mid.size();\n  for (i = 0; i < sz; ++i) {\n    ans[i % 2] += mid[i];\n  }\n  printf(\"%d %d\\n\", ans[0], ans[1]);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.List;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.util.Collections;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tInputStream inputStream = System.in;\n\t\tOutputStream outputStream = System.out;\n\t\tFastScanner in = new FastScanner(inputStream);\n\t\tPrintWriter out = new PrintWriter(outputStream);\n\t\tTaskC solver = new TaskC();\n\t\tsolver.solve(1, in, out);\n\t\tout.close();\n\t}\n}\n\nclass TaskC {\n\n        public void solve(int testNumber, FastScanner in, PrintWriter out) {\n                int n = in.nextInt();\n                long a = 0;\n                long b = 0;\n                ArrayList<Integer> mid = new ArrayList<>();\n                for (int i = 0; i < n; i++) {\n                        int k = in.nextInt();\n                        int[] c = ArrayUtils.readIntArray(in, k);\n                        for (int j = 0; j < c.length / 2; j++)\n                                a += c[j];\n                        for (int j = c.length / 2 + 1; j < c.length; j++)\n                                b += c[j];\n                        if (c.length % 2 == 0)\n                                b += c[c.length / 2];\n                        else\n                                mid.add(c[c.length / 2]);\n                }\n                Collections.sort(mid);\n                Collections.reverse(mid);\n                for (int i = 0; i < mid.size(); i++)\n                        if (i % 2 == 0)\n                                a += mid.get(i);\n                        else\n                                b += mid.get(i);\n                out.println(a + \" \" + b);\n        }\n}\n\nclass FastScanner {\n        BufferedReader reader;\n        StringTokenizer tokenizer;\n\n        public FastScanner(InputStream inputStream)  {\n                reader = new BufferedReader(new InputStreamReader(inputStream));\n        }\n\n        public String nextToken() {\n                while (tokenizer == null || !tokenizer.hasMoreTokens()) {\n                        String line;\n                        try {\n                                line = reader.readLine();\n                        } catch (IOException e) {\n                                return null;\n                        }\n                        tokenizer = new StringTokenizer(line);\n                }\n                return tokenizer.nextToken();\n        }\n\n        public int nextInt() {\n                return Integer.parseInt(nextToken());\n        }\n\n        }\n\nclass ArrayUtils {\n\n        public static int[] readIntArray(FastScanner in, int count) {\n                int[] array = new int[count];\n                for (int i = 0; i < count; i++)\n                        array[i] = in.nextInt();\n                return array;\n        }\n\n\n        }\n\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  long long sum1 = 0, sum2 = 0;\n  vector<int> rem;\n  scanf(\"%d\", &n);\n  while (n--) {\n    int s;\n    scanf(\"%d\", &s);\n    for (int i = 0; i < s; ++i) {\n      int si;\n      scanf(\"%d\", &si);\n      if (i == (s >> 1) && (s & 1))\n        rem.push_back(si);\n      else if (i + 1 <= (s >> 1))\n        sum1 += si;\n      else if (i + 1 > (s >> 1))\n        sum2 += si;\n    }\n  }\n  sort(rem.begin(), rem.end(), greater<int>());\n  for (int i = 0; i < rem.size(); ++i)\n    if (i & 1)\n      sum2 += rem[i];\n    else\n      sum1 += rem[i];\n  printf(\"%I64d %I64d\", sum1, sum2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  vector<int> odd;\n  int sumA = 0, sumB = 0;\n  for (int i = 0; i < n; ++i) {\n    int k;\n    scanf(\"%d\", &k);\n    vector<int> c(k);\n    for (int i = 0; i < k; ++i) scanf(\"%d\", &c[i]);\n    int p = k / 2;\n    for (int i = 0; i < p; ++i) sumA += c[i];\n    for (int i = k - p; i < k; ++i) sumB += c[i];\n    if (k % 2 == 1) odd.push_back(c[p]);\n  }\n  sort(odd.begin(), odd.end());\n  reverse(odd.begin(), odd.end());\n  for (int i = 0; i < odd.size(); ++i)\n    if (i % 2 == 0)\n      sumA += odd[i];\n    else\n      sumB += odd[i];\n  printf(\"%d %d\", sumA, sumB);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint vals[105][105];\nint n;\nint cnt[105];\nint p[105];\nint k[105];\nint mid(int p, int k, int id) {\n  int m = (p + k) / 2;\n  if ((k - p) % 2)\n    if (id == 1) m++;\n  return m;\n}\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &cnt[i]);\n    for (int j = 1; j <= cnt[i]; j++) scanf(\"%d\", &vals[i][j]);\n    p[i] = 1;\n    k[i] = cnt[i];\n  }\n  int sp, sd;\n  sp = sd = 0;\n  int ok = 1;\n  int it = 1;\n  while (ok) {\n    int mxid, mx;\n    mx = -1000;\n    for (int i = 1; i <= n; i++)\n      if (p[i] <= k[i]) {\n        int m = mid(p[i], k[i], it);\n        if (vals[i][m] > mx) {\n          mx = vals[i][m];\n          mxid = i;\n        }\n      }\n    if (it == 1) {\n      sp += vals[mxid][p[mxid]];\n      p[mxid]++;\n    } else {\n      sd += vals[mxid][k[mxid]];\n      k[mxid]--;\n    }\n    ok = 0;\n    for (int i = 1; i <= n; i++)\n      if (p[i] <= k[i]) ok = 1;\n    it ^= 1;\n  }\n  printf(\"%d %d\\n\", sp, sd);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, total;\nint s[110], c[110][110];\npair<int, int> a[110];\nbool chosen[110];\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", s + i);\n    for (int j = 1; j <= s[i]; j++) {\n      scanf(\"%d\", c[i] + j);\n      total += c[i][j];\n    }\n    a[i] = make_pair(0, 0);\n    int half = s[i] / 2 + s[i] % 2;\n    for (int j = 1; j <= half; j++) {\n      a[i].first += c[i][j];\n      a[i].second += c[i][s[i] - j + 1];\n    }\n    for (int j = half + 1; j <= s[i]; j++) {\n      a[i].first -= c[i][j];\n      a[i].second -= c[i][s[i] - j + 1];\n    }\n  }\n  memset(chosen, 0, sizeof chosen);\n  int diff = 0;\n  for (int step = 1; step <= n; step++) {\n    int tmp = 0;\n    if (step & 1) {\n      for (int i = 1; i <= n; i++)\n        if (!chosen[i]) tmp = max(tmp, a[i].first + a[i].second);\n      for (int i = 1; i <= n; i++)\n        if (!chosen[i] && tmp == a[i].first + a[i].second) {\n          chosen[i] = 1;\n          diff += a[i].first;\n          break;\n        }\n    } else {\n      for (int i = 1; i <= n; i++)\n        if (!chosen[i]) tmp = max(tmp, a[i].first + a[i].second);\n      for (int i = 1; i <= n; i++)\n        if (!chosen[i] && tmp == a[i].first + a[i].second) {\n          chosen[i] = 1;\n          diff -= a[i].second;\n          break;\n        }\n    }\n  }\n  printf(\"%d %d\", (total + diff) / 2, (total - diff) / 2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF = 0x3f3f3f3f;\nconst int NEGATIVE_INF = -INF;\nconst int MAXN = 1010;\nbool cmp(const int &a, const int &b) { return a > b; }\nint n, s_size[105], s[105][105];\nint dp[105][105];\nint for_sort[105], fop = 0;\nint sum = 0;\nint ans1 = 0;\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.sync_with_stdio(false);\n  cout.sync_with_stdio(false);\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    cin >> s_size[i];\n    for (int j = 1; j <= s_size[i]; j++) {\n      cin >> s[i][j];\n      sum += s[i][j];\n    }\n  }\n  for (int i = 1; i <= n; i++) {\n    for (int j = 1; j <= s_size[i] / 2; j++) ans1 += s[i][j];\n    if (s_size[i] % 2 != 0) for_sort[fop++] = s[i][(s_size[i] + 1) / 2];\n  }\n  sort(for_sort, for_sort + fop, cmp);\n  for (int i = 0; i < fop; i += 2) ans1 += for_sort[i];\n  cout << ans1 << \" \" << sum - ans1 << endl;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint n, x;\nint s[105];\nint ciel, jiro;\nvector<int> mid;\nint main() {\n  scanf(\"%d\", &n);\n  for (int i = 0; i < (n); i++) {\n    scanf(\"%d\", &s[i]);\n    for (int j = 0; j < (s[i]); j++) {\n      scanf(\"%d\", &x);\n      if ((2 * j + 1) == s[i])\n        mid.push_back(x);\n      else if (j < s[i] / 2)\n        ciel += x;\n      else\n        jiro += x;\n    }\n  }\n  sort(mid.rbegin(), mid.rend());\n  for (int i = 0; i < (mid.size()); i++)\n    if (i & 1)\n      jiro += mid[i];\n    else\n      ciel += mid[i];\n  printf(\"%d %d\\n\", ciel, jiro);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint a[111], b[111];\nint main() {\n  int n, x;\n  scanf(\"%d\", &n);\n  int tot = 0, ans1 = 0, ans2 = 0;\n  for (int i = 1; i <= n; i++) {\n    scanf(\"%d\", &x);\n    for (int j = 0; j < x; j++) scanf(\"%d\", &a[j]);\n    for (int j = 0; j < x / 2; j++) ans1 += a[j];\n    if (x & 1) {\n      for (int j = x / 2 + 1; j < x; j++) ans2 += a[j];\n      b[tot++] = a[x / 2];\n    } else {\n      for (int j = x / 2; j < x; j++) ans2 += a[j];\n    }\n  }\n  sort(b, b + tot);\n  reverse(b, b + tot);\n  for (int i = 0; i < tot; i++) {\n    if (i & 1)\n      ans2 += b[i];\n    else\n      ans1 += b[i];\n  }\n  printf(\"%d %d\\n\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n  int numofpiles;\n  cin >> numofpiles;\n  int ceilshare = 0;\n  int jiroshare = 0;\n  vector<int> pileconfig;\n  vector<int> remaining;\n  while (numofpiles--) {\n    int n;\n    cin >> n;\n    pileconfig.clear();\n    for (int i = 0; i < n; i++) {\n      int var;\n      cin >> var;\n      pileconfig.push_back(var);\n    }\n    if (n % 2 == 0) {\n      for (int i = 0; i < n / 2; i++) ceilshare += pileconfig[i];\n      for (int i = n / 2; i < n; i++) jiroshare += pileconfig[i];\n    } else if (n % 2 != 0) {\n      for (int i = 0; i < (n - 1) / 2; i++) ceilshare += pileconfig[i];\n      for (int i = (n + 1) / 2; i < n; i++) jiroshare += pileconfig[i];\n      remaining.push_back(pileconfig[n / 2]);\n    }\n  }\n  int flag = 0;\n  sort(remaining.begin(), remaining.end());\n  for (int i = remaining.size() - 1; i >= 0; i--) {\n    if (flag == 0) {\n      ceilshare += remaining[i];\n      flag = 1;\n    } else if (flag == 1) {\n      jiroshare += remaining[i];\n      flag = 0;\n    }\n  }\n  cout << ceilshare << \" \" << jiroshare << \"\\n\";\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 105;\nint n;\nvector<int> a[maxn];\nint ans1, ans2;\nvector<int> v;\nint main() {\n  cin >> n;\n  for (int i = 0; i < n; i++) {\n    int num;\n    cin >> num;\n    for (int j = 0; j < num; j++) {\n      int tmp;\n      cin >> tmp;\n      a[i].push_back(tmp);\n    }\n  }\n  for (int i = 0; i < n; i++) {\n    if (a[i].size() % 2 == 0) {\n      for (int j = 0; j < a[i].size(); j++) {\n        if (j < ((int)a[i].size()) / 2)\n          ans1 += a[i][j];\n        else\n          ans2 += a[i][j];\n      }\n    } else {\n      for (int j = 0; j < a[i].size(); j++) {\n        if (j == a[i].size() / 2) {\n          v.push_back(a[i][j]);\n          continue;\n        }\n        if (j < ((int)a[i].size()) / 2)\n          ans1 += a[i][j];\n        else\n          ans2 += a[i][j];\n      }\n    }\n  }\n  sort(v.begin(), v.end());\n  reverse(v.begin(), v.end());\n  for (int i = 0; i < v.size(); i++) {\n    if (i % 2 == 0)\n      ans1 += v[i];\n    else\n      ans2 += v[i];\n  }\n  cout << ans1 << \" \" << ans2;\n  return 0;\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nint cmpfunc(const void* a, const void* b) { return (*(int*)b - *(int*)a); }\nint main() {\n  int i, j, k, medio, sumador1 = 0, sumador2 = 0, contador = 0, val = 0, n;\n  scanf(\"%d\", &n);\n  int vec[n];\n  for (i = 0; i < n; i++) {\n    scanf(\"%d\", &j);\n    medio = j / 2;\n    for (k = 0; k < j; k++) {\n      scanf(\"%d\", &val);\n      if (k < medio)\n        sumador1 += val;\n      else if (k == medio && j % 2 != 0) {\n        vec[contador++] = val;\n      } else\n        sumador2 += val;\n    }\n  }\n  qsort(vec, contador, sizeof(int), cmpfunc);\n  for (i = 0; i < contador; i++) {\n    if (i % 2 != 0)\n      sumador2 += vec[i];\n    else\n      sumador1 += vec[i];\n  }\n  printf(\"%d %d\", sumador1, sumador2);\n}\n"
        },
        {
            "language": 2,
            "solution": "#include <bits/stdc++.h>\nusing namespace std;\nvoid read(int &x) {\n  char ch = getchar();\n  while (ch < '0' || ch > '9') ch = getchar();\n  for (x = 0; ch >= '0' && ch <= '9'; ch = getchar()) x = x * 10 + ch - 48;\n}\nint n, m, a[1000], ans1, ans2, k, x;\nint main() {\n  read(n);\n  m = 0;\n  for (int i = 1; i <= (n); ++i) {\n    read(k);\n    for (int j = 1; j <= (k); ++j) {\n      read(x);\n      if (k % 2 && j * 2 - 1 == k)\n        a[++m] = x;\n      else if (j * 2 <= k)\n        ans1 += x;\n      else\n        ans2 += x;\n    }\n  }\n  sort(a + 1, a + m + 1);\n  int o(1);\n  for (int i = (m); i >= (1); --i) {\n    if (o == 1)\n      ans1 += a[i];\n    else\n      ans2 += a[i];\n    o = 3 - o;\n  }\n  printf(\"%d %d\\n\", ans1, ans2);\n  return 0;\n}\n"
        },
        {
            "language": 4,
            "solution": "import java.util.*;\nimport java.io.*;\nimport java.text.*;\n\npublic class CF_388C{\n    //SOLUTION BEGIN\n    void pre() throws Exception{}\n    void solve(int TC) throws Exception{\n        int N = ni();\n        long A = 0, B = 0;\n        List<Integer> list = new ArrayList<>();\n        for(int i = 0; i< N; i++){\n            int s = ni();\n            for(int j = 0; j< s/2; j++)A += nl();\n            if(s%2 == 1)list.add(ni());\n            for(int j = 0; j< s/2; j++)B += nl();\n        }\n        Collections.sort(list, Collections.reverseOrder());\n        for(int i = 0; i < list.size(); i++){\n            if(i%2 == 0)A += list.get(i);\n            else B += list.get(i);\n        }\n        pn(A, B);\n    }\n    //SOLUTION END\n    void hold(boolean b)throws Exception{if(!b)throw new Exception(\"Hold right there, Sparky!\");}\n    void exit(boolean b){if(!b)System.exit(0);}\n    static void dbg(Object... o){System.err.println(Arrays.deepToString(o));}\n    final long IINF = (long)1e17;\n    final int INF = (int)1e9+2;\n    DecimalFormat df = new DecimalFormat(\"0.00000000000\");\n    double PI = 3.141592653589793238462643383279502884197169399, eps = 1e-8;\n    static boolean multipleTC = false, memory = true, fileIO = false;\n    FastReader in;PrintWriter out;\n    void run() throws Exception{\n        long ct = System.currentTimeMillis();\n        if (fileIO) {\n            in = new FastReader(\"\");\n            out = new PrintWriter(\"\");\n        } else {\n            in = new FastReader();\n            out = new PrintWriter(System.out);\n        }\n        //Solution Credits: Taranpreet Singh\n        int T = multipleTC? ni():1;\n        pre();\n        for (int t = 1; t <= T; t++) solve(t);\n        out.flush();\n        out.close();\n        System.err.println(System.currentTimeMillis() - ct);\n    }\n    public static void main(String[] args) throws Exception{\n        if(memory)new Thread(null, new Runnable() {public void run(){try{new CF_388C().run();}catch(Exception e){e.printStackTrace();System.exit(1);}}}, \"1\", 1 << 28).start();\n        else new CF_388C().run();\n    }\n    int[][] make(int n, int e, int[] from, int[] to, boolean f){\n        int[][] g = new int[n][];int[]cnt = new int[n];\n        for(int i = 0; i< e; i++){\n            cnt[from[i]]++;\n            if(f)cnt[to[i]]++;\n        }\n        for(int i = 0; i< n; i++)g[i] = new int[cnt[i]];\n        for(int i = 0; i< e; i++){\n            g[from[i]][--cnt[from[i]]] = to[i];\n            if(f)g[to[i]][--cnt[to[i]]] = from[i];\n        }\n        return g;\n    }\n    int[][][] makeS(int n, int e, int[] from, int[] to, boolean f){\n        int[][][] g = new int[n][][];int[]cnt = new int[n];\n        for(int i = 0; i< e; i++){\n            cnt[from[i]]++;\n            if(f)cnt[to[i]]++;\n        }\n        for(int i = 0; i< n; i++)g[i] = new int[cnt[i]][];\n        for(int i = 0; i< e; i++){\n            g[from[i]][--cnt[from[i]]] = new int[]{to[i], i, 0};\n            if(f)g[to[i]][--cnt[to[i]]] = new int[]{from[i], i, 1};\n        }\n        return g;\n    }\n    int find(int[] set, int u){return set[u] = (set[u] == u?u:find(set, set[u]));}\n    int digit(long s){int ans = 0;while(s>0){s/=10;ans++;}return ans;}\n    long gcd(long a, long b){return (b==0)?a:gcd(b,a%b);}\n    int gcd(int a, int b){return (b==0)?a:gcd(b,a%b);}\n    int bit(long n){return (n==0)?0:(1+bit(n&(n-1)));}\n    void p(Object... o){for(Object oo:o)out.print(oo+\" \");}\n    void pn(Object... o){for(int i = 0; i< o.length; i++)out.print(o[i]+(i+1 < o.length?\" \":\"\\n\"));}\n    void pni(Object... o){for(Object oo:o)out.print(oo+\" \");out.println();out.flush();}\n    String n()throws Exception{return in.next();}\n    String nln()throws Exception{return in.nextLine();}\n    int ni()throws Exception{return Integer.parseInt(in.next());}\n    long nl()throws Exception{return Long.parseLong(in.next());}\n    double nd()throws Exception{return Double.parseDouble(in.next());}\n\n    class FastReader{\n        BufferedReader br;\n        StringTokenizer st;\n        public FastReader(){\n            br = new BufferedReader(new InputStreamReader(System.in));\n        }\n\n        public FastReader(String s) throws Exception{\n            br = new BufferedReader(new FileReader(s));\n        }\n\n        String next() throws Exception{\n            while (st == null || !st.hasMoreElements()){\n                try{\n                    st = new StringTokenizer(br.readLine());\n                }catch (IOException  e){\n                    throw new Exception(e.toString());\n                }\n            }\n            return st.nextToken();\n        }\n\n        String nextLine() throws Exception{\n            String str;\n            try{\n                str = br.readLine();\n            }catch (IOException e){\n                throw new Exception(e.toString());\n            }\n            return str;\n        }\n    }\n}"
        }
    ]
}