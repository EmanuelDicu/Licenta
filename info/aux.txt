def run_tests(test_cases, executable):
  f = open('tmp_output.txt', 'w')
  for i, test in enumerate(test_cases):
    input_data = test["input"]
    expected_output = test["output"]
    output = run_program(executable, input_data)
    if output.__class__.__name__ != "RunSuccess":
      return output
    
    actual_output = output.output

    # Compare outputs
    if actual_output.strip() == expected_output.strip():
      f.write(f"Test case {i+1}: PASSED\n")
    else:
      f.write(f"Test case {i+1}: FAILED\n")
      f.write(f"Expected output:\n{expected_output}\n")
      f.write(f"Actual output:\n{actual_output}\n")
      return TestFailed(f"Test case {i+1} failed", input_data, expected_output, actual_output, len(test_cases), i+1)
  
  f.close()
  os.remove('tmp_output.txt')
  
  return TestSuccess("All test cases passed", len(test_cases)) 